<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="mobile-web-app-capable" content="yes" />
    <title>Puxxle</title>
    <style>
      :root {
        --vh: 100vh; /* Fallback */
      }
      html,body{margin:0;padding:0;width:100%;height:100%;height:var(--vh, 100vh);overflow:hidden;background:#fafafa;touch-action:none;}
      #app{width:100%;height:100%;height:var(--vh, 100vh);position:fixed;top:0;left:0;display:flex;align-items:center;justify-content:center;}
      /* Ensure canvas fills container */
      #app canvas{display:block;width:100%!important;height:100%!important;object-fit:contain;}
      /* Hidden input for mobile keyboard */
      /* iOS requires some visibility for keyboard to appear */
      #mobile-input{position:absolute;left:0;top:0;width:1px;height:1px;opacity:0.01;pointer-events:none;}
    </style>
    <link rel="icon" type="image/x-icon" href="./favicon.ico">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto+Slab:wght@700;800&family=Montserrat:wght@400;600;700&display=swap" rel="stylesheet">
    <script type="module" crossorigin>var t,e,i=Object.defineProperty,s=Object.defineProperties,n=Object.getOwnPropertyDescriptors,r=Object.getOwnPropertyNames,o=Object.getOwnPropertySymbols,a=Object.getPrototypeOf,h=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable,u=Reflect.get,c=(t,e,s)=>e in t?i(t,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[e]=s,d=(t,e)=>{for(var i in e||(e={}))h.call(e,i)&&c(t,i,e[i]);if(o)for(var i of o(e))l.call(e,i)&&c(t,i,e[i]);return t},f=(t,e)=>s(t,n(e)),p=(t,e)=>{var i={};for(var s in t)h.call(t,s)&&e.indexOf(s)<0&&(i[s]=t[s]);if(null!=t&&o)for(var s of o(t))e.indexOf(s)<0&&l.call(t,s)&&(i[s]=t[s]);return i},g=(t,e,i)=>u(a(t),i,e),m=(t,e,i)=>new Promise((s,n)=>{var r=t=>{try{a(i.next(t))}catch(e){n(e)}},o=t=>{try{a(i.throw(t))}catch(e){n(e)}},a=t=>t.done?s(t.value):Promise.resolve(t.value).then(r,o);a((i=i.apply(t,e)).next())}),v=(t={"index-BXfrY0TG.js"(t){function e(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}!function(){const t=document.createElement("link").relList;if(!(t&&t.supports&&t.supports("modulepreload"))){for(const t of document.querySelectorAll('link[rel="modulepreload"]'))e(t);new MutationObserver(t=>{for(const i of t)if("childList"===i.type)for(const t of i.addedNodes)"LINK"===t.tagName&&"modulepreload"===t.rel&&e(t)}).observe(document,{childList:!0,subtree:!0})}function e(t){if(t.ep)return;t.ep=!0;const e=function(t){const e={};return t.integrity&&(e.integrity=t.integrity),t.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),"use-credentials"===t.crossOrigin?e.credentials="include":"anonymous"===t.crossOrigin?e.credentials="omit":e.credentials="same-origin",e}(t);fetch(t.href,e)}}();var i,s,n={exports:{}},r=(i||(i=1,s=()=>(()=>{var t={50792:t=>{var e=Object.prototype.hasOwnProperty,i="~";function s(){}function n(t,e,i){this.fn=t,this.context=e,this.once=i||!1}function r(t,e,s,r,o){if("function"!=typeof s)throw new TypeError("The listener must be a function");var a=new n(s,r||t,o),h=i?i+e:e;return t._events[h]?t._events[h].fn?t._events[h]=[t._events[h],a]:t._events[h].push(a):(t._events[h]=a,t._eventsCount++),t}function o(t,e){0===--t._eventsCount?t._events=new s:delete t._events[e]}function a(){this._events=new s,this._eventsCount=0}Object.create&&(s.prototype=Object.create(null),(new s).__proto__||(i=!1)),a.prototype.eventNames=function(){var t,s,n=[];if(0===this._eventsCount)return n;for(s in t=this._events)e.call(t,s)&&n.push(i?s.slice(1):s);return Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(t)):n},a.prototype.listeners=function(t){var e=i?i+t:t,s=this._events[e];if(!s)return[];if(s.fn)return[s.fn];for(var n=0,r=s.length,o=new Array(r);n<r;n++)o[n]=s[n].fn;return o},a.prototype.listenerCount=function(t){var e=i?i+t:t,s=this._events[e];return s?s.fn?1:s.length:0},a.prototype.emit=function(t,e,s,n,r,o){var a=i?i+t:t;if(!this._events[a])return!1;var h,l,u=this._events[a],c=arguments.length;if(u.fn){switch(u.once&&this.removeListener(t,u.fn,void 0,!0),c){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,e),!0;case 3:return u.fn.call(u.context,e,s),!0;case 4:return u.fn.call(u.context,e,s,n),!0;case 5:return u.fn.call(u.context,e,s,n,r),!0;case 6:return u.fn.call(u.context,e,s,n,r,o),!0}for(l=1,h=new Array(c-1);l<c;l++)h[l-1]=arguments[l];u.fn.apply(u.context,h)}else{var d,f=u.length;for(l=0;l<f;l++)switch(u[l].once&&this.removeListener(t,u[l].fn,void 0,!0),c){case 1:u[l].fn.call(u[l].context);break;case 2:u[l].fn.call(u[l].context,e);break;case 3:u[l].fn.call(u[l].context,e,s);break;case 4:u[l].fn.call(u[l].context,e,s,n);break;default:if(!h)for(d=1,h=new Array(c-1);d<c;d++)h[d-1]=arguments[d];u[l].fn.apply(u[l].context,h)}}return!0},a.prototype.on=function(t,e,i){return r(this,t,e,i,!1)},a.prototype.once=function(t,e,i){return r(this,t,e,i,!0)},a.prototype.removeListener=function(t,e,s,n){var r=i?i+t:t;if(!this._events[r])return this;if(!e)return o(this,r),this;var a=this._events[r];if(a.fn)a.fn!==e||n&&!a.once||s&&a.context!==s||o(this,r);else{for(var h=0,l=[],u=a.length;h<u;h++)(a[h].fn!==e||n&&!a[h].once||s&&a[h].context!==s)&&l.push(a[h]);l.length?this._events[r]=1===l.length?l[0]:l:o(this,r)}return this},a.prototype.removeAllListeners=function(t){var e;return t?(e=i?i+t:t,this._events[e]&&o(this,e)):(this._events=new s,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=i,a.EventEmitter=a,t.exports=a},11517:(t,e,i)=>{
/**
                     * @author       samme
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(38829);t.exports=function(t,e,i,n){for(var r=t[0],o=1;o<t.length;o++){var a=t[o];s(a,r,e,i,n),r=a}return t}},80318:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(66979);t.exports=function(t,e,i,n,r){return s(t,"angle",e,i,n,r)}},60757:t=>{t.exports=function(t,e,i){for(var s=0;s<t.length;s++){var n=t[s];e.call(i,n)}return t}},69927:t=>{t.exports=function(t,e,i){void 0===i&&(i=0);for(var s=i;s<t.length;s++){var n=t[s],r=!0;for(var o in e)n[o]!==e[o]&&(r=!1);if(r)return n}return null}},32265:t=>{t.exports=function(t,e,i){void 0===i&&(i=0);for(var s=t.length-1;s>=i;s--){var n=t[s],r=!0;for(var o in e)n[o]!==e[o]&&(r=!1);if(r)return n}return null}},94420:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(11879),n=i(60461),r=i(95540),o=i(29747),a=new(i(41481))({sys:{queueDepthSort:o,events:{once:o}}},0,0,1,1).setOrigin(0,0);t.exports=function(t,e){void 0===e&&(e={});var i=e.hasOwnProperty("width"),o=e.hasOwnProperty("height"),h=r(e,"width",-1),l=r(e,"height",-1),u=r(e,"cellWidth",1),c=r(e,"cellHeight",u),d=r(e,"position",n.TOP_LEFT),f=r(e,"x",0),p=r(e,"y",0),g=0,m=0,v=h*u,y=l*c;a.setPosition(f,p),a.setSize(u,c);for(var x=0;x<t.length;x++)if(s(t[x],a,d),i&&-1===h)a.x+=u;else if(o&&-1===l)a.y+=c;else if(o&&!i){if(m+=c,a.y+=c,m===y&&(m=0,g+=u,a.y=p,a.x+=u,g===v))break}else if(g+=u,a.x+=u,g===v&&(g=0,m+=c,a.x=f,a.y+=c,m===y))break;return t}},41721:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(66979);t.exports=function(t,e,i,n,r){return s(t,"alpha",e,i,n,r)}},67285:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(66979);t.exports=function(t,e,i,n,r){return s(t,"x",e,i,n,r)}},9074:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(66979);t.exports=function(t,e,i,n,r,o,a){return null==i&&(i=e),s(t,"x",e,n,o,a),s(t,"y",i,r,o,a)}},75222:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(66979);t.exports=function(t,e,i,n,r){return s(t,"y",e,i,n,r)}},22983:t=>{t.exports=function(t,e,i,s){void 0===i&&(i=0),void 0===s&&(s=6.28);for(var n=i,r=(s-i)/t.length,o=e.x,a=e.y,h=e.radius,l=0;l<t.length;l++)t[l].x=o+h*Math.cos(n),t[l].y=a+h*Math.sin(n),n+=r;return t}},95253:t=>{t.exports=function(t,e,i,s){void 0===i&&(i=0),void 0===s&&(s=6.28);for(var n=i,r=(s-i)/t.length,o=e.width/2,a=e.height/2,h=0;h<t.length;h++)t[h].x=e.x+o*Math.cos(n),t[h].y=e.y+a*Math.sin(n),n+=r;return t}},88505:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(15258),n=i(26708);t.exports=function(t,e,i){var r;r=i?n(e,i,t.length):s(e,t.length);for(var o=0;o<t.length;o++){var a=t[o],h=r[o];a.x=h.x,a.y=h.y}return t}},41346:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(14649),n=i(86003),r=i(49498);t.exports=function(t,e,i){void 0===i&&(i=0);var o=s(e,!1,t.length);i>0?n(o,i):i<0&&r(o,Math.abs(i));for(var a=0;a<t.length;a++)t[a].x=o[a].x,t[a].y=o[a].y;return t}},11575:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(84993);t.exports=function(t,e,i){var n=s({x1:e.x1,y1:e.y1,x2:e.x2,y2:e.y2},i),r=s({x1:e.x2,y1:e.y2,x2:e.x3,y2:e.y3},i),o=s({x1:e.x3,y1:e.y3,x2:e.x1,y2:e.y1},i);n.pop(),r.pop(),o.pop();for(var a=(n=n.concat(r,o)).length/t.length,h=0,l=0;l<t.length;l++){var u=t[l],c=n[Math.floor(h)];u.x=c.x,u.y=c.y,h+=a}return t}},29953:t=>{t.exports=function(t,e,i){for(var s=0;s<t.length;s++){var n=t[s];n.anims&&n.anims.play(e,i)}return t}},66979:t=>{t.exports=function(t,e,i,s,n,r){var o;void 0===s&&(s=0),void 0===n&&(n=0),void 0===r&&(r=1);var a=0,h=t.length;if(1===r)for(o=n;o<h;o++)t[o][e]+=i+a*s,a++;else for(o=n;o>=0;o--)t[o][e]+=i+a*s,a++;return t}},43967:t=>{t.exports=function(t,e,i,s,n,r){var o;void 0===s&&(s=0),void 0===n&&(n=0),void 0===r&&(r=1);var a=0,h=t.length;if(1===r)for(o=n;o<h;o++)t[o][e]=i+a*s,a++;else for(o=n;o>=0;o--)t[o][e]=i+a*s,a++;return t}},88926:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(28176);t.exports=function(t,e){for(var i=0;i<t.length;i++)s(e,t[i]);return t}},33286:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(24820);t.exports=function(t,e){for(var i=0;i<t.length;i++)s(e,t[i]);return t}},96e3:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(65822);t.exports=function(t,e){for(var i=0;i<t.length;i++)s(e,t[i]);return t}},28789:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(26597);t.exports=function(t,e){for(var i=0;i<t.length;i++)s(e,t[i]);return t}},97154:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(90260);t.exports=function(t,e){for(var i=0;i<t.length;i++)s(e,t[i]);return t}},20510:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(66979);t.exports=function(t,e,i,n,r){return s(t,"rotation",e,i,n,r)}},91051:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(1163),n=i(20339);t.exports=function(t,e,i){for(var r=e.x,o=e.y,a=0;a<t.length;a++){var h=t[a];s(h,r,o,i,Math.max(1,n(h.x,h.y,r,o)))}return t}},76332:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(1163);t.exports=function(t,e,i,n){var r=e.x,o=e.y;if(0===n)return t;for(var a=0;a<t.length;a++)s(t[a],r,o,i,n);return t}},61619:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(66979);t.exports=function(t,e,i,n,r){return s(t,"scaleX",e,i,n,r)}},94868:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(66979);t.exports=function(t,e,i,n,r,o,a){return null==i&&(i=e),s(t,"scaleX",e,n,o,a),s(t,"scaleY",i,r,o,a)}},95532:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(66979);t.exports=function(t,e,i,n,r){return s(t,"scaleY",e,i,n,r)}},8689:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(43967);t.exports=function(t,e,i,n,r){return s(t,"alpha",e,i,n,r)}},2645:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(43967);t.exports=function(t,e,i,n){return s(t,"blendMode",e,0,i,n)}},32372:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(43967);t.exports=function(t,e,i,n,r){return s(t,"depth",e,i,n,r)}},85373:t=>{t.exports=function(t,e,i){for(var s=0;s<t.length;s++)t[s].setInteractive(e,i);return t}},81583:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(43967);t.exports=function(t,e,i,n,r,o,a){return null==i&&(i=e),s(t,"originX",e,n,o,a),s(t,"originY",i,r,o,a),t.forEach(function(t){t.updateDisplayOrigin()}),t}},79939:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(43967);t.exports=function(t,e,i,n,r){return s(t,"rotation",e,i,n,r)}},2699:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(43967);t.exports=function(t,e,i,n,r,o,a){return null==i&&(i=e),s(t,"scaleX",e,n,o,a),s(t,"scaleY",i,r,o,a)}},98739:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(43967);t.exports=function(t,e,i,n,r){return s(t,"scaleX",e,i,n,r)}},98476:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(43967);t.exports=function(t,e,i,n,r){return s(t,"scaleY",e,i,n,r)}},6207:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(43967);t.exports=function(t,e,i,n,r,o,a){return null==i&&(i=e),s(t,"scrollFactorX",e,n,o,a),s(t,"scrollFactorY",i,r,o,a)}},6607:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(43967);t.exports=function(t,e,i,n,r){return s(t,"scrollFactorX",e,i,n,r)}},72248:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(43967);t.exports=function(t,e,i,n,r){return s(t,"scrollFactorY",e,i,n,r)}},14036:t=>{t.exports=function(t,e,i,s,n){for(var r=0;r<t.length;r++)t[r].setTint(e,i,s,n);return t}},50159:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(43967);t.exports=function(t,e,i,n){return s(t,"visible",e,0,i,n)}},77597:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(43967);t.exports=function(t,e,i,n,r){return s(t,"x",e,i,n,r)}},83194:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(43967);t.exports=function(t,e,i,n,r,o,a){return null==i&&(i=e),s(t,"x",e,n,o,a),s(t,"y",i,r,o,a)}},67678:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(43967);t.exports=function(t,e,i,n,r){return s(t,"y",e,i,n,r)}},35850:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(26099);t.exports=function(t,e,i,n,r){var o,a;void 0===n&&(n=0),void 0===r&&(r=new s);var h=t.length;if(1===h)o=t[0].x,a=t[0].y,t[0].x=e,t[0].y=i;else{var l=1,u=0;0===n&&(u=h-1,l=h-2),o=t[u].x,a=t[u].y,t[u].x=e,t[u].y=i;for(var c=0;c<h;c++)if(!(l>=h||-1===l)){var d=t[l],f=d.x,p=d.y;d.x=o,d.y=a,o=f,a=p,0===n?l--:l++}}return r.x=o,r.y=a,r}},8628:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(33680);t.exports=function(t){return s(t)}},21837:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(7602);t.exports=function(t,e,i,n,r){void 0===r&&(r=!1);var o,a=Math.abs(n-i)/t.length;if(r)for(o=0;o<t.length;o++)t[o][e]+=s(o*a,i,n);else for(o=0;o<t.length;o++)t[o][e]=s(o*a,i,n);return t}},21910:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(54261);t.exports=function(t,e,i,n,r){void 0===r&&(r=!1);var o,a=Math.abs(n-i)/t.length;if(r)for(o=0;o<t.length;o++)t[o][e]+=s(o*a,i,n);else for(o=0;o<t.length;o++)t[o][e]=s(o*a,i,n);return t}},62054:t=>{t.exports=function(t,e,i,s,n){if(void 0===n&&(n=!1),0===t.length)return t;if(1===t.length)return n?t[0][e]+=(s+i)/2:t[0][e]=(s+i)/2,t;var r,o=Math.abs(s-i)/(t.length-1);if(n)for(r=0;r<t.length;r++)t[r][e]+=r*o+i;else for(r=0;r<t.length;r++)t[r][e]=r*o+i;return t}},79815:t=>{t.exports=function(t){for(var e=0;e<t.length;e++)t[e].visible=!t[e].visible;return t}},39665:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @author       samme <samme.npm@gmail.com>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(15994);t.exports=function(t,e,i){void 0===i&&(i=0);for(var n=0;n<t.length;n++){var r=t[n];r.x=s(r.x,e.left-i,e.right+i),r.y=s(r.y,e.top-i,e.bottom+i)}return t}},61061:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports={AlignTo:i(11517),Angle:i(80318),Call:i(60757),GetFirst:i(69927),GetLast:i(32265),GridAlign:i(94420),IncAlpha:i(41721),IncX:i(67285),IncXY:i(9074),IncY:i(75222),PlaceOnCircle:i(22983),PlaceOnEllipse:i(95253),PlaceOnLine:i(88505),PlaceOnRectangle:i(41346),PlaceOnTriangle:i(11575),PlayAnimation:i(29953),PropertyValueInc:i(66979),PropertyValueSet:i(43967),RandomCircle:i(88926),RandomEllipse:i(33286),RandomLine:i(96e3),RandomRectangle:i(28789),RandomTriangle:i(97154),Rotate:i(20510),RotateAround:i(91051),RotateAroundDistance:i(76332),ScaleX:i(61619),ScaleXY:i(94868),ScaleY:i(95532),SetAlpha:i(8689),SetBlendMode:i(2645),SetDepth:i(32372),SetHitArea:i(85373),SetOrigin:i(81583),SetRotation:i(79939),SetScale:i(2699),SetScaleX:i(98739),SetScaleY:i(98476),SetScrollFactor:i(6207),SetScrollFactorX:i(6607),SetScrollFactorY:i(72248),SetTint:i(14036),SetVisible:i(50159),SetX:i(77597),SetXY:i(83194),SetY:i(67678),ShiftPosition:i(35850),Shuffle:i(8628),SmootherStep:i(21910),SmoothStep:i(21837),Spread:i(62054),ToggleVisible:i(79815),WrapInRectangle:i(39665)}},42099:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(45319),n=i(83419),r=i(74943),o=i(81957),a=i(41138),h=i(35154),l=i(90126),u=new n({initialize:function(t,e,i){this.manager=t,this.key=e,this.type="frame",this.frames=this.getFrames(t.textureManager,h(i,"frames",[]),h(i,"defaultTextureKey",null),h(i,"sortFrames",!0)),this.frameRate=h(i,"frameRate",null),this.duration=h(i,"duration",null),this.msPerFrame,this.skipMissedFrames=h(i,"skipMissedFrames",!0),this.delay=h(i,"delay",0),this.repeat=h(i,"repeat",0),this.repeatDelay=h(i,"repeatDelay",0),this.yoyo=h(i,"yoyo",!1),this.showBeforeDelay=h(i,"showBeforeDelay",!1),this.showOnStart=h(i,"showOnStart",!1),this.hideOnComplete=h(i,"hideOnComplete",!1),this.randomFrame=h(i,"randomFrame",!1),this.paused=!1,this.calculateDuration(this,this.getTotalFrames(),this.duration,this.frameRate),this.manager.on&&(this.manager.on(r.PAUSE_ALL,this.pause,this),this.manager.on(r.RESUME_ALL,this.resume,this))},getTotalFrames:function(){return this.frames.length},calculateDuration:function(t,e,i,s){null===i&&null===s?(t.frameRate=24,t.duration=24/e*1e3):i&&null===s?(t.duration=i,t.frameRate=e/(i/1e3)):(t.frameRate=s,t.duration=e/s*1e3),t.msPerFrame=1e3/t.frameRate},addFrame:function(t){return this.addFrameAt(this.frames.length,t)},addFrameAt:function(t,e){var i=this.getFrames(this.manager.textureManager,e);if(i.length>0){if(0===t)this.frames=i.concat(this.frames);else if(t===this.frames.length)this.frames=this.frames.concat(i);else{var s=this.frames.slice(0,t),n=this.frames.slice(t);this.frames=s.concat(i,n)}this.updateFrameSequence()}return this},checkFrame:function(t){return t>=0&&t<this.frames.length},getFirstTick:function(t){t.accumulator=0,t.nextTick=t.frameRate===t.currentAnim.frameRate&&t.currentFrame.duration||t.msPerFrame},getFrameAt:function(t){return this.frames[t]},getFrames:function(t,e,i,s){void 0===s&&(s=!0);var n,r,o,u,c=[],d=1;if("string"==typeof e){if(u=e,!t.exists(u))return c;var f=t.get(u).getFrameNames();s&&l(f),e=[],f.forEach(function(t){e.push({key:u,frame:t})})}if(!Array.isArray(e)||0===e.length)return c;for(o=0;o<e.length;o++){var p=e[o],g=h(p,"key",i);if(g){var m=h(p,"frame",0),v=t.getFrame(g,m);v&&((r=new a(g,m,d,v)).duration=h(p,"duration",0),r.isFirst=!n,n&&(n.nextFrame=r,r.prevFrame=n),c.push(r),n=r,d++)}}if(c.length>0){r.isLast=!0,r.nextFrame=c[0],c[0].prevFrame=r;var y=1/(c.length-1);for(o=0;o<c.length;o++)c[o].progress=o*y}return c},getNextTick:function(t){t.accumulator-=t.nextTick,t.nextTick=t.frameRate===t.currentAnim.frameRate&&t.currentFrame.duration||t.msPerFrame},getFrameByProgress:function(t){return t=s(t,0,1),o(t,this.frames,"progress")},nextFrame:function(t){var e=t.currentFrame;e.isLast?t.yoyo?this.handleYoyoFrame(t,!1):t.repeatCounter>0?t.inReverse&&t.forward?t.forward=!1:this.repeatAnimation(t):t.complete():this.updateAndGetNextTick(t,e.nextFrame)},handleYoyoFrame:function(t,e){if(e||(e=!1),t.inReverse===!e&&t.repeatCounter>0)return(0===t.repeatDelay||t.pendingRepeat)&&(t.forward=e),void this.repeatAnimation(t);if(t.inReverse===e||0!==t.repeatCounter){t.forward=e;var i=e?t.currentFrame.nextFrame:t.currentFrame.prevFrame;this.updateAndGetNextTick(t,i)}else t.complete()},getLastFrame:function(){return this.frames[this.frames.length-1]},previousFrame:function(t){var e=t.currentFrame;e.isFirst?t.yoyo?this.handleYoyoFrame(t,!0):t.repeatCounter>0?(t.inReverse&&!t.forward||(t.forward=!0),this.repeatAnimation(t)):t.complete():this.updateAndGetNextTick(t,e.prevFrame)},updateAndGetNextTick:function(t,e){t.setCurrentFrame(e),this.getNextTick(t)},removeFrame:function(t){var e=this.frames.indexOf(t);return-1!==e&&this.removeFrameAt(e),this},removeFrameAt:function(t){return this.frames.splice(t,1),this.updateFrameSequence(),this},repeatAnimation:function(t){if(2===t._pendingStop){if(0===t._pendingStopValue)return t.stop();t._pendingStopValue--}t.repeatDelay>0&&!t.pendingRepeat?(t.pendingRepeat=!0,t.accumulator-=t.nextTick,t.nextTick+=t.repeatDelay):(t.repeatCounter--,t.forward?t.setCurrentFrame(t.currentFrame.nextFrame):t.setCurrentFrame(t.currentFrame.prevFrame),t.isPlaying&&(this.getNextTick(t),t.handleRepeat()))},toJSON:function(){var t={key:this.key,type:this.type,frames:[],frameRate:this.frameRate,duration:this.duration,skipMissedFrames:this.skipMissedFrames,delay:this.delay,repeat:this.repeat,repeatDelay:this.repeatDelay,yoyo:this.yoyo,showBeforeDelay:this.showBeforeDelay,showOnStart:this.showOnStart,randomFrame:this.randomFrame,hideOnComplete:this.hideOnComplete};return this.frames.forEach(function(e){t.frames.push(e.toJSON())}),t},updateFrameSequence:function(){for(var t,e=this.frames.length,i=1/(e-1),s=0;s<e;s++)(t=this.frames[s]).index=s+1,t.isFirst=!1,t.isLast=!1,t.progress=s*i,0===s?(t.isFirst=!0,1===e?(t.isLast=!0,t.nextFrame=t,t.prevFrame=t):(t.isLast=!1,t.prevFrame=this.frames[e-1],t.nextFrame=this.frames[s+1])):s===e-1&&e>1?(t.isLast=!0,t.prevFrame=this.frames[e-2],t.nextFrame=this.frames[0]):e>1&&(t.prevFrame=this.frames[s-1],t.nextFrame=this.frames[s+1]);return this},pause:function(){return this.paused=!0,this},resume:function(){return this.paused=!1,this},destroy:function(){this.manager.off&&(this.manager.off(r.PAUSE_ALL,this.pause,this),this.manager.off(r.RESUME_ALL,this.resume,this)),this.manager.remove(this.key);for(var t=0;t<this.frames.length;t++)this.frames[t].destroy();this.frames=[],this.manager=null}});t.exports=u},41138:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=new(i(83419))({initialize:function(t,e,i,s,n){void 0===n&&(n=!1),this.textureKey=t,this.textureFrame=e,this.index=i,this.frame=s,this.isFirst=!1,this.isLast=!1,this.prevFrame=null,this.nextFrame=null,this.duration=0,this.progress=0,this.isKeyFrame=n},toJSON:function(){return{key:this.textureKey,frame:this.textureFrame,duration:this.duration,keyframe:this.isKeyFrame}},destroy:function(){this.frame=void 0}});t.exports=s},60848:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(42099),n=i(83419),r=i(90330),o=i(50792),a=i(74943),h=i(8443),l=i(95540),u=i(35154),c=i(36383),d=i(20283),f=i(41836),p=new n({Extends:o,initialize:function(t){o.call(this),this.game=t,this.textureManager=null,this.globalTimeScale=1,this.anims=new r,this.mixes=new r,this.paused=!1,this.name="AnimationManager",t.events.once(h.BOOT,this.boot,this)},boot:function(){this.textureManager=this.game.textures,this.game.events.once(h.DESTROY,this.destroy,this)},addMix:function(t,e,i){var s=this.anims,n=this.mixes,r="string"==typeof t?t:t.key,o="string"==typeof e?e:e.key;if(s.has(r)&&s.has(o)){var a=n.get(r);a||(a={}),a[o]=i,n.set(r,a)}return this},removeMix:function(t,e){var i=this.mixes,s="string"==typeof t?t:t.key,n=i.get(s);if(n)if(e){var r="string"==typeof e?e:e.key;n.hasOwnProperty(r)&&delete n[r]}else e||i.delete(s);return this},getMix:function(t,e){var i=this.mixes,s="string"==typeof t?t:t.key,n="string"==typeof e?e:e.key,r=i.get(s);return r&&r.hasOwnProperty(n)?r[n]:0},add:function(t,e){return this.anims.has(t)||(e.key=t,this.anims.set(t,e),this.emit(a.ADD_ANIMATION,t,e)),this},exists:function(t){return this.anims.has(t)},createFromAseprite:function(t,e,i){var s=[],n=this.game.cache.json.get(t);if(!n)return s;var r=this,o=u(n,"meta",null),a=u(n,"frames",null);return o&&a&&u(o,"frameTags",[]).forEach(function(n){var o=[],h=l(n,"name",null),u=l(n,"from",0),d=l(n,"to",0),f=l(n,"direction","forward");if(h&&(!e||e&&e.indexOf(h)>-1)){for(var p=0,g=u;g<=d;g++){var m=g.toString(),v=a[m];if(v){var y=l(v,"duration",c.MAX_SAFE_INTEGER);o.push({key:t,frame:m,duration:y}),p+=y}}"reverse"===f&&(o=o.reverse());var x,T={key:h,frames:o,duration:p,yoyo:"pingpong"===f};i?i.anims&&(x=i.anims.create(T)):x=r.create(T),x&&s.push(x)}}),s},create:function(t){var e=t.key,i=!1;return e&&((i=this.get(e))||(i=new s(this,e,t),this.anims.set(e,i),this.emit(a.ADD_ANIMATION,e,i))),i},fromJSON:function(t,e){void 0===e&&(e=!1),e&&this.anims.clear(),"string"==typeof t&&(t=JSON.parse(t));var i=[];if(t.hasOwnProperty("anims")&&Array.isArray(t.anims)){for(var s=0;s<t.anims.length;s++)i.push(this.create(t.anims[s]));t.hasOwnProperty("globalTimeScale")&&(this.globalTimeScale=t.globalTimeScale)}else t.hasOwnProperty("key")&&"frame"===t.type&&i.push(this.create(t));return i},generateFrameNames:function(t,e){var i=u(e,"prefix",""),s=u(e,"start",0),n=u(e,"end",0),r=u(e,"suffix",""),o=u(e,"zeroPad",0),a=u(e,"outputArray",[]),h=u(e,"frames",!1);if(!this.textureManager.exists(t))return a;var l,c=this.textureManager.get(t);if(!c)return a;if(e)for(h||(h=d(s,n)),l=0;l<h.length;l++){var p=i+f(h[l],o,"0",1)+r;c.has(p)&&a.push({key:t,frame:p})}else for(h=c.getFrameNames(),l=0;l<h.length;l++)a.push({key:t,frame:h[l]});return a},generateFrameNumbers:function(t,e){var i=u(e,"start",0),s=u(e,"end",-1),n=u(e,"first",!1),r=u(e,"outputArray",[]),o=u(e,"frames",!1);if(!this.textureManager.exists(t))return r;var a=this.textureManager.get(t);if(!a)return r;n&&a.has(n)&&r.push({key:t,frame:n}),o||(-1===s&&(s=a.frameTotal-2),o=d(i,s));for(var h=0;h<o.length;h++){var l=o[h];a.has(l)&&r.push({key:t,frame:l})}return r},get:function(t){return this.anims.get(t)},getAnimsFromTexture:function(t){for(var e=this.textureManager.get(t).key,i=this.anims.getArray(),s=[],n=0;n<i.length;n++)for(var r=i[n],o=r.frames,a=0;a<o.length;a++)if(o[a].textureKey===e){s.push(r.key);break}return s},pauseAll:function(){return this.paused||(this.paused=!0,this.emit(a.PAUSE_ALL)),this},play:function(t,e){Array.isArray(e)||(e=[e]);for(var i=0;i<e.length;i++)e[i].anims.play(t);return this},staggerPlay:function(t,e,i,s){void 0===i&&(i=0),void 0===s&&(s=!0),Array.isArray(e)||(e=[e]);var n=e.length;s||n--;for(var r=0;r<e.length;r++){var o=i<0?Math.abs(i)*(n-r):i*r;e[r].anims.playAfterDelay(t,o)}return this},remove:function(t){var e=this.get(t);return e&&(this.emit(a.REMOVE_ANIMATION,t,e),this.anims.delete(t),this.removeMix(t)),e},resumeAll:function(){return this.paused&&(this.paused=!1,this.emit(a.RESUME_ALL)),this},toJSON:function(t){var e={anims:[],globalTimeScale:this.globalTimeScale};return void 0!==t&&""!==t?e.anims.push(this.anims.get(t).toJSON()):this.anims.each(function(t,i){e.anims.push(i.toJSON())}),e},destroy:function(){this.anims.clear(),this.mixes.clear(),this.textureManager=null,this.game=null}});t.exports=p},9674:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(42099),n=i(30976),r=i(83419),o=i(90330),a=i(74943),h=i(95540),l=new r({initialize:function(t){this.parent=t,this.animationManager=t.scene.sys.anims,this.animationManager.on(a.REMOVE_ANIMATION,this.globalRemove,this),this.textureManager=this.animationManager.textureManager,this.anims=null,this.isPlaying=!1,this.hasStarted=!1,this.currentAnim=null,this.currentFrame=null,this.nextAnim=null,this.nextAnimsQueue=[],this.timeScale=1,this.frameRate=0,this.duration=0,this.msPerFrame=0,this.skipMissedFrames=!0,this.randomFrame=!1,this.delay=0,this.repeat=0,this.repeatDelay=0,this.yoyo=!1,this.showBeforeDelay=!1,this.showOnStart=!1,this.hideOnComplete=!1,this.forward=!0,this.inReverse=!1,this.accumulator=0,this.nextTick=0,this.delayCounter=0,this.repeatCounter=0,this.pendingRepeat=!1,this._paused=!1,this._wasPlaying=!1,this._pendingStop=0,this._pendingStopValue},chain:function(t){var e=this.parent;if(void 0===t)return this.nextAnimsQueue.length=0,this.nextAnim=null,e;Array.isArray(t)||(t=[t]);for(var i=0;i<t.length;i++){var s=t[i];this.nextAnim?this.nextAnimsQueue.push(s):this.nextAnim=s}return this.parent},getName:function(){return this.currentAnim?this.currentAnim.key:""},getFrameName:function(){return this.currentFrame?this.currentFrame.textureFrame:""},load:function(t){this.isPlaying&&this.stop();var e=this.animationManager,i="string"==typeof t?t:h(t,"key",null),s=this.exists(i)?this.get(i):e.get(i);if(s){this.currentAnim=s;var r=s.getTotalFrames(),o=h(t,"frameRate",s.frameRate),a=h(t,"duration",s.duration);s.calculateDuration(this,r,a,o),this.delay=h(t,"delay",s.delay),this.repeat=h(t,"repeat",s.repeat),this.repeatDelay=h(t,"repeatDelay",s.repeatDelay),this.yoyo=h(t,"yoyo",s.yoyo),this.showBeforeDelay=h(t,"showBeforeDelay",s.showBeforeDelay),this.showOnStart=h(t,"showOnStart",s.showOnStart),this.hideOnComplete=h(t,"hideOnComplete",s.hideOnComplete),this.skipMissedFrames=h(t,"skipMissedFrames",s.skipMissedFrames),this.randomFrame=h(t,"randomFrame",s.randomFrame),this.timeScale=h(t,"timeScale",this.timeScale);var l=h(t,"startFrame",0);l>r&&(l=0),this.randomFrame&&(l=n(0,r-1));var u=s.frames[l];0!==l||this.forward||(u=s.getLastFrame()),this.currentFrame=u}return this.parent},pause:function(t){return this._paused||(this._paused=!0,this._wasPlaying=this.isPlaying,this.isPlaying=!1),void 0!==t&&this.setCurrentFrame(t),this.parent},resume:function(t){return this._paused&&(this._paused=!1,this.isPlaying=this._wasPlaying),void 0!==t&&this.setCurrentFrame(t),this.parent},playAfterDelay:function(t,e){if(this.isPlaying){var i=this.nextAnim,s=this.nextAnimsQueue;i&&s.unshift(i),this.nextAnim=t,this._pendingStop=1,this._pendingStopValue=e}else this.delayCounter=e,this.play(t,!0);return this.parent},playAfterRepeat:function(t,e){if(void 0===e&&(e=1),this.isPlaying){var i=this.nextAnim,s=this.nextAnimsQueue;i&&s.unshift(i),-1!==this.repeatCounter&&e>this.repeatCounter&&(e=this.repeatCounter),this.nextAnim=t,this._pendingStop=2,this._pendingStopValue=e}else this.play(t);return this.parent},play:function(t,e){void 0===e&&(e=!1);var i=this.currentAnim,s=this.parent,n="string"==typeof t?t:t.key;if(e&&this.isPlaying&&i.key===n)return s;if(i&&this.isPlaying){var r=this.animationManager.getMix(i.key,t);if(r>0)return this.playAfterDelay(t,r)}return this.forward=!0,this.inReverse=!1,this._paused=!1,this._wasPlaying=!0,this.startAnimation(t)},playReverse:function(t,e){void 0===e&&(e=!1);var i="string"==typeof t?t:t.key;return e&&this.isPlaying&&this.currentAnim.key===i?this.parent:(this.forward=!1,this.inReverse=!0,this._paused=!1,this._wasPlaying=!0,this.startAnimation(t))},startAnimation:function(t){this.load(t);var e=this.currentAnim,i=this.parent;return e?(this.repeatCounter=-1===this.repeat?Number.MAX_VALUE:this.repeat,e.getFirstTick(this),this.isPlaying=!0,this.pendingRepeat=!1,this.hasStarted=!1,this._pendingStop=0,this._pendingStopValue=0,this._paused=!1,this.delayCounter+=this.delay,0===this.delayCounter?this.handleStart():this.showBeforeDelay&&this.setCurrentFrame(this.currentFrame),i):i},handleStart:function(){this.showOnStart&&this.parent.setVisible(!0),this.setCurrentFrame(this.currentFrame),this.hasStarted=!0,this.emitEvents(a.ANIMATION_START)},handleRepeat:function(){this.pendingRepeat=!1,this.emitEvents(a.ANIMATION_REPEAT)},handleStop:function(){this._pendingStop=0,this.isPlaying=!1,this.emitEvents(a.ANIMATION_STOP)},handleComplete:function(){this._pendingStop=0,this.isPlaying=!1,this.hideOnComplete&&this.parent.setVisible(!1),this.emitEvents(a.ANIMATION_COMPLETE,a.ANIMATION_COMPLETE_KEY)},emitEvents:function(t,e){var i=this.currentAnim;if(i){var s=this.currentFrame,n=this.parent,r=s.textureFrame;n.emit(t,i,s,n,r),e&&n.emit(e+i.key,i,s,n,r)}},reverse:function(){return this.isPlaying&&(this.inReverse=!this.inReverse,this.forward=!this.forward),this.parent},getProgress:function(){var t=this.currentFrame;if(!t)return 0;var e=t.progress;return this.inReverse&&(e*=-1),e},setProgress:function(t){return this.forward||(t=1-t),this.setCurrentFrame(this.currentAnim.getFrameByProgress(t)),this.parent},setRepeat:function(t){return this.repeatCounter=-1===t?Number.MAX_VALUE:t,this.parent},globalRemove:function(t,e){void 0===e&&(e=this.currentAnim),this.isPlaying&&e.key===this.currentAnim.key&&(this.stop(),this.setCurrentFrame(this.currentAnim.frames[0]))},restart:function(t,e){void 0===t&&(t=!1),void 0===e&&(e=!1);var i=this.currentAnim,s=this.parent;return i?(e&&(this.repeatCounter=-1===this.repeat?Number.MAX_VALUE:this.repeat),i.getFirstTick(this),this.emitEvents(a.ANIMATION_RESTART),this.isPlaying=!0,this.pendingRepeat=!1,this.hasStarted=!t,this._pendingStop=0,this._pendingStopValue=0,this._paused=!1,this.setCurrentFrame(i.frames[0]),this.parent):s},complete:function(){if(this._pendingStop=0,this.isPlaying=!1,this.currentAnim&&this.handleComplete(),this.nextAnim){var t=this.nextAnim;this.nextAnim=this.nextAnimsQueue.length>0?this.nextAnimsQueue.shift():null,this.play(t)}return this.parent},stop:function(){if(this._pendingStop=0,this.isPlaying=!1,this.delayCounter=0,this.currentAnim&&this.handleStop(),this.nextAnim){var t=this.nextAnim;this.nextAnim=this.nextAnimsQueue.shift(),this.play(t)}return this.parent},stopAfterDelay:function(t){return this._pendingStop=1,this._pendingStopValue=t,this.parent},stopAfterRepeat:function(t){return void 0===t&&(t=1),-1!==this.repeatCounter&&t>this.repeatCounter&&(t=this.repeatCounter),this._pendingStop=2,this._pendingStopValue=t,this.parent},stopOnFrame:function(t){return this._pendingStop=3,this._pendingStopValue=t,this.parent},getTotalFrames:function(){return this.currentAnim?this.currentAnim.getTotalFrames():0},update:function(t,e){var i=this.currentAnim;if(this.isPlaying&&i&&!i.paused){if(this.accumulator+=e*this.timeScale*this.animationManager.globalTimeScale,1===this._pendingStop&&(this._pendingStopValue-=e,this._pendingStopValue<=0))return this.stop();if(this.hasStarted){if(this.accumulator>=this.nextTick&&(this.forward?i.nextFrame(this):i.previousFrame(this),this.isPlaying&&0===this._pendingStop&&this.skipMissedFrames&&this.accumulator>this.nextTick)){var s=0;do{this.forward?i.nextFrame(this):i.previousFrame(this),s++}while(this.isPlaying&&this.accumulator>this.nextTick&&s<60)}}else this.accumulator>=this.delayCounter&&(this.accumulator-=this.delayCounter,this.handleStart())}},setCurrentFrame:function(t){var e=this.parent;return this.currentFrame=t,e.texture=t.frame.texture,e.frame=t.frame,e.isCropped&&e.frame.updateCropUVs(e._crop,e.flipX,e.flipY),t.setAlpha&&(e.alpha=t.alpha),e.setSizeToFrame(),e._originComponent&&(t.frame.customPivot?e.setOrigin(t.frame.pivotX,t.frame.pivotY):e.updateDisplayOrigin()),this.isPlaying&&this.hasStarted&&(this.emitEvents(a.ANIMATION_UPDATE),3===this._pendingStop&&this._pendingStopValue===t&&this.stop()),e},nextFrame:function(){return this.currentAnim&&this.currentAnim.nextFrame(this),this.parent},previousFrame:function(){return this.currentAnim&&this.currentAnim.previousFrame(this),this.parent},get:function(t){return this.anims?this.anims.get(t):null},exists:function(t){return!!this.anims&&this.anims.has(t)},create:function(t){var e=t.key,i=!1;return e&&((i=this.get(e))||(i=new s(this,e,t),this.anims||(this.anims=new o),this.anims.set(e,i))),i},createFromAseprite:function(t,e){return this.animationManager.createFromAseprite(t,e,this.parent)},generateFrameNames:function(t,e){return this.animationManager.generateFrameNames(t,e)},generateFrameNumbers:function(t,e){return this.animationManager.generateFrameNumbers(t,e)},remove:function(t){var e=this.get(t);return e&&(this.currentAnim===e&&this.stop(),this.anims.delete(t)),e},destroy:function(){this.animationManager.off(a.REMOVE_ANIMATION,this.globalRemove,this),this.anims&&this.anims.clear(),this.animationManager=null,this.parent=null,this.nextAnim=null,this.nextAnimsQueue.length=0,this.currentAnim=null,this.currentFrame=null},isPaused:{get:function(){return this._paused}}});t.exports=l},57090:t=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports="add"},25312:t=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports="animationcomplete"},89580:t=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports="animationcomplete-"},52860:t=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports="animationrepeat"},63850:t=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports="animationrestart"},99085:t=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports="animationstart"},28087:t=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports="animationstop"},1794:t=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports="animationupdate"},52562:t=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports="pauseall"},57953:t=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports="remove"},68339:t=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports="resumeall"},74943:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports={ADD_ANIMATION:i(57090),ANIMATION_COMPLETE:i(25312),ANIMATION_COMPLETE_KEY:i(89580),ANIMATION_REPEAT:i(52860),ANIMATION_RESTART:i(63850),ANIMATION_START:i(99085),ANIMATION_STOP:i(28087),ANIMATION_UPDATE:i(1794),PAUSE_ALL:i(52562),REMOVE_ANIMATION:i(57953),RESUME_ALL:i(68339)}},60421:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports={Animation:i(42099),AnimationFrame:i(41138),AnimationManager:i(60848),AnimationState:i(9674),Events:i(74943)}},2161:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(83419),n=i(90330),r=i(50792),o=i(24736),a=new s({initialize:function(){this.entries=new n,this.events=new r},add:function(t,e){return this.entries.set(t,e),this.events.emit(o.ADD,this,t,e),this},has:function(t){return this.entries.has(t)},exists:function(t){return this.entries.has(t)},get:function(t){return this.entries.get(t)},remove:function(t){var e=this.get(t);return e&&(this.entries.delete(t),this.events.emit(o.REMOVE,this,t,e.data)),this},getKeys:function(){return this.entries.keys()},destroy:function(){this.entries.clear(),this.events.removeAllListeners(),this.entries=null,this.events=null}});t.exports=a},24047:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(2161),n=i(83419),r=i(8443),o=new n({initialize:function(t){this.game=t,this.binary=new s,this.bitmapFont=new s,this.json=new s,this.physics=new s,this.shader=new s,this.audio=new s,this.video=new s,this.text=new s,this.html=new s,this.obj=new s,this.tilemap=new s,this.xml=new s,this.custom={},this.game.events.once(r.DESTROY,this.destroy,this)},addCustom:function(t){return this.custom.hasOwnProperty(t)||(this.custom[t]=new s),this.custom[t]},destroy:function(){for(var t=["binary","bitmapFont","json","physics","shader","audio","video","text","html","obj","tilemap","xml"],e=0;e<t.length;e++)this[t[e]].destroy(),this[t[e]]=null;for(var i in this.custom)this.custom[i].destroy();this.custom=null,this.game=null}});t.exports=o},51464:t=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports="add"},59261:t=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports="remove"},24736:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports={ADD:i(51464),REMOVE:i(59261)}},83388:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports={BaseCache:i(2161),CacheManager:i(24047),Events:i(24736)}},71911:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(83419),n=i(31401),r=i(39506),o=i(50792),a=i(19715),h=i(87841),l=i(61340),u=i(80333),c=i(26099),d=new s({Extends:o,Mixins:[n.AlphaSingle,n.Visible],initialize:function(t,e,i,s){void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=0),void 0===s&&(s=0),o.call(this),this.scene,this.sceneManager,this.scaleManager,this.cameraManager,this.id=0,this.name="",this.roundPixels=!1,this.useBounds=!1,this.worldView=new h,this.dirty=!0,this._x=t,this._y=e,this._width=i,this._height=s,this._bounds=new h,this._scrollX=0,this._scrollY=0,this._zoomX=1,this._zoomY=1,this._rotation=0,this.matrix=new l,this.transparent=!0,this.backgroundColor=u("rgba(0,0,0,0)"),this.disableCull=!1,this.culledObjects=[],this.midPoint=new c(i/2,s/2),this.originX=.5,this.originY=.5,this._customViewport=!1,this.mask=null,this._maskCamera=null,this.renderList=[],this.isSceneCamera=!0,this.renderRoundPixels=!0},addToRenderList:function(t){this.renderList.push(t)},setOrigin:function(t,e){return void 0===t&&(t=.5),void 0===e&&(e=t),this.originX=t,this.originY=e,this},getScroll:function(t,e,i){void 0===i&&(i=new c);var s=.5*this.width,n=.5*this.height;return i.x=t-s,i.y=e-n,this.useBounds&&(i.x=this.clampX(i.x),i.y=this.clampY(i.y)),i},centerOnX:function(t){var e=.5*this.width;return this.midPoint.x=t,this.scrollX=t-e,this.useBounds&&(this.scrollX=this.clampX(this.scrollX)),this},centerOnY:function(t){var e=.5*this.height;return this.midPoint.y=t,this.scrollY=t-e,this.useBounds&&(this.scrollY=this.clampY(this.scrollY)),this},centerOn:function(t,e){return this.centerOnX(t),this.centerOnY(e),this},centerToBounds:function(){if(this.useBounds){var t=this._bounds,e=.5*this.width,i=.5*this.height;this.midPoint.set(t.centerX,t.centerY),this.scrollX=t.centerX-e,this.scrollY=t.centerY-i}return this},centerToSize:function(){return this.scrollX=.5*this.width,this.scrollY=.5*this.height,this},cull:function(t){if(this.disableCull)return t;var e=this.matrix.matrix,i=e[0],s=e[1],n=e[2],r=e[3],o=i*r-s*n;if(!o)return t;var a=e[4],h=e[5],l=this.scrollX,u=this.scrollY,c=this.width,d=this.height,f=this.y,p=f+d,g=this.x,m=g+c,v=this.culledObjects,y=t.length;o=1/o,v.length=0;for(var x=0;x<y;++x){var T=t[x];if(T.hasOwnProperty("width")&&!T.parentContainer){var w=T.width,b=T.height,S=T.x-l*T.scrollFactorX-w*T.originX,E=T.y-u*T.scrollFactorY-b*T.originY;(S+w)*i+(E+b)*n+a>g&&S*i+E*n+a<m&&(S+w)*s+(E+b)*r+h>f&&S*s+E*r+h<p&&v.push(T)}else v.push(T)}return v},getWorldPoint:function(t,e,i){void 0===i&&(i=new c);var s=this.matrix.matrix,n=s[0],r=s[1],o=s[2],a=s[3],h=s[4],l=s[5],u=n*a-r*o;if(!u)return i.x=t,i.y=e,i;var d=a*(u=1/u),f=-r*u,p=-o*u,g=n*u,m=(o*l-a*h)*u,v=(r*h-n*l)*u,y=Math.cos(this.rotation),x=Math.sin(this.rotation),T=this.zoomX,w=this.zoomY,b=this.scrollX,S=this.scrollY,E=t+(b*y-S*x)*T,C=e+(b*x+S*y)*w;return i.x=E*d+C*p+m,i.y=E*f+C*g+v,i},ignore:function(t){var e=this.id;Array.isArray(t)||(t=[t]);for(var i=0;i<t.length;i++){var s=t[i];Array.isArray(s)?this.ignore(s):s.isParent?this.ignore(s.getChildren()):s.cameraFilter|=e}return this},clampX:function(t){var e=this._bounds,i=this.displayWidth,s=e.x+(i-this.width)/2,n=Math.max(s,s+e.width-i);return t<s?t=s:t>n&&(t=n),t},clampY:function(t){var e=this._bounds,i=this.displayHeight,s=e.y+(i-this.height)/2,n=Math.max(s,s+e.height-i);return t<s?t=s:t>n&&(t=n),t},removeBounds:function(){return this.useBounds=!1,this.dirty=!0,this._bounds.setEmpty(),this},setAngle:function(t){return void 0===t&&(t=0),this.rotation=r(t),this},setBackgroundColor:function(t){return void 0===t&&(t="rgba(0,0,0,0)"),this.backgroundColor=u(t),this.transparent=0===this.backgroundColor.alpha,this},setBounds:function(t,e,i,s,n){return void 0===n&&(n=!1),this._bounds.setTo(t,e,i,s),this.dirty=!0,this.useBounds=!0,n?this.centerToBounds():(this.scrollX=this.clampX(this.scrollX),this.scrollY=this.clampY(this.scrollY)),this},getBounds:function(t){void 0===t&&(t=new h);var e=this._bounds;return t.setTo(e.x,e.y,e.width,e.height),t},setName:function(t){return void 0===t&&(t=""),this.name=t,this},setPosition:function(t,e){return void 0===e&&(e=t),this.x=t,this.y=e,this},setRotation:function(t){return void 0===t&&(t=0),this.rotation=t,this},setRoundPixels:function(t){return this.roundPixels=t,this},setScene:function(t,e){void 0===e&&(e=!0),this.scene&&this._customViewport&&this.sceneManager.customViewports--,this.scene=t,this.isSceneCamera=e;var i=t.sys;return this.sceneManager=i.game.scene,this.scaleManager=i.scale,this.cameraManager=i.cameras,this.updateSystem(),this},setScroll:function(t,e){return void 0===e&&(e=t),this.scrollX=t,this.scrollY=e,this},setSize:function(t,e){return void 0===e&&(e=t),this.width=t,this.height=e,this},setViewport:function(t,e,i,s){return this.x=t,this.y=e,this.width=i,this.height=s,this},setZoom:function(t,e){return void 0===t&&(t=1),void 0===e&&(e=t),0===t&&(t=.001),0===e&&(e=.001),this.zoomX=t,this.zoomY=e,this},setMask:function(t,e){return void 0===e&&(e=!0),this.mask=t,this._maskCamera=e?this.cameraManager.default:this,this},clearMask:function(t){return void 0===t&&(t=!1),t&&this.mask&&this.mask.destroy(),this.mask=null,this},toJSON:function(){var t={name:this.name,x:this.x,y:this.y,width:this.width,height:this.height,zoom:this.zoom,rotation:this.rotation,roundPixels:this.roundPixels,scrollX:this.scrollX,scrollY:this.scrollY,backgroundColor:this.backgroundColor.rgba};return this.useBounds&&(t.bounds={x:this._bounds.x,y:this._bounds.y,width:this._bounds.width,height:this._bounds.height}),t},update:function(){},setIsSceneCamera:function(t){return this.isSceneCamera=t,this},updateSystem:function(){if(this.scaleManager&&this.isSceneCamera){var t=0!==this._x||0!==this._y||this.scaleManager.width!==this._width||this.scaleManager.height!==this._height,e=this.sceneManager;t&&!this._customViewport?e.customViewports++:!t&&this._customViewport&&e.customViewports--,this.dirty=!0,this._customViewport=t}},destroy:function(){this.emit(a.DESTROY,this),this.removeAllListeners(),this.matrix.destroy(),this.culledObjects=[],this._customViewport&&this.sceneManager.customViewports--,this.renderList=[],this._bounds=null,this.scene=null,this.scaleManager=null,this.sceneManager=null,this.cameraManager=null},x:{get:function(){return this._x},set:function(t){this._x=t,this.updateSystem()}},y:{get:function(){return this._y},set:function(t){this._y=t,this.updateSystem()}},width:{get:function(){return this._width},set:function(t){this._width=t,this.updateSystem()}},height:{get:function(){return this._height},set:function(t){this._height=t,this.updateSystem()}},scrollX:{get:function(){return this._scrollX},set:function(t){t!==this._scrollX&&(this._scrollX=t,this.dirty=!0)}},scrollY:{get:function(){return this._scrollY},set:function(t){t!==this._scrollY&&(this._scrollY=t,this.dirty=!0)}},zoom:{get:function(){return(this._zoomX+this._zoomY)/2},set:function(t){this._zoomX=t,this._zoomY=t,this.dirty=!0}},zoomX:{get:function(){return this._zoomX},set:function(t){this._zoomX=t,this.dirty=!0}},zoomY:{get:function(){return this._zoomY},set:function(t){this._zoomY=t,this.dirty=!0}},rotation:{get:function(){return this._rotation},set:function(t){this._rotation=t,this.dirty=!0}},centerX:{get:function(){return this.x+.5*this.width}},centerY:{get:function(){return this.y+.5*this.height}},displayWidth:{get:function(){return this.width/this.zoomX}},displayHeight:{get:function(){return this.height/this.zoomY}}});t.exports=d},38058:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(71911),n=i(67502),r=i(45319),o=i(83419),a=i(31401),h=i(20052),l=i(19715),u=i(28915),c=i(87841),d=i(26099),f=new o({Extends:s,Mixins:[a.PostPipeline],initialize:function(t,e,i,n){s.call(this,t,e,i,n),this.initPostPipeline(),this.inputEnabled=!0,this.fadeEffect=new h.Fade(this),this.flashEffect=new h.Flash(this),this.shakeEffect=new h.Shake(this),this.panEffect=new h.Pan(this),this.rotateToEffect=new h.RotateTo(this),this.zoomEffect=new h.Zoom(this),this.lerp=new d(1,1),this.followOffset=new d,this.deadzone=null,this._follow=null},setDeadzone:function(t,e){if(void 0===t)this.deadzone=null;else{if(this.deadzone?(this.deadzone.width=t,this.deadzone.height=e):this.deadzone=new c(0,0,t,e),this._follow){var i=this.width/2,s=this.height/2,r=this._follow.x-this.followOffset.x,o=this._follow.y-this.followOffset.y;this.midPoint.set(r,o),this.scrollX=r-i,this.scrollY=o-s}n(this.deadzone,this.midPoint.x,this.midPoint.y)}return this},fadeIn:function(t,e,i,s,n,r){return this.fadeEffect.start(!1,t,e,i,s,!0,n,r)},fadeOut:function(t,e,i,s,n,r){return this.fadeEffect.start(!0,t,e,i,s,!0,n,r)},fadeFrom:function(t,e,i,s,n,r,o){return this.fadeEffect.start(!1,t,e,i,s,n,r,o)},fade:function(t,e,i,s,n,r,o){return this.fadeEffect.start(!0,t,e,i,s,n,r,o)},flash:function(t,e,i,s,n,r,o){return this.flashEffect.start(t,e,i,s,n,r,o)},shake:function(t,e,i,s,n){return this.shakeEffect.start(t,e,i,s,n)},pan:function(t,e,i,s,n,r,o){return this.panEffect.start(t,e,i,s,n,r,o)},rotateTo:function(t,e,i,s,n,r,o){return this.rotateToEffect.start(t,e,i,s,n,r,o)},zoomTo:function(t,e,i,s,n,r){return this.zoomEffect.start(t,e,i,s,n,r)},preRender:function(){this.renderList.length=0;var t=this.width,e=this.height,i=.5*t,s=.5*e,r=this.zoomX,o=this.zoomY,a=this.matrix;this.renderRoundPixels=this.roundPixels&&Number.isInteger(r)&&Number.isInteger(o);var h=t*this.originX,c=e*this.originY,d=this._follow,f=this.deadzone,p=this.scrollX,g=this.scrollY;f&&n(f,this.midPoint.x,this.midPoint.y);var m=!1;if(d&&!this.panEffect.isRunning){var v=this.lerp,y=d.x-this.followOffset.x,x=d.y-this.followOffset.y;f?(y<f.x?p=u(p,p-(f.x-y),v.x):y>f.right&&(p=u(p,p+(y-f.right),v.x)),x<f.y?g=u(g,g-(f.y-x),v.y):x>f.bottom&&(g=u(g,g+(x-f.bottom),v.y))):(p=u(p,y-h,v.x),g=u(g,x-c,v.y)),m=!0}this.roundPixels&&(p=Math.floor(p),g=Math.floor(g)),this.useBounds&&(p=this.clampX(p),g=this.clampY(g)),this.scrollX=p,this.scrollY=g;var T=p+i,w=g+s;this.midPoint.set(T,w);var b=Math.floor(t/r+.5),S=Math.floor(e/o+.5),E=Math.floor(T-b/2+.5),C=Math.floor(w-S/2+.5);this.worldView.setTo(E,C,b,S),a.applyITRS(Math.floor(this.x+h+.5),Math.floor(this.y+c+.5),this.rotation,r,o),a.translate(-h,-c),this.shakeEffect.preRender(),m&&this.emit(l.FOLLOW_UPDATE,this,d)},setLerp:function(t,e){return void 0===t&&(t=1),void 0===e&&(e=t),this.lerp.set(t,e),this},setFollowOffset:function(t,e){return void 0===t&&(t=0),void 0===e&&(e=0),this.followOffset.set(t,e),this},startFollow:function(t,e,i,s,n,o){void 0===e&&(e=!1),void 0===i&&(i=1),void 0===s&&(s=i),void 0===n&&(n=0),void 0===o&&(o=n),this._follow=t,this.roundPixels=e,i=r(i,0,1),s=r(s,0,1),this.lerp.set(i,s),this.followOffset.set(n,o);var a=this.width/2,h=this.height/2,l=t.x-n,u=t.y-o;return this.midPoint.set(l,u),this.scrollX=l-a,this.scrollY=u-h,this.useBounds&&(this.scrollX=this.clampX(this.scrollX),this.scrollY=this.clampY(this.scrollY)),this},stopFollow:function(){return this._follow=null,this},resetFX:function(){return this.rotateToEffect.reset(),this.panEffect.reset(),this.shakeEffect.reset(),this.flashEffect.reset(),this.fadeEffect.reset(),this},update:function(t,e){this.visible&&(this.rotateToEffect.update(t,e),this.panEffect.update(t,e),this.zoomEffect.update(t,e),this.shakeEffect.update(t,e),this.flashEffect.update(t,e),this.fadeEffect.update(t,e))},destroy:function(){this.resetFX(),s.prototype.destroy.call(this),this._follow=null,this.deadzone=null}});t.exports=f},32743:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(38058),n=i(83419),r=i(95540),o=i(37277),a=i(37303),h=i(97480),l=i(44594),u=new n({initialize:function(t){this.scene=t,this.systems=t.sys,this.roundPixels=t.sys.game.config.roundPixels,this.cameras=[],this.main,this.default,t.sys.events.once(l.BOOT,this.boot,this),t.sys.events.on(l.START,this.start,this)},boot:function(){var t=this.systems;t.settings.cameras?this.fromJSON(t.settings.cameras):this.add(),this.main=this.cameras[0],this.default=new s(0,0,t.scale.width,t.scale.height).setScene(this.scene),t.game.scale.on(h.RESIZE,this.onResize,this),this.systems.events.once(l.DESTROY,this.destroy,this)},start:function(){if(!this.main){var t=this.systems;t.settings.cameras?this.fromJSON(t.settings.cameras):this.add(),this.main=this.cameras[0]}var e=this.systems.events;e.on(l.UPDATE,this.update,this),e.once(l.SHUTDOWN,this.shutdown,this)},add:function(t,e,i,n,r,o){void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=this.scene.sys.scale.width),void 0===n&&(n=this.scene.sys.scale.height),void 0===r&&(r=!1),void 0===o&&(o="");var a=new s(t,e,i,n);return a.setName(o),a.setScene(this.scene),a.setRoundPixels(this.roundPixels),a.id=this.getNextID(),this.cameras.push(a),r&&(this.main=a),a},addExisting:function(t,e){return void 0===e&&(e=!1),-1===this.cameras.indexOf(t)?(t.id=this.getNextID(),t.setRoundPixels(this.roundPixels),this.cameras.push(t),e&&(this.main=t),t):null},getNextID:function(){for(var t=this.cameras,e=1,i=0;i<32;i++){for(var s=!1,n=0;n<t.length;n++){var r=t[n];r&&r.id===e&&(s=!0)}if(!s)return e;e<<=1}return 0},getTotal:function(t){void 0===t&&(t=!1);for(var e=0,i=this.cameras,s=0;s<i.length;s++){var n=i[s];(!t||t&&n.visible)&&e++}return e},fromJSON:function(t){Array.isArray(t)||(t=[t]);for(var e=this.scene.sys.scale.width,i=this.scene.sys.scale.height,s=0;s<t.length;s++){var n=t[s],o=r(n,"x",0),a=r(n,"y",0),h=r(n,"width",e),l=r(n,"height",i),u=this.add(o,a,h,l);u.name=r(n,"name",""),u.zoom=r(n,"zoom",1),u.rotation=r(n,"rotation",0),u.scrollX=r(n,"scrollX",0),u.scrollY=r(n,"scrollY",0),u.roundPixels=r(n,"roundPixels",!1),u.visible=r(n,"visible",!0);var c=r(n,"backgroundColor",!1);c&&u.setBackgroundColor(c);var d=r(n,"bounds",null);if(d){var f=r(d,"x",0),p=r(d,"y",0),g=r(d,"width",e),m=r(d,"height",i);u.setBounds(f,p,g,m)}}return this},getCamera:function(t){for(var e=this.cameras,i=0;i<e.length;i++)if(e[i].name===t)return e[i];return null},getCamerasBelowPointer:function(t){for(var e=this.cameras,i=t.x,s=t.y,n=[],r=0;r<e.length;r++){var o=e[r];o.visible&&o.inputEnabled&&a(o,i,s)&&n.unshift(o)}return n},remove:function(t,e){void 0===e&&(e=!0),Array.isArray(t)||(t=[t]);for(var i=0,s=this.cameras,n=0;n<t.length;n++){var r=s.indexOf(t[n]);-1!==r&&(e?s[r].destroy():s[r].renderList=[],s.splice(r,1),i++)}return!this.main&&s[0]&&(this.main=s[0]),i},render:function(t,e){for(var i=this.scene,s=this.cameras,n=0;n<s.length;n++){var r=s[n];if(r.visible&&r.alpha>0){r.preRender();var o=this.getVisibleChildren(e.getChildren(),r);t.render(i,o,r)}}},getVisibleChildren:function(t,e){return t.filter(function(t){return t.willRender(e)})},resetAll:function(){for(var t=0;t<this.cameras.length;t++)this.cameras[t].destroy();return this.cameras=[],this.main=this.add(),this.main},update:function(t,e){for(var i=0;i<this.cameras.length;i++)this.cameras[i].update(t,e)},onResize:function(t,e,i,s,n){for(var r=0;r<this.cameras.length;r++){var o=this.cameras[r];0===o._x&&0===o._y&&o._width===s&&o._height===n&&o.setSize(e.width,e.height)}},resize:function(t,e){for(var i=0;i<this.cameras.length;i++)this.cameras[i].setSize(t,e)},shutdown:function(){this.main=void 0;for(var t=0;t<this.cameras.length;t++)this.cameras[t].destroy();this.cameras=[];var e=this.systems.events;e.off(l.UPDATE,this.update,this),e.off(l.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.default.destroy(),this.systems.events.off(l.START,this.start,this),this.systems.events.off(l.DESTROY,this.destroy,this),this.systems.game.scale.off(h.RESIZE,this.onResize,this),this.scene=null,this.systems=null}});o.register("CameraManager",u,"cameras"),t.exports=u},5020:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(45319),n=i(83419),r=i(19715),o=new n({initialize:function(t){this.camera=t,this.isRunning=!1,this.isComplete=!1,this.direction=!0,this.duration=0,this.red=0,this.green=0,this.blue=0,this.alpha=0,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope},start:function(t,e,i,s,n,o,a,h){if(void 0===t&&(t=!0),void 0===e&&(e=1e3),void 0===i&&(i=0),void 0===s&&(s=0),void 0===n&&(n=0),void 0===o&&(o=!1),void 0===a&&(a=null),void 0===h&&(h=this.camera.scene),!o&&this.isRunning)return this.camera;this.isRunning=!0,this.isComplete=!1,this.duration=e,this.direction=t,this.progress=0,this.red=i,this.green=s,this.blue=n,this.alpha=t?Number.MIN_VALUE:1,this._elapsed=0,this._onUpdate=a,this._onUpdateScope=h;var l=t?r.FADE_OUT_START:r.FADE_IN_START;return this.camera.emit(l,this.camera,this,e,i,s,n),this.camera},update:function(t,e){this.isRunning&&(this._elapsed+=e,this.progress=s(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration?this.alpha=this.direction?this.progress:1-this.progress:(this.alpha=this.direction?1:0,this.effectComplete()))},postRenderCanvas:function(t){if(!this.isRunning&&!this.isComplete)return!1;var e=this.camera;return t.fillStyle="rgba("+this.red+","+this.green+","+this.blue+","+this.alpha+")",t.fillRect(e.x,e.y,e.width,e.height),!0},postRenderWebGL:function(t,e){if(!this.isRunning&&!this.isComplete)return!1;var i=this.camera,s=this.red/255,n=this.green/255,r=this.blue/255;return t.drawFillRect(i.x,i.y,i.width,i.height,e(r,n,s,1),this.alpha),!0},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.isComplete=!0;var t=this.direction?r.FADE_OUT_COMPLETE:r.FADE_IN_COMPLETE;this.camera.emit(t,this.camera,this)},reset:function(){this.isRunning=!1,this.isComplete=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null}});t.exports=o},10662:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(45319),n=i(83419),r=i(19715),o=new n({initialize:function(t){this.camera=t,this.isRunning=!1,this.duration=0,this.red=0,this.green=0,this.blue=0,this.alpha=1,this.progress=0,this._elapsed=0,this._alpha,this._onUpdate,this._onUpdateScope},start:function(t,e,i,s,n,o,a){return void 0===t&&(t=250),void 0===e&&(e=255),void 0===i&&(i=255),void 0===s&&(s=255),void 0===n&&(n=!1),void 0===o&&(o=null),void 0===a&&(a=this.camera.scene),!n&&this.isRunning||(this.isRunning=!0,this.duration=t,this.progress=0,this.red=e,this.green=i,this.blue=s,this._alpha=this.alpha,this._elapsed=0,this._onUpdate=o,this._onUpdateScope=a,this.camera.emit(r.FLASH_START,this.camera,this,t,e,i,s)),this.camera},update:function(t,e){this.isRunning&&(this._elapsed+=e,this.progress=s(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration?this.alpha=this._alpha*(1-this.progress):this.effectComplete())},postRenderCanvas:function(t){if(!this.isRunning)return!1;var e=this.camera;return t.fillStyle="rgba("+this.red+","+this.green+","+this.blue+","+this.alpha+")",t.fillRect(e.x,e.y,e.width,e.height),!0},postRenderWebGL:function(t,e){if(!this.isRunning)return!1;var i=this.camera,s=this.red/255,n=this.green/255,r=this.blue/255;return t.drawFillRect(i.x,i.y,i.width,i.height,e(r,n,s,1),this.alpha),!0},effectComplete:function(){this.alpha=this._alpha,this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(r.FLASH_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null}});t.exports=o},20359:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(45319),n=i(83419),r=i(62640),o=i(19715),a=i(26099),h=new n({initialize:function(t){this.camera=t,this.isRunning=!1,this.duration=0,this.source=new a,this.current=new a,this.destination=new a,this.ease,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope},start:function(t,e,i,s,n,a,h){void 0===i&&(i=1e3),void 0===s&&(s=r.Linear),void 0===n&&(n=!1),void 0===a&&(a=null),void 0===h&&(h=this.camera.scene);var l=this.camera;return!n&&this.isRunning||(this.isRunning=!0,this.duration=i,this.progress=0,this.source.set(l.scrollX,l.scrollY),this.destination.set(t,e),l.getScroll(t,e,this.current),"string"==typeof s&&r.hasOwnProperty(s)?this.ease=r[s]:"function"==typeof s&&(this.ease=s),this._elapsed=0,this._onUpdate=a,this._onUpdateScope=h,this.camera.emit(o.PAN_START,this.camera,this,i,t,e)),l},update:function(t,e){if(this.isRunning){this._elapsed+=e;var i=s(this._elapsed/this.duration,0,1);this.progress=i;var n=this.camera;if(this._elapsed<this.duration){var r=this.ease(i);n.getScroll(this.destination.x,this.destination.y,this.current);var o=this.source.x+(this.current.x-this.source.x)*r,a=this.source.y+(this.current.y-this.source.y)*r;n.setScroll(o,a),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,n,i,o,a)}else n.centerOn(this.destination.x,this.destination.y),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,n,i,n.scrollX,n.scrollY),this.effectComplete()}},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(o.PAN_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null,this.source=null,this.destination=null}});t.exports=h},34208:(t,e,i)=>{
/**
                     * @author       Jason Nicholls <nicholls.jason@gmail.com>
                     * @copyright    2018 Photon Storm Ltd.
                     * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
                     */
var s=i(45319),n=i(83419),r=i(19715),o=i(62640),a=new n({initialize:function(t){this.camera=t,this.isRunning=!1,this.duration=0,this.source=0,this.current=0,this.destination=0,this.ease,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope,this.clockwise=!0,this.shortestPath=!1},start:function(t,e,i,s,n,a,h){void 0===i&&(i=1e3),void 0===s&&(s=o.Linear),void 0===n&&(n=!1),void 0===a&&(a=null),void 0===h&&(h=this.camera.scene),void 0===e&&(e=!1),this.shortestPath=e;var l=t;t<0?(l=-1*t,this.clockwise=!1):this.clockwise=!0;var u=360*Math.PI/180;l-=Math.floor(l/u)*u;var c=this.camera;if(!n&&this.isRunning)return c;if(this.isRunning=!0,this.duration=i,this.progress=0,this.source=c.rotation,this.destination=l,"string"==typeof s&&o.hasOwnProperty(s)?this.ease=o[s]:"function"==typeof s&&(this.ease=s),this._elapsed=0,this._onUpdate=a,this._onUpdateScope=h,this.shortestPath){var d=0,f=0;(d=this.destination>this.source?Math.abs(this.destination-this.source):Math.abs(this.destination+u)-this.source)<(f=this.source>this.destination?Math.abs(this.source-this.destination):Math.abs(this.source+u)-this.destination)?this.clockwise=!0:d>f&&(this.clockwise=!1)}return this.camera.emit(r.ROTATE_START,this.camera,this,i,l),c},update:function(t,e){if(this.isRunning){this._elapsed+=e;var i=s(this._elapsed/this.duration,0,1);this.progress=i;var n=this.camera;if(this._elapsed<this.duration){var r=this.ease(i);this.current=n.rotation;var o=0,a=360*Math.PI/180,h=this.destination,l=this.current;!1===this.clockwise&&(h=this.current,l=this.destination),o=h>=l?Math.abs(h-l):Math.abs(h+a)-l;var u=0;u=this.clockwise?n.rotation+o*r:n.rotation-o*r,n.rotation=u,this._onUpdate&&this._onUpdate.call(this._onUpdateScope,n,i,u)}else n.rotation=this.destination,this._onUpdate&&this._onUpdate.call(this._onUpdateScope,n,i,this.destination),this.effectComplete()}},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(r.ROTATE_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null,this.source=null,this.destination=null}});t.exports=a},30330:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(45319),n=i(83419),r=i(19715),o=i(26099),a=new n({initialize:function(t){this.camera=t,this.isRunning=!1,this.duration=0,this.intensity=new o,this.progress=0,this._elapsed=0,this._offsetX=0,this._offsetY=0,this._onUpdate,this._onUpdateScope},start:function(t,e,i,s,n){return void 0===t&&(t=100),void 0===e&&(e=.05),void 0===i&&(i=!1),void 0===s&&(s=null),void 0===n&&(n=this.camera.scene),!i&&this.isRunning||(this.isRunning=!0,this.duration=t,this.progress=0,"number"==typeof e?this.intensity.set(e):this.intensity.set(e.x,e.y),this._elapsed=0,this._offsetX=0,this._offsetY=0,this._onUpdate=s,this._onUpdateScope=n,this.camera.emit(r.SHAKE_START,this.camera,this,t,e)),this.camera},preRender:function(){this.isRunning&&this.camera.matrix.translate(this._offsetX,this._offsetY)},update:function(t,e){if(this.isRunning)if(this._elapsed+=e,this.progress=s(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration){var i=this.intensity,n=this.camera.width,r=this.camera.height,o=this.camera.zoom;this._offsetX=(Math.random()*i.x*n*2-i.x*n)*o,this._offsetY=(Math.random()*i.y*r*2-i.y*r)*o,this.camera.roundPixels&&(this._offsetX=Math.round(this._offsetX),this._offsetY=Math.round(this._offsetY))}else this.effectComplete()},effectComplete:function(){this._offsetX=0,this._offsetY=0,this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(r.SHAKE_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._offsetX=0,this._offsetY=0,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null,this.intensity=null}});t.exports=a},45641:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(45319),n=i(83419),r=i(62640),o=i(19715),a=new n({initialize:function(t){this.camera=t,this.isRunning=!1,this.duration=0,this.source=1,this.destination=1,this.ease,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope},start:function(t,e,i,s,n,a){void 0===e&&(e=1e3),void 0===i&&(i=r.Linear),void 0===s&&(s=!1),void 0===n&&(n=null),void 0===a&&(a=this.camera.scene);var h=this.camera;return!s&&this.isRunning||(this.isRunning=!0,this.duration=e,this.progress=0,this.source=h.zoom,this.destination=t,"string"==typeof i&&r.hasOwnProperty(i)?this.ease=r[i]:"function"==typeof i&&(this.ease=i),this._elapsed=0,this._onUpdate=n,this._onUpdateScope=a,this.camera.emit(o.ZOOM_START,this.camera,this,e,t)),h},update:function(t,e){this.isRunning&&(this._elapsed+=e,this.progress=s(this._elapsed/this.duration,0,1),this._elapsed<this.duration?(this.camera.zoom=this.source+(this.destination-this.source)*this.ease(this.progress),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress,this.camera.zoom)):(this.camera.zoom=this.destination,this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress,this.destination),this.effectComplete()))},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(o.ZOOM_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null}});t.exports=a},20052:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports={Fade:i(5020),Flash:i(10662),Pan:i(20359),Shake:i(30330),RotateTo:i(34208),Zoom:i(45641)}},16438:t=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports="cameradestroy"},32726:t=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports="camerafadeincomplete"},87807:t=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports="camerafadeinstart"},45917:t=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports="camerafadeoutcomplete"},95666:t=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports="camerafadeoutstart"},47056:t=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports="cameraflashcomplete"},91261:t=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports="cameraflashstart"},45047:t=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports="followupdate"},81927:t=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports="camerapancomplete"},74264:t=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports="camerapanstart"},54419:t=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports="postrender"},79330:t=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports="prerender"},93183:t=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports="camerarotatecomplete"},80112:t=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports="camerarotatestart"},62252:t=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports="camerashakecomplete"},86017:t=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports="camerashakestart"},539:t=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports="camerazoomcomplete"},51892:t=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports="camerazoomstart"},19715:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports={DESTROY:i(16438),FADE_IN_COMPLETE:i(32726),FADE_IN_START:i(87807),FADE_OUT_COMPLETE:i(45917),FADE_OUT_START:i(95666),FLASH_COMPLETE:i(47056),FLASH_START:i(91261),FOLLOW_UPDATE:i(45047),PAN_COMPLETE:i(81927),PAN_START:i(74264),POST_RENDER:i(54419),PRE_RENDER:i(79330),ROTATE_COMPLETE:i(93183),ROTATE_START:i(80112),SHAKE_COMPLETE:i(62252),SHAKE_START:i(86017),ZOOM_COMPLETE:i(539),ZOOM_START:i(51892)}},87969:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports={Camera:i(38058),BaseCamera:i(71911),CameraManager:i(32743),Effects:i(20052),Events:i(19715)}},63091:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(83419),n=i(35154),r=new s({initialize:function(t){this.camera=n(t,"camera",null),this.left=n(t,"left",null),this.right=n(t,"right",null),this.up=n(t,"up",null),this.down=n(t,"down",null),this.zoomIn=n(t,"zoomIn",null),this.zoomOut=n(t,"zoomOut",null),this.zoomSpeed=n(t,"zoomSpeed",.01),this.minZoom=n(t,"minZoom",.001),this.maxZoom=n(t,"maxZoom",1e3),this.speedX=0,this.speedY=0;var e=n(t,"speed",null);"number"==typeof e?(this.speedX=e,this.speedY=e):(this.speedX=n(t,"speed.x",0),this.speedY=n(t,"speed.y",0)),this._zoom=0,this.active=null!==this.camera},start:function(){return this.active=null!==this.camera,this},stop:function(){return this.active=!1,this},setCamera:function(t){return this.camera=t,this},update:function(t){if(this.active){void 0===t&&(t=1);var e=this.camera;this.up&&this.up.isDown?e.scrollY-=this.speedY*t|0:this.down&&this.down.isDown&&(e.scrollY+=this.speedY*t|0),this.left&&this.left.isDown?e.scrollX-=this.speedX*t|0:this.right&&this.right.isDown&&(e.scrollX+=this.speedX*t|0),this.zoomIn&&this.zoomIn.isDown?(e.zoom-=this.zoomSpeed,e.zoom<this.minZoom&&(e.zoom=this.minZoom)):this.zoomOut&&this.zoomOut.isDown&&(e.zoom+=this.zoomSpeed,e.zoom>this.maxZoom&&(e.zoom=this.maxZoom))}},destroy:function(){this.camera=null,this.left=null,this.right=null,this.up=null,this.down=null,this.zoomIn=null,this.zoomOut=null}});t.exports=r},58818:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(83419),n=i(35154),r=new s({initialize:function(t){this.camera=n(t,"camera",null),this.left=n(t,"left",null),this.right=n(t,"right",null),this.up=n(t,"up",null),this.down=n(t,"down",null),this.zoomIn=n(t,"zoomIn",null),this.zoomOut=n(t,"zoomOut",null),this.zoomSpeed=n(t,"zoomSpeed",.01),this.minZoom=n(t,"minZoom",.001),this.maxZoom=n(t,"maxZoom",1e3),this.accelX=0,this.accelY=0;var e=n(t,"acceleration",null);"number"==typeof e?(this.accelX=e,this.accelY=e):(this.accelX=n(t,"acceleration.x",0),this.accelY=n(t,"acceleration.y",0)),this.dragX=0,this.dragY=0;var i=n(t,"drag",null);"number"==typeof i?(this.dragX=i,this.dragY=i):(this.dragX=n(t,"drag.x",0),this.dragY=n(t,"drag.y",0)),this.maxSpeedX=0,this.maxSpeedY=0;var s=n(t,"maxSpeed",null);"number"==typeof s?(this.maxSpeedX=s,this.maxSpeedY=s):(this.maxSpeedX=n(t,"maxSpeed.x",0),this.maxSpeedY=n(t,"maxSpeed.y",0)),this._speedX=0,this._speedY=0,this._zoom=0,this.active=null!==this.camera},start:function(){return this.active=null!==this.camera,this},stop:function(){return this.active=!1,this},setCamera:function(t){return this.camera=t,this},update:function(t){if(this.active){void 0===t&&(t=1);var e=this.camera;this._speedX>0?(this._speedX-=this.dragX*t,this._speedX<0&&(this._speedX=0)):this._speedX<0&&(this._speedX+=this.dragX*t,this._speedX>0&&(this._speedX=0)),this._speedY>0?(this._speedY-=this.dragY*t,this._speedY<0&&(this._speedY=0)):this._speedY<0&&(this._speedY+=this.dragY*t,this._speedY>0&&(this._speedY=0)),this.up&&this.up.isDown?(this._speedY+=this.accelY,this._speedY>this.maxSpeedY&&(this._speedY=this.maxSpeedY)):this.down&&this.down.isDown&&(this._speedY-=this.accelY,this._speedY<-this.maxSpeedY&&(this._speedY=-this.maxSpeedY)),this.left&&this.left.isDown?(this._speedX+=this.accelX,this._speedX>this.maxSpeedX&&(this._speedX=this.maxSpeedX)):this.right&&this.right.isDown&&(this._speedX-=this.accelX,this._speedX<-this.maxSpeedX&&(this._speedX=-this.maxSpeedX)),this.zoomIn&&this.zoomIn.isDown?this._zoom=-this.zoomSpeed:this.zoomOut&&this.zoomOut.isDown?this._zoom=this.zoomSpeed:this._zoom=0,0!==this._speedX&&(e.scrollX-=this._speedX*t|0),0!==this._speedY&&(e.scrollY-=this._speedY*t|0),0!==this._zoom&&(e.zoom+=this._zoom,e.zoom<this.minZoom?e.zoom=this.minZoom:e.zoom>this.maxZoom&&(e.zoom=this.maxZoom))}},destroy:function(){this.camera=null,this.left=null,this.right=null,this.up=null,this.down=null,this.zoomIn=null,this.zoomOut=null}});t.exports=r},38865:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports={FixedKeyControl:i(63091),SmoothedKeyControl:i(58818)}},26638:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports={Controls:i(38865),Scene2D:i(87969)}},8054:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s={VERSION:"3.90.0",LOG_VERSION:"v390",BlendModes:i(10312),ScaleModes:i(29795),AUTO:0,CANVAS:1,WEBGL:2,HEADLESS:3,FOREVER:-1,NONE:4,UP:5,DOWN:6,LEFT:7,RIGHT:8};t.exports=s},69547:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(83419),n=i(8054),r=i(42363),o=i(82264),a=i(95540),h=i(35154),l=i(41212),u=i(29747),c=i(75508),d=i(36060),f=i(80333),p=new s({initialize:function(t){void 0===t&&(t={});var e=h(t,"scale",null);this.width=h(e,"width",1024,t),this.height=h(e,"height",768,t),this.zoom=h(e,"zoom",1,t),this.parent=h(e,"parent",void 0,t),this.scaleMode=h(e,e?"mode":"scaleMode",0,t),this.expandParent=h(e,"expandParent",!0,t),this.autoRound=h(e,"autoRound",!1,t),this.autoCenter=h(e,"autoCenter",0,t),this.resizeInterval=h(e,"resizeInterval",500,t),this.fullscreenTarget=h(e,"fullscreenTarget",null,t),this.minWidth=h(e,"min.width",0,t),this.maxWidth=h(e,"max.width",0,t),this.minHeight=h(e,"min.height",0,t),this.maxHeight=h(e,"max.height",0,t),this.snapWidth=h(e,"snap.width",0,t),this.snapHeight=h(e,"snap.height",0,t),this.renderType=h(t,"type",n.AUTO),this.canvas=h(t,"canvas",null),this.context=h(t,"context",null),this.canvasStyle=h(t,"canvasStyle",null),this.customEnvironment=h(t,"customEnvironment",!1),this.sceneConfig=h(t,"scene",null),this.seed=h(t,"seed",[(Date.now()*Math.random()).toString()]),c.RND=new c.RandomDataGenerator(this.seed),this.gameTitle=h(t,"title",""),this.gameURL=h(t,"url","https://phaser.io/"+n.LOG_VERSION),this.gameVersion=h(t,"version",""),this.autoFocus=h(t,"autoFocus",!0),this.stableSort=h(t,"stableSort",-1),-1===this.stableSort&&(this.stableSort=o.browser.es2019?1:0),o.features.stableSort=this.stableSort,this.domCreateContainer=h(t,"dom.createContainer",!1),this.domPointerEvents=h(t,"dom.pointerEvents","none"),this.inputKeyboard=h(t,"input.keyboard",!0),this.inputKeyboardEventTarget=h(t,"input.keyboard.target",window),this.inputKeyboardCapture=h(t,"input.keyboard.capture",[]),this.inputMouse=h(t,"input.mouse",!0),this.inputMouseEventTarget=h(t,"input.mouse.target",null),this.inputMousePreventDefaultDown=h(t,"input.mouse.preventDefaultDown",!0),this.inputMousePreventDefaultUp=h(t,"input.mouse.preventDefaultUp",!0),this.inputMousePreventDefaultMove=h(t,"input.mouse.preventDefaultMove",!0),this.inputMousePreventDefaultWheel=h(t,"input.mouse.preventDefaultWheel",!0),this.inputTouch=h(t,"input.touch",o.input.touch),this.inputTouchEventTarget=h(t,"input.touch.target",null),this.inputTouchCapture=h(t,"input.touch.capture",!0),this.inputActivePointers=h(t,"input.activePointers",1),this.inputSmoothFactor=h(t,"input.smoothFactor",0),this.inputWindowEvents=h(t,"input.windowEvents",!0),this.inputGamepad=h(t,"input.gamepad",!1),this.inputGamepadEventTarget=h(t,"input.gamepad.target",window),this.disableContextMenu=h(t,"disableContextMenu",!1),this.audio=h(t,"audio",{}),this.hideBanner=!1===h(t,"banner",null),this.hidePhaser=h(t,"banner.hidePhaser",!1),this.bannerTextColor=h(t,"banner.text","#ffffff"),this.bannerBackgroundColor=h(t,"banner.background",["#ff0000","#ffff00","#00ff00","#00ffff","#000000"]),""===this.gameTitle&&this.hidePhaser&&(this.hideBanner=!0),this.fps=h(t,"fps",null),this.disablePreFX=h(t,"disablePreFX",!1),this.disablePostFX=h(t,"disablePostFX",!1);var i=h(t,"render",null);this.pipeline=h(i,"pipeline",null,t),this.autoMobilePipeline=h(i,"autoMobilePipeline",!0,t),this.defaultPipeline=h(i,"defaultPipeline",d.MULTI_PIPELINE,t),this.antialias=h(i,"antialias",!0,t),this.antialiasGL=h(i,"antialiasGL",!0,t),this.mipmapFilter=h(i,"mipmapFilter","",t),this.desynchronized=h(i,"desynchronized",!1,t),this.roundPixels=h(i,"roundPixels",!1,t),this.pixelArt=h(i,"pixelArt",1!==this.zoom,t),this.pixelArt&&(this.antialias=!1,this.antialiasGL=!1,this.roundPixels=!0),this.transparent=h(i,"transparent",!1,t),this.clearBeforeRender=h(i,"clearBeforeRender",!0,t),this.preserveDrawingBuffer=h(i,"preserveDrawingBuffer",!1,t),this.premultipliedAlpha=h(i,"premultipliedAlpha",!0,t),this.failIfMajorPerformanceCaveat=h(i,"failIfMajorPerformanceCaveat",!1,t),this.powerPreference=h(i,"powerPreference","default",t),this.batchSize=h(i,"batchSize",4096,t),this.maxTextures=h(i,"maxTextures",-1,t),this.maxLights=h(i,"maxLights",10,t);var s=h(t,"backgroundColor",0);this.backgroundColor=f(s),this.transparent&&(this.backgroundColor=f(0),this.backgroundColor.alpha=0),this.preBoot=h(t,"callbacks.preBoot",u),this.postBoot=h(t,"callbacks.postBoot",u),this.physics=h(t,"physics",{}),this.defaultPhysicsSystem=h(this.physics,"default",!1),this.loaderBaseURL=h(t,"loader.baseURL",""),this.loaderPath=h(t,"loader.path",""),this.loaderMaxParallelDownloads=h(t,"loader.maxParallelDownloads",o.os.android?6:32),this.loaderCrossOrigin=h(t,"loader.crossOrigin",void 0),this.loaderResponseType=h(t,"loader.responseType",""),this.loaderAsync=h(t,"loader.async",!0),this.loaderUser=h(t,"loader.user",""),this.loaderPassword=h(t,"loader.password",""),this.loaderTimeout=h(t,"loader.timeout",0),this.loaderMaxRetries=h(t,"loader.maxRetries",2),this.loaderWithCredentials=h(t,"loader.withCredentials",!1),this.loaderImageLoadType=h(t,"loader.imageLoadType","XHR"),this.loaderLocalScheme=h(t,"loader.localScheme",["file://","capacitor://"]),this.glowFXQuality=h(t,"fx.glow.quality",.1),this.glowFXDistance=h(t,"fx.glow.distance",10),this.installGlobalPlugins=[],this.installScenePlugins=[];var p=h(t,"plugins",null),g=r.DefaultScene;p&&(Array.isArray(p)?this.defaultPlugins=p:l(p)&&(this.installGlobalPlugins=a(p,"global",[]),this.installScenePlugins=a(p,"scene",[]),Array.isArray(p.default)?g=p.default:Array.isArray(p.defaultMerge)&&(g=g.concat(p.defaultMerge)))),this.defaultPlugins=g;var m="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAg";this.defaultImage=h(t,"images.default",m+"AQMAAABJtOi3AAAAA1BMVEX///+nxBvIAAAAAXRSTlMAQObYZgAAABVJREFUeF7NwIEAAAAAgKD9qdeocAMAoAABm3DkcAAAAABJRU5ErkJggg=="),this.missingImage=h(t,"images.missing",m+"CAIAAAD8GO2jAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJ9JREFUeNq01ssOwyAMRFG46v//Mt1ESmgh+DFmE2GPOBARKb2NVjo+17PXLD8a1+pl5+A+wSgFygymWYHBb0FtsKhJDdZlncG2IzJ4ayoMDv20wTmSMzClEgbWYNTAkQ0Z+OJ+A/eWnAaR9+oxCF4Os0H8htsMUp+pwcgBBiMNnAwF8GqIgL2hAzaGFFgZauDPKABmowZ4GL369/0rwACp2yA/ttmvsQAAAABJRU5ErkJggg=="),this.whiteImage=h(t,"images.white","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAECAIAAAAmkwkpAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAABdJREFUeNpi/P//PwMMMDEgAdwcgAADAJZuAwXJYZOzAAAAAElFTkSuQmCC"),window&&(window.FORCE_WEBGL?this.renderType=n.WEBGL:window.FORCE_CANVAS&&(this.renderType=n.CANVAS))}});t.exports=p},86054:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(20623),n=i(27919),r=i(8054),o=i(89357);t.exports=function(t){var e=t.config;if((e.customEnvironment||e.canvas)&&e.renderType===r.AUTO)throw new Error("Must set explicit renderType in custom environment");if(!e.customEnvironment&&!e.canvas&&e.renderType!==r.HEADLESS)if(e.renderType===r.AUTO&&(e.renderType=o.webGL?r.WEBGL:r.CANVAS),e.renderType===r.WEBGL){if(!o.webGL)throw new Error("Cannot create WebGL context, aborting.")}else{if(e.renderType!==r.CANVAS)throw new Error("Unknown value for renderer type: "+e.renderType);if(!o.canvas)throw new Error("Cannot create Canvas context, aborting.")}e.antialias||n.disableSmoothing();var a,h,l=t.scale.baseSize,u=l.width,c=l.height;e.canvas?(t.canvas=e.canvas,t.canvas.width=u,t.canvas.height=c):t.canvas=n.create(t,u,c,e.renderType),e.canvasStyle&&(t.canvas.style=e.canvasStyle),e.antialias||s.setCrisp(t.canvas),e.renderType!==r.HEADLESS&&(a=i(68627),h=i(74797),e.renderType===r.WEBGL?t.renderer=new h(t):(t.renderer=new a(t),t.context=t.renderer.gameContext))}},96391:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(8054);t.exports=function(t){var e=t.config;if(!e.hideBanner){var i="WebGL";e.renderType===s.CANVAS?i="Canvas":e.renderType===s.HEADLESS&&(i="Headless");var n,r=e.audio,o=t.device.audio;if(n=o.webAudio&&!r.disableWebAudio?"Web Audio":r.noAudio||!o.webAudio&&!o.audioData?"No Audio":"HTML5 Audio",t.device.browser.ie)window.console;else{var a,h="",l=[h];Array.isArray(e.bannerBackgroundColor)?(e.bannerBackgroundColor.forEach(function(t){h=h.concat("%c "),l.push("background: "+t),a=t}),l[l.length-1]="color: "+e.bannerTextColor+"; background: "+a):(h=h.concat("%c "),l.push("color: "+e.bannerTextColor+"; background: "+e.bannerBackgroundColor)),l.push("background: transparent"),e.gameTitle&&(h=h.concat(e.gameTitle),e.gameVersion&&(h=h.concat(" v"+e.gameVersion)),e.hidePhaser||(h=h.concat(" / "))),e.hidePhaser||(h=h.concat("Phaser v"+s.VERSION+" ("+i+" | "+n+")")),h=h.concat(" %c "+e.gameURL),l[0]=h}}}},50127:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(40366),n=i(60848),r=i(24047),o=i(27919),a=i(83419),h=i(69547),l=i(83719),u=i(86054),c=i(45893),d=i(96391),f=i(82264),p=i(57264),g=i(50792),m=i(8443),v=i(7003),y=i(37277),x=i(77332),T=i(76531),w=i(60903),b=i(69442),S=i(17130),E=i(65898),C=i(51085),_=i(14747),A=new a({initialize:function(t){this.config=new h(t),this.renderer=null,this.domContainer=null,this.canvas=null,this.context=null,this.isBooted=!1,this.isRunning=!1,this.events=new g,this.anims=new n(this),this.textures=new S(this),this.cache=new r(this),this.registry=new c(this,new g),this.input=new v(this,this.config),this.scene=new w(this,this.config.sceneConfig),this.device=f,this.scale=new T(this,this.config),this.sound=null,this.sound=_.create(this),this.loop=new E(this,this.config.fps),this.plugins=new x(this,this.config),this.pendingDestroy=!1,this.removeCanvas=!1,this.noReturn=!1,this.hasFocus=!1,this.isPaused=!1,p(this.boot.bind(this))},boot:function(){y.hasCore("EventEmitter")&&(this.isBooted=!0,this.config.preBoot(this),this.scale.preBoot(),u(this),l(this),d(this),s(this.canvas,this.config.parent),this.textures.once(b.READY,this.texturesReady,this),this.events.emit(m.BOOT))},texturesReady:function(){this.events.emit(m.READY),this.start()},start:function(){this.isRunning=!0,this.config.postBoot(this),this.renderer?this.loop.start(this.step.bind(this)):this.loop.start(this.headlessStep.bind(this)),C(this);var t=this.events;t.on(m.HIDDEN,this.onHidden,this),t.on(m.VISIBLE,this.onVisible,this),t.on(m.BLUR,this.onBlur,this),t.on(m.FOCUS,this.onFocus,this)},step:function(t,e){if(this.pendingDestroy)return this.runDestroy();if(!this.isPaused){var i=this.events;i.emit(m.PRE_STEP,t,e),i.emit(m.STEP,t,e),this.scene.update(t,e),i.emit(m.POST_STEP,t,e);var s=this.renderer;s.preRender(),i.emit(m.PRE_RENDER,s,t,e),this.scene.render(s),s.postRender(),i.emit(m.POST_RENDER,s,t,e)}},headlessStep:function(t,e){if(this.pendingDestroy)return this.runDestroy();if(!this.isPaused){var i=this.events;i.emit(m.PRE_STEP,t,e),i.emit(m.STEP,t,e),this.scene.update(t,e),i.emit(m.POST_STEP,t,e),this.scene.isProcessing=!1,i.emit(m.PRE_RENDER,null,t,e),i.emit(m.POST_RENDER,null,t,e)}},onHidden:function(){this.loop.pause(),this.events.emit(m.PAUSE)},pause:function(){var t=this.isPaused;this.isPaused=!0,t||this.events.emit(m.PAUSE)},onVisible:function(){this.loop.resume(),this.events.emit(m.RESUME,this.loop.pauseDuration)},resume:function(){var t=this.isPaused;this.isPaused=!1,t&&this.events.emit(m.RESUME,0)},onBlur:function(){this.hasFocus=!1,this.loop.blur()},onFocus:function(){this.hasFocus=!0,this.loop.focus()},getFrame:function(){return this.loop.frame},getTime:function(){return this.loop.now},destroy:function(t,e){void 0===e&&(e=!1),this.pendingDestroy=!0,this.removeCanvas=t,this.noReturn=e},runDestroy:function(){this.scene.destroy(),this.events.emit(m.DESTROY),this.events.removeAllListeners(),this.renderer&&this.renderer.destroy(),this.removeCanvas&&this.canvas&&(o.remove(this.canvas),this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas)),this.domContainer&&this.domContainer.parentNode&&this.domContainer.parentNode.removeChild(this.domContainer),this.loop.destroy(),this.pendingDestroy=!1}});t.exports=A},65898:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(83419),n=i(35154),r=i(29747),o=i(43092),a=new s({initialize:function(t,e){this.game=t,this.raf=new o,this.started=!1,this.running=!1,this.minFps=n(e,"min",5),this.targetFps=n(e,"target",60),this.fpsLimit=n(e,"limit",0),this.hasFpsLimit=this.fpsLimit>0,this._limitRate=this.hasFpsLimit?1e3/this.fpsLimit:0,this._min=1e3/this.minFps,this._target=1e3/this.targetFps,this.actualFps=this.targetFps,this.nextFpsUpdate=0,this.framesThisSecond=0,this.callback=r,this.forceSetTimeOut=n(e,"forceSetTimeOut",!1),this.time=0,this.startTime=0,this.lastTime=0,this.frame=0,this.inFocus=!0,this.pauseDuration=0,this._pauseTime=0,this._coolDown=0,this.delta=0,this.deltaIndex=0,this.deltaHistory=[],this.deltaSmoothingMax=n(e,"deltaHistory",10),this.panicMax=n(e,"panicMax",120),this.rawDelta=0,this.now=0,this.smoothStep=n(e,"smoothStep",!0)},blur:function(){this.inFocus=!1},focus:function(){this.inFocus=!0,this.resetDelta()},pause:function(){this._pauseTime=window.performance.now()},resume:function(){this.resetDelta(),this.pauseDuration=this.time-this._pauseTime,this.startTime+=this.pauseDuration},resetDelta:function(){var t=window.performance.now();this.time=t,this.lastTime=t,this.nextFpsUpdate=t+1e3,this.framesThisSecond=0;for(var e=0;e<this.deltaSmoothingMax;e++)this.deltaHistory[e]=Math.min(this._target,this.deltaHistory[e]);this.delta=0,this.deltaIndex=0,this._coolDown=this.panicMax},start:function(t){if(this.started)return this;this.started=!0,this.running=!0;for(var e=0;e<this.deltaSmoothingMax;e++)this.deltaHistory[e]=this._target;this.resetDelta(),this.startTime=window.performance.now(),this.callback=t;var i=this.hasFpsLimit?this.stepLimitFPS.bind(this):this.step.bind(this);this.raf.start(i,this.forceSetTimeOut,this._target)},smoothDelta:function(t){var e=this.deltaIndex,i=this.deltaHistory,s=this.deltaSmoothingMax;(this._coolDown>0||!this.inFocus)&&(this._coolDown--,t=Math.min(t,this._target)),t>this._min&&(t=i[e],t=Math.min(t,this._min)),i[e]=t,this.deltaIndex++,this.deltaIndex>=s&&(this.deltaIndex=0);for(var n=0,r=0;r<s;r++)n+=i[r];return n/=s},updateFPS:function(t){this.actualFps=.25*this.framesThisSecond+.75*this.actualFps,this.nextFpsUpdate=t+1e3,this.framesThisSecond=0},stepLimitFPS:function(t){this.now=t;var e=Math.max(0,t-this.lastTime);this.rawDelta=e,this.time+=this.rawDelta,this.smoothStep&&(e=this.smoothDelta(e)),this.delta+=e,t>=this.nextFpsUpdate&&this.updateFPS(t),this.framesThisSecond++,this.delta>=this._limitRate&&(this.callback(t,this.delta),this.delta=0),this.lastTime=t,this.frame++},step:function(t){this.now=t;var e=Math.max(0,t-this.lastTime);this.rawDelta=e,this.time+=this.rawDelta,this.smoothStep&&(e=this.smoothDelta(e)),this.delta=e,t>=this.nextFpsUpdate&&this.updateFPS(t),this.framesThisSecond++,this.callback(t,e),this.lastTime=t,this.frame++},tick:function(){var t=window.performance.now();this.hasFpsLimit?this.stepLimitFPS(t):this.step(t)},sleep:function(){this.running&&(this.raf.stop(),this.running=!1)},wake:function(t){void 0===t&&(t=!1);var e=window.performance.now();if(!this.running){t&&(this.startTime+=-this.lastTime+(this.lastTime+e));var i=this.hasFpsLimit?this.stepLimitFPS.bind(this):this.step.bind(this);this.raf.start(i,this.forceSetTimeOut,this._target),this.running=!0,this.nextFpsUpdate=e+1e3,this.framesThisSecond=0,this.fpsLimitTriggered=!1,this.tick()}},getDuration:function(){return Math.round(this.lastTime-this.startTime)/1e3},getDurationMS:function(){return Math.round(this.lastTime-this.startTime)},stop:function(){return this.running=!1,this.started=!1,this.raf.stop(),this},destroy:function(){this.stop(),this.raf.destroy(),this.raf=null,this.game=null,this.callback=null}});t.exports=a},51085:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(8443);t.exports=function(t){var e,i=t.events;void 0!==document.hidden?e="visibilitychange":["webkit","moz","ms"].forEach(function(t){void 0!==document[t+"Hidden"]&&(document.hidden=function(){return document[t+"Hidden"]},e=t+"visibilitychange")}),e&&document.addEventListener(e,function(t){document.hidden||"pause"===t.type?i.emit(s.HIDDEN):i.emit(s.VISIBLE)},!1),window.onblur=function(){i.emit(s.BLUR)},window.onfocus=function(){i.emit(s.FOCUS)},window.focus&&t.config.autoFocus&&window.focus()}},97217:t=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports="blur"},47548:t=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports="boot"},19814:t=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports="contextlost"},68446:t=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports="destroy"},41700:t=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports="focus"},25432:t=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports="hidden"},65942:t=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports="pause"},59211:t=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports="postrender"},47789:t=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports="poststep"},39066:t=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports="prerender"},460:t=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports="prestep"},16175:t=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports="ready"},42331:t=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports="resume"},11966:t=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports="step"},32969:t=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports="systemready"},94830:t=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports="visible"},8443:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports={BLUR:i(97217),BOOT:i(47548),CONTEXT_LOST:i(19814),DESTROY:i(68446),FOCUS:i(41700),HIDDEN:i(25432),PAUSE:i(65942),POST_RENDER:i(59211),POST_STEP:i(47789),PRE_RENDER:i(39066),PRE_STEP:i(460),READY:i(16175),RESUME:i(42331),STEP:i(11966),SYSTEM_READY:i(32969),VISIBLE:i(94830)}},42857:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports={Config:i(69547),CreateRenderer:i(86054),DebugHeader:i(96391),Events:i(8443),TimeStep:i(65898),VisibilityHandler:i(51085)}},99584:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(5290),n=i(27919),r=i(35154);t.exports=function(t){var e=r(t,"data",[]),i=r(t,"canvas",null),o=r(t,"palette",s),a=r(t,"pixelWidth",1),h=r(t,"pixelHeight",a),l=r(t,"resizeCanvas",!0),u=r(t,"clearCanvas",!0),c=r(t,"preRender",null),d=r(t,"postRender",null),f=Math.floor(Math.abs(e[0].length*a)),p=Math.floor(Math.abs(e.length*h));i||(i=n.create2D(this,f,p),l=!1,u=!1),l&&(i.width=f,i.height=p);var g=i.getContext("2d",{willReadFrequently:!0});u&&g.clearRect(0,0,f,p),c&&c(i,g);for(var m=0;m<e.length;m++)for(var v=e[m],y=0;y<v.length;y++){var x=v[y];"."!==x&&" "!==x&&(g.fillStyle=o[x],g.fillRect(y*a,m*h,a,h))}return d&&d(i,g),i}},15822:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports={GenerateTexture:i(99584),Palettes:i(57763)}},5290:t=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports={0:"#000",1:"#9D9D9D",2:"#FFF",3:"#BE2633",4:"#E06F8B",5:"#493C2B",6:"#A46422",7:"#EB8931",8:"#F7E26B",9:"#2F484E",A:"#44891A",B:"#A3CE27",C:"#1B2632",D:"#005784",E:"#31A2F2",F:"#B2DCEF"}},23816:t=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports={0:"#000",1:"#fff",2:"#8b4131",3:"#7bbdc5",4:"#8b41ac",5:"#6aac41",6:"#3931a4",7:"#d5de73",8:"#945a20",9:"#5a4100",A:"#bd736a",B:"#525252",C:"#838383",D:"#acee8b",E:"#7b73de",F:"#acacac"}},9866:t=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports={0:"#000",1:"#2234d1",2:"#0c7e45",3:"#44aacc",4:"#8a3622",5:"#5c2e78",6:"#aa5c3d",7:"#b5b5b5",8:"#5e606e",9:"#4c81fb",A:"#6cd947",B:"#7be2f9",C:"#eb8a60",D:"#e23d69",E:"#ffd93f",F:"#fff"}},77552:t=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports={0:"#000",1:"#191028",2:"#46af45",3:"#a1d685",4:"#453e78",5:"#7664fe",6:"#833129",7:"#9ec2e8",8:"#dc534b",9:"#e18d79",A:"#d6b97b",B:"#e9d8a1",C:"#216c4b",D:"#d365c8",E:"#afaab9",F:"#f5f4eb"}},92259:t=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports={0:"#000",1:"#191028",2:"#46af45",3:"#a1d685",4:"#453e78",5:"#7664fe",6:"#833129",7:"#9ec2e8",8:"#dc534b",9:"#e18d79",A:"#d6b97b",B:"#e9d8a1",C:"#216c4b",D:"#d365c8",E:"#afaab9",F:"#fff"}},57763:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports={ARNE16:i(5290),C64:i(23816),CGA:i(9866),JMP:i(77552),MSX:i(92259)}},46728:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(83419),n=i(36316),r=i(80021),o=i(26099),a=new s({Extends:r,initialize:function(t,e,i,s){r.call(this,"CubicBezierCurve"),Array.isArray(t)&&(s=new o(t[6],t[7]),i=new o(t[4],t[5]),e=new o(t[2],t[3]),t=new o(t[0],t[1])),this.p0=t,this.p1=e,this.p2=i,this.p3=s},getStartPoint:function(t){return void 0===t&&(t=new o),t.copy(this.p0)},getResolution:function(t){return t},getPoint:function(t,e){void 0===e&&(e=new o);var i=this.p0,s=this.p1,r=this.p2,a=this.p3;return e.set(n(t,i.x,s.x,r.x,a.x),n(t,i.y,s.y,r.y,a.y))},draw:function(t,e){void 0===e&&(e=32);var i=this.getPoints(e);t.beginPath(),t.moveTo(this.p0.x,this.p0.y);for(var s=1;s<i.length;s++)t.lineTo(i[s].x,i[s].y);return t.strokePath(),t},toJSON:function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y,this.p2.x,this.p2.y,this.p3.x,this.p3.y]}}});a.fromJSON=function(t){var e=t.points,i=new o(e[0],e[1]),s=new o(e[2],e[3]),n=new o(e[4],e[5]),r=new o(e[6],e[7]);return new a(i,s,n,r)},t.exports=a},80021:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(83419),n=i(19217),r=i(87841),o=i(26099),a=new s({initialize:function(t){this.type=t,this.defaultDivisions=5,this.arcLengthDivisions=100,this.cacheArcLengths=[],this.needsUpdate=!0,this.active=!0,this._tmpVec2A=new o,this._tmpVec2B=new o},draw:function(t,e){return void 0===e&&(e=32),t.strokePoints(this.getPoints(e))},getBounds:function(t,e){t||(t=new r),void 0===e&&(e=16);var i=this.getLength();e>i&&(e=i/2);var s=Math.max(1,Math.round(i/e));return n(this.getSpacedPoints(s),t)},getDistancePoints:function(t){var e=this.getLength(),i=Math.max(1,e/t);return this.getSpacedPoints(i)},getEndPoint:function(t){return void 0===t&&(t=new o),this.getPointAt(1,t)},getLength:function(){var t=this.getLengths();return t[t.length-1]},getLengths:function(t){if(void 0===t&&(t=this.arcLengthDivisions),this.cacheArcLengths.length===t+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var e,i=[],s=this.getPoint(0,this._tmpVec2A),n=0;i.push(0);for(var r=1;r<=t;r++)n+=(e=this.getPoint(r/t,this._tmpVec2B)).distance(s),i.push(n),s.copy(e);return this.cacheArcLengths=i,i},getPointAt:function(t,e){var i=this.getUtoTmapping(t);return this.getPoint(i,e)},getPoints:function(t,e,i){void 0===i&&(i=[]),t||(t=e?this.getLength()/e:this.defaultDivisions);for(var s=0;s<=t;s++)i.push(this.getPoint(s/t));return i},getRandomPoint:function(t){return void 0===t&&(t=new o),this.getPoint(Math.random(),t)},getSpacedPoints:function(t,e,i){void 0===i&&(i=[]),t||(t=e?this.getLength()/e:this.defaultDivisions);for(var s=0;s<=t;s++){var n=this.getUtoTmapping(s/t,null,t);i.push(this.getPoint(n))}return i},getStartPoint:function(t){return void 0===t&&(t=new o),this.getPointAt(0,t)},getTangent:function(t,e){void 0===e&&(e=new o);var i=1e-4,s=t-i,n=t+i;return s<0&&(s=0),n>1&&(n=1),this.getPoint(s,this._tmpVec2A),this.getPoint(n,e),e.subtract(this._tmpVec2A).normalize()},getTangentAt:function(t,e){var i=this.getUtoTmapping(t);return this.getTangent(i,e)},getTFromDistance:function(t,e){return t<=0?0:this.getUtoTmapping(0,t,e)},getUtoTmapping:function(t,e,i){var s,n=this.getLengths(i),r=0,o=n.length;s=e?Math.min(e,n[o-1]):t*n[o-1];for(var a,h=0,l=o-1;h<=l;)if((a=n[r=Math.floor(h+(l-h)/2)]-s)<0)h=r+1;else{if(!(a>0)){l=r;break}l=r-1}if(n[r=l]===s)return r/(o-1);var u=n[r];return(r+(s-u)/(n[r+1]-u))/(o-1)},updateArcLengths:function(){this.needsUpdate=!0,this.getLengths()}});t.exports=a},73825:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(83419),n=i(80021),r=i(39506),o=i(35154),a=i(43396),h=i(26099),l=new s({Extends:n,initialize:function(t,e,i,s,a,l,u,c){if("object"==typeof t){var d=t;t=o(d,"x",0),e=o(d,"y",0),i=o(d,"xRadius",0),s=o(d,"yRadius",i),a=o(d,"startAngle",0),l=o(d,"endAngle",360),u=o(d,"clockwise",!1),c=o(d,"rotation",0)}else void 0===s&&(s=i),void 0===a&&(a=0),void 0===l&&(l=360),void 0===u&&(u=!1),void 0===c&&(c=0);n.call(this,"EllipseCurve"),this.p0=new h(t,e),this._xRadius=i,this._yRadius=s,this._startAngle=r(a),this._endAngle=r(l),this._clockwise=u,this._rotation=r(c)},getStartPoint:function(t){return void 0===t&&(t=new h),this.getPoint(0,t)},getResolution:function(t){return 2*t},getPoint:function(t,e){void 0===e&&(e=new h);for(var i=2*Math.PI,s=this._endAngle-this._startAngle,n=Math.abs(s)<Number.EPSILON;s<0;)s+=i;for(;s>i;)s-=i;s<Number.EPSILON&&(s=n?0:i),this._clockwise&&!n&&(s===i?s=-i:s-=i);var r=this._startAngle+t*s,o=this.p0.x+this._xRadius*Math.cos(r),a=this.p0.y+this._yRadius*Math.sin(r);if(0!==this._rotation){var l=Math.cos(this._rotation),u=Math.sin(this._rotation),c=o-this.p0.x,d=a-this.p0.y;o=c*l-d*u+this.p0.x,a=c*u+d*l+this.p0.y}return e.set(o,a)},setXRadius:function(t){return this.xRadius=t,this},setYRadius:function(t){return this.yRadius=t,this},setWidth:function(t){return this.xRadius=t/2,this},setHeight:function(t){return this.yRadius=t/2,this},setStartAngle:function(t){return this.startAngle=t,this},setEndAngle:function(t){return this.endAngle=t,this},setClockwise:function(t){return this.clockwise=t,this},setRotation:function(t){return this.rotation=t,this},x:{get:function(){return this.p0.x},set:function(t){this.p0.x=t}},y:{get:function(){return this.p0.y},set:function(t){this.p0.y=t}},xRadius:{get:function(){return this._xRadius},set:function(t){this._xRadius=t}},yRadius:{get:function(){return this._yRadius},set:function(t){this._yRadius=t}},startAngle:{get:function(){return a(this._startAngle)},set:function(t){this._startAngle=r(t)}},endAngle:{get:function(){return a(this._endAngle)},set:function(t){this._endAngle=r(t)}},clockwise:{get:function(){return this._clockwise},set:function(t){this._clockwise=t}},angle:{get:function(){return a(this._rotation)},set:function(t){this._rotation=r(t)}},rotation:{get:function(){return this._rotation},set:function(t){this._rotation=t}},toJSON:function(){return{type:this.type,x:this.p0.x,y:this.p0.y,xRadius:this._xRadius,yRadius:this._yRadius,startAngle:a(this._startAngle),endAngle:a(this._endAngle),clockwise:this._clockwise,rotation:a(this._rotation)}}});l.fromJSON=function(t){return new l(t)},t.exports=l},33951:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(83419),n=i(80021),r=i(19217),o=i(87841),a=i(26099),h=new s({Extends:n,initialize:function(t,e){n.call(this,"LineCurve"),Array.isArray(t)&&(e=new a(t[2],t[3]),t=new a(t[0],t[1])),this.p0=t,this.p1=e,this.arcLengthDivisions=1},getBounds:function(t){return void 0===t&&(t=new o),r([this.p0,this.p1],t)},getStartPoint:function(t){return void 0===t&&(t=new a),t.copy(this.p0)},getResolution:function(t){return void 0===t&&(t=1),t},getPoint:function(t,e){return void 0===e&&(e=new a),1===t?e.copy(this.p1):(e.copy(this.p1).subtract(this.p0).scale(t).add(this.p0),e)},getPointAt:function(t,e){return this.getPoint(t,e)},getTangent:function(t,e){return void 0===e&&(e=new a),e.copy(this.p1).subtract(this.p0).normalize(),e},getUtoTmapping:function(t,e,i){var s;if(e){var n=this.getLengths(i),r=n[n.length-1];s=Math.min(e,r)/r}else s=t;return s},draw:function(t){return t.lineBetween(this.p0.x,this.p0.y,this.p1.x,this.p1.y),t},toJSON:function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y]}}});h.fromJSON=function(t){var e=t.points,i=new a(e[0],e[1]),s=new a(e[2],e[3]);return new h(i,s)},t.exports=h},14744:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(83419),n=i(80021),r=i(32112),o=i(26099),a=new s({Extends:n,initialize:function(t,e,i){n.call(this,"QuadraticBezierCurve"),Array.isArray(t)&&(i=new o(t[4],t[5]),e=new o(t[2],t[3]),t=new o(t[0],t[1])),this.p0=t,this.p1=e,this.p2=i},getStartPoint:function(t){return void 0===t&&(t=new o),t.copy(this.p0)},getResolution:function(t){return t},getPoint:function(t,e){void 0===e&&(e=new o);var i=this.p0,s=this.p1,n=this.p2;return e.set(r(t,i.x,s.x,n.x),r(t,i.y,s.y,n.y))},draw:function(t,e){void 0===e&&(e=32);var i=this.getPoints(e);t.beginPath(),t.moveTo(this.p0.x,this.p0.y);for(var s=1;s<i.length;s++)t.lineTo(i[s].x,i[s].y);return t.strokePath(),t},toJSON:function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y,this.p2.x,this.p2.y]}}});a.fromJSON=function(t){var e=t.points,i=new o(e[0],e[1]),s=new o(e[2],e[3]),n=new o(e[4],e[5]);return new a(i,s,n)},t.exports=a},42534:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(87842),n=i(83419),r=i(80021),o=i(26099),a=new n({Extends:r,initialize:function(t){void 0===t&&(t=[]),r.call(this,"SplineCurve"),this.points=[],this.addPoints(t)},addPoints:function(t){for(var e=0;e<t.length;e++){var i=new o;"number"==typeof t[e]?(i.x=t[e],i.y=t[e+1],e++):Array.isArray(t[e])?(i.x=t[e][0],i.y=t[e][1]):(i.x=t[e].x,i.y=t[e].y),this.points.push(i)}return this},addPoint:function(t,e){var i=new o(t,e);return this.points.push(i),i},getStartPoint:function(t){return void 0===t&&(t=new o),t.copy(this.points[0])},getResolution:function(t){return t*this.points.length},getPoint:function(t,e){void 0===e&&(e=new o);var i=this.points,n=(i.length-1)*t,r=Math.floor(n),a=n-r,h=i[0===r?r:r-1],l=i[r],u=i[r>i.length-2?i.length-1:r+1],c=i[r>i.length-3?i.length-1:r+2];return e.set(s(a,h.x,l.x,u.x,c.x),s(a,h.y,l.y,u.y,c.y))},toJSON:function(){for(var t=[],e=0;e<this.points.length;e++)t.push(this.points[e].x),t.push(this.points[e].y);return{type:this.type,points:t}}});a.fromJSON=function(t){return new a(t.points)},t.exports=a},25410:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports={Path:i(46669),MoveTo:i(68618),CubicBezier:i(46728),Curve:i(80021),Ellipse:i(73825),Line:i(33951),QuadraticBezier:i(14744),Spline:i(42534)}},68618:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(83419),n=i(26099),r=new s({initialize:function(t,e){this.active=!1,this.p0=new n(t,e)},getPoint:function(t,e){return void 0===e&&(e=new n),e.copy(this.p0)},getPointAt:function(t,e){return this.getPoint(t,e)},getResolution:function(){return 1},getLength:function(){return 0},toJSON:function(){return{type:"MoveTo",points:[this.p0.x,this.p0.y]}}});t.exports=r},46669:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(83419),n=i(46728),r=i(73825),o=i(39429),a=i(33951),h=i(68618),l=i(14744),u=i(87841),c=i(42534),d=i(26099),f=i(36383),p=new s({initialize:function(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this.name="",this.defaultDivisions=12,this.curves=[],this.cacheLengths=[],this.autoClose=!1,this.startPoint=new d,this._tmpVec2A=new d,this._tmpVec2B=new d,"object"==typeof t?this.fromJSON(t):this.startPoint.set(t,e)},add:function(t){return this.curves.push(t),this},circleTo:function(t,e,i){return void 0===e&&(e=!1),this.ellipseTo(t,t,0,360,e,i)},closePath:function(){var t=this.curves[0].getPoint(0),e=this.curves[this.curves.length-1].getPoint(1);return t.equals(e)||this.curves.push(new a(e,t)),this},cubicBezierTo:function(t,e,i,s,r,o){var a,h,l,u=this.getEndPoint();return t instanceof d?(a=t,h=e,l=i):(a=new d(i,s),h=new d(r,o),l=new d(t,e)),this.add(new n(u,a,h,l))},quadraticBezierTo:function(t,e,i,s){var n,r,o=this.getEndPoint();return t instanceof d?(n=t,r=e):(n=new d(i,s),r=new d(t,e)),this.add(new l(o,n,r))},draw:function(t,e){for(var i=0;i<this.curves.length;i++){var s=this.curves[i];s.active&&s.draw(t,e)}return t},ellipseTo:function(t,e,i,s,n,o){var a=new r(0,0,t,e,i,s,n,o),h=this.getEndPoint(this._tmpVec2A),l=a.getStartPoint(this._tmpVec2B);return h.subtract(l),a.x=h.x,a.y=h.y,this.add(a)},fromJSON:function(t){this.curves=[],this.cacheLengths=[],this.startPoint.set(t.x,t.y),this.autoClose=t.autoClose;for(var e=0;e<t.curves.length;e++){var i=t.curves[e];switch(i.type){case"LineCurve":this.add(a.fromJSON(i));break;case"EllipseCurve":this.add(r.fromJSON(i));break;case"SplineCurve":this.add(c.fromJSON(i));break;case"CubicBezierCurve":this.add(n.fromJSON(i));break;case"QuadraticBezierCurve":this.add(l.fromJSON(i))}}return this},getBounds:function(t,e){void 0===t&&(t=new u),void 0===e&&(e=16),t.x=Number.MAX_VALUE,t.y=Number.MAX_VALUE;for(var i=new u,s=f.MIN_SAFE_INTEGER,n=f.MIN_SAFE_INTEGER,r=0;r<this.curves.length;r++){var o=this.curves[r];o.active&&(o.getBounds(i,e),t.x=Math.min(t.x,i.x),t.y=Math.min(t.y,i.y),s=Math.max(s,i.right),n=Math.max(n,i.bottom))}return t.right=s,t.bottom=n,t},getCurveLengths:function(){if(this.cacheLengths.length===this.curves.length)return this.cacheLengths;for(var t=[],e=0,i=0;i<this.curves.length;i++)e+=this.curves[i].getLength(),t.push(e);return this.cacheLengths=t,t},getCurveAt:function(t){for(var e=t*this.getLength(),i=this.getCurveLengths(),s=0;s<i.length;){if(i[s]>=e)return this.curves[s];s++}return null},getEndPoint:function(t){return void 0===t&&(t=new d),this.curves.length>0?this.curves[this.curves.length-1].getPoint(1,t):t.copy(this.startPoint),t},getLength:function(){var t=this.getCurveLengths();return t[t.length-1]},getPoint:function(t,e){void 0===e&&(e=new d);for(var i=t*this.getLength(),s=this.getCurveLengths(),n=0;n<s.length;){if(s[n]>=i){var r=s[n]-i,o=this.curves[n],a=o.getLength(),h=0===a?0:1-r/a;return o.getPointAt(h,e)}n++}return null},getPoints:function(t,e){t||e||(t=this.defaultDivisions);for(var i,s=[],n=0;n<this.curves.length;n++){var r=this.curves[n];if(r.active)for(var o=r.getResolution(t),a=r.getPoints(o,e),h=0;h<a.length;h++){var l=a[h];i&&i.equals(l)||(s.push(l),i=l)}}return this.autoClose&&s.length>1&&!s[s.length-1].equals(s[0])&&s.push(s[0]),s},getRandomPoint:function(t){return void 0===t&&(t=new d),this.getPoint(Math.random(),t)},getSpacedPoints:function(t){void 0===t&&(t=40);for(var e=[],i=0;i<=t;i++)e.push(this.getPoint(i/t));return this.autoClose&&e.push(e[0]),e},getStartPoint:function(t){return void 0===t&&(t=new d),t.copy(this.startPoint)},getTangent:function(t,e){void 0===e&&(e=new d);for(var i=t*this.getLength(),s=this.getCurveLengths(),n=0;n<s.length;){if(s[n]>=i){var r=s[n]-i,o=this.curves[n],a=o.getLength(),h=0===a?0:1-r/a;return o.getTangentAt(h,e)}n++}return null},lineTo:function(t,e){t instanceof d?this._tmpVec2B.copy(t):"object"==typeof t?this._tmpVec2B.setFromObject(t):this._tmpVec2B.set(t,e);var i=this.getEndPoint(this._tmpVec2A);return this.add(new a([i.x,i.y,this._tmpVec2B.x,this._tmpVec2B.y]))},splineTo:function(t){return t.unshift(this.getEndPoint()),this.add(new c(t))},moveTo:function(t,e){return t instanceof d?this.add(new h(t.x,t.y)):this.add(new h(t,e))},toJSON:function(){for(var t=[],e=0;e<this.curves.length;e++)t.push(this.curves[e].toJSON());return{type:"Path",x:this.startPoint.x,y:this.startPoint.y,autoClose:this.autoClose,curves:t}},updateArcLengths:function(){this.cacheLengths=[],this.getCurveLengths()},destroy:function(){this.curves.length=0,this.cacheLengths.length=0,this.startPoint=void 0}});o.register("path",function(t,e){return new p(t,e)}),t.exports=p},45893:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(83419),n=i(24882),r=new s({initialize:function(t,e){this.parent=t,this.events=e,e||(this.events=t.events?t.events:t),this.list={},this.values={},this._frozen=!1,!t.hasOwnProperty("sys")&&this.events&&this.events.once(n.DESTROY,this.destroy,this)},get:function(t){var e=this.list;if(Array.isArray(t)){for(var i=[],s=0;s<t.length;s++)i.push(e[t[s]]);return i}return e[t]},getAll:function(){var t={};for(var e in this.list)this.list.hasOwnProperty(e)&&(t[e]=this.list[e]);return t},query:function(t){var e={};for(var i in this.list)this.list.hasOwnProperty(i)&&i.match(t)&&(e[i]=this.list[i]);return e},set:function(t,e){if(this._frozen)return this;if("string"==typeof t)return this.setValue(t,e);for(var i in t)this.setValue(i,t[i]);return this},inc:function(t,e){if(this._frozen)return this;void 0===e&&(e=1);var i=this.get(t);return void 0===i&&(i=0),this.set(t,i+e),this},toggle:function(t){return this._frozen||this.set(t,!this.get(t)),this},setValue:function(t,e){if(this._frozen)return this;if(this.has(t))this.values[t]=e;else{var i=this,s=this.list,r=this.events,o=this.parent;Object.defineProperty(this.values,t,{enumerable:!0,configurable:!0,get:function(){return s[t]},set:function(e){if(!i._frozen){var a=s[t];s[t]=e,r.emit(n.CHANGE_DATA,o,t,e,a),r.emit(n.CHANGE_DATA_KEY+t,o,e,a)}}}),s[t]=e,r.emit(n.SET_DATA,o,t,e)}return this},each:function(t,e){for(var i=[this.parent,null,void 0],s=1;s<arguments.length;s++)i.push(arguments[s]);for(var n in this.list)i[1]=n,i[2]=this.list[n],t.apply(e,i);return this},merge:function(t,e){for(var i in void 0===e&&(e=!0),t)t.hasOwnProperty(i)&&(e||!e&&!this.has(i))&&this.setValue(i,t[i]);return this},remove:function(t){if(this._frozen)return this;if(!Array.isArray(t))return this.removeValue(t);for(var e=0;e<t.length;e++)this.removeValue(t[e]);return this},removeValue:function(t){if(this.has(t)){var e=this.list[t];delete this.list[t],delete this.values[t],this.events.emit(n.REMOVE_DATA,this.parent,t,e)}return this},pop:function(t){var e=void 0;return!this._frozen&&this.has(t)&&(e=this.list[t],delete this.list[t],delete this.values[t],this.events.emit(n.REMOVE_DATA,this.parent,t,e)),e},has:function(t){return this.list.hasOwnProperty(t)},setFreeze:function(t){return this._frozen=t,this},reset:function(){for(var t in this.list)delete this.list[t],delete this.values[t];return this._frozen=!1,this},destroy:function(){this.reset(),this.events.off(n.CHANGE_DATA),this.events.off(n.SET_DATA),this.events.off(n.REMOVE_DATA),this.parent=null},freeze:{get:function(){return this._frozen},set:function(t){this._frozen=!!t}},count:{get:function(){var t=0;for(var e in this.list)void 0!==this.list[e]&&t++;return t}}});t.exports=r},63646:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(83419),n=i(45893),r=i(37277),o=i(44594),a=new s({Extends:n,initialize:function(t){n.call(this,t,t.sys.events),this.scene=t,this.systems=t.sys,t.sys.events.once(o.BOOT,this.boot,this),t.sys.events.on(o.START,this.start,this)},boot:function(){this.events=this.systems.events,this.events.once(o.DESTROY,this.destroy,this)},start:function(){this.events.once(o.SHUTDOWN,this.shutdown,this)},shutdown:function(){this.systems.events.off(o.SHUTDOWN,this.shutdown,this)},destroy:function(){n.prototype.destroy.call(this),this.events.off(o.START,this.start,this),this.scene=null,this.systems=null}});r.register("DataManagerPlugin",a,"data"),t.exports=a},10700:t=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports="changedata"},93608:t=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports="changedata-"},60883:t=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports="destroy"},69780:t=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports="removedata"},22166:t=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports="setdata"},24882:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports={CHANGE_DATA:i(10700),CHANGE_DATA_KEY:i(93608),DESTROY:i(60883),REMOVE_DATA:i(69780),SET_DATA:i(22166)}},44965:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports={DataManager:i(45893),DataManagerPlugin:i(63646),Events:i(24882)}},7098:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(84148),n={flac:!1,aac:!1,audioData:!1,dolby:!1,m4a:!1,mp3:!1,ogg:!1,opus:!1,wav:!1,webAudio:!1,webm:!1};t.exports=function(){if("function"==typeof importScripts)return n;n.audioData=!!window.Audio,n.webAudio=!(!window.AudioContext&&!window.webkitAudioContext);var t=document.createElement("audio"),e=!!t.canPlayType;try{if(e){var i=function(e,i){var s=t.canPlayType("audio/"+e).replace(/^no$/,"");return i?Boolean(s||t.canPlayType("audio/"+i).replace(/^no$/,"")):Boolean(s)};if(n.ogg=i('ogg; codecs="vorbis"'),n.opus=i('ogg; codecs="opus"',"opus"),n.mp3=i("mpeg"),n.wav=i("wav"),n.m4a=i("x-m4a"),n.aac=i("aac"),n.flac=i("flac","x-flac"),n.webm=i('webm; codecs="vorbis"'),""!==t.canPlayType('audio/mp4; codecs="ec-3"'))if(s.edge)n.dolby=!0;else if(s.safari&&s.safariVersion>=9&&/Mac OS X (\d+)_(\d+)/.test(navigator.userAgent)){var r=parseInt(RegExp.$1,10),o=parseInt(RegExp.$2,10);(10===r&&o>=11||r>10)&&(n.dolby=!0)}}}catch(a){}return n}()},84148:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s,n=i(25892),r={chrome:!1,chromeVersion:0,edge:!1,firefox:!1,firefoxVersion:0,ie:!1,ieVersion:0,mobileSafari:!1,opera:!1,safari:!1,safariVersion:0,silk:!1,trident:!1,tridentVersion:0,es2019:!1};t.exports=(s=navigator.userAgent,/Edg\/\d+/.test(s)?(r.edge=!0,r.es2019=!0):/OPR/.test(s)?(r.opera=!0,r.es2019=!0):/Chrome\/(\d+)/.test(s)&&!n.windowsPhone?(r.chrome=!0,r.chromeVersion=parseInt(RegExp.$1,10),r.es2019=r.chromeVersion>69):/Firefox\D+(\d+)/.test(s)?(r.firefox=!0,r.firefoxVersion=parseInt(RegExp.$1,10),r.es2019=r.firefoxVersion>10):/AppleWebKit\/(?!.*CriOS)/.test(s)&&n.iOS?(r.mobileSafari=!0,r.es2019=!0):/MSIE (\d+\.\d+);/.test(s)?(r.ie=!0,r.ieVersion=parseInt(RegExp.$1,10)):/Version\/(\d+\.\d+(\.\d+)?) Safari/.test(s)&&!n.windowsPhone?(r.safari=!0,r.safariVersion=parseInt(RegExp.$1,10),r.es2019=r.safariVersion>10):/Trident\/(\d+\.\d+)(.*)rv:(\d+\.\d+)/.test(s)&&(r.ie=!0,r.trident=!0,r.tridentVersion=parseInt(RegExp.$1,10),r.ieVersion=parseInt(RegExp.$3,10)),/Silk/.test(s)&&(r.silk=!0),r)},89289:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s,n,r,o=i(27919),a={supportInverseAlpha:!1,supportNewBlendModes:!1};t.exports=("function"!=typeof importScripts&&void 0!==document&&(a.supportNewBlendModes=(s="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAABAQMAAADD8p2OAAAAA1BMVEX/",n="AAAACklEQVQI12NgAAAAAgAB4iG8MwAAAABJRU5ErkJggg==",(r=new Image).onload=function(){var t=new Image;t.onload=function(){var e=o.create2D(t,6).getContext("2d",{willReadFrequently:!0});if(e.globalCompositeOperation="multiply",e.drawImage(r,0,0),e.drawImage(t,2,0),!e.getImageData(2,0,1,1))return!1;var i=e.getImageData(2,0,1,1).data;o.remove(t),a.supportNewBlendModes=255===i[0]&&0===i[1]&&0===i[2]},t.src=s+"/wCKxvRF"+n},r.src=s+"AP804Oa6"+n,!1),a.supportInverseAlpha=function(){var t=o.create2D(this,2).getContext("2d",{willReadFrequently:!0});t.fillStyle="rgba(10, 20, 30, 0.5)",t.fillRect(0,0,1,1);var e=t.getImageData(0,0,1,1);if(null===e)return!1;t.putImageData(e,1,0);var i=t.getImageData(1,0,1,1),s=i.data[0]===e.data[0]&&i.data[1]===e.data[1]&&i.data[2]===e.data[2]&&i.data[3]===e.data[3];return o.remove(this),s}()),a)},89357:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(25892),n=i(84148),r=i(27919),o={canvas:!1,canvasBitBltShift:null,file:!1,fileSystem:!1,getUserMedia:!0,littleEndian:!1,localStorage:!1,pointerLock:!1,stableSort:!1,support32bit:!1,vibration:!1,webGL:!1,worker:!1};t.exports=function(){if("function"==typeof importScripts)return o;o.canvas=!!window.CanvasRenderingContext2D;try{o.localStorage=!!localStorage.getItem}catch(h){o.localStorage=!1}o.file=!!(window.File&&window.FileReader&&window.FileList&&window.Blob),o.fileSystem=!!window.requestFileSystem;var t,e,i,a=!1;return o.webGL=function(){if(window.WebGLRenderingContext)try{var t=r.createWebGL(this),e=t.getContext("webgl")||t.getContext("experimental-webgl"),i=r.create2D(this),s=i.getContext("2d",{willReadFrequently:!0}).createImageData(1,1);return a=s.data instanceof Uint8ClampedArray,r.remove(t),r.remove(i),!!e}catch(n){return!1}return!1}(),o.worker=!!window.Worker,o.pointerLock="pointerLockElement"in document||"mozPointerLockElement"in document||"webkitPointerLockElement"in document,navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia||navigator.oGetUserMedia,window.URL=window.URL||window.webkitURL||window.mozURL||window.msURL,o.getUserMedia=o.getUserMedia&&!!navigator.getUserMedia&&!!window.URL,n.firefox&&n.firefoxVersion<21&&(o.getUserMedia=!1),!s.iOS&&(n.ie||n.firefox||n.chrome)&&(o.canvasBitBltShift=!0),(n.safari||n.mobileSafari)&&(o.canvasBitBltShift=!1),navigator.vibrate=navigator.vibrate||navigator.webkitVibrate||navigator.mozVibrate||navigator.msVibrate,navigator.vibrate&&(o.vibration=!0),"undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint32Array&&(o.littleEndian=(t=new ArrayBuffer(4),e=new Uint8Array(t),i=new Uint32Array(t),e[0]=161,e[1]=178,e[2]=195,e[3]=212,3569595041===i[0]||2712847316!==i[0]&&null)),o.support32bit="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof Int32Array&&null!==o.littleEndian&&a,o}()},91639:t=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var e={available:!1,cancel:"",keyboard:!1,request:""};t.exports=function(){if("function"==typeof importScripts)return e;var t,i="Fullscreen",s="FullScreen",n=["request"+i,"request"+s,"webkitRequest"+i,"webkitRequest"+s,"msRequest"+i,"msRequest"+s,"mozRequest"+s,"mozRequest"+i];for(t=0;t<n.length;t++)if(document.documentElement[n[t]]){e.available=!0,e.request=n[t];break}var r=["cancel"+s,"exit"+i,"webkitCancel"+s,"webkitExit"+i,"msCancel"+s,"msExit"+i,"mozCancel"+s,"mozExit"+i];if(e.available)for(t=0;t<r.length;t++)if(document[r[t]]){e.cancel=r[t];break}return window.Element&&Element.ALLOW_KEYBOARD_INPUT&&!/ Version\/5\.1(?:\.\d+)? Safari\//.test(navigator.userAgent)&&(e.keyboard=!0),Object.defineProperty(e,"active",{get:function(){return!!(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement)}}),e}()},31784:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(84148),n={gamepads:!1,mspointer:!1,touch:!1,wheelEvent:null};t.exports=("function"==typeof importScripts||(("ontouchstart"in document.documentElement||navigator.maxTouchPoints&&navigator.maxTouchPoints>=1)&&(n.touch=!0),(navigator.msPointerEnabled||navigator.pointerEnabled)&&(n.mspointer=!0),navigator.getGamepads&&(n.gamepads=!0),"onwheel"in window||s.ie&&"WheelEvent"in window?n.wheelEvent="wheel":"onmousewheel"in window?n.wheelEvent="mousewheel":s.firefox&&"MouseScrollEvent"in window&&(n.wheelEvent="DOMMouseScroll")),n)},25892:t=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var e={android:!1,chromeOS:!1,cordova:!1,crosswalk:!1,desktop:!1,ejecta:!1,electron:!1,iOS:!1,iOSVersion:0,iPad:!1,iPhone:!1,kindle:!1,linux:!1,macOS:!1,node:!1,nodeWebkit:!1,pixelRatio:1,webApp:!1,windows:!1,windowsPhone:!1};t.exports=function(){if("function"==typeof importScripts)return e;var t=navigator.userAgent;/Windows/.test(t)?e.windows=!0:/Mac OS/.test(t)&&!/like Mac OS/.test(t)?navigator.maxTouchPoints&&navigator.maxTouchPoints>2?(e.iOS=!0,e.iPad=!0,navigator.appVersion.match(/Version\/(\d+)/),e.iOSVersion=parseInt(RegExp.$1,10)):e.macOS=!0:/Android/.test(t)?e.android=!0:/Linux/.test(t)?e.linux=!0:/iP[ao]d|iPhone/i.test(t)?(e.iOS=!0,navigator.appVersion.match(/OS (\d+)/),e.iOSVersion=parseInt(RegExp.$1,10),e.iPhone=-1!==t.toLowerCase().indexOf("iphone"),e.iPad=-1!==t.toLowerCase().indexOf("ipad")):/Kindle/.test(t)||/\bKF[A-Z][A-Z]+/.test(t)||/Silk.*Mobile Safari/.test(t)?e.kindle=!0:/CrOS/.test(t)&&(e.chromeOS=!0),(/Windows Phone/i.test(t)||/IEMobile/i.test(t))&&(e.android=!1,e.iOS=!1,e.macOS=!1,e.windows=!0,e.windowsPhone=!0);var i=/Silk/.test(t);return(e.windows||e.macOS||e.linux&&!i||e.chromeOS)&&(e.desktop=!0),(e.windowsPhone||/Windows NT/i.test(t)&&/Touch/i.test(t))&&(e.desktop=!1),navigator.standalone&&(e.webApp=!0),"function"!=typeof importScripts&&(void 0!==window.cordova&&(e.cordova=!0),void 0!==window.ejecta&&(e.ejecta=!0)),"undefined"!=typeof process&&process.versions&&process.versions.node&&(e.node=!0),e.node&&"object"==typeof process.versions&&(e.nodeWebkit=!!process.versions["node-webkit"],e.electron=!!process.versions.electron),/Crosswalk/.test(t)&&(e.crosswalk=!0),e.pixelRatio=window.devicePixelRatio||1,e}()},43267:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(95540),n={h264:!1,hls:!1,mp4:!1,m4v:!1,ogg:!1,vp9:!1,webm:!1,hasRequestVideoFrame:!1};t.exports=function(){if("function"==typeof importScripts)return n;var t=document.createElement("video"),e=!!t.canPlayType,i=/^no$/;try{e&&(t.canPlayType('video/ogg; codecs="theora"').replace(i,"")&&(n.ogg=!0),t.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(i,"")&&(n.h264=!0,n.mp4=!0),t.canPlayType("video/x-m4v").replace(i,"")&&(n.m4v=!0),t.canPlayType('video/webm; codecs="vp8, vorbis"').replace(i,"")&&(n.webm=!0),t.canPlayType('video/webm; codecs="vp9"').replace(i,"")&&(n.vp9=!0),t.canPlayType('application/x-mpegURL; codecs="avc1.42E01E"').replace(i,"")&&(n.hls=!0))}catch(r){}return t.parentNode&&t.parentNode.removeChild(t),n.getVideoURL=function(t){Array.isArray(t)||(t=[t]);for(var e=0;e<t.length;e++){var i,r=s(t[e],"url",t[e]);if(0===r.indexOf("blob:"))return{url:r,type:""};if(i=0===r.indexOf("data:")?r.split(",")[0].match(/\/(.*?);/):r.match(/\.([a-zA-Z0-9]+)($|\?)/),i=s(t[e],"type",i?i[1]:"").toLowerCase(),n[i])return{url:r,type:i}}return null},n}()},82264:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports={os:i(25892),browser:i(84148),features:i(89357),input:i(31784),audio:i(7098),video:i(43267),fullscreen:i(91639),canvasFeatures:i(89289)}},89422:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(83419),n=new Float32Array(20),r=new s({initialize:function(){this._matrix=new Float32Array(20),this.alpha=1,this._dirty=!0,this._data=new Float32Array(20),this.reset()},set:function(t){return this._matrix.set(t),this._dirty=!0,this},reset:function(){var t=this._matrix;return t.fill(0),t[0]=1,t[6]=1,t[12]=1,t[18]=1,this.alpha=1,this._dirty=!0,this},getData:function(){var t=this._data;return this._dirty&&(t.set(this._matrix),t[4]/=255,t[9]/=255,t[14]/=255,t[19]/=255,this._dirty=!1),t},brightness:function(t,e){void 0===t&&(t=0),void 0===e&&(e=!1);var i=t;return this.multiply([i,0,0,0,0,0,i,0,0,0,0,0,i,0,0,0,0,0,1,0],e)},saturate:function(t,e){void 0===t&&(t=0),void 0===e&&(e=!1);var i=2*t/3+1,s=-.5*(i-1);return this.multiply([i,s,s,0,0,s,i,s,0,0,s,s,i,0,0,0,0,0,1,0],e)},desaturate:function(t){return void 0===t&&(t=!1),this.saturate(-1,t)},hue:function(t,e){void 0===t&&(t=0),void 0===e&&(e=!1),t=t/180*Math.PI;var i=Math.cos(t),s=Math.sin(t),n=.213,r=.715,o=.072;return this.multiply([n+.787*i+s*-n,r+i*-r+s*-r,o+i*-o+.928*s,0,0,n+i*-n+.143*s,r+i*(1-r)+.14*s,o+i*-o+-.283*s,0,0,n+i*-n+-.787*s,r+i*-r+s*r,o+.928*i+s*o,0,0,0,0,0,1,0],e)},grayscale:function(t,e){return void 0===t&&(t=1),void 0===e&&(e=!1),this.saturate(-t,e)},blackWhite:function(t){return void 0===t&&(t=!1),this.multiply(r.BLACK_WHITE,t)},contrast:function(t,e){void 0===t&&(t=0),void 0===e&&(e=!1);var i=t+1,s=-.5*(i-1);return this.multiply([i,0,0,0,s,0,i,0,0,s,0,0,i,0,s,0,0,0,1,0],e)},negative:function(t){return void 0===t&&(t=!1),this.multiply(r.NEGATIVE,t)},desaturateLuminance:function(t){return void 0===t&&(t=!1),this.multiply(r.DESATURATE_LUMINANCE,t)},sepia:function(t){return void 0===t&&(t=!1),this.multiply(r.SEPIA,t)},night:function(t,e){return void 0===t&&(t=.1),void 0===e&&(e=!1),this.multiply([-2*t,-t,0,0,0,-t,0,t,0,0,0,t,2*t,0,0,0,0,0,1,0],e)},lsd:function(t){return void 0===t&&(t=!1),this.multiply(r.LSD,t)},brown:function(t){return void 0===t&&(t=!1),this.multiply(r.BROWN,t)},vintagePinhole:function(t){return void 0===t&&(t=!1),this.multiply(r.VINTAGE,t)},kodachrome:function(t){return void 0===t&&(t=!1),this.multiply(r.KODACHROME,t)},technicolor:function(t){return void 0===t&&(t=!1),this.multiply(r.TECHNICOLOR,t)},polaroid:function(t){return void 0===t&&(t=!1),this.multiply(r.POLAROID,t)},shiftToBGR:function(t){return void 0===t&&(t=!1),this.multiply(r.SHIFT_BGR,t)},multiply:function(t,e){void 0===e&&(e=!1),e||this.reset();var i=this._matrix,s=n;return s.set(i),i.set([s[0]*t[0]+s[1]*t[5]+s[2]*t[10]+s[3]*t[15],s[0]*t[1]+s[1]*t[6]+s[2]*t[11]+s[3]*t[16],s[0]*t[2]+s[1]*t[7]+s[2]*t[12]+s[3]*t[17],s[0]*t[3]+s[1]*t[8]+s[2]*t[13]+s[3]*t[18],s[0]*t[4]+s[1]*t[9]+s[2]*t[14]+s[3]*t[19]+s[4],s[5]*t[0]+s[6]*t[5]+s[7]*t[10]+s[8]*t[15],s[5]*t[1]+s[6]*t[6]+s[7]*t[11]+s[8]*t[16],s[5]*t[2]+s[6]*t[7]+s[7]*t[12]+s[8]*t[17],s[5]*t[3]+s[6]*t[8]+s[7]*t[13]+s[8]*t[18],s[5]*t[4]+s[6]*t[9]+s[7]*t[14]+s[8]*t[19]+s[9],s[10]*t[0]+s[11]*t[5]+s[12]*t[10]+s[13]*t[15],s[10]*t[1]+s[11]*t[6]+s[12]*t[11]+s[13]*t[16],s[10]*t[2]+s[11]*t[7]+s[12]*t[12]+s[13]*t[17],s[10]*t[3]+s[11]*t[8]+s[12]*t[13]+s[13]*t[18],s[10]*t[4]+s[11]*t[9]+s[12]*t[14]+s[13]*t[19]+s[14],s[15]*t[0]+s[16]*t[5]+s[17]*t[10]+s[18]*t[15],s[15]*t[1]+s[16]*t[6]+s[17]*t[11]+s[18]*t[16],s[15]*t[2]+s[16]*t[7]+s[17]*t[12]+s[18]*t[17],s[15]*t[3]+s[16]*t[8]+s[17]*t[13]+s[18]*t[18],s[15]*t[4]+s[16]*t[9]+s[17]*t[14]+s[18]*t[19]+s[19]]),this._dirty=!0,this}});r.BLACK_WHITE=[.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0],r.NEGATIVE=[-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0],r.DESATURATE_LUMINANCE=[.2764723,.929708,.0938197,0,-37.1,.2764723,.929708,.0938197,0,-37.1,.2764723,.929708,.0938197,0,-37.1,0,0,0,1,0],r.SEPIA=[.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0],r.LSD=[2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0],r.BROWN=[.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0],r.VINTAGE=[.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0],r.KODACHROME=[1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0],r.TECHNICOLOR=[1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0],r.POLAROID=[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],r.SHIFT_BGR=[0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0],t.exports=r},51767:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(83419),n=i(29747),r=new s({initialize:function(t,e,i){this._rgb=[0,0,0],this.onChangeCallback=n,this.dirty=!1,this.set(t,e,i)},set:function(t,e,i){return void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=0),this._rgb=[t,e,i],this.onChange(),this},equals:function(t,e,i){var s=this._rgb;return s[0]===t&&s[1]===e&&s[2]===i},onChange:function(){this.dirty=!0;var t=this._rgb;this.onChangeCallback.call(this,t[0],t[1],t[2])},r:{get:function(){return this._rgb[0]},set:function(t){this._rgb[0]=t,this.onChange()}},g:{get:function(){return this._rgb[1]},set:function(t){this._rgb[1]=t,this.onChange()}},b:{get:function(){return this._rgb[2]},set:function(t){this._rgb[2]=t,this.onChange()}},destroy:function(){this.onChangeCallback=null}});t.exports=r},60461:t=>{t.exports={TOP_LEFT:0,TOP_CENTER:1,TOP_RIGHT:2,LEFT_TOP:3,LEFT_CENTER:4,LEFT_BOTTOM:5,CENTER:6,RIGHT_TOP:7,RIGHT_CENTER:8,RIGHT_BOTTOM:9,BOTTOM_LEFT:10,BOTTOM_CENTER:11,BOTTOM_RIGHT:12}},54312:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(62235),n=i(35893),r=i(86327),o=i(88417);t.exports=function(t,e,i,a){return void 0===i&&(i=0),void 0===a&&(a=0),o(t,n(e)+i),r(t,s(e)+a),t}},46768:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(62235),n=i(26541),r=i(86327),o=i(385);t.exports=function(t,e,i,a){return void 0===i&&(i=0),void 0===a&&(a=0),o(t,n(e)-i),r(t,s(e)+a),t}},35827:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(62235),n=i(54380),r=i(86327),o=i(40136);t.exports=function(t,e,i,a){return void 0===i&&(i=0),void 0===a&&(a=0),o(t,n(e)+i),r(t,s(e)+a),t}},46871:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(66786),n=i(35893),r=i(7702);t.exports=function(t,e,i,o){return void 0===i&&(i=0),void 0===o&&(o=0),s(t,n(e)+i,r(e)+o),t}},5198:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(7702),n=i(26541),r=i(20786),o=i(385);t.exports=function(t,e,i,a){return void 0===i&&(i=0),void 0===a&&(a=0),o(t,n(e)-i),r(t,s(e)+a),t}},11879:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(60461),n=[];n[s.BOTTOM_CENTER]=i(54312),n[s.BOTTOM_LEFT]=i(46768),n[s.BOTTOM_RIGHT]=i(35827),n[s.CENTER]=i(46871),n[s.LEFT_CENTER]=i(5198),n[s.RIGHT_CENTER]=i(80503),n[s.TOP_CENTER]=i(89698),n[s.TOP_LEFT]=i(922),n[s.TOP_RIGHT]=i(21373),n[s.LEFT_BOTTOM]=n[s.BOTTOM_LEFT],n[s.LEFT_TOP]=n[s.TOP_LEFT],n[s.RIGHT_BOTTOM]=n[s.BOTTOM_RIGHT],n[s.RIGHT_TOP]=n[s.TOP_RIGHT],t.exports=function(t,e,i,s,r){return n[i](t,e,s,r)}},80503:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(7702),n=i(54380),r=i(20786),o=i(40136);t.exports=function(t,e,i,a){return void 0===i&&(i=0),void 0===a&&(a=0),o(t,n(e)+i),r(t,s(e)+a),t}},89698:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(35893),n=i(17717),r=i(88417),o=i(66737);t.exports=function(t,e,i,a){return void 0===i&&(i=0),void 0===a&&(a=0),r(t,s(e)+i),o(t,n(e)-a),t}},922:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(26541),n=i(17717),r=i(385),o=i(66737);t.exports=function(t,e,i,a){return void 0===i&&(i=0),void 0===a&&(a=0),r(t,s(e)-i),o(t,n(e)-a),t}},21373:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(54380),n=i(17717),r=i(40136),o=i(66737);t.exports=function(t,e,i,a){return void 0===i&&(i=0),void 0===a&&(a=0),r(t,s(e)+i),o(t,n(e)-a),t}},91660:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports={BottomCenter:i(54312),BottomLeft:i(46768),BottomRight:i(35827),Center:i(46871),LeftCenter:i(5198),QuickSet:i(11879),RightCenter:i(80503),TopCenter:i(89698),TopLeft:i(922),TopRight:i(21373)}},71926:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(60461),n=i(79291),r={In:i(91660),To:i(16694)};r=n(!1,r,s),t.exports=r},21578:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(62235),n=i(35893),r=i(88417),o=i(66737);t.exports=function(t,e,i,a){return void 0===i&&(i=0),void 0===a&&(a=0),r(t,n(e)+i),o(t,s(e)+a),t}},10210:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(62235),n=i(26541),r=i(385),o=i(66737);t.exports=function(t,e,i,a){return void 0===i&&(i=0),void 0===a&&(a=0),r(t,n(e)-i),o(t,s(e)+a),t}},82341:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(62235),n=i(54380),r=i(40136),o=i(66737);t.exports=function(t,e,i,a){return void 0===i&&(i=0),void 0===a&&(a=0),r(t,n(e)+i),o(t,s(e)+a),t}},87958:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(62235),n=i(26541),r=i(86327),o=i(40136);t.exports=function(t,e,i,a){return void 0===i&&(i=0),void 0===a&&(a=0),o(t,n(e)-i),r(t,s(e)+a),t}},40080:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(7702),n=i(26541),r=i(20786),o=i(40136);t.exports=function(t,e,i,a){return void 0===i&&(i=0),void 0===a&&(a=0),o(t,n(e)-i),r(t,s(e)+a),t}},88466:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(26541),n=i(17717),r=i(40136),o=i(66737);t.exports=function(t,e,i,a){return void 0===i&&(i=0),void 0===a&&(a=0),r(t,s(e)-i),o(t,n(e)-a),t}},38829:(t,e,i)=>{
/**
                     * @author       samme
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(60461),n=[];n[s.BOTTOM_CENTER]=i(21578),n[s.BOTTOM_LEFT]=i(10210),n[s.BOTTOM_RIGHT]=i(82341),n[s.LEFT_BOTTOM]=i(87958),n[s.LEFT_CENTER]=i(40080),n[s.LEFT_TOP]=i(88466),n[s.RIGHT_BOTTOM]=i(19211),n[s.RIGHT_CENTER]=i(34609),n[s.RIGHT_TOP]=i(48741),n[s.TOP_CENTER]=i(49440),n[s.TOP_LEFT]=i(81288),n[s.TOP_RIGHT]=i(61323),t.exports=function(t,e,i,s,r){return n[i](t,e,s,r)}},19211:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(62235),n=i(54380),r=i(86327),o=i(385);t.exports=function(t,e,i,a){return void 0===i&&(i=0),void 0===a&&(a=0),o(t,n(e)+i),r(t,s(e)+a),t}},34609:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(7702),n=i(54380),r=i(20786),o=i(385);t.exports=function(t,e,i,a){return void 0===i&&(i=0),void 0===a&&(a=0),o(t,n(e)+i),r(t,s(e)+a),t}},48741:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(54380),n=i(17717),r=i(385),o=i(66737);t.exports=function(t,e,i,a){return void 0===i&&(i=0),void 0===a&&(a=0),r(t,s(e)+i),o(t,n(e)-a),t}},49440:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(35893),n=i(17717),r=i(86327),o=i(88417);t.exports=function(t,e,i,a){return void 0===i&&(i=0),void 0===a&&(a=0),o(t,s(e)+i),r(t,n(e)-a),t}},81288:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(26541),n=i(17717),r=i(86327),o=i(385);t.exports=function(t,e,i,a){return void 0===i&&(i=0),void 0===a&&(a=0),o(t,s(e)-i),r(t,n(e)-a),t}},61323:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(54380),n=i(17717),r=i(86327),o=i(40136);t.exports=function(t,e,i,a){return void 0===i&&(i=0),void 0===a&&(a=0),o(t,s(e)+i),r(t,n(e)-a),t}},16694:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports={BottomCenter:i(21578),BottomLeft:i(10210),BottomRight:i(82341),LeftBottom:i(87958),LeftCenter:i(40080),LeftTop:i(88466),QuickSet:i(38829),RightBottom:i(19211),RightCenter:i(34609),RightTop:i(48741),TopCenter:i(49440),TopLeft:i(81288),TopRight:i(61323)}},66786:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(88417),n=i(20786);t.exports=function(t,e,i){return s(t,e),n(t,i)}},62235:t=>{t.exports=function(t){return t.y+t.height-t.height*t.originY}},72873:(t,e,i)=>{
/**
                     * @author       samme
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(62235),n=i(26541),r=i(54380),o=i(17717),a=i(87841);t.exports=function(t,e){void 0===e&&(e=new a);var i=n(t),h=o(t);return e.x=i,e.y=h,e.width=r(t)-i,e.height=s(t)-h,e}},35893:t=>{t.exports=function(t){return t.x-t.width*t.originX+.5*t.width}},7702:t=>{t.exports=function(t){return t.y-t.height*t.originY+.5*t.height}},26541:t=>{t.exports=function(t){return t.x-t.width*t.originX}},87431:t=>{t.exports=function(t){return t.width*t.originX}},46928:t=>{t.exports=function(t){return t.height*t.originY}},54380:t=>{t.exports=function(t){return t.x+t.width-t.width*t.originX}},17717:t=>{t.exports=function(t){return t.y-t.height*t.originY}},86327:t=>{t.exports=function(t,e){return t.y=e-t.height+t.height*t.originY,t}},88417:t=>{t.exports=function(t,e){var i=t.width*t.originX;return t.x=e+i-.5*t.width,t}},20786:t=>{t.exports=function(t,e){var i=t.height*t.originY;return t.y=e+i-.5*t.height,t}},385:t=>{t.exports=function(t,e){return t.x=e+t.width*t.originX,t}},40136:t=>{t.exports=function(t,e){return t.x=e-t.width+t.width*t.originX,t}},66737:t=>{t.exports=function(t,e){return t.y=e+t.height*t.originY,t}},58724:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports={CenterOn:i(66786),GetBottom:i(62235),GetBounds:i(72873),GetCenterX:i(35893),GetCenterY:i(7702),GetLeft:i(26541),GetOffsetX:i(87431),GetOffsetY:i(46928),GetRight:i(54380),GetTop:i(17717),SetBottom:i(86327),SetCenterX:i(88417),SetCenterY:i(20786),SetLeft:i(385),SetRight:i(40136),SetTop:i(66737)}},20623:t=>{t.exports={setCrisp:function(t){return["optimizeSpeed","-moz-crisp-edges","-o-crisp-edges","-webkit-optimize-contrast","optimize-contrast","crisp-edges","pixelated"].forEach(function(e){t.style["image-rendering"]=e}),t.style.msInterpolationMode="nearest-neighbor",t},setBicubic:function(t){return t.style["image-rendering"]="auto",t.style.msInterpolationMode="bicubic",t}}},27919:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s,n,r,o=i(8054),a=i(68703),h=[],l=!1;t.exports=(r=function(){var t=0;return h.forEach(function(e){e.parent&&t++}),t},{create2D:function(t,e,i){return s(t,e,i,o.CANVAS)},create:s=function(t,e,i,s,r){var u;void 0===e&&(e=1),void 0===i&&(i=1),void 0===s&&(s=o.CANVAS),void 0===r&&(r=!1);var c=n(s);return null===c?(c={parent:t,canvas:document.createElement("canvas"),type:s},s===o.CANVAS&&h.push(c),u=c.canvas):(c.parent=t,u=c.canvas),r&&(c.parent=u),u.width=e,u.height=i,l&&s===o.CANVAS&&a.disable(u.getContext("2d",{willReadFrequently:!1})),u},createWebGL:function(t,e,i){return s(t,e,i,o.WEBGL)},disableSmoothing:function(){l=!0},enableSmoothing:function(){l=!1},first:n=function(t){if(void 0===t&&(t=o.CANVAS),t===o.WEBGL)return null;for(var e=0;e<h.length;e++){var i=h[e];if(!i.parent&&i.type===t)return i}return null},free:function(){return h.length-r()},pool:h,remove:function(t){var e=t instanceof HTMLCanvasElement;h.forEach(function(i){(e&&i.canvas===t||!e&&i.parent===t)&&(i.parent=null,i.canvas.width=1,i.canvas.height=1)})},total:r})},68703:t=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var e,i="";t.exports={disable:function(t){return""===i&&(i=e(t)),i&&(t[i]=!1),t},enable:function(t){return""===i&&(i=e(t)),i&&(t[i]=!0),t},getPrefix:e=function(t){for(var e=["i","webkitI","msI","mozI","oI"],i=0;i<e.length;i++){var s=e[i]+"mageSmoothingEnabled";if(s in t)return s}return null},isEnabled:function(t){return null!==i?t[i]:null}}},65208:t=>{t.exports=function(t,e){return void 0===e&&(e="none"),t.style.msTouchAction=e,t.style["ms-touch-action"]=e,t.style["touch-action"]=e,t}},91610:t=>{t.exports=function(t,e){return void 0===e&&(e="none"),["-webkit-","-khtml-","-moz-","-ms-",""].forEach(function(i){t.style[i+"user-select"]=e}),t.style["-webkit-touch-callout"]=e,t.style["-webkit-tap-highlight-color"]="rgba(0, 0, 0, 0)",t}},26253:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports={CanvasInterpolation:i(20623),CanvasPool:i(27919),Smoothing:i(68703),TouchAction:i(65208),UserSelect:i(91610)}},40987:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(83419),n=i(37589),r=i(1e3),o=i(7537),a=i(87837),h=new s({initialize:function(t,e,i,s){void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=0),void 0===s&&(s=255),this.r=0,this.g=0,this.b=0,this.a=255,this._h=0,this._s=0,this._v=0,this._locked=!1,this.gl=[0,0,0,1],this._color=0,this._color32=0,this._rgba="",this.setTo(t,e,i,s)},transparent:function(){return this._locked=!0,this.red=0,this.green=0,this.blue=0,this.alpha=0,this._locked=!1,this.update(!0)},setTo:function(t,e,i,s,n){return void 0===s&&(s=255),void 0===n&&(n=!0),this._locked=!0,this.red=t,this.green=e,this.blue=i,this.alpha=s,this._locked=!1,this.update(n)},setGLTo:function(t,e,i,s){return void 0===s&&(s=1),this._locked=!0,this.redGL=t,this.greenGL=e,this.blueGL=i,this.alphaGL=s,this._locked=!1,this.update(!0)},setFromRGB:function(t){return this._locked=!0,this.red=t.r,this.green=t.g,this.blue=t.b,t.hasOwnProperty("a")&&(this.alpha=t.a),this._locked=!1,this.update(!0)},setFromHSV:function(t,e,i){return o(t,e,i,this)},update:function(t){if(void 0===t&&(t=!1),this._locked)return this;var e=this.r,i=this.g,s=this.b,o=this.a;return this._color=n(e,i,s),this._color32=r(e,i,s,o),this._rgba="rgba("+e+","+i+","+s+","+o/255+")",t&&a(e,i,s,this),this},updateHSV:function(){var t=this.r,e=this.g,i=this.b;return a(t,e,i,this),this},clone:function(){return new h(this.r,this.g,this.b,this.a)},gray:function(t){return this.setTo(t,t,t)},random:function(t,e){void 0===t&&(t=0),void 0===e&&(e=255);var i=Math.floor(t+Math.random()*(e-t)),s=Math.floor(t+Math.random()*(e-t)),n=Math.floor(t+Math.random()*(e-t));return this.setTo(i,s,n)},randomGray:function(t,e){void 0===t&&(t=0),void 0===e&&(e=255);var i=Math.floor(t+Math.random()*(e-t));return this.setTo(i,i,i)},saturate:function(t){return this.s+=t/100,this},desaturate:function(t){return this.s-=t/100,this},lighten:function(t){return this.v+=t/100,this},darken:function(t){return this.v-=t/100,this},brighten:function(t){var e=this.r,i=this.g,s=this.b;return e=Math.max(0,Math.min(255,e-Math.round(-t/100*255))),i=Math.max(0,Math.min(255,i-Math.round(-t/100*255))),s=Math.max(0,Math.min(255,s-Math.round(-t/100*255))),this.setTo(e,i,s)},color:{get:function(){return this._color}},color32:{get:function(){return this._color32}},rgba:{get:function(){return this._rgba}},redGL:{get:function(){return this.gl[0]},set:function(t){this.gl[0]=Math.min(Math.abs(t),1),this.r=Math.floor(255*this.gl[0]),this.update(!0)}},greenGL:{get:function(){return this.gl[1]},set:function(t){this.gl[1]=Math.min(Math.abs(t),1),this.g=Math.floor(255*this.gl[1]),this.update(!0)}},blueGL:{get:function(){return this.gl[2]},set:function(t){this.gl[2]=Math.min(Math.abs(t),1),this.b=Math.floor(255*this.gl[2]),this.update(!0)}},alphaGL:{get:function(){return this.gl[3]},set:function(t){this.gl[3]=Math.min(Math.abs(t),1),this.a=Math.floor(255*this.gl[3]),this.update()}},red:{get:function(){return this.r},set:function(t){t=Math.floor(Math.abs(t)),this.r=Math.min(t,255),this.gl[0]=t/255,this.update(!0)}},green:{get:function(){return this.g},set:function(t){t=Math.floor(Math.abs(t)),this.g=Math.min(t,255),this.gl[1]=t/255,this.update(!0)}},blue:{get:function(){return this.b},set:function(t){t=Math.floor(Math.abs(t)),this.b=Math.min(t,255),this.gl[2]=t/255,this.update(!0)}},alpha:{get:function(){return this.a},set:function(t){t=Math.floor(Math.abs(t)),this.a=Math.min(t,255),this.gl[3]=t/255,this.update()}},h:{get:function(){return this._h},set:function(t){this._h=t,o(t,this._s,this._v,this)}},s:{get:function(){return this._s},set:function(t){this._s=t,o(this._h,t,this._v,this)}},v:{get:function(){return this._v},set:function(t){this._v=t,o(this._h,this._s,t,this)}}});t.exports=h},92728:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(37589);t.exports=function(t){void 0===t&&(t=1024);var e,i=[],n=255,r=255,o=0,a=0;for(e=0;e<=n;e++)i.push({r:r,g:e,b:a,color:s(r,e,a)});for(o=255,e=n;e>=0;e--)i.push({r:e,g:o,b:a,color:s(e,o,a)});for(r=0,e=0;e<=n;e++,o--)i.push({r:r,g:o,b:e,color:s(r,o,e)});for(o=0,a=255,e=0;e<=n;e++,a--,r++)i.push({r:r,g:o,b:a,color:s(r,o,a)});if(1024===t)return i;var h=[],l=0,u=1024/t;for(e=0;e<t;e++)h.push(i[Math.floor(l)]),l+=u;return h}},91588:t=>{t.exports=function(t){var e={r:t>>16&255,g:t>>8&255,b:255&t,a:255};return t>16777215&&(e.a=t>>>24),e}},62957:t=>{t.exports=function(t){var e=t.toString(16);return 1===e.length?"0"+e:e}},37589:t=>{t.exports=function(t,e,i){return t<<16|e<<8|i}},1e3:t=>{t.exports=function(t,e,i,s){return s<<24|t<<16|e<<8|i}},62183:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(40987),n=i(89528);t.exports=function(t,e,i){var r=i,o=i,a=i;if(0!==e){var h=i<.5?i*(1+e):i+e-i*e,l=2*i-h;r=n(l,h,t+1/3),o=n(l,h,t),a=n(l,h,t-1/3)}return(new s).setGLTo(r,o,a,1)}},27939:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(7537);t.exports=function(t,e){void 0===t&&(t=1),void 0===e&&(e=1);for(var i=[],n=0;n<=359;n++)i.push(s(n/359,t,e));return i}},7537:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(37589);function n(t,e,i,s){var n=(t+6*e)%6,r=Math.min(n,4-n,1);return Math.round(255*(s-s*i*Math.max(0,r)))}t.exports=function(t,e,i,r){void 0===e&&(e=1),void 0===i&&(i=1);var o=n(5,t,e,i),a=n(3,t,e,i),h=n(1,t,e,i);return r?r.setTo?r.setTo(o,a,h,r.alpha,!0):(r.r=o,r.g=a,r.b=h,r.color=s(o,a,h),r):{r:o,g:a,b:h,color:s(o,a,h)}}},70238:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(40987);t.exports=function(t){var e=new s;t=t.replace(/^(?:#|0x)?([a-f\d])([a-f\d])([a-f\d])$/i,function(t,e,i,s){return e+e+i+i+s+s});var i=/^(?:#|0x)?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);if(i){var n=parseInt(i[1],16),r=parseInt(i[2],16),o=parseInt(i[3],16);e.setTo(n,r,o)}return e}},89528:t=>{t.exports=function(t,e,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?t+6*(e-t)*i:i<.5?e:i<2/3?t+(e-t)*(2/3-i)*6:t}},30100:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(40987),n=i(90664);t.exports=function(t){var e=n(t);return new s(e.r,e.g,e.b,e.a)}},90664:t=>{t.exports=function(t){return t>16777215?{a:t>>>24,r:t>>16&255,g:t>>8&255,b:255&t}:{a:255,r:t>>16&255,g:t>>8&255,b:255&t}}},13699:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(28915),n=i(37589),r=function(t,e,i,r,o,a,h,l){void 0===h&&(h=100),void 0===l&&(l=0);var u=l/h,c=s(t,r,u),d=s(e,o,u),f=s(i,a,u);return{r:c,g:d,b:f,a:255,color:n(c,d,f)}};t.exports={RGBWithRGB:r,ColorWithRGB:function(t,e,i,s,n,o){return void 0===n&&(n=100),void 0===o&&(o=0),r(t.r,t.g,t.b,e,i,s,n,o)},ColorWithColor:function(t,e,i,s){return void 0===i&&(i=100),void 0===s&&(s=0),r(t.r,t.g,t.b,e.r,e.g,e.b,i,s)}}},68957:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(40987);t.exports=function(t){return new s(t.r,t.g,t.b,t.a)}},87388:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(40987);t.exports=function(t){var e=new s,i=/^rgba?\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d+(?:\.\d+)?))?\s*\)$/.exec(t.toLowerCase());if(i){var n=parseInt(i[1],10),r=parseInt(i[2],10),o=parseInt(i[3],10),a=void 0!==i[4]?parseFloat(i[4]):1;e.setTo(n,r,o,255*a)}return e}},87837:t=>{t.exports=function(t,e,i,s){void 0===s&&(s={h:0,s:0,v:0}),t/=255,e/=255,i/=255;var n=Math.min(t,e,i),r=Math.max(t,e,i),o=r-n,a=0,h=0===r?0:o/r,l=r;return r!==n&&(r===t?a=(e-i)/o+(e<i?6:0):r===e?a=(i-t)/o+2:r===i&&(a=(t-e)/o+4),a/=6),s.hasOwnProperty("_h")?(s._h=a,s._s=h,s._v=l):(s.h=a,s.s=h,s.v=l),s}},75723:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(62957);t.exports=function(t,e,i,n,r){return void 0===n&&(n=255),void 0===r&&(r="#"),"#"===r?"#"+((1<<24)+(t<<16)+(e<<8)+i).toString(16).slice(1,7):"0x"+s(n)+s(t)+s(e)+s(i)}},85386:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(30976),n=i(40987);t.exports=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=255),new n(s(t,e),s(t,e),s(t,e))}},80333:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(70238),n=i(30100),r=i(68957),o=i(87388);t.exports=function(t){switch(typeof t){case"string":return"rgb"===t.substr(0,3).toLowerCase()?o(t):s(t);case"number":return n(t);case"object":return r(t)}}},3956:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(40987);s.ColorSpectrum=i(92728),s.ColorToRGBA=i(91588),s.ComponentToHex=i(62957),s.GetColor=i(37589),s.GetColor32=i(1e3),s.HexStringToColor=i(70238),s.HSLToColor=i(62183),s.HSVColorWheel=i(27939),s.HSVToRGB=i(7537),s.HueToComponent=i(89528),s.IntegerToColor=i(30100),s.IntegerToRGB=i(90664),s.Interpolate=i(13699),s.ObjectToColor=i(68957),s.RandomRGB=i(85386),s.RGBStringToColor=i(87388),s.RGBToHSV=i(87837),s.RGBToString=i(75723),s.ValueToColor=i(80333),t.exports=s},27460:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports={Align:i(71926),BaseShader:i(73894),Bounds:i(58724),Canvas:i(26253),Color:i(3956),ColorMatrix:i(89422),Masks:i(69781),RGB:i(51767)}},6858:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(83419),n=i(39429),r=new s({initialize:function(t,e,i,s,n,r){e||(e=t.sys.make.image({x:i,y:s,key:n,frame:r,add:!1})),this.bitmapMask=e,this.invertAlpha=!1,this.isStencil=!1},setBitmap:function(t){this.bitmapMask=t},preRenderWebGL:function(t,e,i){t.pipelines.BITMAPMASK_PIPELINE.beginMask(this,e,i)},postRenderWebGL:function(t,e,i){t.pipelines.BITMAPMASK_PIPELINE.endMask(this,e,i)},preRenderCanvas:function(){},postRenderCanvas:function(){},destroy:function(){this.bitmapMask=null}});n.register("bitmapMask",function(t,e,i,s,n){return new r(this.scene,t,e,i,s,n)}),t.exports=r},80661:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=new(i(83419))({initialize:function(t,e){this.geometryMask=e,this.invertAlpha=!1,this.isStencil=!0,this.level=0},setShape:function(t){return this.geometryMask=t,this},setInvertAlpha:function(t){return void 0===t&&(t=!0),this.invertAlpha=t,this},preRenderWebGL:function(t,e,i){var s=t.gl;t.flush(),0===t.maskStack.length&&(s.enable(s.STENCIL_TEST),s.clear(s.STENCIL_BUFFER_BIT),t.maskCount=0),t.currentCameraMask.mask!==this&&(t.currentMask.mask=this),t.maskStack.push({mask:this,camera:i}),this.applyStencil(t,i,!0),t.maskCount++},applyStencil:function(t,e,i){var s=t.gl,n=this.geometryMask,r=t.maskCount,o=255;s.colorMask(!1,!1,!1,!1),i?(s.stencilFunc(s.EQUAL,r,o),s.stencilOp(s.KEEP,s.KEEP,s.INCR),r++):(s.stencilFunc(s.EQUAL,r+1,o),s.stencilOp(s.KEEP,s.KEEP,s.DECR)),this.level=r,n.renderWebGL(t,n,e),t.flush(),s.colorMask(!0,!0,!0,!0),s.stencilOp(s.KEEP,s.KEEP,s.KEEP),this.invertAlpha?s.stencilFunc(s.NOTEQUAL,r,o):s.stencilFunc(s.EQUAL,r,o)},postRenderWebGL:function(t){var e=t.gl;t.maskStack.pop(),t.maskCount--,t.flush();var i=t.currentMask;if(0===t.maskStack.length)i.mask=null,e.disable(e.STENCIL_TEST);else{var s=t.maskStack[t.maskStack.length-1];s.mask.applyStencil(t,s.camera,!1),t.currentCameraMask.mask!==s.mask?(i.mask=s.mask,i.camera=s.camera):i.mask=null}},preRenderCanvas:function(t,e,i){var s=this.geometryMask;t.currentContext.save(),s.renderCanvas(t,s,i,null,null,!0),t.currentContext.clip()},postRenderCanvas:function(t){t.currentContext.restore()},destroy:function(){this.geometryMask=null}});t.exports=s},69781:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports={BitmapMask:i(6858),GeometryMask:i(80661)}},73894:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=new(i(83419))({initialize:function(t,e,i,s){e&&""!==e||(e=["precision mediump float;","uniform vec2 resolution;","varying vec2 fragCoord;","void main () {","    vec2 uv = fragCoord / resolution.xy;","    gl_FragColor = vec4(uv.xyx, 1.0);","}"].join("\n")),i&&""!==i||(i=["precision mediump float;","uniform mat4 uProjectionMatrix;","uniform mat4 uViewMatrix;","uniform vec2 uResolution;","attribute vec2 inPosition;","varying vec2 fragCoord;","varying vec2 outTexCoord;","void main () {","   gl_Position = uProjectionMatrix * uViewMatrix * vec4(inPosition, 1.0, 1.0);","   fragCoord = vec2(inPosition.x, uResolution.y - inPosition.y);","   outTexCoord = vec2(inPosition.x / uResolution.x, fragCoord.y / uResolution.y);","}"].join("\n")),void 0===s&&(s=null),this.key=t,this.fragmentSrc=e,this.vertexSrc=i,this.uniforms=s}});t.exports=s},40366:t=>{t.exports=function(t,e){var i;if(e)"string"==typeof e?i=document.getElementById(e):"object"==typeof e&&1===e.nodeType&&(i=e);else if(t.parentElement||null===e)return t;return i||(i=document.body),i.appendChild(t),t}},83719:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(40366);t.exports=function(t){var e=t.config;if(e.parent&&e.domCreateContainer){var i=document.createElement("div");i.style.cssText=["display: block;","width: "+t.scale.width+"px;","height: "+t.scale.height+"px;","padding: 0; margin: 0;","position: absolute;","overflow: hidden;","pointer-events: "+e.domPointerEvents+";","transform: scale(1);","transform-origin: left top;"].join(" "),t.domContainer=i,s(i,e.parent)}}},57264:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(25892);t.exports=function(t){if("complete"!==document.readyState&&"interactive"!==document.readyState){var e=function(){document.removeEventListener("deviceready",e,!0),document.removeEventListener("DOMContentLoaded",e,!0),window.removeEventListener("load",e,!0),t()};document.body?s.cordova?document.addEventListener("deviceready",e,!1):(document.addEventListener("DOMContentLoaded",e,!0),window.addEventListener("load",e,!0)):window.setTimeout(e,20)}else t()}},57811:t=>{t.exports=function(t){if(!t)return window.innerHeight;var e=Math.abs(window.orientation),i={w:0,h:0},s=document.createElement("div");return s.setAttribute("style","position: fixed; height: 100vh; width: 0; top: 0"),document.documentElement.appendChild(s),i.w=90===e?s.offsetHeight:window.innerWidth,i.h=90===e?window.innerWidth:s.offsetHeight,document.documentElement.removeChild(s),s=null,90!==Math.abs(window.orientation)?i.h:i.w}},45818:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(13560);t.exports=function(t,e){var i=window.screen,n=!!i&&(i.orientation||i.mozOrientation||i.msOrientation);return n&&"string"==typeof n.type?n.type:"string"==typeof n?n:"number"==typeof window.orientation?0===window.orientation||180===window.orientation?s.ORIENTATION.PORTRAIT:s.ORIENTATION.LANDSCAPE:window.matchMedia?window.matchMedia("(orientation: portrait)").matches?s.ORIENTATION.PORTRAIT:window.matchMedia("(orientation: landscape)").matches?s.ORIENTATION.LANDSCAPE:void 0:e>t?s.ORIENTATION.PORTRAIT:s.ORIENTATION.LANDSCAPE}},74403:t=>{t.exports=function(t){var e;return""!==t&&("string"==typeof t?e=document.getElementById(t):t&&1===t.nodeType&&(e=t)),e||(e=document.body),e}},56836:t=>{t.exports=function(t){var e="";try{window.DOMParser?e=(new DOMParser).parseFromString(t,"text/xml"):(e=new ActiveXObject("Microsoft.XMLDOM")).loadXML(t)}catch(i){e=null}return e&&e.documentElement&&!e.getElementsByTagName("parsererror").length?e:null}},35846:t=>{t.exports=function(t){t.parentNode&&t.parentNode.removeChild(t)}},43092:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(83419),n=i(29747),r=new s({initialize:function(){this.isRunning=!1,this.callback=n,this.isSetTimeOut=!1,this.timeOutID=null,this.delay=0;var t=this;this.step=function e(i){t.callback(i),t.isRunning&&(t.timeOutID=window.requestAnimationFrame(e))},this.stepTimeout=function e(){t.isRunning&&(t.timeOutID=window.setTimeout(e,t.delay)),t.callback(window.performance.now())}},start:function(t,e,i){this.isRunning||(this.callback=t,this.isSetTimeOut=e,this.delay=i,this.isRunning=!0,this.timeOutID=e?window.setTimeout(this.stepTimeout,0):window.requestAnimationFrame(this.step))},stop:function(){this.isRunning=!1,this.isSetTimeOut?clearTimeout(this.timeOutID):window.cancelAnimationFrame(this.timeOutID)},destroy:function(){this.stop(),this.callback=n}});t.exports=r},84902:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s={AddToDOM:i(40366),DOMContentLoaded:i(57264),GetInnerHeight:i(57811),GetScreenOrientation:i(45818),GetTarget:i(74403),ParseXML:i(56836),RemoveFromDOM:i(35846),RequestAnimationFrame:i(43092)};t.exports=s},47565:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(83419),n=i(50792),r=i(37277),o=new s({Extends:n,initialize:function(){n.call(this)},shutdown:function(){this.removeAllListeners()},destroy:function(){this.removeAllListeners()}});r.register("EventEmitter",o,"events"),t.exports=o},93055:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports={EventEmitter:i(47565)}},20122:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(83419),n=i(72898),r=i(14811),o=new s({Extends:n,initialize:function(t,e){void 0===e&&(e=1),n.call(this,r.BARREL,t),this.amount=e}});t.exports=o},32251:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(83419),n=i(72898),r=i(14811),o=new s({Extends:n,initialize:function(t,e,i,s,o,a,h){void 0===i&&(i=1),void 0===s&&(s=1),void 0===o&&(o=1),void 0===a&&(a=1),void 0===h&&(h=4),n.call(this,r.BLOOM,t),this.steps=h,this.offsetX=i,this.offsetY=s,this.blurStrength=o,this.strength=a,this.glcolor=[1,1,1],null!=e&&(this.color=e)},color:{get:function(){var t=this.glcolor;return(255*t[0]<<16)+(255*t[1]<<8)+(255*t[2]|0)},set:function(t){var e=this.glcolor;e[0]=(t>>16&255)/255,e[1]=(t>>8&255)/255,e[2]=(255&t)/255}}});t.exports=o},9047:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(83419),n=i(72898),r=i(14811),o=new s({Extends:n,initialize:function(t,e,i,s,o,a,h){void 0===e&&(e=0),void 0===i&&(i=2),void 0===s&&(s=2),void 0===o&&(o=1),void 0===h&&(h=4),n.call(this,r.BLUR,t),this.quality=e,this.x=i,this.y=s,this.steps=h,this.strength=o,this.glcolor=[1,1,1],null!=a&&(this.color=a)},color:{get:function(){var t=this.glcolor;return(255*t[0]<<16)+(255*t[1]<<8)+(255*t[2]|0)},set:function(t){var e=this.glcolor;e[0]=(t>>16&255)/255,e[1]=(t>>8&255)/255,e[2]=(255&t)/255}}});t.exports=o},27885:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(83419),n=i(72898),r=i(14811),o=new s({Extends:n,initialize:function(t,e,i,s,o,a,h,l){void 0===e&&(e=.5),void 0===i&&(i=1),void 0===s&&(s=.2),void 0===o&&(o=!1),void 0===a&&(a=1),void 0===h&&(h=1),void 0===l&&(l=1),n.call(this,r.BOKEH,t),this.radius=e,this.amount=i,this.contrast=s,this.isTiltShift=o,this.strength=l,this.blurX=a,this.blurY=h}});t.exports=o},12578:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(83419),n=i(72898),r=i(14811),o=new s({Extends:n,initialize:function(t,e,i,s,o,a){void 0===e&&(e=8),void 0===o&&(o=1),void 0===a&&(a=.005),n.call(this,r.CIRCLE,t),this.scale=o,this.feather=a,this.thickness=e,this.glcolor=[1,.2,.7],this.glcolor2=[1,0,0,.4],null!=i&&(this.color=i),null!=s&&(this.backgroundColor=s)},color:{get:function(){var t=this.glcolor;return(255*t[0]<<16)+(255*t[1]<<8)+(255*t[2]|0)},set:function(t){var e=this.glcolor;e[0]=(t>>16&255)/255,e[1]=(t>>8&255)/255,e[2]=(255&t)/255}},backgroundColor:{get:function(){var t=this.glcolor2;return(255*t[0]<<16)+(255*t[1]<<8)+(255*t[2]|0)},set:function(t){var e=this.glcolor2;e[0]=(t>>16&255)/255,e[1]=(t>>8&255)/255,e[2]=(255&t)/255}},backgroundAlpha:{get:function(){return this.glcolor2[3]},set:function(t){this.glcolor2[3]=t}}});t.exports=o},15802:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(83419),n=i(89422),r=i(14811),o=new s({Extends:n,initialize:function(t){n.call(this),this.type=r.COLOR_MATRIX,this.gameObject=t,this.active=!0},destroy:function(){this.gameObject=null,this._matrix=null,this._data=null}});t.exports=o},72898:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=new(i(83419))({initialize:function(t,e){this.type=t,this.gameObject=e,this.active=!0},setActive:function(t){return this.active=t,this},destroy:function(){this.gameObject=null,this.active=!1}});t.exports=s},44553:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(83419),n=i(72898),r=i(14811),o=new s({Extends:n,initialize:function(t,e,i,s){void 0===e&&(e="__WHITE"),void 0===i&&(i=.005),void 0===s&&(s=.005),n.call(this,r.DISPLACEMENT,t),this.x=i,this.y=s,this.glTexture,this.setTexture(e)},setTexture:function(t){var e=this.gameObject.scene.sys.textures.getFrame(t);return e&&(this.glTexture=e.glTexture),this}});t.exports=o},68531:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(83419),n=i(72898),r=i(14811),o=new s({Extends:n,initialize:function(t,e,i,s,o){void 0===i&&(i=4),void 0===s&&(s=0),void 0===o&&(o=!1),n.call(this,r.GLOW,t),this.outerStrength=i,this.innerStrength=s,this.knockout=o,this.glcolor=[1,1,1,1],void 0!==e&&(this.color=e)},color:{get:function(){var t=this.glcolor;return(255*t[0]<<16)+(255*t[1]<<8)+(255*t[2]|0)},set:function(t){var e=this.glcolor;e[0]=(t>>16&255)/255,e[1]=(t>>8&255)/255,e[2]=(255&t)/255}}});t.exports=o},37102:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(83419),n=i(72898),r=i(14811),o=new s({Extends:n,initialize:function(t,e,i,s,o,a,h,l,u){void 0===s&&(s=.2),void 0===o&&(o=0),void 0===a&&(a=0),void 0===h&&(h=0),void 0===l&&(l=1),void 0===u&&(u=0),n.call(this,r.GRADIENT,t),this.alpha=s,this.size=u,this.fromX=o,this.fromY=a,this.toX=h,this.toY=l,this.glcolor1=[255,0,0],this.glcolor2=[0,255,0],null!=e&&(this.color1=e),null!=i&&(this.color2=i)},color1:{get:function(){var t=this.glcolor1;return(t[0]<<16)+(t[1]<<8)+(0|t[2])},set:function(t){var e=this.glcolor1;e[0]=t>>16&255,e[1]=t>>8&255,e[2]=255&t}},color2:{get:function(){var t=this.glcolor2;return(t[0]<<16)+(t[1]<<8)+(0|t[2])},set:function(t){var e=this.glcolor2;e[0]=t>>16&255,e[1]=t>>8&255,e[2]=255&t}}});t.exports=o},86886:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(83419),n=i(72898),r=i(14811),o=new s({Extends:n,initialize:function(t,e){void 0===e&&(e=1),n.call(this,r.PIXELATE,t),this.amount=e}});t.exports=o},92322:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(83419),n=i(72898),r=i(14811),o=new s({Extends:n,initialize:function(t,e,i,s,o,a,h,l){void 0===e&&(e=0),void 0===i&&(i=0),void 0===s&&(s=.1),void 0===o&&(o=1),void 0===h&&(h=6),void 0===l&&(l=1),n.call(this,r.SHADOW,t),this.x=e,this.y=i,this.decay=s,this.power=o,this.glcolor=[0,0,0,1],this.samples=h,this.intensity=l,void 0!==a&&(this.color=a)},color:{get:function(){var t=this.glcolor;return(255*t[0]<<16)+(255*t[1]<<8)+(255*t[2]|0)},set:function(t){var e=this.glcolor;e[0]=(t>>16&255)/255,e[1]=(t>>8&255)/255,e[2]=(255&t)/255}}});t.exports=o},39563:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(83419),n=i(72898),r=i(14811),o=new s({Extends:n,initialize:function(t,e,i,s,o){void 0===e&&(e=.5),void 0===i&&(i=.5),void 0===s&&(s=3),void 0===o&&(o=!1),n.call(this,r.SHINE,t),this.speed=e,this.lineWidth=i,this.gradient=s,this.reveal=o}});t.exports=o},56448:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(83419),n=i(72898),r=i(14811),o=new s({Extends:n,initialize:function(t,e,i,s,o){void 0===e&&(e=.5),void 0===i&&(i=.5),void 0===s&&(s=.5),void 0===o&&(o=.5),n.call(this,r.VIGNETTE,t),this.x=e,this.y=i,this.radius=s,this.strength=o}});t.exports=o},38433:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(83419),n=i(72898),r=i(14811),o=new s({Extends:n,initialize:function(t,e,i,s,o){void 0===e&&(e=.1),void 0===i&&(i=0),void 0===s&&(s=0),void 0===o&&(o=!1),n.call(this,r.WIPE,t),this.progress=0,this.wipeWidth=e,this.direction=i,this.axis=s,this.reveal=o}});t.exports=o},14811:t=>{t.exports={GLOW:4,SHADOW:5,PIXELATE:6,VIGNETTE:7,SHINE:8,BLUR:9,GRADIENT:12,BLOOM:13,COLOR_MATRIX:14,CIRCLE:15,BARREL:16,DISPLACEMENT:17,WIPE:18,BOKEH:19}},66064:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(79291),n=i(14811),r={Barrel:i(20122),Controller:i(72898),Bloom:i(32251),Blur:i(9047),Bokeh:i(27885),Circle:i(12578),ColorMatrix:i(15802),Displacement:i(44553),Glow:i(68531),Gradient:i(37102),Pixelate:i(86886),Shadow:i(92322),Shine:i(39563),Vignette:i(56448),Wipe:i(38433)};r=s(!1,r,n),t.exports=r},25305:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(10312),n=i(23568);t.exports=function(t,e,i){e.x=n(i,"x",0),e.y=n(i,"y",0),e.depth=n(i,"depth",0),e.flipX=n(i,"flipX",!1),e.flipY=n(i,"flipY",!1);var r=n(i,"scale",null);"number"==typeof r?e.setScale(r):null!==r&&(e.scaleX=n(r,"x",1),e.scaleY=n(r,"y",1));var o=n(i,"scrollFactor",null);"number"==typeof o?e.setScrollFactor(o):null!==o&&(e.scrollFactorX=n(o,"x",1),e.scrollFactorY=n(o,"y",1)),e.rotation=n(i,"rotation",0);var a=n(i,"angle",null);null!==a&&(e.angle=a),e.alpha=n(i,"alpha",1);var h=n(i,"origin",null);if("number"==typeof h)e.setOrigin(h);else if(null!==h){var l=n(h,"x",.5),u=n(h,"y",.5);e.setOrigin(l,u)}return e.blendMode=n(i,"blendMode",s.NORMAL),e.visible=n(i,"visible",!0),n(i,"add",!0)&&t.sys.displayList.add(e),e.preUpdate&&t.sys.updateList.add(e),e}},13059:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(23568);t.exports=function(t,e){var i=s(e,"anims",null);if(null===i)return t;if("string"==typeof i)t.anims.play(i);else if("object"==typeof i){var n=t.anims,r=s(i,"key",void 0);if(r){var o=s(i,"startFrame",void 0),a=s(i,"delay",0),h=s(i,"repeat",0),l=s(i,"repeatDelay",0),u=s(i,"yoyo",!1),c=s(i,"play",!1),d=s(i,"delayedPlay",0),f={key:r,delay:a,repeat:h,repeatDelay:l,yoyo:u,startFrame:o};c?n.play(f):d>0?n.playAfterDelay(f,d):n.load(f)}}return t}},8050:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(83419),n=i(73162),r=i(37277),o=i(51708),a=i(44594),h=i(19186),l=new s({Extends:n,initialize:function(t){n.call(this,t),this.sortChildrenFlag=!1,this.scene=t,this.systems=t.sys,this.events=t.sys.events,this.addCallback=this.addChildCallback,this.removeCallback=this.removeChildCallback,this.events.once(a.BOOT,this.boot,this),this.events.on(a.START,this.start,this)},boot:function(){this.events.once(a.DESTROY,this.destroy,this)},addChildCallback:function(t){t.displayList&&t.displayList!==this&&t.removeFromDisplayList(),t.parentContainer&&t.parentContainer.remove(t),t.displayList||(this.queueDepthSort(),t.displayList=this,t.emit(o.ADDED_TO_SCENE,t,this.scene),this.events.emit(a.ADDED_TO_SCENE,t,this.scene))},removeChildCallback:function(t){this.queueDepthSort(),t.displayList=null,t.emit(o.REMOVED_FROM_SCENE,t,this.scene),this.events.emit(a.REMOVED_FROM_SCENE,t,this.scene)},start:function(){this.events.once(a.SHUTDOWN,this.shutdown,this)},queueDepthSort:function(){this.sortChildrenFlag=!0},depthSort:function(){this.sortChildrenFlag&&(h(this.list,this.sortByDepth),this.sortChildrenFlag=!1)},sortByDepth:function(t,e){return t._depth-e._depth},getChildren:function(){return this.list},shutdown:function(){for(var t=this.list,e=t.length;e--;)t[e]&&t[e].destroy(!0);t.length=0,this.events.off(a.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(a.START,this.start,this),this.scene=null,this.systems=null,this.events=null}});r.register("DisplayList",l,"displayList"),t.exports=l},95643:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(83419),n=i(53774),r=i(45893),o=i(50792),a=i(51708),h=i(44594),l=new s({Extends:o,initialize:function(t,e){o.call(this),this.scene=t,this.displayList=null,this.type=e,this.state=0,this.parentContainer=null,this.name="",this.active=!0,this.tabIndex=-1,this.data=null,this.renderFlags=15,this.cameraFilter=0,this.input=null,this.body=null,this.ignoreDestroy=!1,this.on(a.ADDED_TO_SCENE,this.addedToScene,this),this.on(a.REMOVED_FROM_SCENE,this.removedFromScene,this),t.sys.queueDepthSort()},setActive:function(t){return this.active=t,this},setName:function(t){return this.name=t,this},setState:function(t){return this.state=t,this},setDataEnabled:function(){return this.data||(this.data=new r(this)),this},setData:function(t,e){return this.data||(this.data=new r(this)),this.data.set(t,e),this},incData:function(t,e){return this.data||(this.data=new r(this)),this.data.inc(t,e),this},toggleData:function(t){return this.data||(this.data=new r(this)),this.data.toggle(t),this},getData:function(t){return this.data||(this.data=new r(this)),this.data.get(t)},setInteractive:function(t,e,i){return this.scene.sys.input.enable(this,t,e,i),this},disableInteractive:function(t){return void 0===t&&(t=!1),this.scene.sys.input.disable(this,t),this},removeInteractive:function(t){return void 0===t&&(t=!1),this.scene.sys.input.clear(this),t&&this.scene.sys.input.resetCursor(),this.input=void 0,this},addedToScene:function(){},removedFromScene:function(){},update:function(){},toJSON:function(){return n(this)},willRender:function(t){return!(this.displayList&&this.displayList.active&&!this.displayList.willRender(t)||l.RENDER_MASK!==this.renderFlags||0!==this.cameraFilter&&this.cameraFilter&t.id)},getIndexList:function(){for(var t=this,e=this.parentContainer,i=[];e&&(i.unshift(e.getIndex(t)),t=e,e.parentContainer);)e=e.parentContainer;return this.displayList?i.unshift(this.displayList.getIndex(t)):i.unshift(this.scene.sys.displayList.getIndex(t)),i},addToDisplayList:function(t){return void 0===t&&(t=this.scene.sys.displayList),this.displayList&&this.displayList!==t&&this.removeFromDisplayList(),t.exists(this)||(this.displayList=t,t.add(this,!0),t.queueDepthSort(),this.emit(a.ADDED_TO_SCENE,this,this.scene),t.events.emit(h.ADDED_TO_SCENE,this,this.scene)),this},addToUpdateList:function(){return this.scene&&this.preUpdate&&this.scene.sys.updateList.add(this),this},removeFromDisplayList:function(){var t=this.displayList||this.scene.sys.displayList;return t&&t.exists(this)&&(t.remove(this,!0),t.queueDepthSort(),this.displayList=null,this.emit(a.REMOVED_FROM_SCENE,this,this.scene),t.events.emit(h.REMOVED_FROM_SCENE,this,this.scene)),this},removeFromUpdateList:function(){return this.scene&&this.preUpdate&&this.scene.sys.updateList.remove(this),this},getDisplayList:function(){var t=null;return this.parentContainer?t=this.parentContainer.list:this.displayList&&(t=this.displayList.list),t},destroy:function(t){this.scene&&!this.ignoreDestroy&&(void 0===t&&(t=!1),this.preDestroy&&this.preDestroy.call(this),this.emit(a.DESTROY,this,t),this.removeAllListeners(),this.postPipelines&&this.resetPostPipeline(!0),this.removeFromDisplayList(),this.removeFromUpdateList(),this.input&&(this.scene.sys.input.clear(this),this.input=void 0),this.data&&(this.data.destroy(),this.data=void 0),this.body&&(this.body.destroy(),this.body=void 0),this.preFX&&(this.preFX.destroy(),this.preFX=void 0),this.postFX&&(this.postFX.destroy(),this.postFX=void 0),this.active=!1,this.visible=!1,this.scene=void 0,this.parentContainer=void 0)}});l.RENDER_MASK=15,t.exports=l},44603:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(83419),n=i(37277),r=i(44594),o=new s({initialize:function(t){this.scene=t,this.systems=t.sys,this.events=t.sys.events,this.displayList,this.updateList,this.events.once(r.BOOT,this.boot,this),this.events.on(r.START,this.start,this)},boot:function(){this.displayList=this.systems.displayList,this.updateList=this.systems.updateList,this.events.once(r.DESTROY,this.destroy,this)},start:function(){this.events.once(r.SHUTDOWN,this.shutdown,this)},shutdown:function(){this.events.off(r.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(r.START,this.start,this),this.scene=null,this.systems=null,this.events=null,this.displayList=null,this.updateList=null}});o.register=function(t,e){o.prototype.hasOwnProperty(t)||(o.prototype[t]=e)},o.remove=function(t){o.prototype.hasOwnProperty(t)&&delete o.prototype[t]},n.register("GameObjectCreator",o,"make"),t.exports=o},39429:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(83419),n=i(37277),r=i(44594),o=new s({initialize:function(t){this.scene=t,this.systems=t.sys,this.events=t.sys.events,this.displayList,this.updateList,this.events.once(r.BOOT,this.boot,this),this.events.on(r.START,this.start,this)},boot:function(){this.displayList=this.systems.displayList,this.updateList=this.systems.updateList,this.events.once(r.DESTROY,this.destroy,this)},start:function(){this.events.once(r.SHUTDOWN,this.shutdown,this)},existing:function(t){return(t.renderCanvas||t.renderWebGL)&&this.displayList.add(t),t.preUpdate&&this.updateList.add(t),t},shutdown:function(){this.events.off(r.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(r.START,this.start,this),this.scene=null,this.systems=null,this.events=null,this.displayList=null,this.updateList=null}});o.register=function(t,e){o.prototype.hasOwnProperty(t)||(o.prototype[t]=e)},o.remove=function(t){o.prototype.hasOwnProperty(t)&&delete o.prototype[t]},n.register("GameObjectFactory",o,"add"),t.exports=o},91296:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(61340),n=new s,r=new s,o=new s,a={camera:n,sprite:r,calc:o};t.exports=function(t,e,i){var s=n,h=r,l=o;return h.applyITRS(t.x,t.y,t.rotation,t.scaleX,t.scaleY),s.copyFrom(e.matrix),i?(s.multiplyWithOffset(i,-e.scrollX*t.scrollFactorX,-e.scrollY*t.scrollFactorY),h.e=t.x,h.f=t.y):(h.e-=e.scrollX*t.scrollFactorX,h.f-=e.scrollY*t.scrollFactorY),s.multiply(h,l),a}},45027:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(83419),n=i(25774),r=i(37277),o=i(44594),a=new s({Extends:n,initialize:function(t){n.call(this),this.checkQueue=!0,this.scene=t,this.systems=t.sys,t.sys.events.once(o.BOOT,this.boot,this),t.sys.events.on(o.START,this.start,this)},boot:function(){this.systems.events.once(o.DESTROY,this.destroy,this)},start:function(){var t=this.systems.events;t.on(o.PRE_UPDATE,this.update,this),t.on(o.UPDATE,this.sceneUpdate,this),t.once(o.SHUTDOWN,this.shutdown,this)},sceneUpdate:function(t,e){for(var i=this._active,s=i.length,n=0;n<s;n++){var r=i[n];r.active&&r.preUpdate.call(r,t,e)}},shutdown:function(){for(var t=this._active.length;t--;)this._active[t].destroy(!0);for(t=this._pending.length;t--;)this._pending[t].destroy(!0);for(t=this._destroy.length;t--;)this._destroy[t].destroy(!0);this._toProcess=0,this._pending=[],this._active=[],this._destroy=[],this.removeAllListeners();var e=this.systems.events;e.off(o.PRE_UPDATE,this.update,this),e.off(o.UPDATE,this.sceneUpdate,this),e.off(o.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.systems.events.off(o.START,this.start,this),this.scene=null,this.systems=null}});r.register("UpdateList",a,"updateList"),t.exports=a},3217:t=>{t.exports=function(t,e,i,s,n,r,o,a,h,l,u,c,d,f,p){var g=i.x-e.displayOriginX+n,m=i.y-e.displayOriginY+r,v=g+i.w,y=m+i.h,x=o.a,T=o.b,w=o.c,b=o.d,S=o.e,E=o.f,C=g*x+m*w+S,_=g*T+m*b+E,A=g*x+y*w+S,M=g*T+y*b+E,P=v*x+y*w+S,R=v*T+y*b+E,I=v*x+m*w+S,O=v*T+m*b+E;a&&(C=Math.round(C),_=Math.round(_),A=Math.round(A),M=Math.round(M),P=Math.round(P),R=Math.round(R),I=Math.round(I),O=Math.round(O)),t.batchQuad(e,C,_,A,M,P,R,I,O,s.u0,s.v0,s.u1,s.v1,h,l,u,c,d,f,p)}},53048:t=>{t.exports=function(t,e,i,s){if(void 0===i&&(i=!1),void 0===s)return s={local:{x:0,y:0,width:0,height:0},global:{x:0,y:0,width:0,height:0},lines:{shortest:0,longest:0,lengths:null,height:0},wrappedText:"",words:[],characters:[],scaleX:0,scaleY:0};var n,r,o,a=t.text,h=a.length,l=t.maxWidth,u=t.wordWrapCharCode,c=Number.MAX_VALUE,d=Number.MAX_VALUE,f=0,p=0,g=t.fontData.chars,m=t.fontData.lineHeight,v=t.letterSpacing,y=t.lineSpacing,x=0,T=0,w=0,b=null,S=t._align,E=0,C=0,_=t.fontSize/t.fontData.size,A=_*t.scaleX,M=_*t.scaleY,P=null,R=0,I=[],O=Number.MAX_VALUE,L=0,D=0,k=0,F=[],B=[],N=null,z=function(t,e){for(var i=0,s=0;s<t.length;s++){var n=t.charCodeAt(s),r=e.chars[n];r&&(i+=r.xAdvance)}return i*A};if(l>0){o=a.split("\n");var U=[];for(n=0;n<o.length;n++){var V=o[n],G="",X="",Y="",H="";for(r=0;r<V.length;r++)w=V.charCodeAt(r),G+=V[r],(w===u||r===V.length-1)&&(z(H=Y+G,t.fontData)<=l?Y=H:(X=X.slice(0,-1),X+=(X?"\n":"")+Y,Y=G),G="");X=X.slice(0,-1),X+=(X?"\n":"")+Y,U.push(X)}a=U.join("\n"),s.wrappedText=a,h=a.length}var W=0;for(n=0;n<h;n++)if(10!==(w=a.charCodeAt(n))){if(b=g[w]){if(E=x,C=T,null!==P){var j=b.kerning[R];E+=void 0!==j?j:0}c>E&&(c=E),d>C&&(d=C);var q=E+b.xAdvance,K=C+m;f<q&&(f=q),p<K&&(p=K);var $=b.xOffset+b.xAdvance+(void 0!==j?j:0);w===u?null!==N&&(F.push({word:N.word,i:N.i,x:N.x*A,y:N.y*M,w:N.w*A,h:N.h*M}),N=null):(null===N&&(N={word:"",i:W,x:x,y:T,w:0,h:m}),N.word=N.word.concat(a[n]),N.w+=$),B.push({i:W,idx:n,char:a[n],code:w,x:(b.xOffset+E)*_,y:(b.yOffset+T)*_,w:b.width*_,h:b.height*_,t:T*_,r:q*_,b:m*_,line:D,glyph:b}),x+=b.xAdvance+v+(void 0!==j?j:0),P=b,R=w,k=q*_,W++}}else null!==N&&(F.push({word:N.word,i:N.i,x:N.x*A,y:N.y*M,w:N.w*A,h:N.h*M}),N=null),P=null,I[D]=k,k>L&&(L=k),k<O&&(O=k),k=0,x=0,T=(m+y)*++D;if(null!==N&&F.push({word:N.word,i:N.i,x:N.x*A,y:N.y*M,w:N.w*A,h:N.h*M}),I[D]=k,k>L&&(L=k),k<O&&(O=k),S>0)for(var Z=0;Z<B.length;Z++){var J=B[Z];if(1===S){var Q=(L-I[J.line])/2;J.x+=Q,J.r+=Q}else if(2===S){var tt=L-I[J.line];J.x+=tt,J.r+=tt}}var et=s.local,it=s.global;return o=s.lines,et.x=c*_,et.y=d*_,et.width=f*_,et.height=p*_,it.x=t.x-t._displayOriginX+c*A,it.y=t.y-t._displayOriginY+d*M,it.width=f*A,it.height=p*M,o.shortest=O,o.longest=L,o.lengths=I,e&&(et.x=Math.ceil(et.x),et.y=Math.ceil(et.y),et.width=Math.ceil(et.width),et.height=Math.ceil(et.height),it.x=Math.ceil(it.x),it.y=Math.ceil(it.y),it.width=Math.ceil(it.width),it.height=Math.ceil(it.height),o.shortest=Math.ceil(O),o.longest=Math.ceil(L)),i&&(t._displayOriginX=t.originX*et.width,t._displayOriginY=t.originY*et.height,it.x=t.x-t._displayOriginX*t.scaleX,it.y=t.y-t._displayOriginY*t.scaleY,e&&(it.x=Math.ceil(it.x),it.y=Math.ceil(it.y))),s.words=F,s.characters=B,s.lines.height=m,s.scale=_,s.scaleX=t.scaleX,s.scaleY=t.scaleY,s}},61327:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(21859);t.exports=function(t,e,i,n,r,o,a){var h=t.sys.textures.get(i),l=h.get(n),u=t.sys.cache.xml.get(r);if(l&&u){var c=s(u,l,o,a,h);return t.sys.cache.bitmapFont.add(e,{data:c,texture:i,frame:n,fromAtlas:!0}),!0}return!1}},6925:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(35154);t.exports=function(t,e){var i=e.width,n=e.height,r=Math.floor(i/2),o=Math.floor(n/2),a=s(e,"chars","");if(""!==a){var h=s(e,"image",""),l=t.sys.textures.getFrame(h),u=l.cutX,c=l.cutY,d=l.source.width,f=l.source.height,p=s(e,"offset.x",0),g=s(e,"offset.y",0),m=s(e,"spacing.x",0),v=s(e,"spacing.y",0),y=s(e,"lineSpacing",0),x=s(e,"charsPerRow",null);null===x&&(x=d/i)>a.length&&(x=a.length);for(var T=p,w=g,b={retroFont:!0,font:h,size:i,lineHeight:n+y,chars:{}},S=0,E=0;E<a.length;E++){var C=a.charCodeAt(E),_=(u+T)/d,A=(c+w)/f,M=(u+T+i)/d,P=(c+w+n)/f;b.chars[C]={x:T,y:w,width:i,height:n,centerX:r,centerY:o,xOffset:0,yOffset:0,xAdvance:i,data:{},kerning:{},u0:_,v0:A,u1:M,v1:P},++S===x?(S=0,T=p,w+=n+v):T+=i+m}return{data:b,frame:null,texture:h}}}},21859:t=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
function e(t,e){return parseInt(t.getAttribute(e),10)}t.exports=function(t,i,s,n,r){void 0===s&&(s=0),void 0===n&&(n=0);var o=i.cutX,a=i.cutY,h=i.source.width,l=i.source.height,u=i.sourceIndex,c={},d=t.getElementsByTagName("info")[0],f=t.getElementsByTagName("common")[0];c.font=d.getAttribute("face"),c.size=e(d,"size"),c.lineHeight=e(f,"lineHeight")+n,c.chars={};var p=t.getElementsByTagName("char"),g=void 0!==i&&i.trimmed;if(g)var m=i.height,v=i.width;for(var y=0;y<p.length;y++){var x=p[y],T=e(x,"id"),w=String.fromCharCode(T),b=e(x,"x"),S=e(x,"y"),E=e(x,"width"),C=e(x,"height");g&&(b<v&&(v=b),S<m&&(m=S)),g&&0!==m&&0!==v&&(b-=i.x,S-=i.y);var _=(o+b)/h,A=(a+S)/l,M=(o+b+E)/h,P=(a+S+C)/l;if(c.chars[T]={x:b,y:S,width:E,height:C,centerX:Math.floor(E/2),centerY:Math.floor(C/2),xOffset:e(x,"xoffset"),yOffset:e(x,"yoffset"),xAdvance:e(x,"xadvance")+s,data:{},kerning:{},u0:_,v0:A,u1:M,v1:P},r&&0!==E&&0!==C){var R=r.add(w,u,b,S,E,C);R&&R.setUVs(E,C,_,A,M,P)}}var I=t.getElementsByTagName("kerning");for(y=0;y<I.length;y++){var O=I[y],L=e(O,"first"),D=e(O,"second"),k=e(O,"amount");c.chars[D].kerning[L]=k}return c}},196:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(87662),n=i(79291),r={Parse:i(6925)};r=n(!1,r,s),t.exports=r},87662:t=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var e={TEXT_SET1:" !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~",TEXT_SET2:" !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ",TEXT_SET3:"ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789 ",TEXT_SET4:"ABCDEFGHIJKLMNOPQRSTUVWXYZ 0123456789",TEXT_SET5:"ABCDEFGHIJKLMNOPQRSTUVWXYZ.,/() '!?-*:0123456789",TEXT_SET6:"ABCDEFGHIJKLMNOPQRSTUVWXYZ!?:;0123456789\"(),-.' ",TEXT_SET7:"AGMSY+:4BHNTZ!;5CIOU.?06DJPV,(17EKQW\")28FLRX-'39",TEXT_SET8:"0123456789 .ABCDEFGHIJKLMNOPQRSTUVWXYZ",TEXT_SET9:"ABCDEFGHIJKLMNOPQRSTUVWXYZ()-0123456789.:,'\"?!",TEXT_SET10:"ABCDEFGHIJKLMNOPQRSTUVWXYZ",TEXT_SET11:"ABCDEFGHIJKLMNOPQRSTUVWXYZ.,\"-+!?()':;0123456789"};t.exports=e},2638:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(22186),n=i(83419),r=i(12310),o=new n({Extends:s,Mixins:[r],initialize:function(t,e,i,n,r,o,a){s.call(this,t,e,i,n,r,o,a),this.type="DynamicBitmapText",this.scrollX=0,this.scrollY=0,this.cropWidth=0,this.cropHeight=0,this.displayCallback,this.callbackData={parent:this,color:0,tint:{topLeft:0,topRight:0,bottomLeft:0,bottomRight:0},index:0,charCode:0,x:0,y:0,scale:0,rotation:0,data:0}},setSize:function(t,e){return this.cropWidth=t,this.cropHeight=e,this},setDisplayCallback:function(t){return this.displayCallback=t,this},setScrollX:function(t){return this.scrollX=t,this},setScrollY:function(t){return this.scrollY=t,this}});t.exports=o},86741:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(20926);t.exports=function(t,e,i,n){var r=e._text,o=r.length,a=t.currentContext;if(0!==o&&s(t,a,e,i,n)){i.addToRenderList(e);var h=e.fromAtlas?e.frame:e.texture.frames.__BASE,l=e.displayCallback,u=e.callbackData,c=e.fontData.chars,d=e.fontData.lineHeight,f=e._letterSpacing,p=0,g=0,m=0,v=null,y=0,x=0,T=0,w=0,b=0,S=0,E=null,C=0,_=e.frame.source.image,A=h.cutX,M=h.cutY,P=0,R=0,I=e._fontSize/e.fontData.size,O=e._align,L=0,D=0;e.getTextBounds(!1);var k=e._bounds.lines;1===O?D=(k.longest-k.lengths[0])/2:2===O&&(D=k.longest-k.lengths[0]),a.translate(-e.displayOriginX,-e.displayOriginY);var F=i.roundPixels;e.cropWidth>0&&e.cropHeight>0&&(a.beginPath(),a.rect(0,0,e.cropWidth,e.cropHeight),a.clip());for(var B=0;B<o;B++)if(R=I,P=0,10!==(m=r.charCodeAt(B))){if(v=c[m]){if(y=A+v.x,x=M+v.y,T=v.width,w=v.height,b=v.xOffset+p-e.scrollX,S=v.yOffset+g-e.scrollY,null!==E){var N=v.kerning[C];b+=void 0!==N?N:0}if(l){u.index=B,u.charCode=m,u.x=b,u.y=S,u.scale=R,u.rotation=P,u.data=v.data;var z=l(u);b=z.x,S=z.y,R=z.scale,P=z.rotation}b*=R,S*=R,b+=D,p+=v.xAdvance+f+(void 0!==N?N:0),E=v,C=m,0!==T&&0!==w&&32!==m&&(F&&(b=Math.round(b),S=Math.round(S)),a.save(),a.translate(b,S),a.rotate(P),a.scale(R,R),a.drawImage(_,y,x,T,w,0,0,T,w),a.restore())}}else L++,1===O?D=(k.longest-k.lengths[L])/2:2===O&&(D=k.longest-k.lengths[L]),p=0,g+=d,E=null;a.restore()}}},11164:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(2638),n=i(25305),r=i(44603),o=i(23568);r.register("dynamicBitmapText",function(t,e){void 0===t&&(t={});var i=o(t,"font",""),r=o(t,"text",""),a=o(t,"size",!1),h=new s(this.scene,0,0,i,r,a);return void 0!==e&&(t.add=e),n(this.scene,h,t),h})},72566:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(2638);i(39429).register("dynamicBitmapText",function(t,e,i,n,r){return this.displayList.add(new s(this.scene,t,e,i,n,r))})},12310:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s,n;i(29747),s=i(73482),n=i(86741),t.exports={renderWebGL:s,renderCanvas:n}},73482:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(91296),n=i(61340),r=i(70554),o=new n;t.exports=function(t,e,i,n){var a=e.text,h=a.length;if(0!==h){i.addToRenderList(e);var l=t.pipelines.set(e.pipeline,e),u=s(e,i,n);t.pipelines.preBatch(e);var c=u.sprite,d=u.calc,f=o,p=e.cropWidth>0||e.cropHeight>0;p&&(l.flush(),t.pushScissor(d.tx,d.ty,e.cropWidth*d.scaleX,e.cropHeight*d.scaleY));var g,m,v=e.frame.glTexture,y=e.tintFill,x=r.getTintAppendFloatAlpha(e.tintTopLeft,i.alpha*e._alphaTL),T=r.getTintAppendFloatAlpha(e.tintTopRight,i.alpha*e._alphaTR),w=r.getTintAppendFloatAlpha(e.tintBottomLeft,i.alpha*e._alphaBL),b=r.getTintAppendFloatAlpha(e.tintBottomRight,i.alpha*e._alphaBR),S=l.setGameObject(e),E=0,C=0,_=0,A=0,M=e.letterSpacing,P=0,R=0,I=e.scrollX,O=e.scrollY,L=e.fontData,D=L.chars,k=L.lineHeight,F=e.fontSize/L.size,B=0,N=e._align,z=0,U=0,V=e.getTextBounds(!1);e.maxWidth>0&&(h=(a=V.wrappedText).length);var G=e._bounds.lines;1===N?U=(G.longest-G.lengths[0])/2:2===N&&(U=G.longest-G.lengths[0]);for(var X=i.roundPixels,Y=e.displayCallback,H=e.callbackData,W=0;W<h;W++)if(10!==(_=a.charCodeAt(W))){if(g=D[_]){P=g.width,R=g.height;var j=g.xOffset+E-I,q=g.yOffset+C-O;if(null!==m){var K=g.kerning[A]||0;j+=K,E+=K}if(E+=g.xAdvance+M,m=g,A=_,0!==P&&0!==R&&32!==_){if(F=e.fontSize/e.fontData.size,B=0,Y){H.color=0,H.tint.topLeft=x,H.tint.topRight=T,H.tint.bottomLeft=w,H.tint.bottomRight=b,H.index=W,H.charCode=_,H.x=j,H.y=q,H.scale=F,H.rotation=B,H.data=g.data;var $=Y(H);j=$.x,q=$.y,F=$.scale,B=$.rotation,$.color?(x=$.color,T=$.color,w=$.color,b=$.color):(x=$.tint.topLeft,T=$.tint.topRight,w=$.tint.bottomLeft,b=$.tint.bottomRight),x=r.getTintAppendFloatAlpha(x,i.alpha*e._alphaTL),T=r.getTintAppendFloatAlpha(T,i.alpha*e._alphaTR),w=r.getTintAppendFloatAlpha(w,i.alpha*e._alphaBL),b=r.getTintAppendFloatAlpha(b,i.alpha*e._alphaBR)}j*=F,q*=F,j-=e.displayOriginX,q-=e.displayOriginY,j+=U,f.applyITRS(j,q,B,F,F),d.multiply(f,c);var Z=g.u0,J=g.v0,Q=g.u1,tt=g.v1,et=P,it=R,st=c.e,nt=c.f,rt=it*c.c+c.e,ot=it*c.d+c.f,at=et*c.a+it*c.c+c.e,ht=et*c.b+it*c.d+c.f,lt=et*c.a+c.e,ut=et*c.b+c.f;X&&(st=Math.round(st),nt=Math.round(nt),rt=Math.round(rt),ot=Math.round(ot),at=Math.round(at),ht=Math.round(ht),lt=Math.round(lt),ut=Math.round(ut)),l.shouldFlush(6)&&(l.flush(),S=l.setGameObject(e)),l.batchQuad(e,st,nt,rt,ot,at,ht,lt,ut,Z,J,Q,tt,x,T,w,b,y,v,S)}}}else z++,1===N?U=(G.longest-G.lengths[z])/2:2===N&&(U=G.longest-G.lengths[z]),E=0,C+=k,m=null;p&&(l.flush(),t.popScissor()),t.pipelines.postBatch(e)}}},22186:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(83419),n=i(45319),r=i(31401),o=i(95643),a=i(53048),h=i(61327),l=i(21859),u=i(87841),c=i(18658),d=new s({Extends:o,Mixins:[r.Alpha,r.BlendMode,r.Depth,r.GetBounds,r.Mask,r.Origin,r.Pipeline,r.PostPipeline,r.ScrollFactor,r.Texture,r.Tint,r.Transform,r.Visible,c],initialize:function(t,e,i,s,n,r,h){void 0===n&&(n=""),void 0===h&&(h=0),o.call(this,t,"BitmapText"),this.font=s;var l=this.scene.sys.cache.bitmapFont.get(s);if(!l)throw new Error("Invalid BitmapText key: "+s);this.fontData=l.data,this._text="",this._fontSize=r||this.fontData.size,this._letterSpacing=0,this._lineSpacing=0,this._align=h,this._bounds=a(),this._dirty=!0,this._maxWidth=0,this.wordWrapCharCode=32,this.charColors=[],this.dropShadowX=0,this.dropShadowY=0,this.dropShadowColor=0,this.dropShadowAlpha=.5,this.fromAtlas=l.fromAtlas,this.setTexture(l.texture,l.frame),this.setPosition(e,i),this.setOrigin(0,0),this.initPipeline(),this.initPostPipeline(),this.setText(n)},setLeftAlign:function(){return this._align=d.ALIGN_LEFT,this._dirty=!0,this},setCenterAlign:function(){return this._align=d.ALIGN_CENTER,this._dirty=!0,this},setRightAlign:function(){return this._align=d.ALIGN_RIGHT,this._dirty=!0,this},setFontSize:function(t){return this._fontSize=t,this._dirty=!0,this},setLetterSpacing:function(t){return void 0===t&&(t=0),this._letterSpacing=t,this._dirty=!0,this},setLineSpacing:function(t){return void 0===t&&(t=0),this.lineSpacing=t,this},setText:function(t){return t||0===t||(t=""),Array.isArray(t)&&(t=t.join("\n")),t!==this.text&&(this._text=t.toString(),this._dirty=!0,this.updateDisplayOrigin()),this},setDropShadow:function(t,e,i,s){return void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=0),void 0===s&&(s=.5),this.dropShadowX=t,this.dropShadowY=e,this.dropShadowColor=i,this.dropShadowAlpha=s,this},setCharacterTint:function(t,e,i,s,r,o,a){void 0===t&&(t=0),void 0===e&&(e=1),void 0===i&&(i=!1),void 0===s&&(s=-1),void 0===r&&(r=s,o=s,a=s);var h=this.text.length;-1===e&&(e=h),t<0&&(t=h+t),t=n(t,0,h-1);for(var l=n(t+e,t,h),u=this.charColors,c=t;c<l;c++){var d=u[c];if(-1===s)u[c]=null;else{var f=i?1:0;d?(d.tintEffect=f,d.tintTL=s,d.tintTR=r,d.tintBL=o,d.tintBR=a):u[c]={tintEffect:f,tintTL:s,tintTR:r,tintBL:o,tintBR:a}}}return this},setWordTint:function(t,e,i,s,n,r,o){void 0===e&&(e=1);for(var a=this.getTextBounds().words,h="number"==typeof t,l=0,u=0;u<a.length;u++){var c=a[u];if((h&&u===t||!h&&c.word===t)&&(this.setCharacterTint(c.i,c.word.length,i,s,n,r,o),++l===e))return this}return this},getTextBounds:function(t){var e=this._bounds;return(this._dirty||t||this.scaleX!==e.scaleX||this.scaleY!==e.scaleY)&&(a(this,t,!0,e),this._dirty=!1),e},getCharacterAt:function(t,e,i){for(var s=this.getLocalPoint(t,e,null,i),n=this.getTextBounds().characters,r=new u,o=0;o<n.length;o++){var a=n[o];if(r.setTo(a.x,a.t,a.r-a.x,a.b),r.contains(s.x,s.y))return a}return null},updateDisplayOrigin:function(){return this._dirty=!0,this.getTextBounds(!1),this},setFont:function(t,e,i){void 0===e&&(e=this._fontSize),void 0===i&&(i=this._align);var s=this.scene.sys.cache.bitmapFont.get(t);return s&&(this.font=t,this.fontData=s.data,this._fontSize=e,this._align=i,this.fromAtlas=!0===s.fromAtlas,this.setTexture(s.texture,s.frame),a(this,!1,!0,this._bounds)),this},setMaxWidth:function(t,e){return this._maxWidth=t,this._dirty=!0,void 0!==e&&(this.wordWrapCharCode=e),this},setDisplaySize:function(t,e){this.setScale(1,1),this.getTextBounds(!1);var i=t/this.width,s=e/this.height;return this.setScale(i,s),this},align:{set:function(t){this._align=t,this._dirty=!0},get:function(){return this._align}},text:{set:function(t){this.setText(t)},get:function(){return this._text}},fontSize:{set:function(t){this._fontSize=t,this._dirty=!0},get:function(){return this._fontSize}},letterSpacing:{set:function(t){this._letterSpacing=t,this._dirty=!0},get:function(){return this._letterSpacing}},lineSpacing:{set:function(t){this._lineSpacing=t,this._dirty=!0},get:function(){return this._lineSpacing}},maxWidth:{set:function(t){this._maxWidth=t,this._dirty=!0},get:function(){return this._maxWidth}},width:{get:function(){return this.getTextBounds(!1),this._bounds.global.width}},height:{get:function(){return this.getTextBounds(!1),this._bounds.global.height}},displayWidth:{set:function(t){this.setScaleX(1),this.getTextBounds(!1);var e=t/this.width;this.setScaleX(e)},get:function(){return this.width}},displayHeight:{set:function(t){this.setScaleY(1),this.getTextBounds(!1);var e=t/this.height;this.setScaleY(e)},get:function(){return this.height}},toJSON:function(){var t=r.ToJSON(this),e={font:this.font,text:this.text,fontSize:this.fontSize,letterSpacing:this.letterSpacing,lineSpacing:this.lineSpacing,align:this.align};return t.data=e,t},preDestroy:function(){this.charColors.length=0,this._bounds=null,this.fontData=null}});d.ALIGN_LEFT=0,d.ALIGN_CENTER=1,d.ALIGN_RIGHT=2,d.ParseFromAtlas=h,d.ParseXMLBitmapFont=l,t.exports=d},37289:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(20926);t.exports=function(t,e,i,n){var r=e._text,o=r.length,a=t.currentContext;if(0!==o&&s(t,a,e,i,n)){i.addToRenderList(e);var h=e.fromAtlas?e.frame:e.texture.frames.__BASE,l=e.fontData.chars,u=e.fontData.lineHeight,c=e._letterSpacing,d=e._lineSpacing,f=0,p=0,g=0,m=null,v=0,y=0,x=0,T=0,w=0,b=0,S=null,E=0,C=h.source.image,_=h.cutX,A=h.cutY,M=e._fontSize/e.fontData.size,P=e._align,R=0,I=0,O=e.getTextBounds(!1);e.maxWidth>0&&(o=(r=O.wrappedText).length);var L=e._bounds.lines;1===P?I=(L.longest-L.lengths[0])/2:2===P&&(I=L.longest-L.lengths[0]),a.translate(-e.displayOriginX,-e.displayOriginY);for(var D=i.roundPixels,k=0;k<o;k++)if(10!==(g=r.charCodeAt(k))){if(m=l[g]){if(v=_+m.x,y=A+m.y,x=m.width,T=m.height,w=m.xOffset+f,b=m.yOffset+p,null!==S){var F=m.kerning[E];w+=void 0!==F?F:0}w*=M,b*=M,w+=I,f+=m.xAdvance+c+(void 0!==F?F:0),S=m,E=g,0!==x&&0!==T&&32!==g&&(D&&(w=Math.round(w),b=Math.round(b)),a.save(),a.translate(w,b),a.scale(M,M),a.drawImage(C,v,y,x,T,0,0,x,T),a.restore())}}else R++,1===P?I=(L.longest-L.lengths[R])/2:2===P&&(I=L.longest-L.lengths[R]),f=0,p+=u+d,S=null;a.restore()}}},57336:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(22186),n=i(25305),r=i(44603),o=i(23568),a=i(35154);r.register("bitmapText",function(t,e){void 0===t&&(t={});var i=a(t,"font",""),r=o(t,"text",""),h=o(t,"size",!1),l=a(t,"align",0),u=new s(this.scene,0,0,i,r,h,l);return void 0!==e&&(t.add=e),n(this.scene,u,t),u})},34914:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(22186);i(39429).register("bitmapText",function(t,e,i,n,r,o){return this.displayList.add(new s(this.scene,t,e,i,n,r,o))})},18658:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s,n;i(29747),s=i(33590),n=i(37289),t.exports={renderWebGL:s,renderCanvas:n}},33590:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(3217),n=i(91296),r=i(70554);t.exports=function(t,e,i,o){if(0!==e._text.length){i.addToRenderList(e);var a=t.pipelines.set(e.pipeline,e),h=n(e,i,o).calc;t.pipelines.preBatch(e);var l,u,c,d=i.roundPixels,f=i.alpha,p=e.charColors,g=e.tintFill,m=r.getTintAppendFloatAlpha,v=m(e.tintTopLeft,f*e._alphaTL),y=m(e.tintTopRight,f*e._alphaTR),x=m(e.tintBottomLeft,f*e._alphaBL),T=m(e.tintBottomRight,f*e._alphaBR),w=e.frame.glTexture,b=a.setGameObject(e),S=e.getTextBounds(!1).characters,E=e.dropShadowX,C=e.dropShadowY;if(0!==E||0!==C){var _=e.dropShadowColor,A=e.dropShadowAlpha,M=m(_,f*A*e._alphaTL),P=m(_,f*A*e._alphaTR),R=m(_,f*A*e._alphaBL),I=m(_,f*A*e._alphaBR);for(l=0;l<S.length;l++)c=(u=S[l]).glyph,32!==u.code&&0!==c.width&&0!==c.height&&s(a,e,u,c,E,C,h,d,M,P,R,I,1,w,b)}for(l=0;l<S.length;l++)if(c=(u=S[l]).glyph,32!==u.code&&0!==c.width&&0!==c.height)if(a.shouldFlush(6)&&(a.flush(),b=a.setGameObject(e)),p[u.i]){var O=p[u.i],L=O.tintEffect,D=m(O.tintTL,f*e._alphaTL),k=m(O.tintTR,f*e._alphaTR),F=m(O.tintBL,f*e._alphaBL),B=m(O.tintBR,f*e._alphaBR);s(a,e,u,c,0,0,h,d,D,k,F,B,L,w,b)}else s(a,e,u,c,0,0,h,d,v,y,x,T,g,w,b);t.pipelines.postBatch(e)}}},6107:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(48011),n=i(46590),r=i(83419),o=i(31401),a=i(4327),h=i(95643),l=i(73162),u=new r({Extends:h,Mixins:[o.Alpha,o.BlendMode,o.Depth,o.Mask,o.Pipeline,o.PostPipeline,o.ScrollFactor,o.Size,o.Texture,o.Transform,o.Visible,s],initialize:function(t,e,i,s,n){h.call(this,t,"Blitter"),this.setTexture(s,n),this.setPosition(e,i),this.initPipeline(),this.initPostPipeline(),this.children=new l,this.renderList=[],this.dirty=!1},create:function(t,e,i,s,r){void 0===s&&(s=!0),void 0===r&&(r=this.children.length),void 0===i?i=this.frame:i instanceof a||(i=this.texture.get(i));var o=new n(this,t,e,i,s);return this.children.addAt(o,r,!1),this.dirty=!0,o},createFromCallback:function(t,e,i,s){for(var n=this.createMultiple(e,i,s),r=0;r<n.length;r++){var o=n[r];t.call(this,o,r)}return n},createMultiple:function(t,e,i){void 0===e&&(e=this.frame.name),void 0===i&&(i=!0),Array.isArray(e)||(e=[e]);var s=[],n=this;return e.forEach(function(e){for(var r=0;r<t;r++)s.push(n.create(0,0,e,i))}),s},childCanRender:function(t){return t.visible&&t.alpha>0},getRenderList:function(){return this.dirty&&(this.renderList=this.children.list.filter(this.childCanRender,this),this.dirty=!1),this.renderList},clear:function(){this.children.removeAll(),this.dirty=!0},preDestroy:function(){this.children.destroy(),this.renderList=[]}});t.exports=u},72396:t=>{t.exports=function(t,e,i,s){var n=e.getRenderList();if(0!==n.length){var r=t.currentContext,o=i.alpha*e.alpha;if(0!==o){i.addToRenderList(e),r.globalCompositeOperation=t.blendModes[e.blendMode],r.imageSmoothingEnabled=!e.frame.source.scaleMode;var a=e.x-i.scrollX*e.scrollFactorX,h=e.y-i.scrollY*e.scrollFactorY;r.save(),s&&s.copyToContext(r);for(var l=i.roundPixels,u=0;u<n.length;u++){var c=n[u],d=c.flipX||c.flipY,f=c.frame,p=f.canvasData,g=f.x,m=f.y,v=1,y=1,x=c.alpha*o;0!==x&&(r.globalAlpha=x,d?(c.flipX&&(v=-1,g-=p.width),c.flipY&&(y=-1,m-=p.height),p.width>0&&p.height>0&&(r.save(),r.translate(c.x+a,c.y+h),r.scale(v,y),r.drawImage(f.source.image,p.x,p.y,p.width,p.height,g,m,p.width,p.height),r.restore())):(l&&(g=Math.round(g),m=Math.round(m)),p.width>0&&p.height>0&&r.drawImage(f.source.image,p.x,p.y,p.width,p.height,g+c.x+a,m+c.y+h,p.width,p.height)))}r.restore()}}}},9403:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(6107),n=i(25305),r=i(44603),o=i(23568);r.register("blitter",function(t,e){void 0===t&&(t={});var i=o(t,"key",null),r=o(t,"frame",null),a=new s(this.scene,0,0,i,r);return void 0!==e&&(t.add=e),n(this.scene,a,t),a})},12709:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(6107);i(39429).register("blitter",function(t,e,i,n){return this.displayList.add(new s(this.scene,t,e,i,n))})},48011:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s,n;i(29747),s=i(99485),n=i(72396),t.exports={renderWebGL:s,renderCanvas:n}},99485:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(61340),n=i(70554),r=new s;t.exports=function(t,e,i,s){var o=e.getRenderList(),a=i.alpha*e.alpha;if(0!==o.length&&0!==a){i.addToRenderList(e);var h=t.pipelines.set(this.pipeline,e),l=i.scrollX*e.scrollFactorX,u=i.scrollY*e.scrollFactorY,c=r.copyFrom(i.matrix);s&&(c.multiplyWithOffset(s,-l,-u),l=0,u=0);var d=e.x-l,f=e.y-u,p=-1,g=i.roundPixels;t.pipelines.preBatch(e);for(var m=0;m<o.length;m++){var v=o[m],y=v.frame,x=v.alpha*a;if(0!==x){var T=y.width,w=y.height,b=d+v.x+y.x,S=f+v.y+y.y;v.flipX&&(T*=-1,b+=y.width),v.flipY&&(w*=-1,S+=y.height);var E=c.setQuad(b,S,b+T,S+w,g),C=n.getTintAppendFloatAlpha(v.tint,x);if(y.sourceIndex!==p){var _=h.setGameObject(e,y);p=y.sourceIndex}h.batchQuad(e,E[0],E[1],E[2],E[3],E[4],E[5],E[6],E[7],y.u0,y.v0,y.u1,y.v1,C,C,C,C,!1,y.glTexture,_)&&(p=-1)}}t.pipelines.postBatch(e)}}},46590:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(83419),n=i(4327),r=new s({initialize:function(t,e,i,s,n){this.parent=t,this.x=e,this.y=i,this.frame=s,this.data={},this.tint=16777215,this._visible=n,this._alpha=1,this.flipX=!1,this.flipY=!1,this.hasTransformComponent=!0},setFrame:function(t){return void 0===t?this.frame=this.parent.frame:t instanceof n&&t.texture===this.parent.texture?this.frame=t:this.frame=this.parent.texture.get(t),this},resetFlip:function(){return this.flipX=!1,this.flipY=!1,this},reset:function(t,e,i){return this.x=t,this.y=e,this.flipX=!1,this.flipY=!1,this._alpha=1,this._visible=!0,this.parent.dirty=!0,i&&this.setFrame(i),this},setPosition:function(t,e){return this.x=t,this.y=e,this},setFlipX:function(t){return this.flipX=t,this},setFlipY:function(t){return this.flipY=t,this},setFlip:function(t,e){return this.flipX=t,this.flipY=e,this},setVisible:function(t){return this.visible=t,this},setAlpha:function(t){return this.alpha=t,this},setTint:function(t){return this.tint=t,this},destroy:function(){this.parent.dirty=!0,this.parent.children.remove(this),this.parent=void 0,this.frame=void 0,this.data=void 0},visible:{get:function(){return this._visible},set:function(t){this.parent.dirty|=this._visible!==t,this._visible=t}},alpha:{get:function(){return this._alpha},set:function(t){this.parent.dirty|=this._alpha>0!=t>0,this._alpha=t}}});t.exports=r},16005:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(45319),n={_alpha:1,_alphaTL:1,_alphaTR:1,_alphaBL:1,_alphaBR:1,clearAlpha:function(){return this.setAlpha(1)},setAlpha:function(t,e,i,n){return void 0===t&&(t=1),void 0===e?this.alpha=t:(this._alphaTL=s(t,0,1),this._alphaTR=s(e,0,1),this._alphaBL=s(i,0,1),this._alphaBR=s(n,0,1)),this},alpha:{get:function(){return this._alpha},set:function(t){var e=s(t,0,1);this._alpha=e,this._alphaTL=e,this._alphaTR=e,this._alphaBL=e,this._alphaBR=e,0===e?this.renderFlags&=-3:this.renderFlags|=2}},alphaTopLeft:{get:function(){return this._alphaTL},set:function(t){var e=s(t,0,1);this._alphaTL=e,0!==e&&(this.renderFlags|=2)}},alphaTopRight:{get:function(){return this._alphaTR},set:function(t){var e=s(t,0,1);this._alphaTR=e,0!==e&&(this.renderFlags|=2)}},alphaBottomLeft:{get:function(){return this._alphaBL},set:function(t){var e=s(t,0,1);this._alphaBL=e,0!==e&&(this.renderFlags|=2)}},alphaBottomRight:{get:function(){return this._alphaBR},set:function(t){var e=s(t,0,1);this._alphaBR=e,0!==e&&(this.renderFlags|=2)}}};t.exports=n},88509:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(45319),n={_alpha:1,clearAlpha:function(){return this.setAlpha(1)},setAlpha:function(t){return void 0===t&&(t=1),this.alpha=t,this},alpha:{get:function(){return this._alpha},set:function(t){var e=s(t,0,1);this._alpha=e,0===e?this.renderFlags&=-3:this.renderFlags|=2}}};t.exports=n},90065:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(10312),n={_blendMode:s.NORMAL,blendMode:{get:function(){return this._blendMode},set:function(t){"string"==typeof t&&(t=s[t]),(t|=0)>=-1&&(this._blendMode=t)}},setBlendMode:function(t){return this.blendMode=t,this}};t.exports=n},94215:t=>{t.exports={width:0,height:0,displayWidth:{get:function(){return this.scaleX*this.width},set:function(t){this.scaleX=t/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(t){this.scaleY=t/this.height}},setSize:function(t,e){return this.width=t,this.height=e,this},setDisplaySize:function(t,e){return this.displayWidth=t,this.displayHeight=e,this}}},61683:t=>{t.exports={texture:null,frame:null,isCropped:!1,setCrop:function(t,e,i,s){if(void 0===t)this.isCropped=!1;else if(this.frame){if("number"==typeof t)this.frame.setCropUVs(this._crop,t,e,i,s,this.flipX,this.flipY);else{var n=t;this.frame.setCropUVs(this._crop,n.x,n.y,n.width,n.height,this.flipX,this.flipY)}this.isCropped=!0}return this},resetCropObject:function(){return{u0:0,v0:0,u1:0,v1:0,width:0,height:0,x:0,y:0,flipX:!1,flipY:!1,cx:0,cy:0,cw:0,ch:0}}}},89272:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(37105),n={_depth:0,depth:{get:function(){return this._depth},set:function(t){this.displayList&&this.displayList.queueDepthSort(),this._depth=t}},setDepth:function(t){return void 0===t&&(t=0),this.depth=t,this},setToTop:function(){var t=this.getDisplayList();return t&&s.BringToTop(t,this),this},setToBack:function(){var t=this.getDisplayList();return t&&s.SendToBack(t,this),this},setAbove:function(t){var e=this.getDisplayList();return e&&t&&s.MoveAbove(e,this,t),this},setBelow:function(t){var e=this.getDisplayList();return e&&t&&s.MoveBelow(e,this,t),this}};t.exports=n},47059:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(83419),n=i(66064),r=i(19133),o=new s({initialize:function(t,e){this.gameObject=t,this.isPost=e,this.enabled=!1,this.list=[],this.padding=0},setPadding:function(t){return void 0===t&&(t=0),this.padding=t,this.gameObject},onFXCopy:function(){},onFX:function(){},enable:function(t){if(!this.isPost){var e=this.gameObject.scene.sys.renderer;e&&e.pipelines?(this.gameObject.pipeline=e.pipelines.FX_PIPELINE,void 0!==t&&(this.padding=t),this.enabled=!0):this.enabled=!1}},clear:function(){if(this.isPost)this.gameObject.resetPostPipeline(!0);else{for(var t=this.list,e=0;e<t.length;e++)t[e].destroy();this.list=[]}return this.enabled=!1,this.gameObject},remove:function(t){var e;if(this.isPost){var i=this.gameObject.getPostPipeline(String(t.type));for(Array.isArray(i)||(i=[i]),e=0;e<i.length;e++){var s=i[e];if(s.controller===t){this.gameObject.removePostPipeline(s),t.destroy();break}}}else{var n=this.list;for(e=0;e<n.length;e++)n[e]===t&&(r(n,e),t.destroy())}return this.gameObject},disable:function(t){return void 0===t&&(t=!1),this.isPost||this.gameObject.resetPipeline(),this.enabled=!1,t&&this.clear(),this.gameObject},add:function(t,e){if(!this.isPost)return this.enabled||this.enable(),this.list.push(t),t;var i=String(t.type);this.gameObject.setPostPipeline(i,e);var s=this.gameObject.getPostPipeline(i);return s?(Array.isArray(s)&&(s=s.pop()),s&&(s.controller=t),t):void 0},addGlow:function(t,e,i,s,r,o){return this.add(new n.Glow(this.gameObject,t,e,i,s),{quality:r,distance:o})},addShadow:function(t,e,i,s,r,o,a){return this.add(new n.Shadow(this.gameObject,t,e,i,s,r,o,a))},addPixelate:function(t){return this.add(new n.Pixelate(this.gameObject,t))},addVignette:function(t,e,i,s){return this.add(new n.Vignette(this.gameObject,t,e,i,s))},addShine:function(t,e,i,s){return this.add(new n.Shine(this.gameObject,t,e,i,s))},addBlur:function(t,e,i,s,r,o){return this.add(new n.Blur(this.gameObject,t,e,i,s,r,o))},addGradient:function(t,e,i,s,r,o,a,h){return this.add(new n.Gradient(this.gameObject,t,e,i,s,r,o,a,h))},addBloom:function(t,e,i,s,r,o){return this.add(new n.Bloom(this.gameObject,t,e,i,s,r,o))},addColorMatrix:function(){return this.add(new n.ColorMatrix(this.gameObject))},addCircle:function(t,e,i,s,r){return this.add(new n.Circle(this.gameObject,t,e,i,s,r))},addBarrel:function(t){return this.add(new n.Barrel(this.gameObject,t))},addDisplacement:function(t,e,i){return this.add(new n.Displacement(this.gameObject,t,e,i))},addWipe:function(t,e,i){return this.add(new n.Wipe(this.gameObject,t,e,i))},addReveal:function(t,e,i){return this.add(new n.Wipe(this.gameObject,t,e,i,!0))},addBokeh:function(t,e,i){return this.add(new n.Bokeh(this.gameObject,t,e,i))},addTiltShift:function(t,e,i,s,r,o){return this.add(new n.Bokeh(this.gameObject,t,e,i,!0,s,r,o))},destroy:function(){this.clear(),this.gameObject=null}});t.exports=o},54434:t=>{t.exports={flipX:!1,flipY:!1,toggleFlipX:function(){return this.flipX=!this.flipX,this},toggleFlipY:function(){return this.flipY=!this.flipY,this},setFlipX:function(t){return this.flipX=t,this},setFlipY:function(t){return this.flipY=t,this},setFlip:function(t,e){return this.flipX=t,this.flipY=e,this},resetFlip:function(){return this.flipX=!1,this.flipY=!1,this}}},8004:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(87841),n=i(11520),r=i(26099),o={prepareBoundsOutput:function(t,e){return void 0===e&&(e=!1),0!==this.rotation&&n(t,this.x,this.y,this.rotation),e&&this.parentContainer&&this.parentContainer.getBoundsTransformMatrix().transformPoint(t.x,t.y,t),t},getCenter:function(t,e){return void 0===t&&(t=new r),t.x=this.x-this.displayWidth*this.originX+this.displayWidth/2,t.y=this.y-this.displayHeight*this.originY+this.displayHeight/2,this.prepareBoundsOutput(t,e)},getTopLeft:function(t,e){return t||(t=new r),t.x=this.x-this.displayWidth*this.originX,t.y=this.y-this.displayHeight*this.originY,this.prepareBoundsOutput(t,e)},getTopCenter:function(t,e){return t||(t=new r),t.x=this.x-this.displayWidth*this.originX+this.displayWidth/2,t.y=this.y-this.displayHeight*this.originY,this.prepareBoundsOutput(t,e)},getTopRight:function(t,e){return t||(t=new r),t.x=this.x-this.displayWidth*this.originX+this.displayWidth,t.y=this.y-this.displayHeight*this.originY,this.prepareBoundsOutput(t,e)},getLeftCenter:function(t,e){return t||(t=new r),t.x=this.x-this.displayWidth*this.originX,t.y=this.y-this.displayHeight*this.originY+this.displayHeight/2,this.prepareBoundsOutput(t,e)},getRightCenter:function(t,e){return t||(t=new r),t.x=this.x-this.displayWidth*this.originX+this.displayWidth,t.y=this.y-this.displayHeight*this.originY+this.displayHeight/2,this.prepareBoundsOutput(t,e)},getBottomLeft:function(t,e){return t||(t=new r),t.x=this.x-this.displayWidth*this.originX,t.y=this.y-this.displayHeight*this.originY+this.displayHeight,this.prepareBoundsOutput(t,e)},getBottomCenter:function(t,e){return t||(t=new r),t.x=this.x-this.displayWidth*this.originX+this.displayWidth/2,t.y=this.y-this.displayHeight*this.originY+this.displayHeight,this.prepareBoundsOutput(t,e)},getBottomRight:function(t,e){return t||(t=new r),t.x=this.x-this.displayWidth*this.originX+this.displayWidth,t.y=this.y-this.displayHeight*this.originY+this.displayHeight,this.prepareBoundsOutput(t,e)},getBounds:function(t){var e,i,n,r,o,a,h,l;if(void 0===t&&(t=new s),this.parentContainer){var u=this.parentContainer.getBoundsTransformMatrix();this.getTopLeft(t),u.transformPoint(t.x,t.y,t),e=t.x,i=t.y,this.getTopRight(t),u.transformPoint(t.x,t.y,t),n=t.x,r=t.y,this.getBottomLeft(t),u.transformPoint(t.x,t.y,t),o=t.x,a=t.y,this.getBottomRight(t),u.transformPoint(t.x,t.y,t),h=t.x,l=t.y}else this.getTopLeft(t),e=t.x,i=t.y,this.getTopRight(t),n=t.x,r=t.y,this.getBottomLeft(t),o=t.x,a=t.y,this.getBottomRight(t),h=t.x,l=t.y;return t.x=Math.min(e,n,o,h),t.y=Math.min(i,r,a,l),t.width=Math.max(e,n,o,h)-t.x,t.height=Math.max(i,r,a,l)-t.y,t}};t.exports=o},8573:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(6858),n=i(80661),r={mask:null,setMask:function(t){return this.mask=t,this},clearMask:function(t){return void 0===t&&(t=!1),t&&this.mask&&this.mask.destroy(),this.mask=null,this},createBitmapMask:function(t,e,i,n,r){return void 0===t&&(this.texture||this.shader||this.geom)&&(t=this),new s(this.scene,t,e,i,n,r)},createGeometryMask:function(t){return void 0!==t||"Graphics"!==this.type&&!this.geom||(t=this),new n(this.scene,t)}};t.exports=r},27387:t=>{t.exports={_originComponent:!0,originX:.5,originY:.5,_displayOriginX:0,_displayOriginY:0,displayOriginX:{get:function(){return this._displayOriginX},set:function(t){this._displayOriginX=t,this.originX=t/this.width}},displayOriginY:{get:function(){return this._displayOriginY},set:function(t){this._displayOriginY=t,this.originY=t/this.height}},setOrigin:function(t,e){return void 0===t&&(t=.5),void 0===e&&(e=t),this.originX=t,this.originY=e,this.updateDisplayOrigin()},setOriginFromFrame:function(){return this.frame&&this.frame.customPivot?(this.originX=this.frame.pivotX,this.originY=this.frame.pivotY,this.updateDisplayOrigin()):this.setOrigin()},setDisplayOrigin:function(t,e){return void 0===t&&(t=0),void 0===e&&(e=t),this.displayOriginX=t,this.displayOriginY=e,this},updateDisplayOrigin:function(){return this._displayOriginX=this.originX*this.width,this._displayOriginY=this.originY*this.height,this}}},37640:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(39506),n=i(57355),r=i(35154),o=i(86353),a=i(26099),h={path:null,rotateToPath:!1,pathRotationOffset:0,pathOffset:null,pathVector:null,pathDelta:null,pathTween:null,pathConfig:null,_prevDirection:o.PLAYING_FORWARD,setPath:function(t,e){void 0===e&&(e=this.pathConfig);var i=this.pathTween;return i&&i.isPlaying()&&i.stop(),this.path=t,e&&this.startFollow(e),this},setRotateToPath:function(t,e){return void 0===e&&(e=0),this.rotateToPath=t,this.pathRotationOffset=e,this},isFollowing:function(){var t=this.pathTween;return t&&t.isPlaying()},startFollow:function(t,e){void 0===t&&(t={}),void 0===e&&(e=0);var i=this.pathTween;i&&i.isPlaying()&&i.stop(),"number"==typeof t&&(t={duration:t}),t.from=r(t,"from",0),t.to=r(t,"to",1);var h=n(t,"positionOnPath",!1);this.rotateToPath=n(t,"rotateToPath",!1),this.pathRotationOffset=r(t,"rotationOffset",0);var l=r(t,"startAt",e);if(l&&(t.onStart=function(t){var e=t.data[0];e.progress=l,e.elapsed=e.duration*l;var i=e.ease(e.progress);e.current=e.start+(e.end-e.start)*i,e.setTargetValue()}),this.pathOffset||(this.pathOffset=new a(this.x,this.y)),this.pathVector||(this.pathVector=new a),this.pathDelta||(this.pathDelta=new a),this.pathDelta.reset(),t.persist=!0,this.pathTween=this.scene.sys.tweens.addCounter(t),this.path.getStartPoint(this.pathOffset),h&&(this.x=this.pathOffset.x,this.y=this.pathOffset.y),this.pathOffset.x=this.x-this.pathOffset.x,this.pathOffset.y=this.y-this.pathOffset.y,this._prevDirection=o.PLAYING_FORWARD,this.rotateToPath){var u=this.path.getPoint(.1);this.rotation=Math.atan2(u.y-this.y,u.x-this.x)+s(this.pathRotationOffset)}return this.pathConfig=t,this},pauseFollow:function(){var t=this.pathTween;return t&&t.isPlaying()&&t.pause(),this},resumeFollow:function(){var t=this.pathTween;return t&&t.isPaused()&&t.resume(),this},stopFollow:function(){var t=this.pathTween;return t&&t.isPlaying()&&t.stop(),this},pathUpdate:function(){var t=this.pathTween;if(t&&t.data){var e=t.data[0],i=this.pathDelta,n=this.pathVector;if(i.copy(n).negate(),e.state===o.COMPLETE)return this.path.getPoint(e.end,n),i.add(n),n.add(this.pathOffset),void this.setPosition(n.x,n.y);if(e.state!==o.PLAYING_FORWARD&&e.state!==o.PLAYING_BACKWARD)return;this.path.getPoint(t.getValue(),n),i.add(n),n.add(this.pathOffset);var r=this.x,a=this.y;this.setPosition(n.x,n.y);var h=this.x-r,l=this.y-a;if(0===h&&0===l)return;if(e.state!==this._prevDirection)return void(this._prevDirection=e.state);this.rotateToPath&&(this.rotation=Math.atan2(l,h)+s(this.pathRotationOffset))}}};t.exports=h},72699:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(62644),n={defaultPipeline:null,pipeline:null,pipelineData:null,initPipeline:function(t){this.pipelineData={};var e=this.scene.sys.renderer;if(!e)return!1;var i=e.pipelines;if(i){void 0===t&&(t=i.default);var s=i.get(t);if(s)return this.defaultPipeline=s,this.pipeline=s,!0}return!1},setPipeline:function(t,e,i){var n=this.scene.sys.renderer;if(!n)return this;var r=n.pipelines;if(r){var o=r.get(t);o&&(this.pipeline=o),e&&(this.pipelineData=i?s(e):e)}return this},setPipelineData:function(t,e){var i=this.pipelineData;return void 0===e?delete i[t]:i[t]=e,this},resetPipeline:function(t){return void 0===t&&(t=!1),this.pipeline=this.defaultPipeline,t&&(this.pipelineData={}),null!==this.pipeline},getPipelineName:function(){return null===this.pipeline?null:this.pipeline.name}};t.exports=n},17581:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(62644),n=i(47059),r=i(19133),o={hasPostPipeline:!1,postPipelines:null,postPipelineData:null,preFX:null,postFX:null,initPostPipeline:function(t){this.postPipelines=[],this.postPipelineData={},this.postFX=new n(this,!0),t&&(this.preFX=new n(this,!1))},setPostPipeline:function(t,e,i){var n=this.scene.sys.renderer;if(!n)return this;var r=n.pipelines;if(r){Array.isArray(t)||(t=[t]);for(var o=0;o<t.length;o++){var a=r.getPostPipeline(t[o],this,e);a&&this.postPipelines.push(a)}e&&(this.postPipelineData=i?s(e):e)}return this.hasPostPipeline=this.postPipelines.length>0,this},setPostPipelineData:function(t,e){var i=this.postPipelineData;return void 0===e?delete i[t]:i[t]=e,this},getPostPipeline:function(t){for(var e="string"==typeof t,i=this.postPipelines,s=[],n=0;n<i.length;n++){var r=i[n];(e&&r.name===t||!e&&r instanceof t)&&s.push(r)}return 1===s.length?s[0]:s},resetPostPipeline:function(t){void 0===t&&(t=!1);for(var e=this.postPipelines,i=0;i<e.length;i++)e[i].destroy();this.postPipelines=[],this.hasPostPipeline=!1,t&&(this.postPipelineData={})},removePostPipeline:function(t){for(var e="string"==typeof t,i=this.postPipelines,s=i.length-1;s>=0;s--){var n=i[s];(e&&n.name===t||!e&&n===t)&&(n.destroy(),r(i,s))}return this.hasPostPipeline=this.postPipelines.length>0,this},clearFX:function(){return this.preFX&&this.preFX.clear(),this.postFX&&this.postFX.clear(),this}};t.exports=o},80227:t=>{t.exports={scrollFactorX:1,scrollFactorY:1,setScrollFactor:function(t,e){return void 0===e&&(e=t),this.scrollFactorX=t,this.scrollFactorY=e,this}}},16736:t=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var e={_sizeComponent:!0,width:0,height:0,displayWidth:{get:function(){return Math.abs(this.scaleX*this.frame.realWidth)},set:function(t){this.scaleX=t/this.frame.realWidth}},displayHeight:{get:function(){return Math.abs(this.scaleY*this.frame.realHeight)},set:function(t){this.scaleY=t/this.frame.realHeight}},setSizeToFrame:function(t){t||(t=this.frame),this.width=t.realWidth,this.height=t.realHeight;var e=this.input;return e&&!e.customHitArea&&(e.hitArea.width=this.width,e.hitArea.height=this.height),this},setSize:function(t,e){return this.width=t,this.height=e,this},setDisplaySize:function(t,e){return this.displayWidth=t,this.displayHeight=e,this}};t.exports=e},37726:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(4327),n={texture:null,frame:null,isCropped:!1,setTexture:function(t,e,i,s){return this.texture=this.scene.sys.textures.get(t),this.setFrame(e,i,s)},setFrame:function(t,e,i){return void 0===e&&(e=!0),void 0===i&&(i=!0),t instanceof s?(this.texture=this.scene.sys.textures.get(t.texture.key),this.frame=t):this.frame=this.texture.get(t),this.frame.cutWidth&&this.frame.cutHeight?this.renderFlags|=8:this.renderFlags&=-9,this._sizeComponent&&e&&this.setSizeToFrame(),this._originComponent&&i&&(this.frame.customPivot?this.setOrigin(this.frame.pivotX,this.frame.pivotY):this.updateDisplayOrigin()),this}};t.exports=n},79812:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(4327),n={texture:null,frame:null,isCropped:!1,setCrop:function(t,e,i,s){if(void 0===t)this.isCropped=!1;else if(this.frame){if("number"==typeof t)this.frame.setCropUVs(this._crop,t,e,i,s,this.flipX,this.flipY);else{var n=t;this.frame.setCropUVs(this._crop,n.x,n.y,n.width,n.height,this.flipX,this.flipY)}this.isCropped=!0}return this},setTexture:function(t,e){return this.texture=this.scene.sys.textures.get(t),this.setFrame(e)},setFrame:function(t,e,i){return void 0===e&&(e=!0),void 0===i&&(i=!0),t instanceof s?(this.texture=this.scene.sys.textures.get(t.texture.key),this.frame=t):this.frame=this.texture.get(t),this.frame.cutWidth&&this.frame.cutHeight?this.renderFlags|=8:this.renderFlags&=-9,this._sizeComponent&&e&&this.setSizeToFrame(),this._originComponent&&i&&(this.frame.customPivot?this.setOrigin(this.frame.pivotX,this.frame.pivotY):this.updateDisplayOrigin()),this.isCropped&&this.frame.updateCropUVs(this._crop,this.flipX,this.flipY),this},resetCropObject:function(){return{u0:0,v0:0,u1:0,v1:0,width:0,height:0,x:0,y:0,flipX:!1,flipY:!1,cx:0,cy:0,cw:0,ch:0}}};t.exports=n},27472:t=>{t.exports={tintTopLeft:16777215,tintTopRight:16777215,tintBottomLeft:16777215,tintBottomRight:16777215,tintFill:!1,clearTint:function(){return this.setTint(16777215),this},setTint:function(t,e,i,s){return void 0===t&&(t=16777215),void 0===e&&(e=t,i=t,s=t),this.tintTopLeft=t,this.tintTopRight=e,this.tintBottomLeft=i,this.tintBottomRight=s,this.tintFill=!1,this},setTintFill:function(t,e,i,s){return this.setTint(t,e,i,s),this.tintFill=!0,this},tint:{get:function(){return this.tintTopLeft},set:function(t){this.setTint(t,t,t,t)}},isTinted:{get:function(){var t=16777215;return this.tintFill||this.tintTopLeft!==t||this.tintTopRight!==t||this.tintBottomLeft!==t||this.tintBottomRight!==t}}}},53774:t=>{t.exports=function(t){var e={name:t.name,type:t.type,x:t.x,y:t.y,depth:t.depth,scale:{x:t.scaleX,y:t.scaleY},origin:{x:t.originX,y:t.originY},flipX:t.flipX,flipY:t.flipY,rotation:t.rotation,alpha:t.alpha,visible:t.visible,blendMode:t.blendMode,textureKey:"",frameKey:"",data:{}};return t.texture&&(e.textureKey=t.texture.key,e.frameKey=t.frame.name),e}},16901:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(36383),n=i(61340),r=i(85955),o=i(86554),a=i(30954),h=i(26099),l={hasTransformComponent:!0,_scaleX:1,_scaleY:1,_rotation:0,x:0,y:0,z:0,w:0,scale:{get:function(){return(this._scaleX+this._scaleY)/2},set:function(t){this._scaleX=t,this._scaleY=t,0===t?this.renderFlags&=-5:this.renderFlags|=4}},scaleX:{get:function(){return this._scaleX},set:function(t){this._scaleX=t,0===t?this.renderFlags&=-5:0!==this._scaleY&&(this.renderFlags|=4)}},scaleY:{get:function(){return this._scaleY},set:function(t){this._scaleY=t,0===t?this.renderFlags&=-5:0!==this._scaleX&&(this.renderFlags|=4)}},angle:{get:function(){return a(this._rotation*s.RAD_TO_DEG)},set:function(t){this.rotation=a(t)*s.DEG_TO_RAD}},rotation:{get:function(){return this._rotation},set:function(t){this._rotation=o(t)}},setPosition:function(t,e,i,s){return void 0===t&&(t=0),void 0===e&&(e=t),void 0===i&&(i=0),void 0===s&&(s=0),this.x=t,this.y=e,this.z=i,this.w=s,this},copyPosition:function(t){return void 0!==t.x&&(this.x=t.x),void 0!==t.y&&(this.y=t.y),void 0!==t.z&&(this.z=t.z),void 0!==t.w&&(this.w=t.w),this},setRandomPosition:function(t,e,i,s){return void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=this.scene.sys.scale.width),void 0===s&&(s=this.scene.sys.scale.height),this.x=t+Math.random()*i,this.y=e+Math.random()*s,this},setRotation:function(t){return void 0===t&&(t=0),this.rotation=t,this},setAngle:function(t){return void 0===t&&(t=0),this.angle=t,this},setScale:function(t,e){return void 0===t&&(t=1),void 0===e&&(e=t),this.scaleX=t,this.scaleY=e,this},setX:function(t){return void 0===t&&(t=0),this.x=t,this},setY:function(t){return void 0===t&&(t=0),this.y=t,this},setZ:function(t){return void 0===t&&(t=0),this.z=t,this},setW:function(t){return void 0===t&&(t=0),this.w=t,this},getLocalTransformMatrix:function(t){return void 0===t&&(t=new n),t.applyITRS(this.x,this.y,this._rotation,this._scaleX,this._scaleY)},getWorldTransformMatrix:function(t,e){void 0===t&&(t=new n);var i=this.parentContainer;if(!i)return this.getLocalTransformMatrix(t);var s=!1;for(e||(e=new n,s=!0),t.applyITRS(this.x,this.y,this._rotation,this._scaleX,this._scaleY);i;)e.applyITRS(i.x,i.y,i._rotation,i._scaleX,i._scaleY),e.multiply(t,t),i=i.parentContainer;return s&&e.destroy(),t},getLocalPoint:function(t,e,i,s){i||(i=new h),s||(s=this.scene.sys.cameras.main);var n=s.scrollX,o=s.scrollY,a=t+n*this.scrollFactorX-n,l=e+o*this.scrollFactorY-o;return this.parentContainer?this.getWorldTransformMatrix().applyInverse(a,l,i):r(a,l,this.x,this.y,this.rotation,this.scaleX,this.scaleY,i),this._originComponent&&(i.x+=this._displayOriginX,i.y+=this._displayOriginY),i},getWorldPoint:function(t,e,i){if(void 0===t&&(t=new h),!this.parentContainer)return t.x=this.x,t.y=this.y,t;var s=this.getWorldTransformMatrix(e,i);return t.x=s.tx,t.y=s.ty,t},getParentRotation:function(){for(var t=0,e=this.parentContainer;e;)t+=e.rotation,e=e.parentContainer;return t}};t.exports=l},61340:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(83419),n=i(36383),r=i(26099),o=new s({initialize:function(t,e,i,s,n,r){void 0===t&&(t=1),void 0===e&&(e=0),void 0===i&&(i=0),void 0===s&&(s=1),void 0===n&&(n=0),void 0===r&&(r=0),this.matrix=new Float32Array([t,e,i,s,n,r,0,0,1]),this.decomposedMatrix={translateX:0,translateY:0,scaleX:1,scaleY:1,rotation:0},this.quad=new Float32Array(8)},a:{get:function(){return this.matrix[0]},set:function(t){this.matrix[0]=t}},b:{get:function(){return this.matrix[1]},set:function(t){this.matrix[1]=t}},c:{get:function(){return this.matrix[2]},set:function(t){this.matrix[2]=t}},d:{get:function(){return this.matrix[3]},set:function(t){this.matrix[3]=t}},e:{get:function(){return this.matrix[4]},set:function(t){this.matrix[4]=t}},f:{get:function(){return this.matrix[5]},set:function(t){this.matrix[5]=t}},tx:{get:function(){return this.matrix[4]},set:function(t){this.matrix[4]=t}},ty:{get:function(){return this.matrix[5]},set:function(t){this.matrix[5]=t}},rotation:{get:function(){return Math.acos(this.a/this.scaleX)*(Math.atan(-this.c/this.a)<0?-1:1)}},rotationNormalized:{get:function(){var t=this.matrix,e=t[0],i=t[1],s=t[2],r=t[3];return e||i?i>0?Math.acos(e/this.scaleX):-Math.acos(e/this.scaleX):s||r?n.TAU-(r>0?Math.acos(-s/this.scaleY):-Math.acos(s/this.scaleY)):0}},scaleX:{get:function(){return Math.sqrt(this.a*this.a+this.b*this.b)}},scaleY:{get:function(){return Math.sqrt(this.c*this.c+this.d*this.d)}},loadIdentity:function(){var t=this.matrix;return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,this},translate:function(t,e){var i=this.matrix;return i[4]=i[0]*t+i[2]*e+i[4],i[5]=i[1]*t+i[3]*e+i[5],this},scale:function(t,e){var i=this.matrix;return i[0]*=t,i[1]*=t,i[2]*=e,i[3]*=e,this},rotate:function(t){var e=Math.sin(t),i=Math.cos(t),s=this.matrix,n=s[0],r=s[1],o=s[2],a=s[3];return s[0]=n*i+o*e,s[1]=r*i+a*e,s[2]=n*-e+o*i,s[3]=r*-e+a*i,this},multiply:function(t,e){var i=this.matrix,s=t.matrix,n=i[0],r=i[1],o=i[2],a=i[3],h=i[4],l=i[5],u=s[0],c=s[1],d=s[2],f=s[3],p=s[4],g=s[5],m=void 0===e?i:e.matrix;return m[0]=u*n+c*o,m[1]=u*r+c*a,m[2]=d*n+f*o,m[3]=d*r+f*a,m[4]=p*n+g*o+h,m[5]=p*r+g*a+l,m},multiplyWithOffset:function(t,e,i){var s=this.matrix,n=t.matrix,r=s[0],o=s[1],a=s[2],h=s[3],l=e*r+i*a+s[4],u=e*o+i*h+s[5],c=n[0],d=n[1],f=n[2],p=n[3],g=n[4],m=n[5];return s[0]=c*r+d*a,s[1]=c*o+d*h,s[2]=f*r+p*a,s[3]=f*o+p*h,s[4]=g*r+m*a+l,s[5]=g*o+m*h+u,this},transform:function(t,e,i,s,n,r){var o=this.matrix,a=o[0],h=o[1],l=o[2],u=o[3],c=o[4],d=o[5];return o[0]=t*a+e*l,o[1]=t*h+e*u,o[2]=i*a+s*l,o[3]=i*h+s*u,o[4]=n*a+r*l+c,o[5]=n*h+r*u+d,this},transformPoint:function(t,e,i){void 0===i&&(i={x:0,y:0});var s=this.matrix,n=s[0],r=s[1],o=s[2],a=s[3],h=s[4],l=s[5];return i.x=t*n+e*o+h,i.y=t*r+e*a+l,i},invert:function(){var t=this.matrix,e=t[0],i=t[1],s=t[2],n=t[3],r=t[4],o=t[5],a=e*n-i*s;return t[0]=n/a,t[1]=-i/a,t[2]=-s/a,t[3]=e/a,t[4]=(s*o-n*r)/a,t[5]=-(e*o-i*r)/a,this},copyFrom:function(t){var e=this.matrix;return e[0]=t.a,e[1]=t.b,e[2]=t.c,e[3]=t.d,e[4]=t.e,e[5]=t.f,this},copyFromArray:function(t){var e=this.matrix;return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],this},copyToContext:function(t){var e=this.matrix;return t.transform(e[0],e[1],e[2],e[3],e[4],e[5]),t},setToContext:function(t){return t.setTransform(this.a,this.b,this.c,this.d,this.e,this.f),t},copyToArray:function(t){var e=this.matrix;return void 0===t?t=[e[0],e[1],e[2],e[3],e[4],e[5]]:(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5]),t},setTransform:function(t,e,i,s,n,r){var o=this.matrix;return o[0]=t,o[1]=e,o[2]=i,o[3]=s,o[4]=n,o[5]=r,this},decomposeMatrix:function(){var t=this.decomposedMatrix,e=this.matrix,i=e[0],s=e[1],n=e[2],r=e[3],o=i*r-s*n;if(t.translateX=e[4],t.translateY=e[5],i||s){var a=Math.sqrt(i*i+s*s);t.rotation=s>0?Math.acos(i/a):-Math.acos(i/a),t.scaleX=a,t.scaleY=o/a}else if(n||r){var h=Math.sqrt(n*n+r*r);t.rotation=.5*Math.PI-(r>0?Math.acos(-n/h):-Math.acos(n/h)),t.scaleX=o/h,t.scaleY=h}else t.rotation=0,t.scaleX=0,t.scaleY=0;return t},applyITRS:function(t,e,i,s,n){var r=this.matrix,o=Math.sin(i),a=Math.cos(i);return r[4]=t,r[5]=e,r[0]=a*s,r[1]=o*s,r[2]=-o*n,r[3]=a*n,this},applyInverse:function(t,e,i){void 0===i&&(i=new r);var s=this.matrix,n=s[0],o=s[1],a=s[2],h=s[3],l=s[4],u=s[5],c=1/(n*h+a*-o);return i.x=h*c*t+-a*c*e+(u*a-l*h)*c,i.y=n*c*e+-o*c*t+(-u*n+l*o)*c,i},setQuad:function(t,e,i,s,n,r){void 0===n&&(n=!1),void 0===r&&(r=this.quad);var o=this.matrix,a=o[0],h=o[1],l=o[2],u=o[3],c=o[4],d=o[5],f=t*a+e*l+c,p=t*h+e*u+d,g=t*a+s*l+c,m=t*h+s*u+d,v=i*a+s*l+c,y=i*h+s*u+d,x=i*a+e*l+c,T=i*h+e*u+d;if(n){var w=Math.floor(f+.5),b=Math.floor(p+.5),S=w-f,E=b-p;r[0]=w,r[1]=b,r[2]=g+S,r[3]=m+E,r[4]=v+S,r[5]=y+E,r[6]=x+S,r[7]=T+E}else r[0]=f,r[1]=p,r[2]=g,r[3]=m,r[4]=v,r[5]=y,r[6]=x,r[7]=T;return r},getX:function(t,e){return t*this.a+e*this.c+this.e},getY:function(t,e){return t*this.b+e*this.d+this.f},getXRound:function(t,e,i){var s=this.getX(t,e);return i&&(s=Math.floor(s+.5)),s},getYRound:function(t,e,i){var s=this.getY(t,e);return i&&(s=Math.floor(s+.5)),s},getCSSMatrix:function(){var t=this.matrix;return"matrix("+t[0]+","+t[1]+","+t[2]+","+t[3]+","+t[4]+","+t[5]+")"},destroy:function(){this.matrix=null,this.quad=null,this.decomposedMatrix=null}});t.exports=o},59715:t=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var e={_visible:!0,visible:{get:function(){return this._visible},set:function(t){t?(this._visible=!0,this.renderFlags|=1):(this._visible=!1,this.renderFlags&=-2)}},setVisible:function(t){return this.visible=t,this}};t.exports=e},31401:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports={Alpha:i(16005),AlphaSingle:i(88509),BlendMode:i(90065),ComputedSize:i(94215),Crop:i(61683),Depth:i(89272),Flip:i(54434),FX:i(47059),GetBounds:i(8004),Mask:i(8573),Origin:i(27387),PathFollower:i(37640),Pipeline:i(72699),PostPipeline:i(17581),ScrollFactor:i(80227),Size:i(16736),Texture:i(37726),TextureCrop:i(79812),Tint:i(27472),ToJSON:i(53774),Transform:i(16901),TransformMatrix:i(61340),Visible:i(59715)}},31559:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @author       Felipe Alfonso <@bitnenfer>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(37105),n=i(10312),r=i(83419),o=i(31401),a=i(51708),h=i(95643),l=i(87841),u=i(29959),c=i(36899),d=i(26099),f=new o.TransformMatrix,p=new r({Extends:h,Mixins:[o.AlphaSingle,o.BlendMode,o.ComputedSize,o.Depth,o.Mask,o.PostPipeline,o.Transform,o.Visible,u],initialize:function(t,e,i,s){h.call(this,t,"Container"),this.list=[],this.exclusive=!0,this.maxSize=-1,this.position=0,this.localTransform=new o.TransformMatrix,this._sortKey="",this._sysEvents=t.sys.events,this.scrollFactorX=1,this.scrollFactorY=1,this.initPostPipeline(),this.setPosition(e,i),this.setBlendMode(n.SKIP_CHECK),s&&this.add(s)},originX:{get:function(){return.5}},originY:{get:function(){return.5}},displayOriginX:{get:function(){return.5*this.width}},displayOriginY:{get:function(){return.5*this.height}},setExclusive:function(t){return void 0===t&&(t=!0),this.exclusive=t,this},getBounds:function(t){if(void 0===t&&(t=new l),t.setTo(this.x,this.y,0,0),this.parentContainer){var e=this.parentContainer.getBoundsTransformMatrix().transformPoint(this.x,this.y);t.setTo(e.x,e.y,0,0)}if(this.list.length>0){var i=this.list,s=new l,n=!1;t.setEmpty();for(var r=0;r<i.length;r++){var o=i[r];o.getBounds&&(o.getBounds(s),n?c(s,t,t):(t.setTo(s.x,s.y,s.width,s.height),n=!0))}}return t},addHandler:function(t){t.once(a.DESTROY,this.onChildDestroyed,this),this.exclusive&&(t.parentContainer&&t.parentContainer.remove(t),t.parentContainer=this,t.removeFromDisplayList(),t.addedToScene())},removeHandler:function(t){t.off(a.DESTROY,this.remove,this),this.exclusive&&(t.parentContainer=null,t.removedFromScene(),t.addToDisplayList())},pointToContainer:function(t,e){void 0===e&&(e=new d),this.parentContainer?this.parentContainer.pointToContainer(t,e):(e.x=t.x,e.y=t.y);var i=f;return i.applyITRS(this.x,this.y,this.rotation,this.scaleX,this.scaleY),i.invert(),i.transformPoint(t.x,t.y,e),e},getBoundsTransformMatrix:function(){return this.getWorldTransformMatrix(f,this.localTransform)},add:function(t){return s.Add(this.list,t,this.maxSize,this.addHandler,this),this},addAt:function(t,e){return s.AddAt(this.list,t,e,this.maxSize,this.addHandler,this),this},getAt:function(t){return this.list[t]},getIndex:function(t){return this.list.indexOf(t)},sort:function(t,e){return t?(void 0===e&&(e=function(e,i){return e[t]-i[t]}),s.StableSort(this.list,e),this):this},getByName:function(t){return s.GetFirst(this.list,"name",t)},getRandom:function(t,e){return s.GetRandom(this.list,t,e)},getFirst:function(t,e,i,n){return s.GetFirst(this.list,t,e,i,n)},getAll:function(t,e,i,n){return s.GetAll(this.list,t,e,i,n)},count:function(t,e,i,n){return s.CountAllMatching(this.list,t,e,i,n)},swap:function(t,e){return s.Swap(this.list,t,e),this},moveTo:function(t,e){return s.MoveTo(this.list,t,e),this},moveAbove:function(t,e){return s.MoveAbove(this.list,t,e),this},moveBelow:function(t,e){return s.MoveBelow(this.list,t,e),this},remove:function(t,e){var i=s.Remove(this.list,t,this.removeHandler,this);if(e&&i){Array.isArray(i)||(i=[i]);for(var n=0;n<i.length;n++)i[n].destroy()}return this},removeAt:function(t,e){var i=s.RemoveAt(this.list,t,this.removeHandler,this);return e&&i&&i.destroy(),this},removeBetween:function(t,e,i){var n=s.RemoveBetween(this.list,t,e,this.removeHandler,this);if(i)for(var r=0;r<n.length;r++)n[r].destroy();return this},removeAll:function(t){var e=this.list;if(t){for(var i=0;i<e.length;i++)e[i]&&e[i].scene&&(e[i].off(a.DESTROY,this.onChildDestroyed,this),e[i].destroy());this.list=[]}else s.RemoveBetween(e,0,e.length,this.removeHandler,this);return this},bringToTop:function(t){return s.BringToTop(this.list,t),this},sendToBack:function(t){return s.SendToBack(this.list,t),this},moveUp:function(t){return s.MoveUp(this.list,t),this},moveDown:function(t){return s.MoveDown(this.list,t),this},reverse:function(){return this.list.reverse(),this},shuffle:function(){return s.Shuffle(this.list),this},replace:function(t,e,i){return s.Replace(this.list,t,e)&&(this.addHandler(e),this.removeHandler(t),i&&t.destroy()),this},exists:function(t){return this.list.indexOf(t)>-1},setAll:function(t,e,i,n){return s.SetAll(this.list,t,e,i,n),this},each:function(t,e){var i,s=[null],n=this.list.slice(),r=n.length;for(i=2;i<arguments.length;i++)s.push(arguments[i]);for(i=0;i<r;i++)s[0]=n[i],t.apply(e,s);return this},iterate:function(t,e){var i,s=[null];for(i=2;i<arguments.length;i++)s.push(arguments[i]);for(i=0;i<this.list.length;i++)s[0]=this.list[i],t.apply(e,s);return this},setScrollFactor:function(t,e,i){return void 0===e&&(e=t),void 0===i&&(i=!1),this.scrollFactorX=t,this.scrollFactorY=e,i&&(s.SetAll(this.list,"scrollFactorX",t),s.SetAll(this.list,"scrollFactorY",e)),this},length:{get:function(){return this.list.length}},first:{get:function(){return this.position=0,this.list.length>0?this.list[0]:null}},last:{get:function(){return this.list.length>0?(this.position=this.list.length-1,this.list[this.position]):null}},next:{get:function(){return this.position<this.list.length?(this.position++,this.list[this.position]):null}},previous:{get:function(){return this.position>0?(this.position--,this.list[this.position]):null}},preDestroy:function(){this.removeAll(!!this.exclusive),this.localTransform.destroy(),this.list=[]},onChildDestroyed:function(t){s.Remove(this.list,t),this.exclusive&&(t.parentContainer=null,t.removedFromScene())}});t.exports=p},53584:t=>{t.exports=function(t,e,i,s){i.addToRenderList(e);var n=e.list;if(0!==n.length){var r=e.localTransform;s?(r.loadIdentity(),r.multiply(s),r.translate(e.x,e.y),r.rotate(e.rotation),r.scale(e.scaleX,e.scaleY)):r.applyITRS(e.x,e.y,e.rotation,e.scaleX,e.scaleY);var o=-1!==e.blendMode;o||t.setBlendMode(0);var a=e._alpha,h=e.scrollFactorX,l=e.scrollFactorY;e.mask&&e.mask.preRenderCanvas(t,null,i);for(var u=0;u<n.length;u++){var c=n[u];if(c.willRender(i)){var d=c.alpha,f=c.scrollFactorX,p=c.scrollFactorY;o||c.blendMode===t.currentBlendMode||t.setBlendMode(c.blendMode),c.setScrollFactor(f*h,p*l),c.setAlpha(d*a),c.renderCanvas(t,c,i,r),c.setAlpha(d),c.setScrollFactor(f,p)}}e.mask&&e.mask.postRenderCanvas(t)}}},77143:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @author       Felipe Alfonso <@bitnenfer>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(25305),n=i(31559),r=i(44603),o=i(23568),a=i(95540);r.register("container",function(t,e){void 0===t&&(t={});var i=o(t,"x",0),r=o(t,"y",0),h=a(t,"children",null),l=new n(this.scene,i,r,h);return void 0!==e&&(t.add=e),s(this.scene,l,t),l})},24961:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @author       Felipe Alfonso <@bitnenfer>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(31559);i(39429).register("container",function(t,e,i){return this.displayList.add(new s(this.scene,t,e,i))})},29959:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @author       Felipe Alfonso <@bitnenfer>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s,n;i(29747),s=i(72249),n=i(53584),t.exports={renderWebGL:s,renderCanvas:n}},72249:t=>{t.exports=function(t,e,i,s){i.addToRenderList(e);var n=e.list,r=n.length;if(0!==r){var o=e.localTransform;s?(o.loadIdentity(),o.multiply(s),o.translate(e.x,e.y),o.rotate(e.rotation),o.scale(e.scaleX,e.scaleY)):o.applyITRS(e.x,e.y,e.rotation,e.scaleX,e.scaleY),t.pipelines.preBatch(e);var a=-1!==e.blendMode;a||t.setBlendMode(0);for(var h=e.alpha,l=e.scrollFactorX,u=e.scrollFactorY,c=0;c<r;c++){var d=n[c];if(d.willRender(i)){var f,p,g,m;if(void 0!==d.alphaTopLeft)f=d.alphaTopLeft,p=d.alphaTopRight,g=d.alphaBottomLeft,m=d.alphaBottomRight;else{var v=d.alpha;f=v,p=v,g=v,m=v}var y=d.scrollFactorX,x=d.scrollFactorY;a||d.blendMode===t.currentBlendMode||t.setBlendMode(d.blendMode);var T=d.mask;T&&T.preRenderWebGL(t,d,i);var w=d.type;w!==t.currentType&&(t.newType=!0,t.currentType=w),t.nextTypeMatch=c<r-1&&n[c+1].type===t.currentType,d.setScrollFactor(y*l,x*u),d.setAlpha(f*h,p*h,g*h,m*h),d.renderWebGL(t,d,i,o,e),d.setAlpha(f,p,g,m),d.setScrollFactor(y,x),T&&T.postRenderWebGL(t,i),t.newType=!1}}t.pipelines.postBatch(e)}}},47407:t=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports=["normal","multiply","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"]},3069:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(83419),n=i(31401),r=i(441),o=i(95643),a=i(41212),h=i(35846),l=i(44594),u=i(61369),c=new s({Extends:o,Mixins:[n.AlphaSingle,n.BlendMode,n.Depth,n.Origin,n.ScrollFactor,n.Transform,n.Visible,r],initialize:function(t,e,i,s,n,r){if(o.call(this,t,"DOMElement"),this.parent=t.sys.game.domContainer,!this.parent)throw new Error("No DOM Container set in game config");this.cache=t.sys.cache.html,this.node,this.transformOnly=!1,this.skewX=0,this.skewY=0,this.rotate3d=new u,this.rotate3dAngle="deg",this.pointerEvents="auto",this.width=0,this.height=0,this.displayWidth=0,this.displayHeight=0,this.handler=this.dispatchNativeEvent.bind(this),this.setPosition(e,i),"string"==typeof s?"#"===s[0]?this.setElement(s.substr(1),n,r):this.createElement(s,n,r):s&&this.setElement(s,n,r),t.sys.events.on(l.SLEEP,this.handleSceneEvent,this),t.sys.events.on(l.WAKE,this.handleSceneEvent,this),t.sys.events.on(l.PRE_RENDER,this.preRender,this)},handleSceneEvent:function(t){var e=this.node,i=e.style;e&&(i.display=t.settings.visible?"block":"none")},setSkew:function(t,e){return void 0===t&&(t=0),void 0===e&&(e=t),this.skewX=t,this.skewY=e,this},setPerspective:function(t){return this.parent.style.perspective=t+"px",this},perspective:{get:function(){return parseFloat(this.parent.style.perspective)},set:function(t){this.parent.style.perspective=t+"px"}},addListener:function(t){if(this.node){t=t.split(" ");for(var e=0;e<t.length;e++)this.node.addEventListener(t[e],this.handler,!1)}return this},removeListener:function(t){if(this.node){t=t.split(" ");for(var e=0;e<t.length;e++)this.node.removeEventListener(t[e],this.handler)}return this},dispatchNativeEvent:function(t){this.emit(t.type,t)},createElement:function(t,e,i){return this.setElement(document.createElement(t),e,i)},setElement:function(t,e,i){var s;if(this.removeElement(),"string"==typeof t?("#"===t[0]&&(t=t.substr(1)),s=document.getElementById(t)):"object"==typeof t&&1===t.nodeType&&(s=t),!s)return this;if(this.node=s,e&&a(e))for(var n in e)s.style[n]=e[n];else"string"==typeof e&&(s.style=e);return s.style.zIndex="0",s.style.display="inline",s.style.position="absolute",s.phaser=this,this.parent.appendChild(s),i&&(s.innerText=i),this.updateSize()},createFromCache:function(t,e){var i=this.cache.get(t);return i&&this.createFromHTML(i,e),this},createFromHTML:function(t,e){void 0===e&&(e="div"),this.removeElement();var i=document.createElement(e);return this.node=i,i.style.zIndex="0",i.style.display="inline",i.style.position="absolute",i.phaser=this,this.parent.appendChild(i),i.innerHTML=t,this.updateSize()},removeElement:function(){return this.node&&(h(this.node),this.node=null),this},updateSize:function(){var t=this.node;return this.width=t.clientWidth,this.height=t.clientHeight,this.displayWidth=this.width*this.scaleX,this.displayHeight=this.height*this.scaleY,this},getChildByProperty:function(t,e){if(this.node)for(var i=this.node.querySelectorAll("*"),s=0;s<i.length;s++)if(i[s][t]===e)return i[s];return null},getChildByID:function(t){return this.getChildByProperty("id",t)},getChildByName:function(t){return this.getChildByProperty("name",t)},setClassName:function(t){return this.node&&(this.node.className=t,this.updateSize()),this},setText:function(t){return this.node&&(this.node.innerText=t,this.updateSize()),this},setHTML:function(t){return this.node&&(this.node.innerHTML=t,this.updateSize()),this},preRender:function(){var t=this.parentContainer,e=this.node;e&&t&&!t.willRender()&&(e.style.display="none")},willRender:function(){return!0},preDestroy:function(){this.removeElement(),this.scene.sys.events.off(l.SLEEP,this.handleSceneEvent,this),this.scene.sys.events.off(l.WAKE,this.handleSceneEvent,this),this.scene.sys.events.off(l.PRE_RENDER,this.preRender,this)}});t.exports=c},49381:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(47407),n=i(95643),r=i(61340),o=new r,a=new r,h=new r;t.exports=function(t,e,i,r){if(e.node){var l=e.node.style,u=e.scene.sys.settings;if(!l||!u.visible||n.RENDER_MASK!==e.renderFlags||0!==e.cameraFilter&&e.cameraFilter&i.id||e.parentContainer&&!e.parentContainer.willRender())l.display="none";else{var c=e.parentContainer,d=i.alpha*e.alpha;c&&(d*=c.alpha);var f=o,p=a,g=h,m=0,v=0,y="0%",x="0%";r?(m=e.width*e.scaleX*e.originX,v=e.height*e.scaleY*e.originY,p.applyITRS(e.x-m,e.y-v,e.rotation,e.scaleX,e.scaleY),f.copyFrom(i.matrix),f.multiplyWithOffset(r,-i.scrollX*e.scrollFactorX,-i.scrollY*e.scrollFactorY),p.e=e.x-m,p.f=e.y-v,f.multiply(p,g)):(m=e.width*e.originX,v=e.height*e.originY,p.applyITRS(e.x,e.y,e.rotation,e.scaleX,e.scaleY),f.copyFrom(i.matrix),y=100*e.originX+"%",x=100*e.originY+"%",p.e-=i.scrollX*e.scrollFactorX,p.f-=i.scrollY*e.scrollFactorY,f.multiply(p,g),g.e-=m,g.f-=v),e.transformOnly||(l.display="block",l.opacity=d,l.zIndex=e._depth,l.pointerEvents=e.pointerEvents,l.mixBlendMode=s[e._blendMode]),l.transform=g.getCSSMatrix()+" skew("+e.skewX+"rad, "+e.skewY+"rad) rotate3d("+e.rotate3d.x+","+e.rotate3d.y+","+e.rotate3d.z+","+e.rotate3d.w+e.rotate3dAngle+")",l.transformOrigin=y+" "+x}}}},2611:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(3069);i(39429).register("dom",function(t,e,i,n,r){var o=new s(this.scene,t,e,i,n,r);return this.displayList.add(o),o})},441:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s,n;i(29747),s=i(49381),n=i(49381),t.exports={renderWebGL:s,renderCanvas:n}},62980:t=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports="addedtoscene"},41337:t=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports="destroy"},44947:t=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports="removedfromscene"},49358:t=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports="complete"},35163:t=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports="created"},97249:t=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports="error"},19483:t=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports="locked"},56059:t=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports="loop"},26772:t=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports="metadata"},64437:t=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports="playing"},83411:t=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports="play"},75780:t=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports="seeked"},67799:t=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports="seeking"},63500:t=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports="stalled"},55541:t=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports="stop"},53208:t=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports="textureready"},4992:t=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports="unlocked"},12:t=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports="unsupported"},51708:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports={ADDED_TO_SCENE:i(62980),DESTROY:i(41337),REMOVED_FROM_SCENE:i(44947),VIDEO_COMPLETE:i(49358),VIDEO_CREATED:i(35163),VIDEO_ERROR:i(97249),VIDEO_LOCKED:i(19483),VIDEO_LOOP:i(56059),VIDEO_METADATA:i(26772),VIDEO_PLAY:i(83411),VIDEO_PLAYING:i(64437),VIDEO_SEEKED:i(75780),VIDEO_SEEKING:i(67799),VIDEO_STALLED:i(63500),VIDEO_STOP:i(55541),VIDEO_TEXTURE:i(53208),VIDEO_UNLOCKED:i(4992),VIDEO_UNSUPPORTED:i(12)}},42421:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(83419),n=i(31401),r=i(95643),o=i(64993),a=new s({Extends:r,Mixins:[n.Alpha,n.BlendMode,n.Depth,n.Flip,n.Origin,n.ScrollFactor,n.Size,n.Texture,n.Tint,n.Transform,n.Visible,o],initialize:function(t){r.call(this,t,"Extern")},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},preUpdate:function(){},render:function(){}});t.exports=a},70217:()=>{},56315:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(42421);i(39429).register("extern",function(){var t=new s(this.scene);return this.displayList.add(t),t})},64993:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s,n;i(29747),s=i(80287),n=i(70217),t.exports={renderWebGL:s,renderCanvas:n}},80287:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(91296);t.exports=function(t,e,i,n){t.pipelines.clear();var r=s(e,i,n).calc;e.render.call(e,t,i,r),t.pipelines.rebind()}},85592:t=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports={ARC:0,BEGIN_PATH:1,CLOSE_PATH:2,FILL_RECT:3,LINE_TO:4,MOVE_TO:5,LINE_STYLE:6,FILL_STYLE:7,FILL_PATH:8,STROKE_PATH:9,FILL_TRIANGLE:10,STROKE_TRIANGLE:11,SAVE:14,RESTORE:15,TRANSLATE:16,SCALE:17,ROTATE:18,GRADIENT_FILL_STYLE:21,GRADIENT_LINE_STYLE:22}},43831:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(71911),n=i(83419),r=i(85592),o=i(31401),a=i(8497),h=i(95643),l=i(95540),u=i(35154),c=i(36383),d=i(84503),f=new n({Extends:h,Mixins:[o.AlphaSingle,o.BlendMode,o.Depth,o.Mask,o.Pipeline,o.PostPipeline,o.Transform,o.Visible,o.ScrollFactor,d],initialize:function(t,e){var i=u(e,"x",0),s=u(e,"y",0);h.call(this,t,"Graphics"),this.setPosition(i,s),this.initPipeline(),this.initPostPipeline(),this.displayOriginX=0,this.displayOriginY=0,this.commandBuffer=[],this.defaultFillColor=-1,this.defaultFillAlpha=1,this.defaultStrokeWidth=1,this.defaultStrokeColor=-1,this.defaultStrokeAlpha=1,this._lineWidth=1,this.lineStyle(1,0,0),this.fillStyle(0,0),this.setDefaultStyles(e)},setDefaultStyles:function(t){return u(t,"lineStyle",null)&&(this.defaultStrokeWidth=u(t,"lineStyle.width",1),this.defaultStrokeColor=u(t,"lineStyle.color",16777215),this.defaultStrokeAlpha=u(t,"lineStyle.alpha",1),this.lineStyle(this.defaultStrokeWidth,this.defaultStrokeColor,this.defaultStrokeAlpha)),u(t,"fillStyle",null)&&(this.defaultFillColor=u(t,"fillStyle.color",16777215),this.defaultFillAlpha=u(t,"fillStyle.alpha",1),this.fillStyle(this.defaultFillColor,this.defaultFillAlpha)),this},lineStyle:function(t,e,i){return void 0===i&&(i=1),this.commandBuffer.push(r.LINE_STYLE,t,e,i),this._lineWidth=t,this},fillStyle:function(t,e){return void 0===e&&(e=1),this.commandBuffer.push(r.FILL_STYLE,t,e),this},fillGradientStyle:function(t,e,i,s,n,o,a,h){return void 0===n&&(n=1),void 0===o&&(o=n),void 0===a&&(a=n),void 0===h&&(h=n),this.commandBuffer.push(r.GRADIENT_FILL_STYLE,n,o,a,h,t,e,i,s),this},lineGradientStyle:function(t,e,i,s,n,o){return void 0===o&&(o=1),this.commandBuffer.push(r.GRADIENT_LINE_STYLE,t,o,e,i,s,n),this},beginPath:function(){return this.commandBuffer.push(r.BEGIN_PATH),this},closePath:function(){return this.commandBuffer.push(r.CLOSE_PATH),this},fillPath:function(){return this.commandBuffer.push(r.FILL_PATH),this},fill:function(){return this.commandBuffer.push(r.FILL_PATH),this},strokePath:function(){return this.commandBuffer.push(r.STROKE_PATH),this},stroke:function(){return this.commandBuffer.push(r.STROKE_PATH),this},fillCircleShape:function(t){return this.fillCircle(t.x,t.y,t.radius)},strokeCircleShape:function(t){return this.strokeCircle(t.x,t.y,t.radius)},fillCircle:function(t,e,i){return this.beginPath(),this.arc(t,e,i,0,c.PI2),this.fillPath(),this},strokeCircle:function(t,e,i){return this.beginPath(),this.arc(t,e,i,0,c.PI2),this.strokePath(),this},fillRectShape:function(t){return this.fillRect(t.x,t.y,t.width,t.height)},strokeRectShape:function(t){return this.strokeRect(t.x,t.y,t.width,t.height)},fillRect:function(t,e,i,s){return this.commandBuffer.push(r.FILL_RECT,t,e,i,s),this},strokeRect:function(t,e,i,s){var n=this._lineWidth/2,r=t-n,o=t+n;return this.beginPath(),this.moveTo(t,e),this.lineTo(t,e+s),this.strokePath(),this.beginPath(),this.moveTo(t+i,e),this.lineTo(t+i,e+s),this.strokePath(),this.beginPath(),this.moveTo(r,e),this.lineTo(o+i,e),this.strokePath(),this.beginPath(),this.moveTo(r,e+s),this.lineTo(o+i,e+s),this.strokePath(),this},fillRoundedRect:function(t,e,i,s,n){void 0===n&&(n=20);var r=n,o=n,a=n,h=n;"number"!=typeof n&&(r=l(n,"tl",20),o=l(n,"tr",20),a=l(n,"bl",20),h=l(n,"br",20));var u=r>=0,d=o>=0,f=a>=0,p=h>=0;return r=Math.abs(r),o=Math.abs(o),a=Math.abs(a),h=Math.abs(h),this.beginPath(),this.moveTo(t+r,e),this.lineTo(t+i-o,e),d?this.arc(t+i-o,e+o,o,-c.TAU,0):this.arc(t+i,e,o,Math.PI,c.TAU,!0),this.lineTo(t+i,e+s-h),p?this.arc(t+i-h,e+s-h,h,0,c.TAU):this.arc(t+i,e+s,h,-c.TAU,Math.PI,!0),this.lineTo(t+a,e+s),f?this.arc(t+a,e+s-a,a,c.TAU,Math.PI):this.arc(t,e+s,a,0,-c.TAU,!0),this.lineTo(t,e+r),u?this.arc(t+r,e+r,r,-Math.PI,-c.TAU):this.arc(t,e,r,c.TAU,0,!0),this.fillPath(),this},strokeRoundedRect:function(t,e,i,s,n){void 0===n&&(n=20);var r=n,o=n,a=n,h=n,u=Math.min(i,s)/2;"number"!=typeof n&&(r=l(n,"tl",20),o=l(n,"tr",20),a=l(n,"bl",20),h=l(n,"br",20));var d=r>=0,f=o>=0,p=a>=0,g=h>=0;return r=Math.min(Math.abs(r),u),o=Math.min(Math.abs(o),u),a=Math.min(Math.abs(a),u),h=Math.min(Math.abs(h),u),this.beginPath(),this.moveTo(t+r,e),this.lineTo(t+i-o,e),this.moveTo(t+i-o,e),f?this.arc(t+i-o,e+o,o,-c.TAU,0):this.arc(t+i,e,o,Math.PI,c.TAU,!0),this.lineTo(t+i,e+s-h),this.moveTo(t+i,e+s-h),g?this.arc(t+i-h,e+s-h,h,0,c.TAU):this.arc(t+i,e+s,h,-c.TAU,Math.PI,!0),this.lineTo(t+a,e+s),this.moveTo(t+a,e+s),p?this.arc(t+a,e+s-a,a,c.TAU,Math.PI):this.arc(t,e+s,a,0,-c.TAU,!0),this.lineTo(t,e+r),this.moveTo(t,e+r),d?this.arc(t+r,e+r,r,-Math.PI,-c.TAU):this.arc(t,e,r,c.TAU,0,!0),this.strokePath(),this},fillPointShape:function(t,e){return this.fillPoint(t.x,t.y,e)},fillPoint:function(t,e,i){return!i||i<1?i=1:(t-=i/2,e-=i/2),this.commandBuffer.push(r.FILL_RECT,t,e,i,i),this},fillTriangleShape:function(t){return this.fillTriangle(t.x1,t.y1,t.x2,t.y2,t.x3,t.y3)},strokeTriangleShape:function(t){return this.strokeTriangle(t.x1,t.y1,t.x2,t.y2,t.x3,t.y3)},fillTriangle:function(t,e,i,s,n,o){return this.commandBuffer.push(r.FILL_TRIANGLE,t,e,i,s,n,o),this},strokeTriangle:function(t,e,i,s,n,o){return this.commandBuffer.push(r.STROKE_TRIANGLE,t,e,i,s,n,o),this},strokeLineShape:function(t){return this.lineBetween(t.x1,t.y1,t.x2,t.y2)},lineBetween:function(t,e,i,s){return this.beginPath(),this.moveTo(t,e),this.lineTo(i,s),this.strokePath(),this},lineTo:function(t,e){return this.commandBuffer.push(r.LINE_TO,t,e),this},moveTo:function(t,e){return this.commandBuffer.push(r.MOVE_TO,t,e),this},strokePoints:function(t,e,i,s){void 0===e&&(e=!1),void 0===i&&(i=!1),void 0===s&&(s=t.length),this.beginPath(),this.moveTo(t[0].x,t[0].y);for(var n=1;n<s;n++)this.lineTo(t[n].x,t[n].y);return e&&this.lineTo(t[0].x,t[0].y),i&&this.closePath(),this.strokePath(),this},fillPoints:function(t,e,i,s){void 0===e&&(e=!1),void 0===i&&(i=!1),void 0===s&&(s=t.length),this.beginPath(),this.moveTo(t[0].x,t[0].y);for(var n=1;n<s;n++)this.lineTo(t[n].x,t[n].y);return e&&this.lineTo(t[0].x,t[0].y),i&&this.closePath(),this.fillPath(),this},strokeEllipseShape:function(t,e){void 0===e&&(e=32);var i=t.getPoints(e);return this.strokePoints(i,!0)},strokeEllipse:function(t,e,i,s,n){void 0===n&&(n=32);var r=new a(t,e,i,s).getPoints(n);return this.strokePoints(r,!0)},fillEllipseShape:function(t,e){void 0===e&&(e=32);var i=t.getPoints(e);return this.fillPoints(i,!0)},fillEllipse:function(t,e,i,s,n){void 0===n&&(n=32);var r=new a(t,e,i,s).getPoints(n);return this.fillPoints(r,!0)},arc:function(t,e,i,s,n,o,a){return void 0===o&&(o=!1),void 0===a&&(a=0),this.commandBuffer.push(r.ARC,t,e,i,s,n,o,a),this},slice:function(t,e,i,s,n,o,a){return void 0===o&&(o=!1),void 0===a&&(a=0),this.commandBuffer.push(r.BEGIN_PATH),this.commandBuffer.push(r.MOVE_TO,t,e),this.commandBuffer.push(r.ARC,t,e,i,s,n,o,a),this.commandBuffer.push(r.CLOSE_PATH),this},save:function(){return this.commandBuffer.push(r.SAVE),this},restore:function(){return this.commandBuffer.push(r.RESTORE),this},translateCanvas:function(t,e){return this.commandBuffer.push(r.TRANSLATE,t,e),this},scaleCanvas:function(t,e){return this.commandBuffer.push(r.SCALE,t,e),this},rotateCanvas:function(t){return this.commandBuffer.push(r.ROTATE,t),this},clear:function(){return this.commandBuffer.length=0,this.defaultFillColor>-1&&this.fillStyle(this.defaultFillColor,this.defaultFillAlpha),this.defaultStrokeColor>-1&&this.lineStyle(this.defaultStrokeWidth,this.defaultStrokeColor,this.defaultStrokeAlpha),this},generateTexture:function(t,e,i){var s,n,r=this.scene.sys,o=r.game.renderer;void 0===e&&(e=r.scale.width),void 0===i&&(i=r.scale.height),f.TargetCamera.setScene(this.scene),f.TargetCamera.setViewport(0,0,e,i),f.TargetCamera.scrollX=this.x,f.TargetCamera.scrollY=this.y;var a={willReadFrequently:!0};if("string"==typeof t)if(r.textures.exists(t)){var h=(s=r.textures.get(t)).getSourceImage();h instanceof HTMLCanvasElement&&(n=h.getContext("2d",a))}else n=(s=r.textures.createCanvas(t,e,i)).getSourceImage().getContext("2d",a);else t instanceof HTMLCanvasElement&&(n=t.getContext("2d",a));return n&&(this.renderCanvas(o,this,f.TargetCamera,null,n,!1),s&&s.refresh()),this},preDestroy:function(){this.commandBuffer=[]}});f.TargetCamera=new s,t.exports=f},32768:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(85592),n=i(20926);t.exports=function(t,e,i,r,o,a){var h=e.commandBuffer,l=h.length,u=o||t.currentContext;if(0!==l&&n(t,u,e,i,r)){i.addToRenderList(e);var c=1,d=1,f=0,p=0,g=1,m=0,v=0,y=0;u.beginPath();for(var x=0;x<l;++x)switch(h[x]){case s.ARC:u.arc(h[x+1],h[x+2],h[x+3],h[x+4],h[x+5],h[x+6]),x+=7;break;case s.LINE_STYLE:g=h[x+1],f=h[x+2],c=h[x+3],m=(16711680&f)>>>16,v=(65280&f)>>>8,y=255&f,u.strokeStyle="rgba("+m+","+v+","+y+","+c+")",u.lineWidth=g,x+=3;break;case s.FILL_STYLE:p=h[x+1],d=h[x+2],m=(16711680&p)>>>16,v=(65280&p)>>>8,y=255&p,u.fillStyle="rgba("+m+","+v+","+y+","+d+")",x+=2;break;case s.BEGIN_PATH:u.beginPath();break;case s.CLOSE_PATH:u.closePath();break;case s.FILL_PATH:a||u.fill();break;case s.STROKE_PATH:a||u.stroke();break;case s.FILL_RECT:a?u.rect(h[x+1],h[x+2],h[x+3],h[x+4]):u.fillRect(h[x+1],h[x+2],h[x+3],h[x+4]),x+=4;break;case s.FILL_TRIANGLE:u.beginPath(),u.moveTo(h[x+1],h[x+2]),u.lineTo(h[x+3],h[x+4]),u.lineTo(h[x+5],h[x+6]),u.closePath(),a||u.fill(),x+=6;break;case s.STROKE_TRIANGLE:u.beginPath(),u.moveTo(h[x+1],h[x+2]),u.lineTo(h[x+3],h[x+4]),u.lineTo(h[x+5],h[x+6]),u.closePath(),a||u.stroke(),x+=6;break;case s.LINE_TO:u.lineTo(h[x+1],h[x+2]),x+=2;break;case s.MOVE_TO:u.moveTo(h[x+1],h[x+2]),x+=2;break;case s.LINE_FX_TO:u.lineTo(h[x+1],h[x+2]),x+=5;break;case s.MOVE_FX_TO:u.moveTo(h[x+1],h[x+2]),x+=5;break;case s.SAVE:u.save();break;case s.RESTORE:u.restore();break;case s.TRANSLATE:u.translate(h[x+1],h[x+2]),x+=2;break;case s.SCALE:u.scale(h[x+1],h[x+2]),x+=2;break;case s.ROTATE:u.rotate(h[x+1]),x+=1;break;case s.GRADIENT_FILL_STYLE:x+=5;break;case s.GRADIENT_LINE_STYLE:x+=6}u.restore()}}},87079:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(44603),n=i(43831);s.register("graphics",function(t,e){void 0===t&&(t={}),void 0!==e&&(t.add=e);var i=new n(this.scene,t);return t.add&&this.scene.sys.displayList.add(i),i})},1201:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(43831);i(39429).register("graphics",function(t){return this.displayList.add(new s(this.scene,t))})},84503:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s,n;i(29747),s=i(77545),i(32768),n=i(32768),t.exports={renderWebGL:s,renderCanvas:n}},77545:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(85592),n=i(91296),r=i(61340),o=i(70554),a=function(t,e,i){this.x=t,this.y=e,this.width=i},h=function(t,e,i){this.points=[],this.pointsLength=1,this.points[0]=new a(t,e,i)},l=[],u=new r;t.exports=function(t,e,i,r){if(0!==e.commandBuffer.length){i.addToRenderList(e);var c=t.pipelines.set(e.pipeline,e);t.pipelines.preBatch(e);for(var d=n(e,i,r).calc,f=u.loadIdentity(),p=e.commandBuffer,g=i.alpha*e.alpha,m=1,v=c.fillTint,y=c.strokeTint,x=0,T=0,w=0,b=2*Math.PI,S=[],E=0,C=!0,_=null,A=o.getTintAppendFloatAlpha,M=0;M<p.length;M++)switch(p[M]){case s.BEGIN_PATH:S.length=0,_=null,C=!0;break;case s.CLOSE_PATH:C=!1,_&&_.points.length&&_.points.push(_.points[0]);break;case s.FILL_PATH:for(E=0;E<S.length;E++)c.batchFillPath(S[E].points,f,d);break;case s.STROKE_PATH:for(E=0;E<S.length;E++)c.batchStrokePath(S[E].points,m,C,f,d);break;case s.LINE_STYLE:m=p[++M];var P=A(p[++M],p[++M]*g);y.TL=P,y.TR=P,y.BL=P,y.BR=P;break;case s.FILL_STYLE:var R=A(p[++M],p[++M]*g);v.TL=R,v.TR=R,v.BL=R,v.BR=R;break;case s.GRADIENT_FILL_STYLE:var I=p[++M]*g,O=p[++M]*g,L=p[++M]*g,D=p[++M]*g;v.TL=A(p[++M],I),v.TR=A(p[++M],O),v.BL=A(p[++M],L),v.BR=A(p[++M],D);break;case s.GRADIENT_LINE_STYLE:m=p[++M];var k=p[++M]*g;y.TL=A(p[++M],k),y.TR=A(p[++M],k),y.BL=A(p[++M],k),y.BR=A(p[++M],k);break;case s.ARC:var F=0,B=p[++M],N=p[++M],z=p[++M],U=p[++M],V=p[++M],G=p[++M],X=p[++M];for(V-=U,G?V<-b?V=-b:V>0&&(V=V%b-b):V>b?V=b:V<0&&(V=b+V%b),null===_&&(_=new h(B+Math.cos(U)*z,N+Math.sin(U)*z,m),S.push(_),F+=.01);F<1+X;)w=V*F+U,x=B+Math.cos(w)*z,T=N+Math.sin(w)*z,_.points.push(new a(x,T,m)),F+=.01;w=V+U,x=B+Math.cos(w)*z,T=N+Math.sin(w)*z,_.points.push(new a(x,T,m));break;case s.FILL_RECT:c.batchFillRect(p[++M],p[++M],p[++M],p[++M],f,d);break;case s.FILL_TRIANGLE:c.batchFillTriangle(p[++M],p[++M],p[++M],p[++M],p[++M],p[++M],f,d);break;case s.STROKE_TRIANGLE:c.batchStrokeTriangle(p[++M],p[++M],p[++M],p[++M],p[++M],p[++M],m,f,d);break;case s.LINE_TO:null!==_?_.points.push(new a(p[++M],p[++M],m)):(_=new h(p[++M],p[++M],m),S.push(_));break;case s.MOVE_TO:_=new h(p[++M],p[++M],m),S.push(_);break;case s.SAVE:l.push(f.copyToArray());break;case s.RESTORE:f.copyFromArray(l.pop());break;case s.TRANSLATE:B=p[++M],N=p[++M],f.translate(B,N);break;case s.SCALE:B=p[++M],N=p[++M],f.scale(B,N);break;case s.ROTATE:f.rotate(p[++M])}t.pipelines.postBatch(e)}}},26479:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(61061),n=i(83419),r=i(51708),o=i(50792),a=i(46710),h=i(95540),l=i(35154),u=i(97022),c=i(41212),d=i(88492),f=i(35072),p=i(68287),g=new n({Extends:o,initialize:function(t,e,i){o.call(this),i?e&&!Array.isArray(e)&&(e=[e]):Array.isArray(e)?c(e[0])&&(i=e,e=null):c(e)&&(i=e,e=null),this.scene=t,this.children=new f,this.isParent=!0,this.type="Group",this.classType=h(i,"classType",p),this.name=h(i,"name",""),this.active=h(i,"active",!0),this.maxSize=h(i,"maxSize",-1),this.defaultKey=h(i,"defaultKey",null),this.defaultFrame=h(i,"defaultFrame",null),this.runChildUpdate=h(i,"runChildUpdate",!1),this.createCallback=h(i,"createCallback",null),this.removeCallback=h(i,"removeCallback",null),this.createMultipleCallback=h(i,"createMultipleCallback",null),this.internalCreateCallback=h(i,"internalCreateCallback",null),this.internalRemoveCallback=h(i,"internalRemoveCallback",null),e&&this.addMultiple(e),i&&this.createMultiple(i),this.on(r.ADDED_TO_SCENE,this.addedToScene,this),this.on(r.REMOVED_FROM_SCENE,this.removedFromScene,this)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},create:function(t,e,i,s,n,r){if(void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=this.defaultKey),void 0===s&&(s=this.defaultFrame),void 0===n&&(n=!0),void 0===r&&(r=!0),this.isFull())return null;var o=new this.classType(this.scene,t,e,i,s);return o.addToDisplayList(this.scene.sys.displayList),o.addToUpdateList(),o.visible=n,o.setActive(r),this.add(o),o},createMultiple:function(t){if(this.isFull())return[];Array.isArray(t)||(t=[t]);var e=[];if(t[0].key)for(var i=0;i<t.length;i++){var s=this.createFromConfig(t[i]);e=e.concat(s)}return e},createFromConfig:function(t){if(this.isFull())return[];this.classType=h(t,"classType",this.classType);var e=h(t,"key",void 0),i=h(t,"frame",null),n=h(t,"visible",!0),r=h(t,"active",!0),o=[];if(void 0===e)return o;Array.isArray(e)||(e=[e]),Array.isArray(i)||(i=[i]);var a=h(t,"repeat",0),c=h(t,"randomKey",!1),f=h(t,"randomFrame",!1),p=h(t,"yoyo",!1),g=h(t,"quantity",!1),m=h(t,"frameQuantity",1),v=h(t,"max",0),y=d(e,i,{max:v,qty:g||m,random:c,randomB:f,repeat:a,yoyo:p});t.createCallback&&(this.createCallback=t.createCallback),t.removeCallback&&(this.removeCallback=t.removeCallback),t.internalCreateCallback&&(this.internalCreateCallback=t.internalCreateCallback),t.internalRemoveCallback&&(this.internalRemoveCallback=t.internalRemoveCallback);for(var x=0;x<y.length;x++){var T=this.create(0,0,y[x].a,y[x].b,n,r);if(!T)break;o.push(T)}if(u(t,"setXY")){var w=l(t,"setXY.x",0),b=l(t,"setXY.y",0),S=l(t,"setXY.stepX",0),E=l(t,"setXY.stepY",0);s.SetXY(o,w,b,S,E)}if(u(t,"setRotation")){var C=l(t,"setRotation.value",0),_=l(t,"setRotation.step",0);s.SetRotation(o,C,_)}if(u(t,"setScale")){var A=l(t,"setScale.x",1),M=l(t,"setScale.y",A),P=l(t,"setScale.stepX",0),R=l(t,"setScale.stepY",0);s.SetScale(o,A,M,P,R)}if(u(t,"setOrigin")){var I=l(t,"setOrigin.x",.5),O=l(t,"setOrigin.y",I),L=l(t,"setOrigin.stepX",0),D=l(t,"setOrigin.stepY",0);s.SetOrigin(o,I,O,L,D)}if(u(t,"setAlpha")){var k=l(t,"setAlpha.value",1),F=l(t,"setAlpha.step",0);s.SetAlpha(o,k,F)}if(u(t,"setDepth")){var B=l(t,"setDepth.value",0),N=l(t,"setDepth.step",0);s.SetDepth(o,B,N)}if(u(t,"setScrollFactor")){var z=l(t,"setScrollFactor.x",1),U=l(t,"setScrollFactor.y",z),V=l(t,"setScrollFactor.stepX",0),G=l(t,"setScrollFactor.stepY",0);s.SetScrollFactor(o,z,U,V,G)}var X=h(t,"hitArea",null),Y=h(t,"hitAreaCallback",null);X&&s.SetHitArea(o,X,Y);var H=h(t,"gridAlign",!1);return H&&s.GridAlign(o,H),this.createMultipleCallback&&this.createMultipleCallback.call(this,o),o},preUpdate:function(t,e){if(this.runChildUpdate&&0!==this.children.size)for(var i=this.children.entries.slice(),s=0;s<i.length;s++){var n=i[s];n.active&&n.update(t,e)}},add:function(t,e){return void 0===e&&(e=!1),this.isFull()||(this.children.set(t),this.internalCreateCallback&&this.internalCreateCallback.call(this,t),this.createCallback&&this.createCallback.call(this,t),e&&(t.addToDisplayList(this.scene.sys.displayList),t.addToUpdateList()),t.on(r.DESTROY,this.remove,this)),this},addMultiple:function(t,e){if(void 0===e&&(e=!1),Array.isArray(t))for(var i=0;i<t.length;i++)this.add(t[i],e);return this},remove:function(t,e,i){return void 0===e&&(e=!1),void 0===i&&(i=!1),this.children.contains(t)?(this.children.delete(t),this.internalRemoveCallback&&this.internalRemoveCallback.call(this,t),this.removeCallback&&this.removeCallback.call(this,t),t.off(r.DESTROY,this.remove,this),i?t.destroy():e&&(t.removeFromDisplayList(),t.removeFromUpdateList()),this):this},clear:function(t,e){void 0===t&&(t=!1),void 0===e&&(e=!1);for(var i=this.children,s=0;s<i.size;s++){var n=i.entries[s];n.off(r.DESTROY,this.remove,this),e?n.destroy():t&&(n.removeFromDisplayList(),n.removeFromUpdateList())}return this.children.clear(),this},contains:function(t){return this.children.contains(t)},getChildren:function(){return this.children.entries},getLength:function(){return this.children.size},getMatching:function(t,e,i,s){return a(this.children.entries,t,e,i,s)},getFirst:function(t,e,i,s,n,r,o){return this.getHandler(!0,1,t,e,i,s,n,r,o)},getFirstNth:function(t,e,i,s,n,r,o,a){return this.getHandler(!0,t,e,i,s,n,r,o,a)},getLast:function(t,e,i,s,n,r,o){return this.getHandler(!1,1,t,e,i,s,n,r,o)},getLastNth:function(t,e,i,s,n,r,o,a){return this.getHandler(!1,t,e,i,s,n,r,o,a)},getHandler:function(t,e,i,s,n,r,o,a,h){var l,u;void 0===i&&(i=!1),void 0===s&&(s=!1);var c=0,d=this.children.entries;if(t)for(u=0;u<d.length;u++)if((l=d[u]).active===i){if(++c===e)break}else l=null;else for(u=d.length-1;u>=0;u--)if((l=d[u]).active===i){if(++c===e)break}else l=null;return l?("number"==typeof n&&(l.x=n),"number"==typeof r&&(l.y=r),l):s?this.create(n,r,o,a,h):null},get:function(t,e,i,s,n){return this.getFirst(!1,!0,t,e,i,s,n)},getFirstAlive:function(t,e,i,s,n,r){return this.getFirst(!0,t,e,i,s,n,r)},getFirstDead:function(t,e,i,s,n,r){return this.getFirst(!1,t,e,i,s,n,r)},playAnimation:function(t,e){return s.PlayAnimation(this.children.entries,t,e),this},isFull:function(){return-1!==this.maxSize&&this.children.size>=this.maxSize},countActive:function(t){void 0===t&&(t=!0);for(var e=0,i=0;i<this.children.size;i++)this.children.entries[i].active===t&&e++;return e},getTotalUsed:function(){return this.countActive()},getTotalFree:function(){var t=this.getTotalUsed();return(-1===this.maxSize?999999999999:this.maxSize)-t},setActive:function(t){return this.active=t,this},setName:function(t){return this.name=t,this},propertyValueSet:function(t,e,i,n,r){return s.PropertyValueSet(this.children.entries,t,e,i,n,r),this},propertyValueInc:function(t,e,i,n,r){return s.PropertyValueInc(this.children.entries,t,e,i,n,r),this},setX:function(t,e){return s.SetX(this.children.entries,t,e),this},setY:function(t,e){return s.SetY(this.children.entries,t,e),this},setXY:function(t,e,i,n){return s.SetXY(this.children.entries,t,e,i,n),this},incX:function(t,e){return s.IncX(this.children.entries,t,e),this},incY:function(t,e){return s.IncY(this.children.entries,t,e),this},incXY:function(t,e,i,n){return s.IncXY(this.children.entries,t,e,i,n),this},shiftPosition:function(t,e,i){return s.ShiftPosition(this.children.entries,t,e,i),this},angle:function(t,e){return s.Angle(this.children.entries,t,e),this},rotate:function(t,e){return s.Rotate(this.children.entries,t,e),this},rotateAround:function(t,e){return s.RotateAround(this.children.entries,t,e),this},rotateAroundDistance:function(t,e,i){return s.RotateAroundDistance(this.children.entries,t,e,i),this},setAlpha:function(t,e){return s.SetAlpha(this.children.entries,t,e),this},setTint:function(t,e,i,n){return s.SetTint(this.children.entries,t,e,i,n),this},setOrigin:function(t,e,i,n){return s.SetOrigin(this.children.entries,t,e,i,n),this},scaleX:function(t,e){return s.ScaleX(this.children.entries,t,e),this},scaleY:function(t,e){return s.ScaleY(this.children.entries,t,e),this},scaleXY:function(t,e,i,n){return s.ScaleXY(this.children.entries,t,e,i,n),this},setDepth:function(t,e){return s.SetDepth(this.children.entries,t,e),this},setBlendMode:function(t){return s.SetBlendMode(this.children.entries,t),this},setHitArea:function(t,e){return s.SetHitArea(this.children.entries,t,e),this},shuffle:function(){return s.Shuffle(this.children.entries),this},kill:function(t){this.children.contains(t)&&t.setActive(!1)},killAndHide:function(t){this.children.contains(t)&&(t.setActive(!1),t.setVisible(!1))},setVisible:function(t,e,i){return s.SetVisible(this.children.entries,t,e,i),this},toggleVisible:function(){return s.ToggleVisible(this.children.entries),this},destroy:function(t,e){void 0===t&&(t=!1),void 0===e&&(e=!1),this.scene&&!this.ignoreDestroy&&(this.emit(r.DESTROY,this),this.removeAllListeners(),this.scene.sys.updateList.remove(this),this.clear(e,t),this.scene=void 0,this.children=void 0)}});t.exports=g},94975:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(44603),n=i(26479);s.register("group",function(t){return new n(this.scene,null,t)})},3385:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(26479);i(39429).register("group",function(t,e){return this.updateList.add(new s(this.scene,t,e))})},88571:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(83419),n=i(31401),r=i(95643),o=i(59819),a=new s({Extends:r,Mixins:[n.Alpha,n.BlendMode,n.Depth,n.Flip,n.GetBounds,n.Mask,n.Origin,n.Pipeline,n.PostPipeline,n.ScrollFactor,n.Size,n.TextureCrop,n.Tint,n.Transform,n.Visible,o],initialize:function(t,e,i,s,n){r.call(this,t,"Image"),this._crop=this.resetCropObject(),this.setTexture(s,n),this.setPosition(e,i),this.setSizeToFrame(),this.setOriginFromFrame(),this.initPipeline(),this.initPostPipeline(!0)}});t.exports=a},40652:t=>{t.exports=function(t,e,i,s){i.addToRenderList(e),t.batchSprite(e,e.frame,i,s)}},82459:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(25305),n=i(44603),r=i(23568),o=i(88571);n.register("image",function(t,e){void 0===t&&(t={});var i=r(t,"key",null),n=r(t,"frame",null),a=new o(this.scene,0,0,i,n);return void 0!==e&&(t.add=e),s(this.scene,a,t),a})},2117:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(88571);i(39429).register("image",function(t,e,i,n){return this.displayList.add(new s(this.scene,t,e,i,n))})},59819:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s,n;i(29747),s=i(99517),n=i(40652),t.exports={renderWebGL:s,renderCanvas:n}},99517:t=>{t.exports=function(t,e,i,s){i.addToRenderList(e),this.pipeline.batchSprite(e,i,s)}},77856:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s={Events:i(51708),DisplayList:i(8050),GameObjectCreator:i(44603),GameObjectFactory:i(39429),UpdateList:i(45027),Components:i(31401),GetCalcMatrix:i(91296),BuildGameObject:i(25305),BuildGameObjectAnimation:i(13059),GameObject:i(95643),BitmapText:i(22186),Blitter:i(6107),Bob:i(46590),Container:i(31559),DOMElement:i(3069),DynamicBitmapText:i(2638),Extern:i(42421),Graphics:i(43831),Group:i(26479),Image:i(88571),Layer:i(93595),Particles:i(18404),PathFollower:i(1159),RenderTexture:i(591),RetroFont:i(196),Rope:i(77757),Sprite:i(68287),Text:i(50171),GetTextSize:i(14220),MeasureText:i(79557),TextStyle:i(35762),TileSprite:i(20839),Zone:i(41481),Video:i(18471),Shape:i(17803),Arc:i(23629),Curve:i(89),Ellipse:i(19921),Grid:i(30479),IsoBox:i(61475),IsoTriangle:i(16933),Line:i(57847),Polygon:i(24949),Rectangle:i(74561),Star:i(55911),Triangle:i(36931),Factories:{Blitter:i(12709),Container:i(24961),DOMElement:i(2611),DynamicBitmapText:i(72566),Extern:i(56315),Graphics:i(1201),Group:i(3385),Image:i(2117),Layer:i(20005),Particles:i(676),PathFollower:i(90145),RenderTexture:i(60505),Rope:i(96819),Sprite:i(46409),StaticBitmapText:i(34914),Text:i(68005),TileSprite:i(91681),Zone:i(84175),Video:i(89025),Arc:i(42563),Curve:i(40511),Ellipse:i(1543),Grid:i(34137),IsoBox:i(3933),IsoTriangle:i(49803),Line:i(2481),Polygon:i(64827),Rectangle:i(87959),Star:i(93697),Triangle:i(45245)},Creators:{Blitter:i(9403),Container:i(77143),DynamicBitmapText:i(11164),Graphics:i(87079),Group:i(94975),Image:i(82459),Layer:i(25179),Particles:i(92730),RenderTexture:i(34495),Rope:i(26209),Sprite:i(15567),StaticBitmapText:i(57336),Text:i(71259),TileSprite:i(14167),Zone:i(95261),Video:i(11511)}};s.Shader=i(20071),s.Mesh=i(4703),s.NineSlice=i(28103),s.PointLight=i(80321),s.Plane=i(33663),s.Factories.Shader=i(74177),s.Factories.Mesh=i(9225),s.Factories.NineSlice=i(47521),s.Factories.PointLight=i(71255),s.Factories.Plane=i(30985),s.Creators.Shader=i(54935),s.Creators.Mesh=i(20527),s.Creators.NineSlice=i(28279),s.Creators.PointLight=i(39829),s.Creators.Plane=i(56015),s.Light=i(41432),s.LightsManager=i(61356),s.LightsPlugin=i(88992),t.exports=s},93595:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(10312),n=i(83419),r=i(31401),o=i(53774),a=i(45893),h=i(50792),l=i(51708),u=i(73162),c=i(33963),d=i(44594),f=i(19186),p=new n({Extends:u,Mixins:[r.AlphaSingle,r.BlendMode,r.Depth,r.Mask,r.PostPipeline,r.Visible,h,c],initialize:function(t,e){u.call(this,t),h.call(this),this.scene=t,this.displayList=null,this.type="Layer",this.state=0,this.parentContainer=null,this.name="",this.active=!0,this.tabIndex=-1,this.data=null,this.renderFlags=15,this.cameraFilter=0,this.input=null,this.body=null,this.ignoreDestroy=!1,this.systems=t.sys,this.events=t.sys.events,this.sortChildrenFlag=!1,this.addCallback=this.addChildCallback,this.removeCallback=this.removeChildCallback,this.initPostPipeline(),this.clearAlpha(),this.setBlendMode(s.SKIP_CHECK),e&&this.add(e),t.sys.queueDepthSort()},setActive:function(t){return this.active=t,this},setName:function(t){return this.name=t,this},setState:function(t){return this.state=t,this},setDataEnabled:function(){return this.data||(this.data=new a(this)),this},setData:function(t,e){return this.data||(this.data=new a(this)),this.data.set(t,e),this},incData:function(t,e){return this.data||(this.data=new a(this)),this.data.inc(t,e),this},toggleData:function(t){return this.data||(this.data=new a(this)),this.data.toggle(t),this},getData:function(t){return this.data||(this.data=new a(this)),this.data.get(t)},setInteractive:function(){return this},disableInteractive:function(){return this},removeInteractive:function(){return this},addedToScene:function(){},removedFromScene:function(){},update:function(){},toJSON:function(){return o(this)},willRender:function(t){return!(15!==this.renderFlags||0===this.list.length||0!==this.cameraFilter&&this.cameraFilter&t.id)},getIndexList:function(){for(var t=this,e=this.parentContainer,i=[];e&&(i.unshift(e.getIndex(t)),t=e,e.parentContainer);)e=e.parentContainer;return i.unshift(this.displayList.getIndex(t)),i},addChildCallback:function(t){var e=t.displayList;e&&e!==this&&t.removeFromDisplayList(),t.displayList||(this.queueDepthSort(),t.displayList=this,t.emit(l.ADDED_TO_SCENE,t,this.scene),this.events.emit(d.ADDED_TO_SCENE,t,this.scene))},removeChildCallback:function(t){this.queueDepthSort(),t.displayList=null,t.emit(l.REMOVED_FROM_SCENE,t,this.scene),this.events.emit(d.REMOVED_FROM_SCENE,t,this.scene)},queueDepthSort:function(){this.sortChildrenFlag=!0},depthSort:function(){this.sortChildrenFlag&&(f(this.list,this.sortByDepth),this.sortChildrenFlag=!1)},sortByDepth:function(t,e){return t._depth-e._depth},getChildren:function(){return this.list},addToDisplayList:function(t){return void 0===t&&(t=this.scene.sys.displayList),this.displayList&&this.displayList!==t&&this.removeFromDisplayList(),t.exists(this)||(this.displayList=t,t.add(this,!0),t.queueDepthSort(),this.emit(l.ADDED_TO_SCENE,this,this.scene),t.events.emit(d.ADDED_TO_SCENE,this,this.scene)),this},removeFromDisplayList:function(){var t=this.displayList||this.scene.sys.displayList;return t.exists(this)&&(t.remove(this,!0),t.queueDepthSort(),this.displayList=null,this.emit(l.REMOVED_FROM_SCENE,this,this.scene),t.events.emit(d.REMOVED_FROM_SCENE,this,this.scene)),this},getDisplayList:function(){var t=null;return this.parentContainer?t=this.parentContainer.list:this.displayList&&(t=this.displayList.list),t},destroy:function(t){if(this.scene&&!this.ignoreDestroy){this.emit(l.DESTROY,this);for(var e=this.list;e.length;)e[0].destroy(t);this.removeAllListeners(),this.resetPostPipeline(!0),this.displayList&&(this.displayList.remove(this,!0,!1),this.displayList.queueDepthSort()),this.data&&(this.data.destroy(),this.data=void 0),this.active=!1,this.visible=!1,this.list=void 0,this.scene=void 0,this.displayList=void 0,this.systems=void 0,this.events=void 0}}});t.exports=p},2956:t=>{t.exports=function(t,e,i){var s=e.list;if(0!==s.length){e.depthSort();var n=-1!==e.blendMode;n||t.setBlendMode(0);var r=e._alpha;e.mask&&e.mask.preRenderCanvas(t,null,i);for(var o=0;o<s.length;o++){var a=s[o];if(a.willRender(i)){var h=a.alpha;n||a.blendMode===t.currentBlendMode||t.setBlendMode(a.blendMode),a.setAlpha(h*r),a.renderCanvas(t,a,i),a.setAlpha(h)}}e.mask&&e.mask.postRenderCanvas(t)}}},25179:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(25305),n=i(93595),r=i(44603),o=i(23568);r.register("layer",function(t,e){void 0===t&&(t={});var i=o(t,"children",null),r=new n(this.scene,i);return void 0!==e&&(t.add=e),s(this.scene,r,t),r})},20005:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(93595);i(39429).register("layer",function(t){return this.displayList.add(new s(this.scene,t))})},33963:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s,n;i(29747),s=i(15869),n=i(2956),t.exports={renderWebGL:s,renderCanvas:n}},15869:t=>{t.exports=function(t,e,i){var s=e.list,n=s.length;if(0!==n){e.depthSort(),t.pipelines.preBatch(e);var r=-1!==e.blendMode;r||t.setBlendMode(0);for(var o=e.alpha,a=0;a<n;a++){var h=s[a];if(h.willRender(i)){var l,u,c,d;if(void 0!==h.alphaTopLeft)l=h.alphaTopLeft,u=h.alphaTopRight,c=h.alphaBottomLeft,d=h.alphaBottomRight;else{var f=h.alpha;l=f,u=f,c=f,d=f}r||h.blendMode===t.currentBlendMode||t.setBlendMode(h.blendMode);var p=h.mask;p&&p.preRenderWebGL(t,h,i);var g=h.type;g!==t.currentType&&(t.newType=!0,t.currentType=g),t.nextTypeMatch=a<n-1&&s[a+1].type===t.currentType,h.setAlpha(l*o,u*o,c*o,d*o),h.renderWebGL(t,h,i),h.setAlpha(l,u,c,d),p&&p.postRenderWebGL(t,i),t.newType=!1}}t.pipelines.postBatch(e)}}},41432:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(96503),n=i(83419),r=i(31401),o=i(51767),a=i(70554),h=new n({Extends:s,Mixins:[r.Origin,r.ScrollFactor,r.Visible],initialize:function(t,e,i,n,r,a,h){s.call(this,t,e,i),this.color=new o(n,r,a),this.intensity=h,this.renderFlags=15,this.cameraFilter=0,this.setScrollFactor(1,1),this.setOrigin(),this.setDisplayOrigin(i)},displayWidth:{get:function(){return this.diameter},set:function(t){this.diameter=t}},displayHeight:{get:function(){return this.diameter},set:function(t){this.diameter=t}},width:{get:function(){return this.diameter},set:function(t){this.diameter=t}},height:{get:function(){return this.diameter},set:function(t){this.diameter=t}},willRender:function(t){return!(h.RENDER_MASK!==this.renderFlags||0!==this.cameraFilter&&this.cameraFilter&t.id)},setColor:function(t){var e=a.getFloatsFromUintRGB(t);return this.color.set(e[0],e[1],e[2]),this},setIntensity:function(t){return this.intensity=t,this},setRadius:function(t){return this.radius=t,this}});h.RENDER_MASK=15,t.exports=h},61356:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(81491),n=i(83419),r=i(20339),o=i(41432),a=i(80321),h=i(51767),l=i(19133),u=i(19186),c=i(70554),d=new n({initialize:function(){this.lights=[],this.ambientColor=new h(.1,.1,.1),this.active=!1,this.maxLights=-1,this.visibleLights=0},addPointLight:function(t,e,i,s,n,r){return this.systems.displayList.add(new a(this.scene,t,e,i,s,n,r))},enable:function(){return-1===this.maxLights&&(this.maxLights=this.systems.renderer.config.maxLights),this.active=!0,this},disable:function(){return this.active=!1,this},getLights:function(t){for(var e=this.lights,i=t.worldView,n=[],o=0;o<e.length;o++){var a=e[o];a.willRender(t)&&s(a,i)&&n.push({light:a,distance:r(a.x,a.y,i.centerX,i.centerY)})}return n.length>this.maxLights&&(u(n,this.sortByDistance),n=n.slice(0,this.maxLights)),this.visibleLights=n.length,n},sortByDistance:function(t,e){return t.distance>=e.distance},setAmbientColor:function(t){var e=c.getFloatsFromUintRGB(t);return this.ambientColor.set(e[0],e[1],e[2]),this},getMaxVisibleLights:function(){return this.maxLights},getLightCount:function(){return this.lights.length},addLight:function(t,e,i,s,n){void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=128),void 0===s&&(s=16777215),void 0===n&&(n=1);var r=c.getFloatsFromUintRGB(s),a=new o(t,e,i,r[0],r[1],r[2],n);return this.lights.push(a),a},removeLight:function(t){var e=this.lights.indexOf(t);return e>=0&&l(this.lights,e),this},shutdown:function(){this.lights.length=0},destroy:function(){this.shutdown()}});t.exports=d},88992:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(83419),n=i(61356),r=i(37277),o=i(44594),a=new s({Extends:n,initialize:function(t){this.scene=t,this.systems=t.sys,t.sys.settings.isBooted||t.sys.events.once(o.BOOT,this.boot,this),n.call(this)},boot:function(){var t=this.systems.events;t.on(o.SHUTDOWN,this.shutdown,this),t.on(o.DESTROY,this.destroy,this)},destroy:function(){this.shutdown(),this.scene=void 0,this.systems=void 0}});r.register("LightsPlugin",a,"lights"),t.exports=a},4703:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(83419),n=i(31401),r=i(39506),o=i(83997),a=i(95643),h=i(34684),l=i(92515),u=i(91296),c=i(37867),d=i(29807),f=i(43396),p=i(19186),g=i(25836),m=i(39318),v=new s({Extends:a,Mixins:[n.AlphaSingle,n.BlendMode,n.Depth,n.Mask,n.Pipeline,n.PostPipeline,n.ScrollFactor,n.Size,n.Texture,n.Transform,n.Visible,d],initialize:function(t,e,i,s,n,r,o,h,l,u,d,f){void 0===e&&(e=0),void 0===i&&(i=0),void 0===s&&(s="__WHITE"),a.call(this,t,"Mesh"),this.faces=[],this.vertices=[],this.tintFill=!1,this.debugCallback=null,this.debugGraphic=null,this.hideCCW=!0,this.modelPosition=new g,this.modelScale=new g(1,1,1),this.modelRotation=new g,this.dirtyCache=[0,0,0,0,0,0,0,0,0,0,0,0],this.transformMatrix=new c,this.viewPosition=new g,this.viewMatrix=new c,this.projectionMatrix=new c,this.totalRendered=0,this.totalFrame=0,this.ignoreDirtyCache=!1,this.fov,this.displayOriginX=0,this.displayOriginY=0;var p=t.sys.renderer;this.setPosition(e,i),this.setTexture(s,n),this.setSize(p.width,p.height),this.initPipeline(),this.initPostPipeline(),this.setPerspective(p.width,p.height),r&&this.addVertices(r,o,h,l,u,d,f)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},panX:function(t){return this.viewPosition.addScale(g.LEFT,t),this.dirtyCache[10]=1,this},panY:function(t){return this.viewPosition.y+=g.DOWN.y*t,this.dirtyCache[10]=1,this},panZ:function(t){return this.viewPosition.z+=t,this.dirtyCache[10]=1,this},setPerspective:function(t,e,i,s,n){return void 0===i&&(i=45),void 0===s&&(s=.01),void 0===n&&(n=1e3),this.fov=i,this.projectionMatrix.perspective(r(i),t/e,s,n),this.dirtyCache[10]=1,this.dirtyCache[11]=0,this},setOrtho:function(t,e,i,s){return void 0===t&&(t=this.scene.sys.renderer.getAspectRatio()),void 0===e&&(e=1),void 0===i&&(i=-1e3),void 0===s&&(s=1e3),this.fov=0,this.projectionMatrix.ortho(-t,t,-e,e,i,s),this.dirtyCache[10]=1,this.dirtyCache[11]=1,this},clear:function(){return this.faces.forEach(function(t){t.destroy()}),this.faces=[],this.vertices=[],this},addVerticesFromObj:function(t,e,i,s,n,r,o,a,l){var u,c=this.scene.sys.cache.obj.get(t);return c&&(u=h(c,this,e,i,s,n,r,o,a,l)),!u||u.verts.length,this},sortByDepth:function(t,e){return t.depth-e.depth},depthSort:function(){return p(this.faces,this.sortByDepth),this},addVertex:function(t,e,i,s,n,r,o){var a=new m(t,e,i,s,n,r,o);return this.vertices.push(a),a},addFace:function(t,e,i){var s=new o(t,e,i);return this.faces.push(s),this.dirtyCache[9]=-1,s},addVertices:function(t,e,i,s,n,r,o){var a=l(t,e,i,s,n,r,o);return a&&(this.faces=this.faces.concat(a.faces),this.vertices=this.vertices.concat(a.vertices)),this.dirtyCache[9]=-1,this},getFaceCount:function(){return this.faces.length},getVertexCount:function(){return this.vertices.length},getFace:function(t){return this.faces[t]},hasFaceAt:function(t,e,i){void 0===i&&(i=this.scene.sys.cameras.main);for(var s=u(this,i).calc,n=this.faces,r=0;r<n.length;r++)if(n[r].contains(t,e,s))return!0;return!1},getFaceAt:function(t,e,i){void 0===i&&(i=this.scene.sys.cameras.main);for(var s=u(this,i).calc,n=this.faces,r=[],o=0;o<n.length;o++){var a=n[o];a.contains(t,e,s)&&r.push(a)}return p(r,this.sortByDepth)},setDebug:function(t,e){return this.debugGraphic=t,this.debugCallback=t||e?e||this.renderDebug:null,this},isDirty:function(){var t=this.modelPosition,e=this.modelRotation,i=this.modelScale,s=this.dirtyCache,n=t.x,r=t.y,o=t.z,a=e.x,h=e.y,l=e.z,u=i.x,c=i.y,d=i.z,f=this.getFaceCount(),p=s[0],g=s[1],m=s[2],v=s[3],y=s[4],x=s[5],T=s[6],w=s[7],b=s[8],S=s[9];return s[0]=n,s[1]=r,s[2]=o,s[3]=a,s[4]=h,s[5]=l,s[6]=u,s[7]=c,s[8]=d,s[9]=f,p!==n||g!==r||m!==o||v!==a||y!==h||x!==l||T!==u||w!==c||b!==d||S!==f},preUpdate:function(){this.totalRendered=this.totalFrame,this.totalFrame=0;var t=this.dirtyCache;if(this.ignoreDirtyCache||t[10]||this.isDirty()){var e=this.width,i=this.height,s=this.viewMatrix,n=this.viewPosition;t[10]&&(s.identity(),s.translate(n),s.invert(),t[10]=0);var r=this.transformMatrix;r.setWorldMatrix(this.modelRotation,this.modelPosition,this.modelScale,this.viewMatrix,this.projectionMatrix);for(var o=n.z,a=this.faces,h=0;h<a.length;h++)a[h].transformCoordinatesLocal(r,e,i,o);this.depthSort()}},renderDebug:function(t,e){for(var i=t.debugGraphic,s=0;s<e.length;s++){var n=e[s],r=n.vertex1.tx,o=n.vertex1.ty,a=n.vertex2.tx,h=n.vertex2.ty,l=n.vertex3.tx,u=n.vertex3.ty;i.strokeTriangle(r,o,a,h,l,u)}},preDestroy:function(){this.clear(),this.debugCallback=null,this.debugGraphic=null},clearTint:function(){return this.setTint()},setInteractive:function(t){void 0===t&&(t={});var e=function(t,e,i){for(var s=this.faces,n=0;n<s.length;n++)if(s[n].contains(e,i))return!0;return!1}.bind(this);return this.scene.sys.input.enable(this,t,e),this},setTint:function(t){void 0===t&&(t=16777215);for(var e=this.vertices,i=0;i<e.length;i++)e[i].color=t;return this},uvScroll:function(t,e){for(var i=this.faces,s=0;s<i.length;s++)i[s].scrollUV(t,e);return this},uvScale:function(t,e){for(var i=this.faces,s=0;s<i.length;s++)i[s].scaleUV(t,e);return this},tint:{set:function(t){this.setTint(t)}},rotateX:{get:function(){return f(this.modelRotation.x)},set:function(t){this.modelRotation.x=r(t)}},rotateY:{get:function(){return f(this.modelRotation.y)},set:function(t){this.modelRotation.y=r(t)}},rotateZ:{get:function(){return f(this.modelRotation.z)},set:function(t){this.modelRotation.z=r(t)}}});t.exports=v},36488:t=>{t.exports=function(){}},20527:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(25305),n=i(44603),r=i(23568),o=i(35154),a=i(4703);n.register("mesh",function(t,e){void 0===t&&(t={});var i=r(t,"key",null),n=r(t,"frame",null),h=o(t,"vertices",[]),l=o(t,"uvs",[]),u=o(t,"indicies",[]),c=o(t,"containsZ",!1),d=o(t,"normals",[]),f=o(t,"colors",16777215),p=o(t,"alphas",1),g=new a(this.scene,0,0,i,n,h,l,u,c,d,f,p);return void 0!==e&&(t.add=e),s(this.scene,g,t),g})},9225:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(4703);i(39429).register("mesh",function(t,e,i,n,r,o,a,h,l,u,c){return this.displayList.add(new s(this.scene,t,e,i,n,r,o,a,h,l,u,c))})},29807:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s,n;i(29747),s=i(48833),n=i(36488),t.exports={renderWebGL:s,renderCanvas:n}},48833:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(91296);t.exports=function(t,e,i,n){var r=e.faces,o=r.length;if(0!==o){i.addToRenderList(e);var a=t.pipelines.set(e.pipeline,e),h=s(e,i,n).calc;t.pipelines.preBatch(e);for(var l=a.setGameObject(e),u=a.vertexViewF32,c=a.vertexViewU32,d=a.vertexCount*a.currentShader.vertexComponentCount-1,f=e.tintFill,p=[],g=e.debugCallback,m=h.a,v=h.b,y=h.c,x=h.d,T=h.e,w=h.f,b=e.viewPosition.z,S=e.hideCCW,E=i.roundPixels,C=i.alpha*e.alpha,_=0,A=0;A<o;A++){var M=r[A];M.isInView(i,S,b,C,m,v,y,x,T,w,E)&&(a.shouldFlush(3)&&(a.flush(),l=a.setGameObject(e),d=a.vertexCount*a.currentShader.vertexComponentCount-1),d=M.load(u,c,d,l,f),_++,a.vertexCount+=3,a.currentBatch.count=a.vertexCount-a.currentBatch.start,g&&p.push(M))}e.totalFrame+=_,g&&g.call(e,e,p),t.pipelines.postBatch(e)}}},28103:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(83419),n=i(31401),r=i(95643),o=i(78023),a=i(39318),h=new s({Extends:r,Mixins:[n.AlphaSingle,n.BlendMode,n.Depth,n.GetBounds,n.Mask,n.Origin,n.Pipeline,n.PostPipeline,n.ScrollFactor,n.Texture,n.Transform,n.Visible,o],initialize:function(t,e,i,s,n,o,h,l,u,c,d){r.call(this,t,"NineSlice"),this._width,this._height,this._originX=.5,this._originY=.5,this._sizeComponent=!0,this.vertices=[],this.leftWidth,this.rightWidth,this.topHeight,this.bottomHeight,this.tint=16777215,this.tintFill=!1;var f=t.textures.getFrame(s,n);this.is3Slice=!c&&!d,f&&f.scale9&&(this.is3Slice=f.is3Slice);for(var p=this.is3Slice?18:54,g=0;g<p;g++)this.vertices.push(new a);this.setPosition(e,i),this.setTexture(s,n),this.setSlices(o,h,l,u,c,d,!1),this.updateDisplayOrigin(),this.initPipeline(),this.initPostPipeline()},setSlices:function(t,e,i,s,n,r,o){void 0===i&&(i=10),void 0===s&&(s=10),void 0===n&&(n=0),void 0===r&&(r=0),void 0===o&&(o=!1);var a=this.frame,h=!1;if(this.is3Slice&&o&&0!==n&&0!==r&&(h=!0),h);else{if(a&&a.scale9&&!o){var l=a.data.scale9Borders,u=l.x,c=l.y;i=u,s=a.width-l.w-u,n=c,r=a.height-l.h-c,void 0===t&&(t=a.width),void 0===e&&(e=a.height)}else void 0===t&&(t=256),void 0===e&&(e=256);this._width=t,this._height=e,this.leftWidth=i,this.rightWidth=s,this.topHeight=n,this.bottomHeight=r,this.is3Slice&&(e=a.height,this._height=e,this.topHeight=e,this.bottomHeight=0),this.updateVertices(),this.updateUVs()}return this},updateUVs:function(){var t=this.leftWidth,e=this.rightWidth,i=this.topHeight,s=this.bottomHeight,n=this.frame.width,r=this.frame.height;this.updateQuadUVs(0,0,0,t/n,i/r),this.updateQuadUVs(6,t/n,0,1-e/n,i/r),this.updateQuadUVs(12,1-e/n,0,1,i/r),this.is3Slice||(this.updateQuadUVs(18,0,i/r,t/n,1-s/r),this.updateQuadUVs(24,t/n,i/r,1-e/n,1-s/r),this.updateQuadUVs(30,1-e/n,i/r,1,1-s/r),this.updateQuadUVs(36,0,1-s/r,t/n,1),this.updateQuadUVs(42,t/n,1-s/r,1-e/n,1),this.updateQuadUVs(48,1-e/n,1-s/r,1,1))},updateVertices:function(){var t=this.leftWidth,e=this.rightWidth,i=this.topHeight,s=this.bottomHeight,n=this.width,r=this.height;this.updateQuad(0,-.5,.5,t/n-.5,.5-i/r),this.updateQuad(6,t/n-.5,.5,.5-e/n,.5-i/r),this.updateQuad(12,.5-e/n,.5,.5,.5-i/r),this.is3Slice||(this.updateQuad(18,-.5,.5-i/r,t/n-.5,s/r-.5),this.updateQuad(24,t/n-.5,.5-i/r,.5-e/n,s/r-.5),this.updateQuad(30,.5-e/n,.5-i/r,.5,s/r-.5),this.updateQuad(36,-.5,s/r-.5,t/n-.5,-.5),this.updateQuad(42,t/n-.5,s/r-.5,.5-e/n,-.5),this.updateQuad(48,.5-e/n,s/r-.5,.5,-.5))},updateQuad:function(t,e,i,s,n){var r=this.width,o=this.height,a=this.originX,h=this.originY,l=this.vertices;l[t+0].resize(e,i,r,o,a,h),l[t+1].resize(e,n,r,o,a,h),l[t+2].resize(s,i,r,o,a,h),l[t+3].resize(e,n,r,o,a,h),l[t+4].resize(s,n,r,o,a,h),l[t+5].resize(s,i,r,o,a,h)},updateQuadUVs:function(t,e,i,s,n){var r=this.vertices,o=this.frame,a=o.u0,h=o.v0,l=o.u1,u=o.v1;if(0!==a||1!==l){var c=l-a;e=a+e*c,s=a+s*c}if(0!==h||1!==u){var d=u-h;i=h+i*d,n=h+n*d}r[t+0].setUVs(e,i),r[t+1].setUVs(e,n),r[t+2].setUVs(s,i),r[t+3].setUVs(e,n),r[t+4].setUVs(s,n),r[t+5].setUVs(s,i)},clearTint:function(){return this.setTint(16777215),this},setTint:function(t){return void 0===t&&(t=16777215),this.tint=t,this.tintFill=!1,this},setTintFill:function(t){return this.setTint(t),this.tintFill=!0,this},isTinted:{get:function(){return 16777215!==this.tint}},width:{get:function(){return this._width},set:function(t){this._width=Math.max(t,this.leftWidth+this.rightWidth),this.updateVertices()}},height:{get:function(){return this._height},set:function(t){this.is3Slice||(this._height=Math.max(t,this.topHeight+this.bottomHeight),this.updateVertices())}},displayWidth:{get:function(){return this.scaleX*this.width},set:function(t){this.scaleX=t/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(t){this.scaleY=t/this.height}},setSize:function(t,e){this.width=t,this.height=e,this.updateDisplayOrigin();var i=this.input;return i&&!i.customHitArea&&(i.hitArea.width=this.width,i.hitArea.height=this.height),this},setDisplaySize:function(t,e){return this.displayWidth=t,this.displayHeight=e,this},originX:{get:function(){return this._originX},set:function(t){this._originX=t,this.updateVertices()}},originY:{get:function(){return this._originY},set:function(t){this._originY=t,this.updateVertices()}},setOrigin:function(t,e){return void 0===t&&(t=.5),void 0===e&&(e=t),this._originX=t,this._originY=e,this.updateVertices(),this.updateDisplayOrigin()},setSizeToFrame:function(){if(this.is3Slice){var t=this.frame.height;this._height=t,this.topHeight=t,this.bottomHeight=0}return this.updateUVs(),this},preDestroy:function(){this.vertices=[]}});t.exports=h},28279:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(25305),n=i(44603),r=i(23568),o=i(35154),a=i(28103);n.register("nineslice",function(t,e){void 0===t&&(t={});var i=r(t,"key",null),n=r(t,"frame",null),h=o(t,"width",256),l=o(t,"height",256),u=o(t,"leftWidth",10),c=o(t,"rightWidth",10),d=o(t,"topHeight",0),f=o(t,"bottomHeight",0),p=new a(this.scene,0,0,i,n,h,l,u,c,d,f);return void 0!==e&&(t.add=e),s(this.scene,p,t),p})},47521:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(28103);i(39429).register("nineslice",function(t,e,i,n,r,o,a,h,l,u){return this.displayList.add(new s(this.scene,t,e,i,n,r,o,a,h,l,u))})},78023:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s,n=i(29747),r=n;s=i(52230),t.exports={renderWebGL:s,renderCanvas:r}},52230:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(91296),n=i(70554);t.exports=function(t,e,i,r){var o=e.vertices,a=o.length;if(0!==a){i.addToRenderList(e);var h=t.pipelines.set(e.pipeline,e),l=s(e,i,r,!1).calc;t.pipelines.preBatch(e);var u=h.setGameObject(e),c=h.vertexViewF32,d=h.vertexViewU32,f=h.vertexCount*h.currentShader.vertexComponentCount-1,p=i.roundPixels,g=e.tintFill,m=i.alpha*e.alpha,v=n.getTintAppendFloatAlpha(e.tint,m),y=h.vertexAvailable(),x=-1;y<a&&(x=y);for(var T=0;T<a;T++){var w=o[T];T===x&&(h.flush(),u=h.setGameObject(e),f=0),c[++f]=l.getXRound(w.vx,w.vy,p),c[++f]=l.getYRound(w.vx,w.vy,p),c[++f]=w.u,c[++f]=w.v,c[++f]=u,c[++f]=g,d[++f]=v,h.vertexCount++,h.currentBatch.count=h.vertexCount-h.currentBatch.start}t.pipelines.postBatch(e)}}},76472:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(83419),n=i(44777),r=i(37589),o=i(6113),a=i(91389),h=i(90664),l=new s({Extends:n,initialize:function(t){n.call(this,t,null,!1),this.active=!1,this.easeName="Linear",this.r=[],this.g=[],this.b=[]},getMethod:function(){return null===this.propertyValue?0:9},setMethods:function(){var t=this.propertyValue,e=t,i=this.defaultEmit,s=this.defaultUpdate;if(9===this.method){this.start=t[0],this.ease=o("Linear"),this.interpolation=a("linear"),i=this.easedValueEmit,s=this.easeValueUpdate,e=t[0],this.active=!0,this.r.length=0,this.g.length=0,this.b.length=0;for(var n=0;n<t.length;n++){var r=h(t[n]);this.r.push(r.r),this.g.push(r.g),this.b.push(r.b)}}return this.onEmit=i,this.onUpdate=s,this.current=e,this},setEase:function(t){this.easeName=t,this.ease=o(t)},easedValueEmit:function(){return this.current=this.start,this.start},easeValueUpdate:function(t,e,i){var s=this.ease(i),n=this.interpolation(this.r,s),o=this.interpolation(this.g,s),a=this.interpolation(this.b,s),h=r(n,o,a);return this.current=h,h}});t.exports=l},44777:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(30976),n=i(45319),r=i(83419),o=i(99472),a=i(6113),h=i(95540),l=i(91389),u=i(77720),c=i(15994),d=new r({initialize:function(t,e,i){void 0===i&&(i=!1),this.propertyKey=t,this.propertyValue=e,this.defaultValue=e,this.steps=0,this.counter=0,this.yoyo=!1,this.direction=0,this.start=0,this.current=0,this.end=0,this.ease=null,this.interpolation=null,this.emitOnly=i,this.onEmit=this.defaultEmit,this.onUpdate=this.defaultUpdate,this.active=!0,this.method=0,this._onEmit,this._onUpdate},loadConfig:function(t,e){void 0===t&&(t={}),e&&(this.propertyKey=e),this.propertyValue=h(t,this.propertyKey,this.defaultValue),this.method=this.getMethod(),this.setMethods(),this.emitOnly&&(this.onUpdate=this.defaultUpdate)},toJSON:function(){return JSON.stringify(this.propertyValue)},onChange:function(t){var e;switch(this.method){case 1:case 3:case 8:e=t;break;case 2:this.propertyValue.indexOf(t)>=0&&(e=t);break;case 4:var i=(this.end-this.start)/this.steps;e=u(t,i),this.counter=e;break;case 5:case 6:case 7:e=n(t,this.start,this.end);break;case 9:e=this.start[0]}return this.current=e,this},getMethod:function(){var t=this.propertyValue;if(null===t)return 0;var e=typeof t;if("number"===e)return 1;if(Array.isArray(t))return 2;if("function"===e)return 3;if("object"===e){if(this.hasBoth(t,"start","end"))return this.has(t,"steps")?4:5;if(this.hasBoth(t,"min","max"))return 6;if(this.has(t,"random"))return 7;if(this.hasEither(t,"onEmit","onUpdate"))return 8;if(this.hasEither(t,"values","interpolation"))return 9}return 0},setMethods:function(){var t=this.propertyValue,e=t,i=this.defaultEmit,s=this.defaultUpdate;switch(this.method){case 1:i=this.staticValueEmit;break;case 2:i=this.randomStaticValueEmit,e=t[0];break;case 3:this._onEmit=t,i=this.proxyEmit,e=this.defaultValue;break;case 4:this.start=t.start,this.end=t.end,this.steps=t.steps,this.counter=this.start,this.yoyo=!!this.has(t,"yoyo")&&t.yoyo,this.direction=0,i=this.steppedEmit,e=this.start;break;case 5:this.start=t.start,this.end=t.end;var n=this.has(t,"ease")?t.ease:"Linear";this.ease=a(n,t.easeParams),i=this.has(t,"random")&&t.random?this.randomRangedValueEmit:this.easedValueEmit,s=this.easeValueUpdate,e=this.start;break;case 6:this.start=t.min,this.end=t.max,i=this.has(t,"int")&&t.int?this.randomRangedIntEmit:this.randomRangedValueEmit,e=this.start;break;case 7:var r=t.random;Array.isArray(r)&&(this.start=r[0],this.end=r[1]),i=this.randomRangedIntEmit,e=this.start;break;case 8:this._onEmit=this.has(t,"onEmit")?t.onEmit:this.defaultEmit,this._onUpdate=this.has(t,"onUpdate")?t.onUpdate:this.defaultUpdate,i=this.proxyEmit,s=this.proxyUpdate,e=this.defaultValue;break;case 9:this.start=t.values;var o=this.has(t,"ease")?t.ease:"Linear";this.ease=a(o,t.easeParams),this.interpolation=l(t.interpolation),i=this.easedValueEmit,s=this.easeValueUpdate,e=this.start[0]}return this.onEmit=i,this.onUpdate=s,this.current=e,this},has:function(t,e){return t.hasOwnProperty(e)},hasBoth:function(t,e,i){return t.hasOwnProperty(e)&&t.hasOwnProperty(i)},hasEither:function(t,e,i){return t.hasOwnProperty(e)||t.hasOwnProperty(i)},defaultEmit:function(){return this.defaultValue},defaultUpdate:function(t,e,i,s){return s},proxyEmit:function(t,e,i){var s=this._onEmit(t,e,i);return this.current=s,s},proxyUpdate:function(t,e,i,s){var n=this._onUpdate(t,e,i,s);return this.current=n,n},staticValueEmit:function(){return this.current},staticValueUpdate:function(){return this.current},randomStaticValueEmit:function(){var t=Math.floor(Math.random()*this.propertyValue.length);return this.current=this.propertyValue[t],this.current},randomRangedValueEmit:function(t,e){var i=o(this.start,this.end);return t&&t.data[e]&&(t.data[e].min=i,t.data[e].max=this.end),this.current=i,i},randomRangedIntEmit:function(t,e){var i=s(this.start,this.end);return t&&t.data[e]&&(t.data[e].min=i,t.data[e].max=this.end),this.current=i,i},steppedEmit:function(){var t,e=this.counter,i=e,s=(this.end-this.start)/this.steps;return this.yoyo?(0===this.direction?(i+=s)>=this.end&&(t=i-this.end,i=this.end-t,this.direction=1):(i-=s)<=this.start&&(t=this.start-i,i=this.start+t,this.direction=0),this.counter=i):this.counter=c(i+s,this.start,this.end),this.current=e,e},easedValueEmit:function(t,e){if(t&&t.data[e]){var i=t.data[e];i.min=this.start,i.max=this.end}return this.current=this.start,this.start},easeValueUpdate:function(t,e,i){var s,n=t.data[e],r=this.ease(i);return s=this.interpolation?this.interpolation(this.start,r):(n.max-n.min)*r+n.min,this.current=s,s},destroy:function(){this.propertyValue=null,this.defaultValue=null,this.ease=null,this.interpolation=null,this._onEmit=null,this._onUpdate=null}});t.exports=d},24502:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(83419),n=i(95540),r=i(20286),o=new s({Extends:r,initialize:function(t,e,i,s,o){if("object"==typeof t){var a=t;t=n(a,"x",0),e=n(a,"y",0),i=n(a,"power",0),s=n(a,"epsilon",100),o=n(a,"gravity",50)}else void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=0),void 0===s&&(s=100),void 0===o&&(o=50);r.call(this,t,e,!0),this._gravity=o,this._power=i*o,this._epsilon=s*s},update:function(t,e){var i=this.x-t.x,s=this.y-t.y,n=i*i+s*s;if(0!==n){var r=Math.sqrt(n);n<this._epsilon&&(n=this._epsilon);var o=this._power*e/(n*r)*100;t.velocityX+=i*o,t.velocityY+=s*o}},epsilon:{get:function(){return Math.sqrt(this._epsilon)},set:function(t){this._epsilon=t*t}},power:{get:function(){return this._power/this._gravity},set:function(t){this._power=t*this._gravity}},gravity:{get:function(){return this._gravity},set:function(t){var e=this.power;this._gravity=t,this.power=e}}});t.exports=o},56480:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(9674),n=i(45319),r=i(83419),o=i(39506),a=i(87841),h=i(11520),l=i(26099),u=new r({initialize:function(t){this.emitter=t,this.texture=null,this.frame=null,this.x=0,this.y=0,this.worldPosition=new l,this.velocityX=0,this.velocityY=0,this.accelerationX=0,this.accelerationY=0,this.maxVelocityX=1e4,this.maxVelocityY=1e4,this.bounce=0,this.scaleX=1,this.scaleY=1,this.alpha=1,this.angle=0,this.rotation=0,this.tint=16777215,this.life=1e3,this.lifeCurrent=1e3,this.delayCurrent=0,this.holdCurrent=0,this.lifeT=0,this.data={tint:{min:16777215,max:16777215},alpha:{min:1,max:1},rotate:{min:0,max:0},scaleX:{min:1,max:1},scaleY:{min:1,max:1},x:{min:0,max:0},y:{min:0,max:0},accelerationX:{min:0,max:0},accelerationY:{min:0,max:0},maxVelocityX:{min:0,max:0},maxVelocityY:{min:0,max:0},moveToX:{min:0,max:0},moveToY:{min:0,max:0},bounce:{min:0,max:0}},this.isCropped=!1,this.scene=t.scene,this.anims=null,this.emitter.anims.length>0&&(this.anims=new s(this)),this.bounds=new a},emit:function(t,e,i,s,n,r){return this.emitter.emit(t,e,i,s,n,r)},isAlive:function(){return this.lifeCurrent>0},kill:function(){this.lifeCurrent=0},setPosition:function(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this.x=t,this.y=e},fire:function(t,e){var i=this.emitter,s=i.ops,n=i.getAnim();if(n?this.anims.play(n):(this.frame=i.getFrame(),this.texture=this.frame.texture),!this.frame)throw new Error("Particle has no texture frame");if(i.getEmitZone(this),void 0===t?this.x+=s.x.onEmit(this,"x"):s.x.steps>0?this.x+=t+s.x.onEmit(this,"x"):this.x+=t,void 0===e?this.y+=s.y.onEmit(this,"y"):s.y.steps>0?this.y+=e+s.y.onEmit(this,"y"):this.y+=e,this.life=s.lifespan.onEmit(this,"lifespan"),this.lifeCurrent=this.life,this.lifeT=0,this.delayCurrent=s.delay.onEmit(this,"delay"),this.holdCurrent=s.hold.onEmit(this,"hold"),this.scaleX=s.scaleX.onEmit(this,"scaleX"),this.scaleY=s.scaleY.active?s.scaleY.onEmit(this,"scaleY"):this.scaleX,this.angle=s.rotate.onEmit(this,"rotate"),this.rotation=o(this.angle),i.worldMatrix.transformPoint(this.x,this.y,this.worldPosition),0===this.delayCurrent&&i.getDeathZone(this))return this.lifeCurrent=0,!1;var r=s.speedX.onEmit(this,"speedX"),a=s.speedY.active?s.speedY.onEmit(this,"speedY"):r;if(i.radial){var h=o(s.angle.onEmit(this,"angle"));this.velocityX=Math.cos(h)*Math.abs(r),this.velocityY=Math.sin(h)*Math.abs(a)}else if(i.moveTo){var l=s.moveToX.onEmit(this,"moveToX"),u=s.moveToY.onEmit(this,"moveToY"),c=this.life/1e3;this.velocityX=(l-this.x)/c,this.velocityY=(u-this.y)/c}else this.velocityX=r,this.velocityY=a;return i.acceleration&&(this.accelerationX=s.accelerationX.onEmit(this,"accelerationX"),this.accelerationY=s.accelerationY.onEmit(this,"accelerationY")),this.maxVelocityX=s.maxVelocityX.onEmit(this,"maxVelocityX"),this.maxVelocityY=s.maxVelocityY.onEmit(this,"maxVelocityY"),this.bounce=s.bounce.onEmit(this,"bounce"),this.alpha=s.alpha.onEmit(this,"alpha"),s.color.active?this.tint=s.color.onEmit(this,"tint"):this.tint=s.tint.onEmit(this,"tint"),!0},update:function(t,e,i){if(this.lifeCurrent<=0)return!(this.holdCurrent>0)||(this.holdCurrent-=t,this.holdCurrent<=0);if(this.delayCurrent>0)return this.delayCurrent-=t,!1;this.anims&&this.anims.update(0,t);var s=this.emitter,r=s.ops,a=1-this.lifeCurrent/this.life;if(this.lifeT=a,this.x=r.x.onUpdate(this,"x",a,this.x),this.y=r.y.onUpdate(this,"y",a,this.y),s.moveTo){var h=r.moveToX.onUpdate(this,"moveToX",a,s.moveToX),l=r.moveToY.onUpdate(this,"moveToY",a,s.moveToY),u=this.lifeCurrent/1e3;this.velocityX=(h-this.x)/u,this.velocityY=(l-this.y)/u}return this.computeVelocity(s,t,e,i,a),this.scaleX=r.scaleX.onUpdate(this,"scaleX",a,this.scaleX),r.scaleY.active?this.scaleY=r.scaleY.onUpdate(this,"scaleY",a,this.scaleY):this.scaleY=this.scaleX,this.angle=r.rotate.onUpdate(this,"rotate",a,this.angle),this.rotation=o(this.angle),s.getDeathZone(this)?(this.lifeCurrent=0,!0):(this.alpha=n(r.alpha.onUpdate(this,"alpha",a,this.alpha),0,1),r.color.active?this.tint=r.color.onUpdate(this,"color",a,this.tint):this.tint=r.tint.onUpdate(this,"tint",a,this.tint),this.lifeCurrent-=t,this.lifeCurrent<=0&&this.holdCurrent<=0)},computeVelocity:function(t,e,i,s,r){var o=t.ops,a=this.velocityX,h=this.velocityY,l=o.accelerationX.onUpdate(this,"accelerationX",r,this.accelerationX),u=o.accelerationY.onUpdate(this,"accelerationY",r,this.accelerationY),c=o.maxVelocityX.onUpdate(this,"maxVelocityX",r,this.maxVelocityX),d=o.maxVelocityY.onUpdate(this,"maxVelocityY",r,this.maxVelocityY);this.bounce=o.bounce.onUpdate(this,"bounce",r,this.bounce),a+=t.gravityX*i+l*i,h+=t.gravityY*i+u*i,a=n(a,-c,c),h=n(h,-d,d),this.velocityX=a,this.velocityY=h,this.x+=a*i,this.y+=h*i,t.worldMatrix.transformPoint(this.x,this.y,this.worldPosition);for(var f=0;f<s.length;f++){var p=s[f];p.active&&p.update(this,e,i,r)}},setSizeToFrame:function(){},getBounds:function(t){void 0===t&&(t=this.emitter.getWorldTransformMatrix());var e=Math.abs(t.scaleX)*this.scaleX,i=Math.abs(t.scaleY)*this.scaleY,s=this.x,n=this.y,r=this.rotation,o=this.frame.width*e/2,a=this.frame.height*i/2,u=this.bounds,c=new l(s-o,n-a),d=new l(s+o,n-a),f=new l(s-o,n+a),p=new l(s+o,n+a);return 0!==r&&(h(c,s,n,r),h(d,s,n,r),h(f,s,n,r),h(p,s,n,r)),t.transformPoint(c.x,c.y,c),t.transformPoint(d.x,d.y,d),t.transformPoint(f.x,f.y,f),t.transformPoint(p.x,p.y,p),u.x=Math.min(c.x,d.x,f.x,p.x),u.y=Math.min(c.y,d.y,f.y,p.y),u.width=Math.max(c.x,d.x,f.x,p.x)-u.x,u.height=Math.max(c.y,d.y,f.y,p.y)-u.y,u},destroy:function(){this.anims&&this.anims.destroy(),this.anims=null,this.emitter=null,this.texture=null,this.frame=null,this.scene=null}});t.exports=u},69601:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(83419),n=i(20286),r=i(87841),o=new s({Extends:n,initialize:function(t,e,i,s,o,a,h,l){void 0===o&&(o=!0),void 0===a&&(a=!0),void 0===h&&(h=!0),void 0===l&&(l=!0),n.call(this,t,e,!0),this.bounds=new r(t,e,i,s),this.collideLeft=o,this.collideRight=a,this.collideTop=h,this.collideBottom=l},update:function(t){var e=this.bounds,i=-t.bounce,s=t.worldPosition;s.x<e.x&&this.collideLeft?(t.x+=e.x-s.x,t.velocityX*=i):s.x>e.right&&this.collideRight&&(t.x-=s.x-e.right,t.velocityX*=i),s.y<e.y&&this.collideTop?(t.y+=e.y-s.y,t.velocityY*=i):s.y>e.bottom&&this.collideBottom&&(t.y-=s.y-e.bottom,t.velocityY*=i)}});t.exports=o},31600:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(83419),n=i(31401),r=i(53774),o=i(43459),a=i(26388),h=i(19909),l=i(76472),u=i(44777),c=i(20696),d=i(95643),f=i(95540),p=i(26546),g=i(24502),m=i(69036),v=i(1985),y=i(97022),x=i(86091),T=i(73162),w=i(20074),b=i(269),S=i(56480),E=i(69601),C=i(68875),_=i(87841),A=i(59996),M=i(72905),P=i(90668),R=i(19186),I=i(61340),O=i(26099),L=i(15994),D=["active","advance","blendMode","colorEase","deathCallback","deathCallbackScope","duration","emitCallback","emitCallbackScope","follow","frequency","gravityX","gravityY","maxAliveParticles","maxParticles","name","emitting","particleBringToTop","particleClass","radial","sortCallback","sortOrderAsc","sortProperty","stopAfter","tintFill","timeScale","trackVisible","visible"],k=["accelerationX","accelerationY","alpha","angle","bounce","color","delay","hold","lifespan","maxVelocityX","maxVelocityY","moveToX","moveToY","quantity","rotate","scaleX","scaleY","speedX","speedY","tint","x","y"],F=new s({Extends:d,Mixins:[n.AlphaSingle,n.BlendMode,n.Depth,n.Mask,n.Pipeline,n.PostPipeline,n.ScrollFactor,n.Texture,n.Transform,n.Visible,P],initialize:function(t,e,i,s,n){d.call(this,t,"ParticleEmitter"),this.particleClass=S,this.config=null,this.ops={accelerationX:new u("accelerationX",0),accelerationY:new u("accelerationY",0),alpha:new u("alpha",1),angle:new u("angle",{min:0,max:360},!0),bounce:new u("bounce",0),color:new l("color"),delay:new u("delay",0,!0),hold:new u("hold",0,!0),lifespan:new u("lifespan",1e3,!0),maxVelocityX:new u("maxVelocityX",1e4),maxVelocityY:new u("maxVelocityY",1e4),moveToX:new u("moveToX",0),moveToY:new u("moveToY",0),quantity:new u("quantity",1,!0),rotate:new u("rotate",0),scaleX:new u("scaleX",1),scaleY:new u("scaleY",1),speedX:new u("speedX",0,!0),speedY:new u("speedY",0,!0),tint:new u("tint",16777215),x:new u("x",0),y:new u("y",0)},this.radial=!0,this.gravityX=0,this.gravityY=0,this.acceleration=!1,this.moveTo=!1,this.emitCallback=null,this.emitCallbackScope=null,this.deathCallback=null,this.deathCallbackScope=null,this.maxParticles=0,this.maxAliveParticles=0,this.stopAfter=0,this.duration=0,this.frequency=0,this.emitting=!0,this.particleBringToTop=!0,this.timeScale=1,this.emitZones=[],this.deathZones=[],this.viewBounds=null,this.follow=null,this.followOffset=new O,this.trackVisible=!1,this.frames=[],this.randomFrame=!0,this.frameQuantity=1,this.anims=[],this.randomAnim=!0,this.animQuantity=1,this.dead=[],this.alive=[],this.counters=new Float32Array(10),this.skipping=!1,this.worldMatrix=new I,this.sortProperty="",this.sortOrderAsc=!0,this.sortCallback=this.depthSortCallback,this.processors=new T(this),this.tintFill=!1,this.initPipeline(),this.initPostPipeline(),this.setPosition(e,i),this.setTexture(s),n&&this.setConfig(n)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},setConfig:function(t){if(!t)return this;this.config=t;var e=0,i="",s=this.ops;for(e=0;e<k.length;e++)s[i=k[e]].loadConfig(t);for(e=0;e<D.length;e++)y(t,i=D[e])&&(this[i]=f(t,i));if(this.acceleration=0!==this.accelerationX||0!==this.accelerationY,this.moveTo=m(t,["moveToX","moveToY"]),y(t,"speed")&&(s.speedX.loadConfig(t,"speed"),s.speedY.active=!1),(v(t,["speedX","speedY"])||this.moveTo)&&(this.radial=!1),y(t,"scale")&&(s.scaleX.loadConfig(t,"scale"),s.scaleY.active=!1),y(t,"callbackScope")){var n=f(t,"callbackScope",null);this.emitCallbackScope=n,this.deathCallbackScope=n}if(y(t,"emitZone")&&this.addEmitZone(t.emitZone),y(t,"deathZone")&&this.addDeathZone(t.deathZone),y(t,"bounds")){var r=this.addParticleBounds(t.bounds);r.collideLeft=f(t,"collideLeft",!0),r.collideRight=f(t,"collideRight",!0),r.collideTop=f(t,"collideTop",!0),r.collideBottom=f(t,"collideBottom",!0)}return y(t,"followOffset")&&this.followOffset.setFromObject(f(t,"followOffset",0)),y(t,"texture")&&this.setTexture(t.texture),y(t,"frame")?this.setEmitterFrame(t.frame):y(t,"anim")&&this.setAnim(t.anim),y(t,"reserve")&&this.reserve(t.reserve),y(t,"advance")&&this.fastForward(t.advance),this.resetCounters(this.frequency,this.emitting),this.emitting&&this.emit(c.START,this),this},updateConfig:function(t){return t&&(this.config?this.setConfig(b(this.config,t)):this.setConfig(t)),this},toJSON:function(){var t=r(this),e=0,i="";for(e=0;e<D.length;e++)t[i=D[e]]=this[i];var s=this.ops;for(e=0;e<k.length;e++)s[i=k[e]]&&(t[i]=s[i].toJSON());return s.speedY.active||(delete t.speedX,t.speed=s.speedX.toJSON()),this.scaleX===this.scaleY&&(delete t.scaleX,delete t.scaleY,t.scale=s.scaleX.toJSON()),t},resetCounters:function(t,e){var i=this.counters;i.fill(0),i[0]=t,e&&(i[5]=1)},startFollow:function(t,e,i,s){return void 0===e&&(e=0),void 0===i&&(i=0),void 0===s&&(s=!1),this.follow=t,this.followOffset.set(e,i),this.trackVisible=s,this},stopFollow:function(){return this.follow=null,this.followOffset.set(0,0),this.trackVisible=!1,this},getFrame:function(){var t,e=this.frames,i=e.length;return 1===i?t=e[0]:this.randomFrame?t=p(e):(t=e[this.currentFrame],this.frameCounter++,this.frameCounter===this.frameQuantity&&(this.frameCounter=0,this.currentFrame++,this.currentFrame===i&&(this.currentFrame=0))),this.texture.get(t)},setEmitterFrame:function(t,e,i){void 0===e&&(e=!0),void 0===i&&(i=1),this.randomFrame=e,this.frameQuantity=i,this.currentFrame=0;var s=typeof t;if(this.frames.length=0,Array.isArray(t))this.frames=this.frames.concat(t);else if("string"===s||"number"===s)this.frames.push(t);else if("object"===s){var n=t;(t=f(n,"frames",null))&&(this.frames=this.frames.concat(t));var r=f(n,"cycle",!1);this.randomFrame=!r,this.frameQuantity=f(n,"quantity",i)}return 1===this.frames.length&&(this.frameQuantity=1,this.randomFrame=!1),this},getAnim:function(){var t=this.anims,e=t.length;if(0===e)return null;if(1===e)return t[0];if(this.randomAnim)return p(t);var i=t[this.currentAnim];return this.animCounter++,this.animCounter>=this.animQuantity&&(this.animCounter=0,this.currentAnim=L(this.currentAnim+1,0,e)),i},setAnim:function(t,e,i){void 0===e&&(e=!0),void 0===i&&(i=1),this.randomAnim=e,this.animQuantity=i,this.currentAnim=0;var s=typeof t;if(this.anims.length=0,Array.isArray(t))this.anims=this.anims.concat(t);else if("string"===s)this.anims.push(t);else if("object"===s){var n=t;(t=f(n,"anims",null))&&(this.anims=this.anims.concat(t));var r=f(n,"cycle",!1);this.randomAnim=!r,this.animQuantity=f(n,"quantity",i)}return 1===this.anims.length&&(this.animQuantity=1,this.randomAnim=!1),this},setRadial:function(t){return void 0===t&&(t=!0),this.radial=t,this},addParticleBounds:function(t,e,i,s,n,r,o,a){if("object"==typeof t){var h=t;t=h.x,e=h.y,i=y(h,"w")?h.w:h.width,s=y(h,"h")?h.h:h.height}return this.addParticleProcessor(new E(t,e,i,s,n,r,o,a))},setParticleSpeed:function(t,e){return void 0===e&&(e=t),this.ops.speedX.onChange(t),t===e?this.ops.speedY.active=!1:this.ops.speedY.onChange(e),this.radial=!0,this},setParticleScale:function(t,e){return void 0===t&&(t=1),void 0===e&&(e=t),this.ops.scaleX.onChange(t),this.ops.scaleY.onChange(e),this},setParticleGravity:function(t,e){return this.gravityX=t,this.gravityY=e,this},setParticleAlpha:function(t){return this.ops.alpha.onChange(t),this},setParticleTint:function(t){return this.ops.tint.onChange(t),this},setEmitterAngle:function(t){return this.ops.angle.onChange(t),this},setParticleLifespan:function(t){return this.ops.lifespan.onChange(t),this},setQuantity:function(t){return this.quantity=t,this},setFrequency:function(t,e){return this.frequency=t,this.flowCounter=t>0?t:0,e&&(this.quantity=e),this},addDeathZone:function(t){var e;Array.isArray(t)||(t=[t]);for(var i=[],s=0;s<t.length;s++)if((e=t[s])instanceof a)i.push(e);else if("function"==typeof e.contains)e=new a(e,!0),i.push(e);else{var n=f(e,"type","onEnter"),r=f(e,"source",null);r&&"function"==typeof r.contains&&(e=new a(r,"onEnter"===n),i.push(e))}return this.deathZones=this.deathZones.concat(i),i},removeDeathZone:function(t){return M(this.deathZones,t),this},clearDeathZones:function(){return this.deathZones.length=0,this},addEmitZone:function(t){var e;Array.isArray(t)||(t=[t]);for(var i=[],s=0;s<t.length;s++)if((e=t[s])instanceof C||e instanceof h)i.push(e);else{var n=f(e,"source",null);if(n){var r=f(e,"type","random");if("random"===r&&"function"==typeof n.getRandomPoint)e=new C(n),i.push(e);else if("edge"===r&&"function"==typeof n.getPoints){var o=f(e,"quantity",1),a=f(e,"stepRate",0),l=f(e,"yoyo",!1),u=f(e,"seamless",!0),c=f(e,"total",-1);e=new h(n,o,a,l,u,c),i.push(e)}}}return this.emitZones=this.emitZones.concat(i),i},removeEmitZone:function(t){return M(this.emitZones,t),this.zoneIndex=0,this},clearEmitZones:function(){return this.emitZones.length=0,this.zoneIndex=0,this},getEmitZone:function(t){var e=this.emitZones,i=e.length;if(0!==i){var s=e[this.zoneIndex];s.getPoint(t),s.total>-1&&(this.zoneTotal++,this.zoneTotal===s.total&&(this.zoneTotal=0,this.zoneIndex++,this.zoneIndex===i&&(this.zoneIndex=0)))}},getDeathZone:function(t){for(var e=this.deathZones,i=0;i<e.length;i++){var s=e[i];if(s.willKill(t))return this.emit(c.DEATH_ZONE,this,t,s),!0}return!1},setEmitZone:function(t){var e;return(e=isFinite(t)?t:this.emitZones.indexOf(t))>=0&&(this.zoneIndex=e),this},addParticleProcessor:function(t){return this.processors.exists(t)||(t.emitter&&t.emitter.removeParticleProcessor(t),this.processors.add(t),t.emitter=this),t},removeParticleProcessor:function(t){return this.processors.exists(t)&&(this.processors.remove(t,!0),t.emitter=null),t},getProcessors:function(){return this.processors.getAll("active",!0)},createGravityWell:function(t){return this.addParticleProcessor(new g(t))},reserve:function(t){var e=this.dead;if(this.maxParticles>0){var i=this.getParticleCount();i+t>this.maxParticles&&(t=this.maxParticles-(i+t))}for(var s=0;s<t;s++)e.push(new this.particleClass(this));return this},getAliveParticleCount:function(){return this.alive.length},getDeadParticleCount:function(){return this.dead.length},getParticleCount:function(){return this.getAliveParticleCount()+this.getDeadParticleCount()},atLimit:function(){return this.maxParticles>0&&this.getParticleCount()>=this.maxParticles||this.maxAliveParticles>0&&this.getAliveParticleCount()>=this.maxAliveParticles},onParticleEmit:function(t,e){return void 0===t?(this.emitCallback=null,this.emitCallbackScope=null):"function"==typeof t&&(this.emitCallback=t,e&&(this.emitCallbackScope=e)),this},onParticleDeath:function(t,e){return void 0===t?(this.deathCallback=null,this.deathCallbackScope=null):"function"==typeof t&&(this.deathCallback=t,e&&(this.deathCallbackScope=e)),this},killAll:function(){for(var t=this.dead,e=this.alive;e.length>0;)t.push(e.pop());return this},forEachAlive:function(t,e){for(var i=this.alive,s=i.length,n=0;n<s;n++)t.call(e,i[n],this);return this},forEachDead:function(t,e){for(var i=this.dead,s=i.length,n=0;n<s;n++)t.call(e,i[n],this);return this},start:function(t,e){return void 0===t&&(t=0),this.emitting||(t>0&&this.fastForward(t),this.emitting=!0,this.resetCounters(this.frequency,!0),void 0!==e&&(this.duration=Math.abs(e)),this.emit(c.START,this)),this},stop:function(t){return void 0===t&&(t=!1),this.emitting&&(this.emitting=!1,t&&this.killAll(),this.emit(c.STOP,this)),this},pause:function(){return this.active=!1,this},resume:function(){return this.active=!0,this},setSortProperty:function(t,e){return void 0===t&&(t=""),void 0===e&&(e=this.true),this.sortProperty=t,this.sortOrderAsc=e,this.sortCallback=this.depthSortCallback,this},setSortCallback:function(t){return t=""!==this.sortProperty?this.depthSortCallback:null,this.sortCallback=t,this},depthSort:function(){return R(this.alive,this.sortCallback.bind(this)),this},depthSortCallback:function(t,e){var i=this.sortProperty;return this.sortOrderAsc?t[i]-e[i]:e[i]-t[i]},flow:function(t,e,i){return void 0===e&&(e=1),this.emitting=!1,this.frequency=t,this.quantity=e,void 0!==i&&(this.stopAfter=i),this.start()},explode:function(t,e,i){this.frequency=-1,this.resetCounters(-1,!0);var s=this.emitParticle(t,e,i);return this.emit(c.EXPLODE,this,s),s},emitParticleAt:function(t,e,i){return this.emitParticle(i,t,e)},emitParticle:function(t,e,i){if(!this.atLimit()){void 0===t&&(t=this.ops.quantity.onEmit());for(var s=this.dead,n=this.stopAfter,r=this.follow?this.follow.x+this.followOffset.x:e,o=this.follow?this.follow.y+this.followOffset.y:i,a=0;a<t;a++){var h=s.pop();if(h||(h=new this.particleClass(this)),h.fire(r,o)?(this.particleBringToTop?this.alive.push(h):this.alive.unshift(h),this.emitCallback&&this.emitCallback.call(this.emitCallbackScope,h,this)):this.dead.push(h),n>0&&(this.stopCounter++,this.stopCounter>=n))break;if(this.atLimit())break}return h}},fastForward:function(t,e){void 0===e&&(e=1e3/60);var i=0;for(this.skipping=!0;i<Math.abs(t);)this.preUpdate(0,e),i+=e;return this.skipping=!1,this},preUpdate:function(t,e){var i=(e*=this.timeScale)/1e3;this.trackVisible&&(this.visible=this.follow.visible),this.getWorldTransformMatrix(this.worldMatrix);var s=this.getProcessors(),n=this.alive,r=this.dead,o=0,a=[],h=n.length;for(o=0;o<h;o++){var l=n[o];l.update(e,i,s)&&a.push({index:o,particle:l})}if((h=a.length)>0){var u=this.deathCallback,d=this.deathCallbackScope;for(o=h-1;o>=0;o--){var f=a[o];n.splice(f.index,1),r.push(f.particle),u&&u.call(d,f.particle),f.particle.setPosition()}}if(this.emitting||this.skipping){if(0===this.frequency)this.emitParticle();else if(this.frequency>0)for(this.flowCounter-=e;this.flowCounter<=0;)this.emitParticle(),this.flowCounter+=this.frequency;this.skipping||(this.duration>0&&(this.elapsed+=e,this.elapsed>=this.duration&&this.stop()),this.stopAfter>0&&this.stopCounter>=this.stopAfter&&this.stop())}else 1===this.completeFlag&&0===n.length&&(this.completeFlag=0,this.emit(c.COMPLETE,this))},overlap:function(t){for(var e=this.getWorldTransformMatrix(),i=this.alive,s=i.length,n=[],r=0;r<s;r++){var o=i[r];A(t,o.getBounds(e))&&n.push(o)}return n},getBounds:function(t,e,i,s){void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=1e3/60),void 0===s&&(s=new _);var n,r,a=this.getWorldTransformMatrix(),h=this.alive,l=!1;if(s.setTo(0,0,0,0),e>0){var u=0;for(this.skipping=!0;u<Math.abs(e);){for(this.preUpdate(0,i),n=0;n<h.length;n++)r=h[n].getBounds(a),l?w(s,r):(l=!0,o(r,s));u+=i}this.skipping=!1}else for(n=0;n<h.length;n++)r=h[n].getBounds(a),l?w(s,r):(l=!0,o(r,s));return t>0&&x(s,t,t),s},createEmitter:function(){throw new Error("createEmitter removed. See ParticleEmitter docs for info")},particleX:{get:function(){return this.ops.x.current},set:function(t){this.ops.x.onChange(t)}},particleY:{get:function(){return this.ops.y.current},set:function(t){this.ops.y.onChange(t)}},accelerationX:{get:function(){return this.ops.accelerationX.current},set:function(t){this.ops.accelerationX.onChange(t)}},accelerationY:{get:function(){return this.ops.accelerationY.current},set:function(t){this.ops.accelerationY.onChange(t)}},maxVelocityX:{get:function(){return this.ops.maxVelocityX.current},set:function(t){this.ops.maxVelocityX.onChange(t)}},maxVelocityY:{get:function(){return this.ops.maxVelocityY.current},set:function(t){this.ops.maxVelocityY.onChange(t)}},speed:{get:function(){return this.ops.speedX.current},set:function(t){this.ops.speedX.onChange(t),this.ops.speedY.onChange(t)}},speedX:{get:function(){return this.ops.speedX.current},set:function(t){this.ops.speedX.onChange(t)}},speedY:{get:function(){return this.ops.speedY.current},set:function(t){this.ops.speedY.onChange(t)}},moveToX:{get:function(){return this.ops.moveToX.current},set:function(t){this.ops.moveToX.onChange(t)}},moveToY:{get:function(){return this.ops.moveToY.current},set:function(t){this.ops.moveToY.onChange(t)}},bounce:{get:function(){return this.ops.bounce.current},set:function(t){this.ops.bounce.onChange(t)}},particleScaleX:{get:function(){return this.ops.scaleX.current},set:function(t){this.ops.scaleX.onChange(t)}},particleScaleY:{get:function(){return this.ops.scaleY.current},set:function(t){this.ops.scaleY.onChange(t)}},particleColor:{get:function(){return this.ops.color.current},set:function(t){this.ops.color.onChange(t)}},colorEase:{get:function(){return this.ops.color.easeName},set:function(t){this.ops.color.setEase(t)}},particleTint:{get:function(){return this.ops.tint.current},set:function(t){this.ops.tint.onChange(t)}},particleAlpha:{get:function(){return this.ops.alpha.current},set:function(t){this.ops.alpha.onChange(t)}},lifespan:{get:function(){return this.ops.lifespan.current},set:function(t){this.ops.lifespan.onChange(t)}},particleAngle:{get:function(){return this.ops.angle.current},set:function(t){this.ops.angle.onChange(t)}},particleRotate:{get:function(){return this.ops.rotate.current},set:function(t){this.ops.rotate.onChange(t)}},quantity:{get:function(){return this.ops.quantity.current},set:function(t){this.ops.quantity.onChange(t)}},delay:{get:function(){return this.ops.delay.current},set:function(t){this.ops.delay.onChange(t)}},hold:{get:function(){return this.ops.hold.current},set:function(t){this.ops.hold.onChange(t)}},flowCounter:{get:function(){return this.counters[0]},set:function(t){this.counters[0]=t}},frameCounter:{get:function(){return this.counters[1]},set:function(t){this.counters[1]=t}},animCounter:{get:function(){return this.counters[2]},set:function(t){this.counters[2]=t}},elapsed:{get:function(){return this.counters[3]},set:function(t){this.counters[3]=t}},stopCounter:{get:function(){return this.counters[4]},set:function(t){this.counters[4]=t}},completeFlag:{get:function(){return this.counters[5]},set:function(t){this.counters[5]=t}},zoneIndex:{get:function(){return this.counters[6]},set:function(t){this.counters[6]=t}},zoneTotal:{get:function(){return this.counters[7]},set:function(t){this.counters[7]=t}},currentFrame:{get:function(){return this.counters[8]},set:function(t){this.counters[8]=t}},currentAnim:{get:function(){return this.counters[9]},set:function(t){this.counters[9]=t}},preDestroy:function(){var t;this.texture=null,this.frames=null,this.anims=null,this.emitCallback=null,this.emitCallbackScope=null,this.deathCallback=null,this.deathCallbackScope=null,this.emitZones=null,this.deathZones=null,this.bounds=null,this.follow=null,this.counters=null;var e=this.ops;for(t=0;t<k.length;t++)e[k[t]].destroy();for(t=0;t<this.alive.length;t++)this.alive[t].destroy();for(t=0;t<this.dead.length;t++)this.dead[t].destroy();this.ops=null,this.alive=[],this.dead=[],this.worldMatrix.destroy()}});t.exports=F},9871:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(59996),n=i(61340),r=new n,o=new n,a=new n,h=new n;t.exports=function(t,e,i,n){var l=r,u=o,c=a,d=h;n?(d.loadIdentity(),d.multiply(n),d.translate(e.x,e.y),d.rotate(e.rotation),d.scale(e.scaleX,e.scaleY)):d.applyITRS(e.x,e.y,e.rotation,e.scaleX,e.scaleY);var f=t.currentContext,p=i.roundPixels,g=i.alpha,m=e.alpha,v=e.alive,y=v.length,x=e.viewBounds;if(e.visible&&0!==y&&(!x||s(x,i.worldView))){e.sortCallback&&e.depthSort(),i.addToRenderList(e);var T=e.scrollFactorX,w=e.scrollFactorY;f.save(),f.globalCompositeOperation=t.blendModes[e.blendMode];for(var b=0;b<y;b++){var S=v[b],E=S.alpha*m*g;if(!(E<=0||0===S.scaleX||0===S.scaleY)){c.applyITRS(S.x,S.y,S.rotation,S.scaleX,S.scaleY),l.copyFrom(i.matrix),l.multiplyWithOffset(d,-i.scrollX*T,-i.scrollY*w),c.e=S.x,c.f=S.y,l.multiply(c,u);var C=S.frame,_=C.canvasData;if(_.width>0&&_.height>0){var A=-C.halfWidth,M=-C.halfHeight;f.globalAlpha=E,f.save(),u.setToContext(f),p&&(A=Math.round(A),M=Math.round(M)),f.imageSmoothingEnabled=!C.source.scaleMode,f.drawImage(C.source.image,_.x,_.y,_.width,_.height,A,M,_.width,_.height),f.restore()}}}f.restore()}}},92730:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(25305),n=i(44603),r=i(23568),o=i(95540),a=i(31600);n.register("particles",function(t,e){void 0===t&&(t={});var i=r(t,"key",null),n=o(t,"config",null),h=new a(this.scene,0,0,i);return void 0!==e&&(t.add=e),s(this.scene,h,t),n&&h.setConfig(n),h})},676:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(39429),n=i(31600);s.register("particles",function(t,e,i,s){return this.displayList.add(new n(this.scene,t,e,i,s))})},90668:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s,n;i(29747),s=i(21188),n=i(9871),t.exports={renderWebGL:s,renderCanvas:n}},21188:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(59996),n=i(61340),r=i(70554),o=new n,a=new n,h=new n,l=new n;t.exports=function(t,e,i,n){var u=t.pipelines.set(e.pipeline),c=o,d=a,f=h,p=l;n?(p.loadIdentity(),p.multiply(n),p.translate(e.x,e.y),p.rotate(e.rotation),p.scale(e.scaleX,e.scaleY)):p.applyITRS(e.x,e.y,e.rotation,e.scaleX,e.scaleY);var g=r.getTintAppendFloatAlpha,m=i.alpha,v=e.alpha;t.pipelines.preBatch(e);var y=e.alive,x=y.length,T=e.viewBounds;if(0!==x&&(!T||s(T,i.worldView))){e.sortCallback&&e.depthSort(),i.addToRenderList(e),c.copyFrom(i.matrix),c.multiplyWithOffset(p,-i.scrollX*e.scrollFactorX,-i.scrollY*e.scrollFactorY),t.setBlendMode(e.blendMode),e.mask&&(e.mask.preRenderWebGL(t,e,i),t.pipelines.set(e.pipeline));for(var w,b,S=e.tintFill,E=0;E<x;E++){var C=y[E],_=C.alpha*v*m;if(!(_<=0||0===C.scaleX||0===C.scaleY)){f.applyITRS(C.x,C.y,C.rotation,C.scaleX,C.scaleY),f.e=C.x,f.f=C.y,c.multiply(f,d);var A=C.frame;A.glTexture!==b&&(b=A.glTexture,w=u.setGameObject(e,A));var M=-A.halfWidth,P=-A.halfHeight,R=d.setQuad(M,P,M+A.width,P+A.height),I=g(C.tint,_);u.shouldFlush(6)&&(u.flush(),w=u.setGameObject(e,A)),u.batchQuad(e,R[0],R[1],R[2],R[3],R[4],R[5],R[6],R[7],A.u0,A.v0,A.u1,A.v1,I,I,I,I,S,b,w)}}e.mask&&e.mask.postRenderWebGL(t,i),t.pipelines.postBatch(e)}}},20286:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=new(i(83419))({initialize:function(t,e,i){void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=!0),this.emitter,this.x=t,this.y=e,this.active=i},update:function(){},destroy:function(){this.emitter=null}});t.exports=s},9774:t=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports="complete"},812:t=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports="deathzone"},30522:t=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports="explode"},96695:t=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports="start"},18677:t=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports="stop"},20696:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports={COMPLETE:i(9774),DEATH_ZONE:i(812),EXPLODE:i(30522),START:i(96695),STOP:i(18677)}},18404:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports={EmitterColorOp:i(76472),EmitterOp:i(44777),Events:i(20696),GravityWell:i(24502),Particle:i(56480),ParticleBounds:i(69601),ParticleEmitter:i(31600),ParticleProcessor:i(20286),Zones:i(21024)}},26388:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=new(i(83419))({initialize:function(t,e){this.source=t,this.killOnEnter=e},willKill:function(t){var e=t.worldPosition,i=this.source.contains(e.x,e.y);return i&&this.killOnEnter||!i&&!this.killOnEnter}});t.exports=s},19909:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=new(i(83419))({initialize:function(t,e,i,s,n,r){void 0===s&&(s=!1),void 0===n&&(n=!0),void 0===r&&(r=-1),this.source=t,this.points=[],this.quantity=e,this.stepRate=i,this.yoyo=s,this.counter=-1,this.seamless=n,this._length=0,this._direction=0,this.total=r,this.updateSource()},updateSource:function(){if(this.points=this.source.getPoints(this.quantity,this.stepRate),this.seamless){var t=this.points[0],e=this.points[this.points.length-1];t.x===e.x&&t.y===e.y&&this.points.pop()}var i=this._length;return this._length=this.points.length,this._length<i&&this.counter>this._length&&(this.counter=this._length-1),this},changeSource:function(t){return this.source=t,this.updateSource()},getPoint:function(t){0===this._direction?(this.counter++,this.counter>=this._length&&(this.yoyo?(this._direction=1,this.counter=this._length-1):this.counter=0)):(this.counter--,-1===this.counter&&(this.yoyo?(this._direction=0,this.counter=0):this.counter=this._length-1));var e=this.points[this.counter];e&&(t.x=e.x,t.y=e.y)}});t.exports=s},68875:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(83419),n=i(26099),r=new s({initialize:function(t){this.source=t,this._tempVec=new n,this.total=-1},getPoint:function(t){var e=this._tempVec;this.source.getRandomPoint(e),t.x=e.x,t.y=e.y}});t.exports=r},21024:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports={DeathZone:i(26388),EdgeZone:i(19909),RandomZone:i(68875)}},1159:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(83419),n=i(31401),r=i(68287),o=new s({Extends:r,Mixins:[n.PathFollower],initialize:function(t,e,i,s,n,o){r.call(this,t,i,s,n,o),this.path=e},preUpdate:function(t,e){this.anims.update(t,e),this.pathUpdate(t)}});t.exports=o},90145:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(39429),n=i(1159);s.register("follower",function(t,e,i,s,r){var o=new n(this.scene,t,e,i,s,r);return this.displayList.add(o),this.updateList.add(o),o})},33663:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(9674),n=i(83419),r=i(48803),o=i(90664),a=i(4703),h=i(45650),l=new n({Extends:a,initialize:function(t,e,i,n,r,o,h,l){n||(n="__DEFAULT"),a.call(this,t,e,i,n,r),this.type="Plane",this.anims=new s(this),this.gridWidth,this.gridHeight,this.isTiled,this._checkerboard=null,this.hideCCW=!1,this.setGridSize(o,h,l),this.setSizeToFrame(!1),this.setViewHeight()},originX:{get:function(){return.5}},originY:{get:function(){return.5}},setGridSize:function(t,e,i){void 0===t&&(t=8),void 0===e&&(e=8),void 0===i&&(i=!1);var s=!1;return i&&(s=!0),this.gridWidth=t,this.gridHeight=e,this.isTiled=i,this.clear(),r({mesh:this,widthSegments:t,heightSegments:e,isOrtho:!1,tile:i,flipY:s}),this},setSizeToFrame:function(t){void 0===t&&(t=!0);var e=this.frame;if(this.setPerspective(this.width/e.width,this.height/e.height),this._checkerboard&&this._checkerboard!==this.texture&&this.removeCheckerboard(),!t)return this;var i,s,n=this.gridWidth,r=this.gridHeight,o=this.vertices,a=e.u0,h=e.u1,l=e.v0,u=e.v1,c=0;if(this.isTiled)for(l=e.v1,u=e.v0,s=0;s<r;s++)for(i=0;i<n;i++)o[c++].setUVs(a,u),o[c++].setUVs(a,l),o[c++].setUVs(h,u),o[c++].setUVs(a,l),o[c++].setUVs(h,l),o[c++].setUVs(h,u);else{var d=n+1,f=r+1,p=h-a,g=u-l,m=[];for(s=0;s<f;s++)for(i=0;i<d;i++){var v=a+p*(i/n),y=l+g*(s/r);m.push(v,y)}for(s=0;s<r;s++)for(i=0;i<n;i++){var x=2*(i+d*s),T=2*(i+d*(s+1)),w=2*(i+1+d*(s+1)),b=2*(i+1+d*s);o[c++].setUVs(m[x],m[x+1]),o[c++].setUVs(m[T],m[T+1]),o[c++].setUVs(m[b],m[b+1]),o[c++].setUVs(m[T],m[T+1]),o[c++].setUVs(m[w],m[w+1]),o[c++].setUVs(m[b],m[b+1])}}return this},setViewHeight:function(t){void 0===t&&(t=this.frame.height);var e=this.fov*(Math.PI/180);this.viewPosition.z=this.height/t/Math.tan(e/2),this.dirtyCache[10]=1},createCheckerboard:function(t,e,i,s,n){void 0===t&&(t=16777215),void 0===e&&(e=255),void 0===i&&(i=255),void 0===s&&(s=255),void 0===n&&(n=128);for(var r=o(t),a=o(e),l=[],u=0;u<16;u++)for(var c=0;c<16;c++)u<8&&c<8||u>7&&c>7?l.push(r.r,r.g,r.b,i):l.push(a.r,a.g,a.b,s);var d=this.scene.sys.textures.addUint8Array(h(),new Uint8Array(l),16,16);return this.removeCheckerboard(),this.setTexture(d),this.setSizeToFrame(),this.setViewHeight(n),this},removeCheckerboard:function(){this._checkerboard&&(this._checkerboard.destroy(),this._checkerboard=null)},play:function(t,e){return this.anims.play(t,e)},playReverse:function(t,e){return this.anims.playReverse(t,e)},playAfterDelay:function(t,e){return this.anims.playAfterDelay(t,e)},playAfterRepeat:function(t,e){return this.anims.playAfterRepeat(t,e)},stop:function(){return this.anims.stop()},stopAfterDelay:function(t){return this.anims.stopAfterDelay(t)},stopAfterRepeat:function(t){return this.anims.stopAfterRepeat(t)},stopOnFrame:function(t){return this.anims.stopOnFrame(t)},preUpdate:function(t,e){a.prototype.preUpdate.call(this,t,e),this.anims.update(t,e)},preDestroy:function(){this.clear(),this.removeCheckerboard(),this.anims.destroy(),this.anims=void 0,this.debugCallback=null,this.debugGraphic=null}});t.exports=l},56015:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(25305),n=i(13059),r=i(44603),o=i(23568),a=i(35154),h=i(33663);r.register("plane",function(t,e){void 0===t&&(t={});var i=o(t,"key",null),r=o(t,"frame",null),l=a(t,"width",8),u=a(t,"height",8),c=a(t,"tile",!1),d=new h(this.scene,0,0,i,r,l,u,c);void 0!==e&&(t.add=e);var f=a(t,"checkerboard",null);if(f){var p=a(f,"color1",16777215),g=a(f,"color2",255),m=a(f,"alpha1",255),v=a(f,"alpha2",255),y=a(f,"height",128);d.createCheckerboard(p,g,m,v,y)}return s(this.scene,d,t),n(d,t),d})},30985:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(33663);i(39429).register("plane",function(t,e,i,n,r,o,a){return this.displayList.add(new s(this.scene,t,e,i,n,r,o,a))})},80321:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(83419),n=i(31401),r=i(95643),o=i(30100),a=i(36060),h=i(67277),l=new s({Extends:r,Mixins:[n.AlphaSingle,n.BlendMode,n.Depth,n.Mask,n.Pipeline,n.PostPipeline,n.ScrollFactor,n.Transform,n.Visible,h],initialize:function(t,e,i,s,n,h,l){void 0===s&&(s=16777215),void 0===n&&(n=128),void 0===h&&(h=1),void 0===l&&(l=.1),r.call(this,t,"PointLight"),this.initPipeline(a.POINTLIGHT_PIPELINE),this.initPostPipeline(),this.setPosition(e,i),this.color=o(s),this.intensity=h,this.attenuation=l,this.width=2*n,this.height=2*n,this._radius=n},radius:{get:function(){return this._radius},set:function(t){this._radius=t,this.width=2*t,this.height=2*t}},originX:{get:function(){return.5}},originY:{get:function(){return.5}},displayOriginX:{get:function(){return this._radius}},displayOriginY:{get:function(){return this._radius}}});t.exports=l},39829:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(25305),n=i(44603),r=i(23568),o=i(80321);n.register("pointlight",function(t,e){void 0===t&&(t={});var i=r(t,"color",16777215),n=r(t,"radius",128),a=r(t,"intensity",1),h=r(t,"attenuation",.1),l=new o(this.scene,0,0,i,n,a,h);return void 0!==e&&(t.add=e),s(this.scene,l,t),l})},71255:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(39429),n=i(80321);s.register("pointlight",function(t,e,i,s,r,o){return this.displayList.add(new n(this.scene,t,e,i,s,r,o))})},67277:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s,n=i(29747),r=n;s=i(57787),t.exports={renderWebGL:s,renderCanvas:r}},57787:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(91296);t.exports=function(t,e,i,n){i.addToRenderList(e);var r=t.pipelines.set(e.pipeline),o=s(e,i,n).calc,a=e.width,h=e.height,l=-e._radius,u=-e._radius,c=l+a,d=u+h,f=o.getX(0,0),p=o.getY(0,0),g=o.getX(l,u),m=o.getY(l,u),v=o.getX(l,d),y=o.getY(l,d),x=o.getX(c,d),T=o.getY(c,d),w=o.getX(c,u),b=o.getY(c,u);t.pipelines.preBatch(e),r.batchPointLight(e,i,g,m,v,y,x,T,w,b,f,p),t.pipelines.postBatch(e)}},591:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(83419),n=i(81320),r=i(88571),o=new s({Extends:r,initialize:function(t,e,i,s,o,a){void 0===e&&(e=0),void 0===i&&(i=0),void 0===s&&(s=32),void 0===o&&(o=32),void 0===a&&(a=!0);var h=new n(t.sys.textures,"",s,o,a);r.call(this,t,e,i,h),this.type="RenderTexture",this.camera=this.texture.camera,this._saved=!1},setSize:function(t,e){this.width=t,this.height=e,this.updateDisplayOrigin();var i=this.input;return i&&!i.customHitArea&&(i.hitArea.width=t,i.hitArea.height=e),this},resize:function(t,e,i){return this.texture.setSize(t,e,i),this.setSize(this.texture.width,this.texture.height),this},saveTexture:function(t){var e=this.texture;return e.key=t,e.manager.addDynamicTexture(e)&&(this._saved=!0),e},fill:function(t,e,i,s,n,r){return this.texture.fill(t,e,i,s,n,r),this},clear:function(){return this.texture.clear(),this},stamp:function(t,e,i,s,n){return this.texture.stamp(t,e,i,s,n),this},erase:function(t,e,i){return this.texture.erase(t,e,i),this},draw:function(t,e,i,s,n){return this.texture.draw(t,e,i,s,n),this},drawFrame:function(t,e,i,s,n,r){return this.texture.drawFrame(t,e,i,s,n,r),this},repeat:function(t,e,i,s,n,r,o,a,h){return this.texture.repeat(t,e,i,s,n,r,o,a,h),this},beginDraw:function(){return this.texture.beginDraw(),this},batchDraw:function(t,e,i,s,n){return this.texture.batchDraw(t,e,i,s,n),this},batchDrawFrame:function(t,e,i,s,n,r){return this.texture.batchDrawFrame(t,e,i,s,n,r),this},endDraw:function(t){return this.texture.endDraw(t),this},snapshotArea:function(t,e,i,s,n,r,o){return this.texture.snapshotArea(t,e,i,s,n,r,o),this},snapshot:function(t,e,i){return this.snapshotArea(0,0,this.width,this.height,t,e,i)},snapshotPixel:function(t,e,i){return this.snapshotArea(t,e,1,1,i,"pixel")},preDestroy:function(){this.camera=null,this._saved||this.texture.destroy()}});t.exports=o},34495:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(25305),n=i(44603),r=i(23568),o=i(591);n.register("renderTexture",function(t,e){void 0===t&&(t={});var i=r(t,"x",0),n=r(t,"y",0),a=r(t,"width",32),h=r(t,"height",32),l=new o(this.scene,i,n,a,h);return void 0!==e&&(t.add=e),s(this.scene,l,t),l})},60505:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(39429),n=i(591);s.register("renderTexture",function(t,e,i,s){return this.displayList.add(new n(this.scene,t,e,i,s))})},77757:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(9674),n=i(83419),r=i(31401),o=i(95643),a=i(36060),h=i(38745),l=i(26099),u=new n({Extends:o,Mixins:[r.AlphaSingle,r.BlendMode,r.Depth,r.Flip,r.Mask,r.Pipeline,r.PostPipeline,r.Size,r.Texture,r.Transform,r.Visible,r.ScrollFactor,h],initialize:function(t,e,i,n,r,h,u,c,d){void 0===n&&(n="__DEFAULT"),void 0===h&&(h=2),void 0===u&&(u=!0),o.call(this,t,"Rope"),this.anims=new s(this),this.points=h,this.vertices,this.uv,this.colors,this.alphas,this.tintFill="__DEFAULT"===n,this.dirty=!1,this.horizontal=u,this._flipX=!1,this._flipY=!1,this._perp=new l,this.debugCallback=null,this.debugGraphic=null,this.setTexture(n,r),this.setPosition(e,i),this.setSizeToFrame(),this.initPipeline(a.ROPE_PIPELINE),this.initPostPipeline(),Array.isArray(h)&&this.resizeArrays(h.length),this.setPoints(h,c,d),this.updateVertices()},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},preUpdate:function(t,e){var i=this.anims.currentFrame;this.anims.update(t,e),this.anims.currentFrame!==i&&(this.updateUVs(),this.updateVertices())},play:function(t,e,i){return this.anims.play(t,e,i),this},setDirty:function(){return this.dirty=!0,this},setHorizontal:function(t,e,i){return void 0===t&&(t=this.points.length),this.horizontal?this:(this.horizontal=!0,this.setPoints(t,e,i))},setVertical:function(t,e,i){return void 0===t&&(t=this.points.length),this.horizontal?(this.horizontal=!1,this.setPoints(t,e,i)):this},setTintFill:function(t){return void 0===t&&(t=!1),this.tintFill=t,this},setAlphas:function(t,e){var i=this.points.length;if(i<1)return this;var s,n=this.alphas;void 0===t?t=[1]:Array.isArray(t)||void 0!==e||(t=[t]);var r=0;if(void 0!==e)for(s=0;s<i;s++)n[r=2*s]=t,n[r+1]=e;else if(t.length===i)for(s=0;s<i;s++)n[r=2*s]=t[s],n[r+1]=t[s];else{var o=t[0];for(s=0;s<i;s++)r=2*s,t.length>r&&(o=t[r]),n[r]=o,t.length>r+1&&(o=t[r+1]),n[r+1]=o}return this},setColors:function(t){var e=this.points.length;if(e<1)return this;var i,s=this.colors;void 0===t?t=[16777215]:Array.isArray(t)||(t=[t]);var n=0;if(t.length===e)for(i=0;i<e;i++)s[n=2*i]=t[i],s[n+1]=t[i];else{var r=t[0];for(i=0;i<e;i++)n=2*i,t.length>n&&(r=t[n]),s[n]=r,t.length>n+1&&(r=t[n+1]),s[n+1]=r}return this},setPoints:function(t,e,i){if(void 0===t&&(t=2),"number"==typeof t){var s,n,r,o=t;if(o<2&&(o=2),t=[],this.horizontal)for(r=-this.frame.halfWidth,n=this.frame.width/(o-1),s=0;s<o;s++)t.push({x:r+s*n,y:0});else for(r=-this.frame.halfHeight,n=this.frame.height/(o-1),s=0;s<o;s++)t.push({x:0,y:r+s*n})}var a=t.length,h=this.points.length;return a<1||(1===a&&(t.unshift({x:0,y:0}),a++),h!==a&&this.resizeArrays(a),this.dirty=!0,this.points=t,this.updateUVs(),null!=e&&this.setColors(e),null!=i&&this.setAlphas(i)),this},updateUVs:function(){for(var t=this.uv,e=this.points.length,i=this.frame.u0,s=this.frame.v0,n=this.frame.u1,r=this.frame.v1,o=(n-i)/(e-1),a=(r-s)/(e-1),h=0;h<e;h++){var l,u,c,d,f=4*h;this.horizontal?(this._flipX?(l=n-h*o,c=n-h*o):(l=i+h*o,c=i+h*o),this._flipY?(u=r,d=s):(u=s,d=r)):(this._flipX?(l=i,c=n):(l=n,c=i),this._flipY?(u=r-h*a,d=r-h*a):(u=s+h*a,d=s+h*a)),t[f+0]=l,t[f+1]=u,t[f+2]=c,t[f+3]=d}return this},resizeArrays:function(t){var e=this.colors,i=this.alphas;this.vertices=new Float32Array(4*t),this.uv=new Float32Array(4*t),e=new Uint32Array(2*t),i=new Float32Array(2*t);for(var s=0;s<2*t;s++)e[s]=16777215,i[s]=1;return this.colors=e,this.alphas=i,this.dirty=!0,this},updateVertices:function(){var t=this._perp,e=this.points,i=this.vertices,s=e.length;if(this.dirty=!1,!(s<1)){for(var n,r=e[0],o=this.horizontal?this.frame.halfHeight:this.frame.halfWidth,a=0;a<s;a++){var h=e[a],l=4*a;n=a<s-1?e[a+1]:h,t.x=n.y-r.y,t.y=-(n.x-r.x);var u=t.length();t.x/=u,t.y/=u,t.x*=o,t.y*=o,i[l]=h.x+t.x,i[l+1]=h.y+t.y,i[l+2]=h.x-t.x,i[l+3]=h.y-t.y,r=h}return this}},setDebug:function(t,e){return this.debugGraphic=t,this.debugCallback=t||e?e||this.renderDebugVerts:null,this},renderDebugVerts:function(t,e,i){var s=t.debugGraphic,n=i[0],r=i[1],o=i[2],a=i[3];s.lineBetween(n,r,o,a);for(var h=4;h<e;h+=4){var l=i[h+0],u=i[h+1],c=i[h+2],d=i[h+3];s.lineBetween(n,r,l,u),s.lineBetween(o,a,c,d),s.lineBetween(o,a,l,u),s.lineBetween(l,u,c,d),n=l,r=u,o=c,a=d}},preDestroy:function(){this.anims.destroy(),this.anims=void 0,this.points=null,this.vertices=null,this.uv=null,this.colors=null,this.alphas=null,this.debugCallback=null,this.debugGraphic=null},flipX:{get:function(){return this._flipX},set:function(t){return this._flipX=t,this.updateUVs()}},flipY:{get:function(){return this._flipY},set:function(t){return this._flipY=t,this.updateUVs()}}});t.exports=u},95262:t=>{t.exports=function(){}},26209:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(25305),n=i(44603),r=i(23568),o=i(35154),a=i(77757);n.register("rope",function(t,e){void 0===t&&(t={});var i=r(t,"key",null),n=r(t,"frame",null),h=r(t,"horizontal",!0),l=o(t,"points",void 0),u=o(t,"colors",void 0),c=o(t,"alphas",void 0),d=new a(this.scene,0,0,i,n,l,h,u,c);return void 0!==e&&(t.add=e),s(this.scene,d,t),d})},96819:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(77757);i(39429).register("rope",function(t,e,i,n,r,o,a,h){return this.displayList.add(new s(this.scene,t,e,i,n,r,o,a,h))})},38745:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s,n;i(29747),s=i(20439),n=i(95262),t.exports={renderWebGL:s,renderCanvas:n}},20439:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(91296),n=i(70554);t.exports=function(t,e,i,r){i.addToRenderList(e);var o=t.pipelines.set(e.pipeline,e),a=s(e,i,r).calc,h=e.vertices,l=e.uv,u=e.colors,c=e.alphas,d=e.alpha,f=n.getTintAppendFloatAlpha,p=i.roundPixels,g=h.length,m=Math.floor(.5*g);o.flush(),t.pipelines.preBatch(e);var v=o.setGameObject(e),y=o.vertexViewF32,x=o.vertexViewU32,T=o.vertexCount*o.currentShader.vertexComponentCount-1,w=0,b=e.tintFill;e.dirty&&e.updateVertices();for(var S=e.debugCallback,E=[],C=0;C<g;C+=2){var _=h[C+0],A=h[C+1],M=_*a.a+A*a.c+a.e,P=_*a.b+A*a.d+a.f;p&&(M=Math.round(M),P=Math.round(P)),y[++T]=M,y[++T]=P,y[++T]=l[C+0],y[++T]=l[C+1],y[++T]=v,y[++T]=b,x[++T]=f(u[w],i.alpha*(c[w]*d)),w++,S&&(E[C+0]=M,E[C+1]=P)}S&&S.call(e,e,g,E),o.vertexCount+=m,o.currentBatch.count=o.vertexCount-o.currentBatch.start,t.pipelines.postBatch(e)}},20071:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(83419),n=i(31401),r=i(95643),o=i(95540),a=i(79291),h=i(61622),l=i(25479),u=i(61340),c=i(95428),d=i(92503),f=new s({Extends:r,Mixins:[n.ComputedSize,n.Depth,n.GetBounds,n.Mask,n.Origin,n.ScrollFactor,n.Transform,n.Visible,l],initialize:function(t,e,i,s,n,o,a,h){void 0===i&&(i=0),void 0===s&&(s=0),void 0===n&&(n=128),void 0===o&&(o=128),r.call(this,t,"Shader"),this.blendMode=-1,this.shader;var l=t.sys.renderer;this.renderer=l,this.gl=l.gl,this.vertexData=new ArrayBuffer(2*Float32Array.BYTES_PER_ELEMENT*6),this.vertexBuffer=l.createVertexBuffer(this.vertexData.byteLength,this.gl.STREAM_DRAW),this._deferSetShader=null,this._deferProjOrtho=null,this.program=null,this.bytes=new Uint8Array(this.vertexData),this.vertexViewF32=new Float32Array(this.vertexData),this._tempMatrix1=new u,this._tempMatrix2=new u,this._tempMatrix3=new u,this.viewMatrix=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this.projectionMatrix=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this.uniforms={},this.pointer=null,this._rendererWidth=l.width,this._rendererHeight=l.height,this._textureCount=0,this.framebuffer=null,this.glTexture=null,this.renderToTexture=!1,this.texture=null,this.setPosition(i,s),this.setSize(n,o),this.setOrigin(.5,.5),this.setShader(e,a,h),this.renderer.on(d.RESTORE_WEBGL,this.onContextRestored,this)},willRender:function(t){return!!this.renderToTexture||!(r.RENDER_MASK!==this.renderFlags||0!==this.cameraFilter&&this.cameraFilter&t.id)},setRenderToTexture:function(t,e){if(!this.renderToTexture){var i=this.width,s=this.height,n=this.renderer;this.glTexture=n.createTextureFromSource(null,i,s,0),this.framebuffer=n.createFramebuffer(i,s,this.glTexture,!1),this._rendererWidth=i,this._rendererHeight=s,this.renderToTexture=!0,this.projOrtho(0,this.width,this.height,0),t&&(this.texture=this.scene.sys.textures.addGLTexture(t,this.glTexture))}return this.shader&&(n.pipelines.clear(),this.load(),this.flush(),n.pipelines.rebind()),this},setShader:function(t,e,i){if(this.renderer.contextLost)return this._deferSetShader={key:t,textures:e,textureData:i},this;if(void 0===e&&(e=[]),"string"==typeof t){var s=this.scene.sys.cache.shader;if(!s.has(t))return this;this.shader=s.get(t)}else this.shader=t;var n=this.gl,r=this.renderer;this.program&&r.deleteProgram(this.program);var o=r.createProgram(this.shader.vertexSrc,this.shader.fragmentSrc);n.uniformMatrix4fv(n.getUniformLocation(o.webGLProgram,"uViewMatrix"),!1,this.viewMatrix),n.uniformMatrix4fv(n.getUniformLocation(o.webGLProgram,"uProjectionMatrix"),!1,this.projectionMatrix),n.uniform2f(n.getUniformLocation(o.webGLProgram,"uResolution"),this.width,this.height),this.program=o;var h=new Date,l={resolution:{type:"2f",value:{x:this.width,y:this.height}},time:{type:"1f",value:0},mouse:{type:"2f",value:{x:this.width/2,y:this.height/2}},date:{type:"4fv",value:[h.getFullYear(),h.getMonth(),h.getDate(),60*h.getHours()*60+60*h.getMinutes()+h.getSeconds()]},sampleRate:{type:"1f",value:44100},iChannel0:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel1:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel2:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel3:{type:"sampler2D",value:null,textureData:{repeat:!0}}};this.shader.uniforms?this.uniforms=a(!0,{},this.shader.uniforms,l):this.uniforms=l;for(var u=0;u<4;u++)e[u]&&this.setSampler2D("iChannel"+u,e[u],u,i);return this.initUniforms(),this.projOrtho(0,this._rendererWidth,this._rendererHeight,0),this},setPointer:function(t){return this.pointer=t,this},projOrtho:function(t,e,i,s){if(this.renderer.contextLost)this._deferProjOrtho={left:t,right:e,bottom:i,top:s};else{var n=1/(t-e),r=1/(i-s),o=this.projectionMatrix;o[0]=-2*n,o[5]=-2*r,o[10]=-.001,o[12]=(t+e)*n,o[13]=(s+i)*r,o[14]=-0;var a=this.program,h=this.gl;this.renderer.setProgram(a),h.uniformMatrix4fv(h.getUniformLocation(a.webGLProgram,"uProjectionMatrix"),!1,this.projectionMatrix),this._rendererWidth=e,this._rendererHeight=i}},initUniforms:function(){var t=this.renderer.glFuncMap,e=this.program;for(var i in this._textureCount=0,this.uniforms){var s=this.uniforms[i],n=s.type,r=t[n];s.uniformLocation=this.renderer.createUniformLocation(e,i),"sampler2D"!==n&&(s.glMatrix=r.matrix,s.glValueLength=r.length,s.glFunc=r.func)}},setSampler2DBuffer:function(t,e,i,s,n,r){void 0===n&&(n=0),void 0===r&&(r={});var o=this.uniforms[t];return o.value=e,r.width=i,r.height=s,o.textureData=r,this._textureCount=n,this.initSampler2D(o),this},setSampler2D:function(t,e,i,s){void 0===i&&(i=0);var n=this.scene.sys.textures;if(n.exists(e)){var r=n.getFrame(e);if(r.glTexture&&r.glTexture.isRenderTexture)return this.setSampler2DBuffer(t,r.glTexture,r.width,r.height,i,s);var o=this.uniforms[t],a=r.source;o.textureKey=e,o.source=a.image,o.value=r.glTexture,a.isGLTexture&&(s||(s={}),s.width=a.width,s.height=a.height),s&&(o.textureData=s),this._textureCount=i,this.initSampler2D(o)}return this},setUniform:function(t,e){return h(this.uniforms,t,e),this},getUniform:function(t){return o(this.uniforms,t,null)},setChannel0:function(t,e){return this.setSampler2D("iChannel0",t,0,e)},setChannel1:function(t,e){return this.setSampler2D("iChannel1",t,1,e)},setChannel2:function(t,e){return this.setSampler2D("iChannel2",t,2,e)},setChannel3:function(t,e){return this.setSampler2D("iChannel3",t,3,e)},initSampler2D:function(t){if(t.value){var e=t.textureData;if(e&&!t.value.isRenderTexture){var i=this.gl,s=t.value,n=i[o(e,"magFilter","linear").toUpperCase()],r=i[o(e,"minFilter","linear").toUpperCase()],a=i[o(e,"wrapS","repeat").toUpperCase()],h=i[o(e,"wrapT","repeat").toUpperCase()],l=i[o(e,"format","rgba").toUpperCase()],u=o(e,"flipY",!1),c=o(e,"width",s.width),d=o(e,"height",s.height),f=o(e,"source",s.pixels);e.repeat&&(a=i.REPEAT,h=i.REPEAT),e.width&&(f=null),s.update(f,c,d,u,a,h,r,n,l)}this.renderer.setProgram(this.program),this._textureCount++}},syncUniforms:function(){var t,e,i,s,n,r=this.gl,o=this.uniforms,a=0;for(var h in o)i=(t=o[h]).glFunc,e=t.glValueLength,s=t.uniformLocation,null!==(n=t.value)&&(1===e?t.glMatrix?i.call(r,s.webGLUniformLocation,t.transpose,n):i.call(r,s.webGLUniformLocation,n):2===e?i.call(r,s.webGLUniformLocation,n.x,n.y):3===e?i.call(r,s.webGLUniformLocation,n.x,n.y,n.z):4===e?i.call(r,s.webGLUniformLocation,n.x,n.y,n.z,n.w):"sampler2D"===t.type&&(r.activeTexture(r.TEXTURE0+a),r.bindTexture(r.TEXTURE_2D,n.webGLTexture),r.uniform1i(s.webGLUniformLocation,a),a++))},load:function(t){var e=this.gl,i=this.width,s=this.height,n=this.renderer,r=this.program,o=this.viewMatrix;if(!this.renderToTexture){var a=-this._displayOriginX,h=-this._displayOriginY;o[0]=t[0],o[1]=t[1],o[4]=t[2],o[5]=t[3],o[8]=t[4],o[9]=t[5],o[12]=o[0]*a+o[4]*h,o[13]=o[1]*a+o[5]*h}e.useProgram(r.webGLProgram),e.uniformMatrix4fv(e.getUniformLocation(r.webGLProgram,"uViewMatrix"),!1,o),e.uniformMatrix4fv(e.getUniformLocation(r.webGLProgram,"uProjectionMatrix"),!1,this.projectionMatrix),e.uniform2f(e.getUniformLocation(r.webGLProgram,"uResolution"),this.width,this.height);var l=this.uniforms,u=l.resolution;u.value.x=i,u.value.y=s,l.time.value=n.game.loop.getDuration();var c=this.pointer;if(c){var d=l.mouse,f=c.x/i,p=1-c.y/s;d.value.x=f.toFixed(2),d.value.y=p.toFixed(2)}this.syncUniforms()},flush:function(){var t=this.width,e=this.height,i=this.program,s=this.gl,n=this.vertexBuffer,r=this.renderer,o=2*Float32Array.BYTES_PER_ELEMENT;this.renderToTexture&&(r.setFramebuffer(this.framebuffer),s.clearColor(0,0,0,0),s.clear(s.COLOR_BUFFER_BIT)),s.bindBuffer(s.ARRAY_BUFFER,n.webGLBuffer);var a=s.getAttribLocation(i.webGLProgram,"inPosition");-1!==a&&(s.enableVertexAttribArray(a),s.vertexAttribPointer(a,2,s.FLOAT,!1,o,0));var h=this.vertexViewF32;h[3]=e,h[4]=t,h[5]=e,h[8]=t,h[9]=e,h[10]=t,s.bufferSubData(s.ARRAY_BUFFER,0,this.bytes.subarray(0,6*o)),s.drawArrays(s.TRIANGLES,0,6),this.renderToTexture&&r.setFramebuffer(null,!1)},setAlpha:function(){},setBlendMode:function(){},onContextRestored:function(){if(null!==this._deferSetShader){var t=this._deferSetShader.key,e=this._deferSetShader.textures,i=this._deferSetShader.textureData;this._deferSetShader=null,this.setShader(t,e,i)}if(null!==this._deferProjOrtho){var s=this._deferProjOrtho.left,n=this._deferProjOrtho.right,r=this._deferProjOrtho.bottom,o=this._deferProjOrtho.top;this._deferProjOrtho=null,this.projOrtho(s,n,r,o)}},preDestroy:function(){var t=this.renderer;t.off(d.RESTORE_WEBGL,this.onContextRestored,this),t.deleteProgram(this.program),t.deleteBuffer(this.vertexBuffer),this.renderToTexture&&(t.deleteFramebuffer(this.framebuffer),this.texture.destroy(),this.framebuffer=null,this.glTexture=null,this.texture=null),c(this.uniforms,function(e){t.deleteUniformLocation(e.uniformLocation),e.uniformLocation=null})}});t.exports=f},80464:t=>{t.exports=function(){}},54935:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(25305),n=i(44603),r=i(23568),o=i(20071);n.register("shader",function(t,e){void 0===t&&(t={});var i=r(t,"key",null),n=r(t,"x",0),a=r(t,"y",0),h=r(t,"width",128),l=r(t,"height",128),u=new o(this.scene,i,n,a,h,l);return void 0!==e&&(t.add=e),s(this.scene,u,t),u})},74177:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(20071);i(39429).register("shader",function(t,e,i,n,r,o,a){return this.displayList.add(new s(this.scene,t,e,i,n,r,o,a))})},25479:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s,n;i(29747),s=i(19257),n=i(80464),t.exports={renderWebGL:s,renderCanvas:n}},19257:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(91296);t.exports=function(t,e,i,n){if(e.shader){if(i.addToRenderList(e),t.pipelines.clear(),e.renderToTexture)e.load(),e.flush();else{var r=s(e,i,n).calc;t.width===e._rendererWidth&&t.height===e._rendererHeight||e.projOrtho(0,t.width,t.height,0),e.load(r.matrix),e.flush()}t.pipelines.rebind()}}},10441:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(70554);t.exports=function(t,e,i,n,r,o){for(var a=s.getTintAppendFloatAlpha(i.fillColor,i.fillAlpha*n),h=i.pathData,l=i.pathIndexes,u=0;u<l.length;u+=3){var c=2*l[u],d=2*l[u+1],f=2*l[u+2],p=h[c+0]-r,g=h[c+1]-o,m=h[d+0]-r,v=h[d+1]-o,y=h[f+0]-r,x=h[f+1]-o,T=e.getX(p,g),w=e.getY(p,g),b=e.getX(m,v),S=e.getY(m,v),E=e.getX(y,x),C=e.getY(y,x);t.batchTri(i,T,w,b,S,E,C,0,0,1,1,a,a,a,2)}}},65960:t=>{t.exports=function(t,e,i,s){var n=i||e.fillColor,r=s||e.fillAlpha,o=(16711680&n)>>>16,a=(65280&n)>>>8,h=255&n;t.fillStyle="rgba("+o+","+a+","+h+","+r+")"}},75177:t=>{t.exports=function(t,e,i,s){var n=i||e.strokeColor,r=s||e.strokeAlpha,o=(16711680&n)>>>16,a=(65280&n)>>>8,h=255&n;t.strokeStyle="rgba("+o+","+a+","+h+","+r+")",t.lineWidth=e.lineWidth}},17803:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(83419),n=i(31401),r=i(95643),o=i(23031),a=new s({Extends:r,Mixins:[n.AlphaSingle,n.BlendMode,n.Depth,n.GetBounds,n.Mask,n.Origin,n.Pipeline,n.PostPipeline,n.ScrollFactor,n.Transform,n.Visible],initialize:function(t,e,i){void 0===e&&(e="Shape"),r.call(this,t,e),this.geom=i,this.pathData=[],this.pathIndexes=[],this.fillColor=16777215,this.fillAlpha=1,this.strokeColor=16777215,this.strokeAlpha=1,this.lineWidth=1,this.isFilled=!1,this.isStroked=!1,this.closePath=!0,this._tempLine=new o,this.width=0,this.height=0,this.initPipeline(),this.initPostPipeline()},setFillStyle:function(t,e){return void 0===e&&(e=1),void 0===t?this.isFilled=!1:(this.fillColor=t,this.fillAlpha=e,this.isFilled=!0),this},setStrokeStyle:function(t,e,i){return void 0===i&&(i=1),void 0===t?this.isStroked=!1:(this.lineWidth=t,this.strokeColor=e,this.strokeAlpha=i,this.isStroked=!0),this},setClosePath:function(t){return this.closePath=t,this},setSize:function(t,e){return this.width=t,this.height=e,this},setDisplaySize:function(t,e){return this.displayWidth=t,this.displayHeight=e,this},preDestroy:function(){this.geom=null,this._tempLine=null,this.pathData=[],this.pathIndexes=[]},displayWidth:{get:function(){return this.scaleX*this.width},set:function(t){this.scaleX=t/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(t){this.scaleY=t/this.height}}});t.exports=a},34682:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(70554);t.exports=function(t,e,i,n,r){var o=t.strokeTint,a=s.getTintAppendFloatAlpha(e.strokeColor,e.strokeAlpha*i);o.TL=a,o.TR=a,o.BL=a,o.BR=a;var h=e.pathData,l=h.length-1,u=e.lineWidth,c=u/2,d=h[0]-n,f=h[1]-r;e.closePath||(l-=2);for(var p=2;p<l;p+=2){var g=h[p]-n,m=h[p+1]-r;t.batchLine(d,f,g,m,c,c,u,p-2,!!e.closePath&&p===l-1),d=g,f=m}}},23629:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(13609),n=i(83419),r=i(39506),o=i(94811),a=i(96503),h=i(36383),l=i(17803),u=new n({Extends:l,Mixins:[s],initialize:function(t,e,i,s,n,r,o,h,u){void 0===e&&(e=0),void 0===i&&(i=0),void 0===s&&(s=128),void 0===n&&(n=0),void 0===r&&(r=360),void 0===o&&(o=!1),l.call(this,t,"Arc",new a(0,0,s)),this._startAngle=n,this._endAngle=r,this._anticlockwise=o,this._iterations=.01,this.setPosition(e,i);var c=2*this.geom.radius;this.setSize(c,c),void 0!==h&&this.setFillStyle(h,u),this.updateDisplayOrigin(),this.updateData()},iterations:{get:function(){return this._iterations},set:function(t){this._iterations=t,this.updateData()}},radius:{get:function(){return this.geom.radius},set:function(t){this.geom.radius=t;var e=2*t;this.setSize(e,e),this.updateDisplayOrigin(),this.updateData()}},startAngle:{get:function(){return this._startAngle},set:function(t){this._startAngle=t,this.updateData()}},endAngle:{get:function(){return this._endAngle},set:function(t){this._endAngle=t,this.updateData()}},anticlockwise:{get:function(){return this._anticlockwise},set:function(t){this._anticlockwise=t,this.updateData()}},setRadius:function(t){return this.radius=t,this},setIterations:function(t){return void 0===t&&(t=.01),this.iterations=t,this},setStartAngle:function(t,e){return this._startAngle=t,void 0!==e&&(this._anticlockwise=e),this.updateData()},setEndAngle:function(t,e){return this._endAngle=t,void 0!==e&&(this._anticlockwise=e),this.updateData()},updateData:function(){var t=this._iterations,e=t,i=this.geom.radius,s=r(this._startAngle),n=r(this._endAngle),a=i,l=i;n-=s,this._anticlockwise?n<-h.PI2?n=-h.PI2:n>0&&(n=-h.PI2+n%h.PI2):n>h.PI2?n=h.PI2:n<0&&(n=h.PI2+n%h.PI2);for(var u,c=[a+Math.cos(s)*i,l+Math.sin(s)*i];e<1;)u=n*e+s,c.push(a+Math.cos(u)*i,l+Math.sin(u)*i),e+=t;return u=n+s,c.push(a+Math.cos(u)*i,l+Math.sin(u)*i),c.push(a+Math.cos(s)*i,l+Math.sin(s)*i),this.pathIndexes=o(c),this.pathData=c,this}});t.exports=u},42542:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(39506),n=i(65960),r=i(75177),o=i(20926);t.exports=function(t,e,i,a){i.addToRenderList(e);var h=t.currentContext;if(o(t,h,e,i,a)){var l=e.radius;h.beginPath(),h.arc(l-e.originX*(2*l),l-e.originY*(2*l),l,s(e._startAngle),s(e._endAngle),e.anticlockwise),e.closePath&&h.closePath(),e.isFilled&&(n(h,e),h.fill()),e.isStroked&&(r(h,e),h.stroke()),h.restore()}}},42563:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(23629),n=i(39429);n.register("arc",function(t,e,i,n,r,o,a,h){return this.displayList.add(new s(this.scene,t,e,i,n,r,o,a,h))}),n.register("circle",function(t,e,i,n,r){return this.displayList.add(new s(this.scene,t,e,i,0,360,!1,n,r))})},13609:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s,n;i(29747),s=i(41447),n=i(42542),t.exports={renderWebGL:s,renderCanvas:n}},41447:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(91296),n=i(10441),r=i(34682);t.exports=function(t,e,i,o){i.addToRenderList(e);var a=t.pipelines.set(e.pipeline),h=s(e,i,o),l=a.calcMatrix.copyFrom(h.calc),u=e._displayOriginX,c=e._displayOriginY,d=i.alpha*e.alpha;t.pipelines.preBatch(e),e.isFilled&&n(a,l,e,d,u,c),e.isStroked&&r(a,e,d,u,c),t.pipelines.postBatch(e)}},89:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(83419),n=i(33141),r=i(94811),o=i(87841),a=i(17803),h=new s({Extends:a,Mixins:[n],initialize:function(t,e,i,s,n,r){void 0===e&&(e=0),void 0===i&&(i=0),a.call(this,t,"Curve",s),this._smoothness=32,this._curveBounds=new o,this.closePath=!1,this.setPosition(e,i),void 0!==n&&this.setFillStyle(n,r),this.updateData()},smoothness:{get:function(){return this._smoothness},set:function(t){this._smoothness=t,this.updateData()}},setSmoothness:function(t){return this._smoothness=t,this.updateData()},updateData:function(){var t=this._curveBounds,e=this._smoothness;this.geom.getBounds(t,e),this.setSize(t.width,t.height),this.updateDisplayOrigin();for(var i=[],s=this.geom.getPoints(e),n=0;n<s.length;n++)i.push(s[n].x,s[n].y);return i.push(s[0].x,s[0].y),this.pathIndexes=r(i),this.pathData=i,this}});t.exports=h},3170:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(65960),n=i(75177),r=i(20926);t.exports=function(t,e,i,o){i.addToRenderList(e);var a=t.currentContext;if(r(t,a,e,i,o)){var h=e._displayOriginX+e._curveBounds.x,l=e._displayOriginY+e._curveBounds.y,u=e.pathData,c=u.length-1,d=u[0]-h,f=u[1]-l;a.beginPath(),a.moveTo(d,f),e.closePath||(c-=2);for(var p=2;p<c;p+=2){var g=u[p]-h,m=u[p+1]-l;a.lineTo(g,m)}e.closePath&&a.closePath(),e.isFilled&&(s(a,e),a.fill()),e.isStroked&&(n(a,e),a.stroke()),a.restore()}}},40511:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(39429),n=i(89);s.register("curve",function(t,e,i,s,r){return this.displayList.add(new n(this.scene,t,e,i,s,r))})},33141:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s,n;i(29747),s=i(53987),n=i(3170),t.exports={renderWebGL:s,renderCanvas:n}},53987:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(10441),n=i(91296),r=i(34682);t.exports=function(t,e,i,o){i.addToRenderList(e);var a=t.pipelines.set(e.pipeline),h=n(e,i,o),l=a.calcMatrix.copyFrom(h.calc),u=e._displayOriginX+e._curveBounds.x,c=e._displayOriginY+e._curveBounds.y,d=i.alpha*e.alpha;t.pipelines.preBatch(e),e.isFilled&&s(a,l,e,d,u,c),e.isStroked&&r(a,e,d,u,c),t.pipelines.postBatch(e)}},19921:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(83419),n=i(94811),r=i(54205),o=i(8497),a=i(17803),h=new s({Extends:a,Mixins:[r],initialize:function(t,e,i,s,n,r,h){void 0===e&&(e=0),void 0===i&&(i=0),void 0===s&&(s=128),void 0===n&&(n=128),a.call(this,t,"Ellipse",new o(s/2,n/2,s,n)),this._smoothness=64,this.setPosition(e,i),this.width=s,this.height=n,void 0!==r&&this.setFillStyle(r,h),this.updateDisplayOrigin(),this.updateData()},smoothness:{get:function(){return this._smoothness},set:function(t){this._smoothness=t,this.updateData()}},setSize:function(t,e){return this.width=t,this.height=e,this.geom.setPosition(t/2,e/2),this.geom.setSize(t,e),this.updateDisplayOrigin(),this.updateData()},setSmoothness:function(t){return this._smoothness=t,this.updateData()},updateData:function(){for(var t=[],e=this.geom.getPoints(this._smoothness),i=0;i<e.length;i++)t.push(e[i].x,e[i].y);return t.push(e[0].x,e[0].y),this.pathIndexes=n(t),this.pathData=t,this}});t.exports=h},7930:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(65960),n=i(75177),r=i(20926);t.exports=function(t,e,i,o){i.addToRenderList(e);var a=t.currentContext;if(r(t,a,e,i,o)){var h=e._displayOriginX,l=e._displayOriginY,u=e.pathData,c=u.length-1,d=u[0]-h,f=u[1]-l;a.beginPath(),a.moveTo(d,f),e.closePath||(c-=2);for(var p=2;p<c;p+=2){var g=u[p]-h,m=u[p+1]-l;a.lineTo(g,m)}a.closePath(),e.isFilled&&(s(a,e),a.fill()),e.isStroked&&(n(a,e),a.stroke()),a.restore()}}},1543:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(19921);i(39429).register("ellipse",function(t,e,i,n,r,o){return this.displayList.add(new s(this.scene,t,e,i,n,r,o))})},54205:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s,n;i(29747),s=i(19467),n=i(7930),t.exports={renderWebGL:s,renderCanvas:n}},19467:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(10441),n=i(91296),r=i(34682);t.exports=function(t,e,i,o){i.addToRenderList(e);var a=t.pipelines.set(e.pipeline),h=n(e,i,o),l=a.calcMatrix.copyFrom(h.calc),u=e._displayOriginX,c=e._displayOriginY,d=i.alpha*e.alpha;t.pipelines.preBatch(e),e.isFilled&&s(a,l,e,d,u,c),e.isStroked&&r(a,e,d,u,c),t.pipelines.postBatch(e)}},30479:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(83419),n=i(17803),r=i(26015),o=new s({Extends:n,Mixins:[r],initialize:function(t,e,i,s,r,o,a,h,l,u,c){void 0===e&&(e=0),void 0===i&&(i=0),void 0===s&&(s=128),void 0===r&&(r=128),void 0===o&&(o=32),void 0===a&&(a=32),n.call(this,t,"Grid",null),this.cellWidth=o,this.cellHeight=a,this.showCells=!0,this.outlineFillColor=0,this.outlineFillAlpha=0,this.showOutline=!0,this.showAltCells=!1,this.altFillColor,this.altFillAlpha,this.setPosition(e,i),this.setSize(s,r),this.setFillStyle(h,l),void 0!==u&&this.setOutlineStyle(u,c),this.updateDisplayOrigin()},setFillStyle:function(t,e){return void 0===e&&(e=1),void 0===t?this.showCells=!1:(this.fillColor=t,this.fillAlpha=e,this.showCells=!0),this},setAltFillStyle:function(t,e){return void 0===e&&(e=1),void 0===t?this.showAltCells=!1:(this.altFillColor=t,this.altFillAlpha=e,this.showAltCells=!0),this},setOutlineStyle:function(t,e){return void 0===e&&(e=1),void 0===t?this.showOutline=!1:(this.outlineFillColor=t,this.outlineFillAlpha=e,this.showOutline=!0),this}});t.exports=o},49912:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(65960),n=i(75177),r=i(20926);t.exports=function(t,e,i,o){i.addToRenderList(e);var a=t.currentContext;if(r(t,a,e,i,o)){var h=-e._displayOriginX,l=-e._displayOriginY,u=i.alpha*e.alpha,c=e.width,d=e.height,f=e.cellWidth,p=e.cellHeight,g=Math.ceil(c/f),m=Math.ceil(d/p),v=f,y=p,x=f-(g*f-c),T=p-(m*p-d),w=e.showCells,b=e.showAltCells,S=e.showOutline,E=0,C=0,_=0,A=0,M=0;if(S&&(v--,y--,x===f&&x--,T===p&&T--),w&&e.fillAlpha>0)for(s(a,e),C=0;C<m;C++)for(b&&(_=C%2),E=0;E<g;E++)b&&_?_=0:(_++,A=E<g-1?v:x,M=C<m-1?y:T,a.fillRect(h+E*f,l+C*p,A,M));if(b&&e.altFillAlpha>0)for(s(a,e,e.altFillColor,e.altFillAlpha*u),C=0;C<m;C++)for(b&&(_=C%2),E=0;E<g;E++)!b||_?(_=0,A=E<g-1?v:x,M=C<m-1?y:T,a.fillRect(h+E*f,l+C*p,A,M)):_=1;if(S&&e.outlineFillAlpha>0){for(n(a,e,e.outlineFillColor,e.outlineFillAlpha*u),E=1;E<g;E++){var P=E*f;a.beginPath(),a.moveTo(P+h,l),a.lineTo(P+h,d+l),a.stroke()}for(C=1;C<m;C++){var R=C*p;a.beginPath(),a.moveTo(h,R+l),a.lineTo(h+c,R+l),a.stroke()}}a.restore()}}},34137:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(39429),n=i(30479);s.register("grid",function(t,e,i,s,r,o,a,h,l,u){return this.displayList.add(new n(this.scene,t,e,i,s,r,o,a,h,l,u))})},26015:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s,n;i(29747),s=i(46161),n=i(49912),t.exports={renderWebGL:s,renderCanvas:n}},46161:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(91296),n=i(70554);t.exports=function(t,e,i,r){i.addToRenderList(e);var o=t.pipelines.set(e.pipeline),a=s(e,i,r);o.calcMatrix.copyFrom(a.calc).translate(-e._displayOriginX,-e._displayOriginY);var h,l,u=i.alpha*e.alpha,c=e.width,d=e.height,f=e.cellWidth,p=e.cellHeight,g=Math.ceil(c/f),m=Math.ceil(d/p),v=f,y=p,x=f-(g*f-c),T=p-(m*p-d),w=e.showCells,b=e.showAltCells,S=e.showOutline,E=0,C=0,_=0,A=0,M=0;if(S&&(v--,y--,x===f&&x--,T===p&&T--),t.pipelines.preBatch(e),w&&e.fillAlpha>0)for(h=o.fillTint,l=n.getTintAppendFloatAlpha(e.fillColor,e.fillAlpha*u),h.TL=l,h.TR=l,h.BL=l,h.BR=l,C=0;C<m;C++)for(b&&(_=C%2),E=0;E<g;E++)b&&_?_=0:(_++,A=E<g-1?v:x,M=C<m-1?y:T,o.batchFillRect(E*f,C*p,A,M));if(b&&e.altFillAlpha>0)for(h=o.fillTint,l=n.getTintAppendFloatAlpha(e.altFillColor,e.altFillAlpha*u),h.TL=l,h.TR=l,h.BL=l,h.BR=l,C=0;C<m;C++)for(b&&(_=C%2),E=0;E<g;E++)!b||_?(_=0,A=E<g-1?v:x,M=C<m-1?y:T,o.batchFillRect(E*f,C*p,A,M)):_=1;if(S&&e.outlineFillAlpha>0){var P=o.strokeTint,R=n.getTintAppendFloatAlpha(e.outlineFillColor,e.outlineFillAlpha*u);for(P.TL=R,P.TR=R,P.BL=R,P.BR=R,E=1;E<g;E++){var I=E*f;o.batchLine(I,0,I,d,e.lineWidth,e.lineWidth,1,0,!1)}for(C=1;C<m;C++){var O=C*p;o.batchLine(0,O,c,O,e.lineWidth,e.lineWidth,1,0,!1)}}t.pipelines.postBatch(e)}},61475:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(99651),n=i(83419),r=i(17803),o=new n({Extends:r,Mixins:[s],initialize:function(t,e,i,s,n,o,a,h){void 0===e&&(e=0),void 0===i&&(i=0),void 0===s&&(s=48),void 0===n&&(n=32),void 0===o&&(o=15658734),void 0===a&&(a=10066329),void 0===h&&(h=13421772),r.call(this,t,"IsoBox",null),this.projection=4,this.fillTop=o,this.fillLeft=a,this.fillRight=h,this.showTop=!0,this.showLeft=!0,this.showRight=!0,this.isFilled=!0,this.setPosition(e,i),this.setSize(s,n),this.updateDisplayOrigin()},setProjection:function(t){return this.projection=t,this},setFaces:function(t,e,i){return void 0===t&&(t=!0),void 0===e&&(e=!0),void 0===i&&(i=!0),this.showTop=t,this.showLeft=e,this.showRight=i,this},setFillStyle:function(t,e,i){return this.fillTop=t,this.fillLeft=e,this.fillRight=i,this.isFilled=!0,this}});t.exports=o},11508:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(65960),n=i(20926);t.exports=function(t,e,i,r){i.addToRenderList(e);var o=t.currentContext;if(n(t,o,e,i,r)&&e.isFilled){var a=e.width,h=e.height,l=a/2,u=a/e.projection;e.showTop&&(s(o,e,e.fillTop),o.beginPath(),o.moveTo(-l,-h),o.lineTo(0,-u-h),o.lineTo(l,-h),o.lineTo(l,-1),o.lineTo(0,u-1),o.lineTo(-l,-1),o.lineTo(-l,-h),o.fill()),e.showLeft&&(s(o,e,e.fillLeft),o.beginPath(),o.moveTo(-l,0),o.lineTo(0,u),o.lineTo(0,u-h),o.lineTo(-l,-h),o.lineTo(-l,0),o.fill()),e.showRight&&(s(o,e,e.fillRight),o.beginPath(),o.moveTo(l,0),o.lineTo(0,u),o.lineTo(0,u-h),o.lineTo(l,-h),o.lineTo(l,0),o.fill()),o.restore()}}},3933:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(39429),n=i(61475);s.register("isobox",function(t,e,i,s,r,o,a){return this.displayList.add(new n(this.scene,t,e,i,s,r,o,a))})},99651:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s,n;i(29747),s=i(68149),n=i(11508),t.exports={renderWebGL:s,renderCanvas:n}},68149:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(91296),n=i(70554);t.exports=function(t,e,i,r){i.addToRenderList(e);var o,a,h,l,u,c,d,f,p,g=t.pipelines.set(e.pipeline),m=s(e,i,r),v=g.calcMatrix.copyFrom(m.calc),y=e.width,x=e.height,T=y/2,w=y/e.projection,b=i.alpha*e.alpha;e.isFilled&&(t.pipelines.preBatch(e),e.showTop&&(o=n.getTintAppendFloatAlpha(e.fillTop,b),a=v.getX(-T,-x),h=v.getY(-T,-x),l=v.getX(0,-w-x),u=v.getY(0,-w-x),c=v.getX(T,-x),d=v.getY(T,-x),f=v.getX(0,w-x),p=v.getY(0,w-x),g.batchQuad(e,a,h,l,u,c,d,f,p,0,0,1,1,o,o,o,o,2)),e.showLeft&&(o=n.getTintAppendFloatAlpha(e.fillLeft,b),a=v.getX(-T,0),h=v.getY(-T,0),l=v.getX(0,w),u=v.getY(0,w),c=v.getX(0,w-x),d=v.getY(0,w-x),f=v.getX(-T,-x),p=v.getY(-T,-x),g.batchQuad(e,a,h,l,u,c,d,f,p,0,0,1,1,o,o,o,o,2)),e.showRight&&(o=n.getTintAppendFloatAlpha(e.fillRight,b),a=v.getX(T,0),h=v.getY(T,0),l=v.getX(0,w),u=v.getY(0,w),c=v.getX(0,w-x),d=v.getY(0,w-x),f=v.getX(T,-x),p=v.getY(T,-x),g.batchQuad(e,a,h,l,u,c,d,f,p,0,0,1,1,o,o,o,o,2)),t.pipelines.postBatch(e))}},16933:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(83419),n=i(60561),r=i(17803),o=new s({Extends:r,Mixins:[n],initialize:function(t,e,i,s,n,o,a,h,l){void 0===e&&(e=0),void 0===i&&(i=0),void 0===s&&(s=48),void 0===n&&(n=32),void 0===o&&(o=!1),void 0===a&&(a=15658734),void 0===h&&(h=10066329),void 0===l&&(l=13421772),r.call(this,t,"IsoTriangle",null),this.projection=4,this.fillTop=a,this.fillLeft=h,this.fillRight=l,this.showTop=!0,this.showLeft=!0,this.showRight=!0,this.isReversed=o,this.isFilled=!0,this.setPosition(e,i),this.setSize(s,n),this.updateDisplayOrigin()},setProjection:function(t){return this.projection=t,this},setReversed:function(t){return this.isReversed=t,this},setFaces:function(t,e,i){return void 0===t&&(t=!0),void 0===e&&(e=!0),void 0===i&&(i=!0),this.showTop=t,this.showLeft=e,this.showRight=i,this},setFillStyle:function(t,e,i){return this.fillTop=t,this.fillLeft=e,this.fillRight=i,this.isFilled=!0,this}});t.exports=o},79590:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(65960),n=i(20926);t.exports=function(t,e,i,r){i.addToRenderList(e);var o=t.currentContext;if(n(t,o,e,i,r)&&e.isFilled){var a=e.width,h=e.height,l=a/2,u=a/e.projection,c=e.isReversed;e.showTop&&c&&(s(o,e,e.fillTop),o.beginPath(),o.moveTo(-l,-h),o.lineTo(0,-u-h),o.lineTo(l,-h),o.lineTo(0,u-h),o.fill()),e.showLeft&&(s(o,e,e.fillLeft),o.beginPath(),c?(o.moveTo(-l,-h),o.lineTo(0,u),o.lineTo(0,u-h)):(o.moveTo(-l,0),o.lineTo(0,u),o.lineTo(0,u-h)),o.fill()),e.showRight&&(s(o,e,e.fillRight),o.beginPath(),c?(o.moveTo(l,-h),o.lineTo(0,u),o.lineTo(0,u-h)):(o.moveTo(l,0),o.lineTo(0,u),o.lineTo(0,u-h)),o.fill()),o.restore()}}},49803:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(39429),n=i(16933);s.register("isotriangle",function(t,e,i,s,r,o,a,h){return this.displayList.add(new n(this.scene,t,e,i,s,r,o,a,h))})},60561:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s,n;i(29747),s=i(51503),n=i(79590),t.exports={renderWebGL:s,renderCanvas:n}},51503:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(91296),n=i(70554);t.exports=function(t,e,i,r){i.addToRenderList(e);var o=t.pipelines.set(e.pipeline),a=s(e,i,r),h=o.calcMatrix.copyFrom(a.calc),l=e.width,u=e.height,c=l/2,d=l/e.projection,f=e.isReversed,p=i.alpha*e.alpha;if(e.isFilled){var g,m,v,y,x,T,w;if(t.pipelines.preBatch(e),e.showTop&&f){g=n.getTintAppendFloatAlpha(e.fillTop,p),m=h.getX(-c,-u),v=h.getY(-c,-u),y=h.getX(0,-d-u),x=h.getY(0,-d-u),T=h.getX(c,-u),w=h.getY(c,-u);var b=h.getX(0,d-u),S=h.getY(0,d-u);o.batchQuad(e,m,v,y,x,T,w,b,S,0,0,1,1,g,g,g,g,2)}e.showLeft&&(g=n.getTintAppendFloatAlpha(e.fillLeft,p),f?(m=h.getX(-c,-u),v=h.getY(-c,-u),y=h.getX(0,d),x=h.getY(0,d),T=h.getX(0,d-u),w=h.getY(0,d-u)):(m=h.getX(-c,0),v=h.getY(-c,0),y=h.getX(0,d),x=h.getY(0,d),T=h.getX(0,d-u),w=h.getY(0,d-u)),o.batchTri(e,m,v,y,x,T,w,0,0,1,1,g,g,g,2)),e.showRight&&(g=n.getTintAppendFloatAlpha(e.fillRight,p),f?(m=h.getX(c,-u),v=h.getY(c,-u),y=h.getX(0,d),x=h.getY(0,d),T=h.getX(0,d-u),w=h.getY(0,d-u)):(m=h.getX(c,0),v=h.getY(c,0),y=h.getX(0,d),x=h.getY(0,d),T=h.getX(0,d-u),w=h.getY(0,d-u)),o.batchTri(e,m,v,y,x,T,w,0,0,1,1,g,g,g,2)),t.pipelines.postBatch(e)}}},57847:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(83419),n=i(17803),r=i(23031),o=i(36823),a=new s({Extends:n,Mixins:[o],initialize:function(t,e,i,s,o,a,h,l,u){void 0===e&&(e=0),void 0===i&&(i=0),void 0===s&&(s=0),void 0===o&&(o=0),void 0===a&&(a=128),void 0===h&&(h=0),n.call(this,t,"Line",new r(s,o,a,h));var c=Math.max(1,this.geom.right-this.geom.left),d=Math.max(1,this.geom.bottom-this.geom.top);this.lineWidth=1,this._startWidth=1,this._endWidth=1,this.setPosition(e,i),this.setSize(c,d),void 0!==l&&this.setStrokeStyle(1,l,u),this.updateDisplayOrigin()},setLineWidth:function(t,e){return void 0===e&&(e=t),this._startWidth=t,this._endWidth=e,this.lineWidth=t,this},setTo:function(t,e,i,s){return this.geom.setTo(t,e,i,s),this}});t.exports=a},17440:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(75177),n=i(20926);t.exports=function(t,e,i,r){i.addToRenderList(e);var o=t.currentContext;if(n(t,o,e,i,r)){var a=e._displayOriginX,h=e._displayOriginY;e.isStroked&&(s(o,e),o.beginPath(),o.moveTo(e.geom.x1-a,e.geom.y1-h),o.lineTo(e.geom.x2-a,e.geom.y2-h),o.stroke()),o.restore()}}},2481:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(39429),n=i(57847);s.register("line",function(t,e,i,s,r,o,a,h){return this.displayList.add(new n(this.scene,t,e,i,s,r,o,a,h))})},36823:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s,n;i(29747),s=i(77385),n=i(17440),t.exports={renderWebGL:s,renderCanvas:n}},77385:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(91296),n=i(70554);t.exports=function(t,e,i,r){i.addToRenderList(e);var o=t.pipelines.set(e.pipeline),a=s(e,i,r);o.calcMatrix.copyFrom(a.calc);var h=e._displayOriginX,l=e._displayOriginY,u=i.alpha*e.alpha;if(t.pipelines.preBatch(e),e.isStroked){var c=o.strokeTint,d=n.getTintAppendFloatAlpha(e.strokeColor,e.strokeAlpha*u);c.TL=d,c.TR=d,c.BL=d,c.BR=d,o.batchLine(e.geom.x1-h,e.geom.y1-l,e.geom.x2-h,e.geom.y2-l,e._startWidth/2,e._endWidth/2,1,0,!1,a.sprite,a.camera)}t.pipelines.postBatch(e)}},24949:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(90273),n=i(83419),r=i(94811),o=i(13829),a=i(25717),h=i(17803),l=i(5469),u=new n({Extends:h,Mixins:[s],initialize:function(t,e,i,s,n,r){void 0===e&&(e=0),void 0===i&&(i=0),h.call(this,t,"Polygon",new a(s));var l=o(this.geom);this.setPosition(e,i),this.setSize(l.width,l.height),void 0!==n&&this.setFillStyle(n,r),this.updateDisplayOrigin(),this.updateData()},smooth:function(t){void 0===t&&(t=1);for(var e=0;e<t;e++)l(this.geom);return this.updateData()},setTo:function(t){this.geom.setTo(t);var e=o(this.geom);return this.setSize(e.width,e.height),this.updateDisplayOrigin(),this.updateData()},updateData:function(){for(var t=[],e=this.geom.points,i=0;i<e.length;i++)t.push(e[i].x,e[i].y);return t.push(e[0].x,e[0].y),this.pathIndexes=r(t),this.pathData=t,this}});t.exports=u},38710:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(65960),n=i(75177),r=i(20926);t.exports=function(t,e,i,o){i.addToRenderList(e);var a=t.currentContext;if(r(t,a,e,i,o)){var h=e._displayOriginX,l=e._displayOriginY,u=e.pathData,c=u.length-1,d=u[0]-h,f=u[1]-l;a.beginPath(),a.moveTo(d,f),e.closePath||(c-=2);for(var p=2;p<c;p+=2){var g=u[p]-h,m=u[p+1]-l;a.lineTo(g,m)}e.closePath&&a.closePath(),e.isFilled&&(s(a,e),a.fill()),e.isStroked&&(n(a,e),a.stroke()),a.restore()}}},64827:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(39429),n=i(24949);s.register("polygon",function(t,e,i,s,r){return this.displayList.add(new n(this.scene,t,e,i,s,r))})},90273:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s,n;i(29747),s=i(73695),n=i(38710),t.exports={renderWebGL:s,renderCanvas:n}},73695:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(10441),n=i(91296),r=i(34682);t.exports=function(t,e,i,o){i.addToRenderList(e);var a=t.pipelines.set(e.pipeline),h=n(e,i,o),l=a.calcMatrix.copyFrom(h.calc),u=e._displayOriginX,c=e._displayOriginY,d=i.alpha*e.alpha;t.pipelines.preBatch(e),e.isFilled&&s(a,l,e,d,u,c),e.isStroked&&r(a,e,d,u,c),t.pipelines.postBatch(e)}},74561:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(83419),n=i(94811),r=i(87841),o=i(17803),a=i(95597),h=new s({Extends:o,Mixins:[a],initialize:function(t,e,i,s,n,a,h){void 0===e&&(e=0),void 0===i&&(i=0),void 0===s&&(s=128),void 0===n&&(n=128),o.call(this,t,"Rectangle",new r(0,0,s,n)),this.radius=20,this.isRounded=!1,this.setPosition(e,i),this.setSize(s,n),void 0!==a&&this.setFillStyle(a,h),this.updateDisplayOrigin(),this.updateData()},setRounded:function(t){return void 0===t&&(t=16),this.radius=t,this.isRounded=t>0,this.updateRoundedData()},setSize:function(t,e){this.width=t,this.height=e,this.geom.setSize(t,e),this.updateData(),this.updateDisplayOrigin();var i=this.input;return i&&!i.customHitArea&&(i.hitArea.width=t,i.hitArea.height=e),this},updateData:function(){if(this.isRounded)return this.updateRoundedData();var t=[],e=this.geom,i=this._tempLine;return e.getLineA(i),t.push(i.x1,i.y1,i.x2,i.y2),e.getLineB(i),t.push(i.x2,i.y2),e.getLineC(i),t.push(i.x2,i.y2),e.getLineD(i),t.push(i.x2,i.y2),this.pathData=t,this},updateRoundedData:function(){var t=[],e=this.width/2,i=this.height/2,s=Math.min(e,i),r=Math.min(this.radius,s),o=e,a=i,h=Math.max(1,Math.floor(r/5));return this.arcTo(t,o-e+r,a-i+r,r,Math.PI,1.5*Math.PI,h),t.push(o+e-r,a-i),this.arcTo(t,o+e-r,a-i+r,r,1.5*Math.PI,2*Math.PI,h),t.push(o+e,a+i-r),this.arcTo(t,o+e-r,a+i-r,r,0,.5*Math.PI,h),t.push(o-e+r,a+i),this.arcTo(t,o-e+r,a+i-r,r,.5*Math.PI,Math.PI,h),t.push(o-e,a-i+r),this.pathIndexes=n(t),this.pathData=t,this},arcTo:function(t,e,i,s,n,r,o){for(var a=(r-n)/o,h=0;h<=o;h++){var l=n+a*h;t.push(e+Math.cos(l)*s,i+Math.sin(l)*s)}}});t.exports=h},48682:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(65960),n=i(75177),r=i(20926),o=function(t,e,i,s,n,r){var o=Math.min(s/2,n/2),a=Math.min(r,o);0!==a?(t.moveTo(e+a,i),t.lineTo(e+s-a,i),t.arcTo(e+s,i,e+s,i+a,a),t.lineTo(e+s,i+n-a),t.arcTo(e+s,i+n,e+s-a,i+n,a),t.lineTo(e+a,i+n),t.arcTo(e,i+n,e,i+n-a,a),t.lineTo(e,i+a),t.arcTo(e,i,e+a,i,a),t.closePath()):t.rect(e,i,s,n)};t.exports=function(t,e,i,a){i.addToRenderList(e);var h=t.currentContext;if(r(t,h,e,i,a)){var l=e._displayOriginX,u=e._displayOriginY;e.isFilled&&(s(h,e),e.isRounded?(h.beginPath(),o(h,-l,-u,e.width,e.height,e.radius),h.fill()):h.fillRect(-l,-u,e.width,e.height)),e.isStroked&&(n(h,e),h.beginPath(),e.isRounded?o(h,-l,-u,e.width,e.height,e.radius):h.rect(-l,-u,e.width,e.height),h.stroke()),h.restore()}}},87959:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(39429),n=i(74561);s.register("rectangle",function(t,e,i,s,r,o){return this.displayList.add(new n(this.scene,t,e,i,s,r,o))})},95597:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s,n;i(29747),s=i(52059),n=i(48682),t.exports={renderWebGL:s,renderCanvas:n}},52059:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(10441),n=i(91296),r=i(34682),o=i(70554);t.exports=function(t,e,i,a){i.addToRenderList(e);var h=t.pipelines.set(e.pipeline),l=n(e,i,a);h.calcMatrix.copyFrom(l.calc);var u=e._displayOriginX,c=e._displayOriginY,d=i.alpha*e.alpha;if(t.pipelines.preBatch(e),e.isRounded&&e.isFilled)s(h,l.calc,e,d,u,c);else if(e.isFilled){var f=h.fillTint,p=o.getTintAppendFloatAlpha(e.fillColor,e.fillAlpha*d);f.TL=p,f.TR=p,f.BL=p,f.BR=p,h.batchFillRect(-u,-c,e.width,e.height)}e.isStroked&&r(h,e,d,u,c),t.pipelines.postBatch(e)}},55911:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(81991),n=i(83419),r=i(94811),o=i(17803),a=new n({Extends:o,Mixins:[s],initialize:function(t,e,i,s,n,r,a,h){void 0===e&&(e=0),void 0===i&&(i=0),void 0===s&&(s=5),void 0===n&&(n=32),void 0===r&&(r=64),o.call(this,t,"Star",null),this._points=s,this._innerRadius=n,this._outerRadius=r,this.setPosition(e,i),this.setSize(2*r,2*r),void 0!==a&&this.setFillStyle(a,h),this.updateDisplayOrigin(),this.updateData()},setPoints:function(t){return this._points=t,this.updateData()},setInnerRadius:function(t){return this._innerRadius=t,this.updateData()},setOuterRadius:function(t){return this._outerRadius=t,this.updateData()},points:{get:function(){return this._points},set:function(t){this._points=t,this.updateData()}},innerRadius:{get:function(){return this._innerRadius},set:function(t){this._innerRadius=t,this.updateData()}},outerRadius:{get:function(){return this._outerRadius},set:function(t){this._outerRadius=t,this.updateData()}},updateData:function(){var t=[],e=this._points,i=this._innerRadius,s=this._outerRadius,n=Math.PI/2*3,o=Math.PI/e,a=s,h=s;t.push(a,h+-s);for(var l=0;l<e;l++)t.push(a+Math.cos(n)*s,h+Math.sin(n)*s),n+=o,t.push(a+Math.cos(n)*i,h+Math.sin(n)*i),n+=o;return t.push(a,h+-s),this.pathIndexes=r(t),this.pathData=t,this}});t.exports=a},64272:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(65960),n=i(75177),r=i(20926);t.exports=function(t,e,i,o){i.addToRenderList(e);var a=t.currentContext;if(r(t,a,e,i,o)){var h=e._displayOriginX,l=e._displayOriginY,u=e.pathData,c=u.length-1,d=u[0]-h,f=u[1]-l;a.beginPath(),a.moveTo(d,f),e.closePath||(c-=2);for(var p=2;p<c;p+=2){var g=u[p]-h,m=u[p+1]-l;a.lineTo(g,m)}a.closePath(),e.isFilled&&(s(a,e),a.fill()),e.isStroked&&(n(a,e),a.stroke()),a.restore()}}},93697:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(55911);i(39429).register("star",function(t,e,i,n,r,o,a){return this.displayList.add(new s(this.scene,t,e,i,n,r,o,a))})},81991:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s,n;i(29747),s=i(57017),n=i(64272),t.exports={renderWebGL:s,renderCanvas:n}},57017:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(10441),n=i(91296),r=i(34682);t.exports=function(t,e,i,o){i.addToRenderList(e);var a=t.pipelines.set(e.pipeline),h=n(e,i,o),l=a.calcMatrix.copyFrom(h.calc),u=e._displayOriginX,c=e._displayOriginY,d=i.alpha*e.alpha;t.pipelines.preBatch(e),e.isFilled&&s(a,l,e,d,u,c),e.isStroked&&r(a,e,d,u,c),t.pipelines.postBatch(e)}},36931:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(83419),n=i(17803),r=i(16483),o=i(96195),a=new s({Extends:n,Mixins:[o],initialize:function(t,e,i,s,o,a,h,l,u,c,d){void 0===e&&(e=0),void 0===i&&(i=0),void 0===s&&(s=0),void 0===o&&(o=128),void 0===a&&(a=64),void 0===h&&(h=0),void 0===l&&(l=128),void 0===u&&(u=128),n.call(this,t,"Triangle",new r(s,o,a,h,l,u));var f=this.geom.right-this.geom.left,p=this.geom.bottom-this.geom.top;this.setPosition(e,i),this.setSize(f,p),void 0!==c&&this.setFillStyle(c,d),this.updateDisplayOrigin(),this.updateData()},setTo:function(t,e,i,s,n,r){return this.geom.setTo(t,e,i,s,n,r),this.updateData()},updateData:function(){var t=[],e=this.geom,i=this._tempLine;return e.getLineA(i),t.push(i.x1,i.y1,i.x2,i.y2),e.getLineB(i),t.push(i.x2,i.y2),e.getLineC(i),t.push(i.x2,i.y2),this.pathData=t,this}});t.exports=a},85172:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(65960),n=i(75177),r=i(20926);t.exports=function(t,e,i,o){i.addToRenderList(e);var a=t.currentContext;if(r(t,a,e,i,o)){var h=e._displayOriginX,l=e._displayOriginY,u=e.geom.x1-h,c=e.geom.y1-l,d=e.geom.x2-h,f=e.geom.y2-l,p=e.geom.x3-h,g=e.geom.y3-l;a.beginPath(),a.moveTo(u,c),a.lineTo(d,f),a.lineTo(p,g),a.closePath(),e.isFilled&&(s(a,e),a.fill()),e.isStroked&&(n(a,e),a.stroke()),a.restore()}}},45245:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(39429),n=i(36931);s.register("triangle",function(t,e,i,s,r,o,a,h,l,u){return this.displayList.add(new n(this.scene,t,e,i,s,r,o,a,h,l,u))})},96195:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s,n;i(29747),s=i(83253),n=i(85172),t.exports={renderWebGL:s,renderCanvas:n}},83253:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(91296),n=i(34682),r=i(70554);t.exports=function(t,e,i,o){i.addToRenderList(e);var a=t.pipelines.set(e.pipeline),h=s(e,i,o);a.calcMatrix.copyFrom(h.calc);var l=e._displayOriginX,u=e._displayOriginY,c=i.alpha*e.alpha;if(t.pipelines.preBatch(e),e.isFilled){var d=a.fillTint,f=r.getTintAppendFloatAlpha(e.fillColor,e.fillAlpha*c);d.TL=f,d.TR=f,d.BL=f,d.BR=f;var p=e.geom.x1-l,g=e.geom.y1-u,m=e.geom.x2-l,v=e.geom.y2-u,y=e.geom.x3-l,x=e.geom.y3-u;a.batchFillTriangle(p,g,m,v,y,x,h.sprite,h.camera)}e.isStroked&&n(a,e,c,l,u),t.pipelines.postBatch(e)}},68287:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(9674),n=i(83419),r=i(31401),o=i(95643),a=i(92751),h=new n({Extends:o,Mixins:[r.Alpha,r.BlendMode,r.Depth,r.Flip,r.GetBounds,r.Mask,r.Origin,r.Pipeline,r.PostPipeline,r.ScrollFactor,r.Size,r.TextureCrop,r.Tint,r.Transform,r.Visible,a],initialize:function(t,e,i,n,r){o.call(this,t,"Sprite"),this._crop=this.resetCropObject(),this.anims=new s(this),this.setTexture(n,r),this.setPosition(e,i),this.setSizeToFrame(),this.setOriginFromFrame(),this.initPipeline(),this.initPostPipeline(!0)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},preUpdate:function(t,e){this.anims.update(t,e)},play:function(t,e){return this.anims.play(t,e)},playReverse:function(t,e){return this.anims.playReverse(t,e)},playAfterDelay:function(t,e){return this.anims.playAfterDelay(t,e)},playAfterRepeat:function(t,e){return this.anims.playAfterRepeat(t,e)},chain:function(t){return this.anims.chain(t)},stop:function(){return this.anims.stop()},stopAfterDelay:function(t){return this.anims.stopAfterDelay(t)},stopAfterRepeat:function(t){return this.anims.stopAfterRepeat(t)},stopOnFrame:function(t){return this.anims.stopOnFrame(t)},toJSON:function(){return r.ToJSON(this)},preDestroy:function(){this.anims.destroy(),this.anims=void 0}});t.exports=h},76552:t=>{t.exports=function(t,e,i,s){i.addToRenderList(e),t.batchSprite(e,e.frame,i,s)}},15567:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(25305),n=i(13059),r=i(44603),o=i(23568),a=i(68287);r.register("sprite",function(t,e){void 0===t&&(t={});var i=o(t,"key",null),r=o(t,"frame",null),h=new a(this.scene,0,0,i,r);return void 0!==e&&(t.add=e),s(this.scene,h,t),n(h,t),h})},46409:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(39429),n=i(68287);s.register("sprite",function(t,e,i,s){return this.displayList.add(new n(this.scene,t,e,i,s))})},92751:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s,n;i(29747),s=i(9409),n=i(76552),t.exports={renderWebGL:s,renderCanvas:n}},9409:t=>{t.exports=function(t,e,i,s){i.addToRenderList(e),e.pipeline.batchSprite(e,i,s)}},14220:t=>{t.exports=function(t,e,i){var s=t.canvas,n=t.context,r=t.style,o=[],a=0,h=i.length;r.maxLines>0&&r.maxLines<i.length&&(h=r.maxLines),r.syncFont(s,n);for(var l=t.letterSpacing,u=0;u<h;u++){var c=r.strokeThickness;if(0===l)c+=n.measureText(i[u]).width;else{for(var d=i[u],f=0;f<d.length;f++)c+=n.measureText(d[f]).width;d.length>1&&(c+=l*(d.length-1))}r.wordWrap&&(c-=n.measureText(" ").width),o[u]=Math.ceil(c),a=Math.max(a,o[u])}var p=e.fontSize+r.strokeThickness,g=p*h,m=t.lineSpacing;return h>1&&(g+=m*(h-1)),{width:a,height:g,lines:h,lineWidths:o,lineSpacing:m,lineHeight:p}}},79557:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(27919);t.exports=function(t){var e=s.create(this),i=e.getContext("2d",{willReadFrequently:!0});t.syncFont(e,i);var n=i.measureText(t.testString);if("actualBoundingBoxAscent"in n){var r=n.actualBoundingBoxAscent,o=n.actualBoundingBoxDescent;return s.remove(e),{ascent:r,descent:o,fontSize:r+o}}var a=Math.ceil(n.width*t.baselineX),h=a,l=2*h;h=h*t.baselineY|0,e.width=a,e.height=l,i.fillStyle="#f00",i.fillRect(0,0,a,l),i.font=t._font,i.textBaseline="alphabetic",i.fillStyle="#000",i.fillText(t.testString,0,h);var u={ascent:0,descent:0,fontSize:0},c=i.getImageData(0,0,a,l);if(!c)return u.ascent=h,u.descent=h+6,u.fontSize=u.ascent+u.descent,s.remove(e),u;var d,f,p=c.data,g=p.length,m=4*a,v=0,y=!1;for(d=0;d<h;d++){for(f=0;f<m;f+=4)if(255!==p[v+f]){y=!0;break}if(y)break;v+=m}for(u.ascent=h-d,v=g-m,y=!1,d=l;d>h;d--){for(f=0;f<m;f+=4)if(255!==p[v+f]){y=!0;break}if(y)break;v-=m}return u.descent=d-h,u.fontSize=u.ascent+u.descent,s.remove(e),u}},50171:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(40366),n=i(27919),r=i(83419),o=i(31401),a=i(95643),h=i(14220),l=i(35154),u=i(35846),c=i(61771),d=i(35762),f=i(45650),p=new r({Extends:a,Mixins:[o.Alpha,o.BlendMode,o.ComputedSize,o.Crop,o.Depth,o.Flip,o.GetBounds,o.Mask,o.Origin,o.Pipeline,o.PostPipeline,o.ScrollFactor,o.Tint,o.Transform,o.Visible,c],initialize:function(t,e,i,s,r){void 0===e&&(e=0),void 0===i&&(i=0),a.call(this,t,"Text"),this.renderer=t.sys.renderer,this.setPosition(e,i),this.setOrigin(0,0),this.initPipeline(),this.initPostPipeline(!0),this.canvas=n.create(this),this.context,this.style=new d(this,r),this.autoRound=!0,this.splitRegExp=/(?:\r\n|\r|\n)/,this._text=void 0,this.padding={left:0,right:0,top:0,bottom:0},this.width=1,this.height=1,this.lineSpacing=0,this.letterSpacing=0,0===this.style.resolution&&(this.style.resolution=1),this._crop=this.resetCropObject(),this._textureKey=f(),this.texture=t.sys.textures.addCanvas(this._textureKey,this.canvas),this.context=this.texture.context,this.frame=this.texture.get(),this.frame.source.resolution=this.style.resolution,this.renderer&&this.renderer.gl&&(this.renderer.deleteTexture(this.frame.source.glTexture),this.frame.source.glTexture=null),this.initRTL(),this.setText(s),r&&r.padding&&this.setPadding(r.padding),r&&r.lineSpacing&&this.setLineSpacing(r.lineSpacing),r&&r.letterSpacing&&this.setLetterSpacing(r.letterSpacing)},initRTL:function(){if(!this.style.rtl)return this.canvas.dir="ltr",void(this.context.direction="ltr");this.canvas.dir="rtl",this.context.direction="rtl",this.canvas.style.display="none",s(this.canvas,this.scene.sys.canvas),this.originX=1},runWordWrap:function(t){var e=this.style;if(e.wordWrapCallback){var i=e.wordWrapCallback.call(e.wordWrapCallbackScope,t,this);return Array.isArray(i)&&(i=i.join("\n")),i}return e.wordWrapWidth?e.wordWrapUseAdvanced?this.advancedWordWrap(t,this.context,this.style.wordWrapWidth):this.basicWordWrap(t,this.context,this.style.wordWrapWidth):t},advancedWordWrap:function(t,e,i){for(var s="",n=t.replace(/ +/gi," ").split(this.splitRegExp),r=n.length,o=0;o<r;o++){var a=n[o],h="",l=(a=a.replace(/^ *|\s*$/gi,"")).length*this.letterSpacing;if(e.measureText(a).width+l<i)s+=a+"\n";else{for(var u=i,c=a.split(" "),d=0;d<c.length;d++){var f=c[d],p=f+" ",g=p.length*this.letterSpacing,m=e.measureText(p).width+g;if(m>u){if(0===d){for(var v=p;v.length;){var y=(v=v.slice(0,-1)).length*this.letterSpacing;if((m=e.measureText(v).width+y)<=u)break}if(!v.length)throw new Error("wordWrapWidth < a single character");var x=f.substr(v.length);c[d]=x,h+=v}var T=c[d].length?d:d+1,w=c.slice(T).join(" ").replace(/[ \n]*$/gi,"");n.splice(o+1,0,w),r=n.length;break}h+=p,u-=m}s+=h.replace(/[ \n]*$/gi,"")+"\n"}}return s=s.replace(/[\s|\n]*$/gi,"")},basicWordWrap:function(t,e,i){for(var s="",n=t.split(this.splitRegExp),r=n.length-1,o=e.measureText(" ").width,a=0;a<=r;a++){for(var h=i,l=n[a].split(" "),u=l.length-1,c=0;c<=u;c++){var d=l[c],f=d.length*this.letterSpacing,p=e.measureText(d).width+f,g=p;c<u&&(g+=o),g>h&&c>0&&(s+="\n",h=i),s+=d,c<u?(s+=" ",h-=g):h-=p}a<r&&(s+="\n")}return s},getWrappedText:function(t){return void 0===t&&(t=this._text),this.style.syncFont(this.canvas,this.context),this.runWordWrap(t).split(this.splitRegExp)},setText:function(t){return t||0===t||(t=""),Array.isArray(t)&&(t=t.join("\n")),t!==this._text&&(this._text=t.toString(),this.updateText()),this},appendText:function(t,e){void 0===e&&(e=!0),t||0===t||(t=""),Array.isArray(t)&&(t=t.join("\n")),t=t.toString();var i=this._text.concat(e?"\n"+t:t);return i!==this._text&&(this._text=i,this.updateText()),this},setStyle:function(t){return this.style.setStyle(t)},setFont:function(t){return this.style.setFont(t)},setFontFamily:function(t){return this.style.setFontFamily(t)},setFontSize:function(t){return this.style.setFontSize(t)},setFontStyle:function(t){return this.style.setFontStyle(t)},setFixedSize:function(t,e){return this.style.setFixedSize(t,e)},setBackgroundColor:function(t){return this.style.setBackgroundColor(t)},setFill:function(t){return this.style.setFill(t)},setColor:function(t){return this.style.setColor(t)},setStroke:function(t,e){return this.style.setStroke(t,e)},setShadow:function(t,e,i,s,n,r){return this.style.setShadow(t,e,i,s,n,r)},setShadowOffset:function(t,e){return this.style.setShadowOffset(t,e)},setShadowColor:function(t){return this.style.setShadowColor(t)},setShadowBlur:function(t){return this.style.setShadowBlur(t)},setShadowStroke:function(t){return this.style.setShadowStroke(t)},setShadowFill:function(t){return this.style.setShadowFill(t)},setWordWrapWidth:function(t,e){return this.style.setWordWrapWidth(t,e)},setWordWrapCallback:function(t,e){return this.style.setWordWrapCallback(t,e)},setAlign:function(t){return this.style.setAlign(t)},setResolution:function(t){return this.style.setResolution(t)},setLineSpacing:function(t){return this.lineSpacing=t,this.updateText()},setLetterSpacing:function(t){return this.letterSpacing=t,this.updateText()},setPadding:function(t,e,i,s){if("object"==typeof t){var n=t,r=l(n,"x",null);null!==r?(t=r,i=r):(t=l(n,"left",0),i=l(n,"right",t));var o=l(n,"y",null);null!==o?(e=o,s=o):(e=l(n,"top",0),s=l(n,"bottom",e))}else void 0===t&&(t=0),void 0===e&&(e=t),void 0===i&&(i=t),void 0===s&&(s=e);return this.padding.left=t,this.padding.top=e,this.padding.right=i,this.padding.bottom=s,this.updateText()},setMaxLines:function(t){return this.style.setMaxLines(t)},setRTL:function(t){void 0===t&&(t=!0);var e=this.style;return e.rtl===t||(e.rtl=t,t?(this.canvas.dir="rtl",this.context.direction="rtl",this.canvas.style.display="none",s(this.canvas,this.scene.sys.canvas)):(this.canvas.dir="ltr",this.context.direction="ltr"),"left"===e.align?e.align="right":"right"===e.align&&(e.align="left")),this},updateText:function(){var t=this.canvas,e=this.context,i=this.style,s=i.resolution,n=i.metrics;i.syncFont(t,e);var r=this._text;(i.wordWrapWidth||i.wordWrapCallback)&&(r=this.runWordWrap(this._text));var o,a=r.split(this.splitRegExp),l=h(this,n,a),u=this.padding;0===i.fixedWidth?(this.width=l.width+u.left+u.right,o=l.width):(this.width=i.fixedWidth,(o=this.width-u.left-u.right)<l.width&&(o=l.width)),0===i.fixedHeight?this.height=l.height+u.top+u.bottom:this.height=i.fixedHeight;var c,d,f=this.width,p=this.height;this.updateDisplayOrigin(),f*=s,p*=s,f=Math.max(f,1),p=Math.max(p,1),t.width!==f||t.height!==p?(t.width=f,t.height=p,this.frame.setSize(f,p),i.syncFont(t,e),i.rtl&&(e.direction="rtl")):e.clearRect(0,0,f,p),e.save(),e.scale(s,s),i.backgroundColor&&(e.fillStyle=i.backgroundColor,e.fillRect(0,0,f,p)),i.syncStyle(t,e),e.translate(u.left,u.top);for(var g=0;g<l.lines;g++){if(c=i.strokeThickness/2,d=i.strokeThickness/2+g*l.lineHeight+n.ascent,g>0&&(d+=l.lineSpacing*g),i.rtl)c=f-c-u.left-u.right;else if("right"===i.align)c+=o-l.lineWidths[g];else if("center"===i.align)c+=(o-l.lineWidths[g])/2;else if("justify"===i.align&&l.lineWidths[g]/l.width>=.85){var m=l.width-l.lineWidths[g],v=e.measureText(" ").width,y=a[g].trim(),x=y.split(" ");m+=(a[g].length-y.length)*v;for(var T=Math.floor(m/v),w=0;T>0;)x[w]+=" ",w=(w+1)%(x.length-1||1),--T;a[g]=x.join(" ")}this.autoRound&&(c=Math.round(c),d=Math.round(d));var b=this.letterSpacing;if(i.strokeThickness&&0===b&&(i.syncShadow(e,i.shadowStroke),e.strokeText(a[g],c,d)),i.color)if(i.syncShadow(e,i.shadowFill),0!==b)for(var S=0,E=a[g].split(""),C=0;C<E.length;C++)i.strokeThickness&&(i.syncShadow(e,i.shadowStroke),e.strokeText(E[C],c+S,d),i.syncShadow(e,i.shadowFill)),e.fillText(E[C],c+S,d),S+=e.measureText(E[C]).width+b;else e.fillText(a[g],c,d)}e.restore(),this.renderer&&this.renderer.gl&&(this.frame.source.glTexture=this.renderer.canvasToTexture(t,this.frame.source.glTexture,!0));var _=this.input;return _&&!_.customHitArea&&(_.hitArea.width=this.width,_.hitArea.height=this.height),this},getTextMetrics:function(){return this.style.getTextMetrics()},text:{get:function(){return this._text},set:function(t){this.setText(t)}},toJSON:function(){var t=o.ToJSON(this),e={autoRound:this.autoRound,text:this._text,style:this.style.toJSON(),padding:{left:this.padding.left,right:this.padding.right,top:this.padding.top,bottom:this.padding.bottom}};return t.data=e,t},preDestroy:function(){u(this.canvas),n.remove(this.canvas);var t=this.texture;t&&t.destroy()}});t.exports=p},79724:t=>{t.exports=function(t,e,i,s){0!==e.width&&0!==e.height&&(i.addToRenderList(e),t.batchSprite(e,e.frame,i,s))}},71259:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(25305),n=i(44603),r=i(23568),o=i(50171);n.register("text",function(t,e){void 0===t&&(t={});var i=r(t,"text",""),n=r(t,"style",null),a=r(t,"padding",null);null!==a&&(n.padding=a);var h=new o(this.scene,0,0,i,n);return void 0!==e&&(t.add=e),s(this.scene,h,t),h.autoRound=r(t,"autoRound",!0),h.resolution=r(t,"resolution",1),h})},68005:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(50171);i(39429).register("text",function(t,e,i,n){return this.displayList.add(new s(this.scene,t,e,i,n))})},61771:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s,n;i(29747),s=i(34397),n=i(79724),t.exports={renderWebGL:s,renderCanvas:n}},35762:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(83419),n=i(23568),r=i(35154),o=i(79557),a={fontFamily:["fontFamily","Courier"],fontSize:["fontSize","16px"],fontStyle:["fontStyle",""],backgroundColor:["backgroundColor",null],color:["color","#fff"],stroke:["stroke","#fff"],strokeThickness:["strokeThickness",0],shadowOffsetX:["shadow.offsetX",0],shadowOffsetY:["shadow.offsetY",0],shadowColor:["shadow.color","#000"],shadowBlur:["shadow.blur",0],shadowStroke:["shadow.stroke",!1],shadowFill:["shadow.fill",!1],align:["align","left"],maxLines:["maxLines",0],fixedWidth:["fixedWidth",0],fixedHeight:["fixedHeight",0],resolution:["resolution",0],rtl:["rtl",!1],testString:["testString","|Mqgy"],baselineX:["baselineX",1.2],baselineY:["baselineY",1.4],wordWrapWidth:["wordWrap.width",null],wordWrapCallback:["wordWrap.callback",null],wordWrapCallbackScope:["wordWrap.callbackScope",null],wordWrapUseAdvanced:["wordWrap.useAdvancedWrap",!1]},h=new s({initialize:function(t,e){this.parent=t,this.fontFamily,this.fontSize,this.fontStyle,this.backgroundColor,this.color,this.stroke,this.strokeThickness,this.shadowOffsetX,this.shadowOffsetY,this.shadowColor,this.shadowBlur,this.shadowStroke,this.shadowFill,this.align,this.maxLines,this.fixedWidth,this.fixedHeight,this.resolution,this.rtl,this.testString,this.baselineX,this.baselineY,this.wordWrapWidth,this.wordWrapCallback,this.wordWrapCallbackScope,this.wordWrapUseAdvanced,this._font,this.setStyle(e,!1,!0)},setStyle:function(t,e,i){for(var s in void 0===e&&(e=!0),void 0===i&&(i=!1),a){var h=i?a[s][1]:this[s];"wordWrapCallback"===s||"wordWrapCallbackScope"===s?this[s]=r(t,a[s][0],h):t&&"fontSize"===s&&"number"==typeof t.fontSize?this[s]=t.fontSize.toString()+"px":this[s]=n(t,a[s][0],h)}var l=r(t,"font",null);null!==l&&this.setFont(l,!1),this._font=[this.fontStyle,this.fontSize,this.fontFamily].join(" ").trim();var u=r(t,"fill",null);null!==u&&(this.color=u);var c=r(t,"metrics",!1);return c?this.metrics={ascent:r(c,"ascent",0),descent:r(c,"descent",0),fontSize:r(c,"fontSize",0)}:!e&&this.metrics||(this.metrics=o(this)),e?this.parent.updateText():this.parent},syncFont:function(t,e){e.font=this._font},syncStyle:function(t,e){e.textBaseline="alphabetic",e.fillStyle=this.color,e.strokeStyle=this.stroke,e.lineWidth=this.strokeThickness,e.lineCap="round",e.lineJoin="round"},syncShadow:function(t,e){e?(t.shadowOffsetX=this.shadowOffsetX,t.shadowOffsetY=this.shadowOffsetY,t.shadowColor=this.shadowColor,t.shadowBlur=this.shadowBlur):(t.shadowOffsetX=0,t.shadowOffsetY=0,t.shadowColor=0,t.shadowBlur=0)},update:function(t){return t&&(this._font=[this.fontStyle,this.fontSize,this.fontFamily].join(" ").trim(),this.metrics=o(this)),this.parent.updateText()},setFont:function(t,e){void 0===e&&(e=!0);var i=t,s="",n="";if("string"!=typeof t)i=r(t,"fontFamily","Courier"),s=r(t,"fontSize","16px"),n=r(t,"fontStyle","");else{var o=t.split(" "),a=0;n=o.length>2?o[a++]:"",s=o[a++]||"16px",i=o[a++]||"Courier"}return i===this.fontFamily&&s===this.fontSize&&n===this.fontStyle||(this.fontFamily=i,this.fontSize=s,this.fontStyle=n,e&&this.update(!0)),this.parent},setFontFamily:function(t){return this.fontFamily!==t&&(this.fontFamily=t,this.update(!0)),this.parent},setFontStyle:function(t){return this.fontStyle!==t&&(this.fontStyle=t,this.update(!0)),this.parent},setFontSize:function(t){return"number"==typeof t&&(t=t.toString()+"px"),this.fontSize!==t&&(this.fontSize=t,this.update(!0)),this.parent},setTestString:function(t){return this.testString=t,this.update(!0)},setFixedSize:function(t,e){return this.fixedWidth=t,this.fixedHeight=e,t&&(this.parent.width=t),e&&(this.parent.height=e),this.update(!1)},setBackgroundColor:function(t){return this.backgroundColor=t,this.update(!1)},setFill:function(t){return this.color=t,this.update(!1)},setColor:function(t){return this.color=t,this.update(!1)},setResolution:function(t){return this.resolution=t,this.update(!1)},setStroke:function(t,e){return void 0===e&&(e=this.strokeThickness),void 0===t&&0!==this.strokeThickness?(this.strokeThickness=0,this.update(!0)):this.stroke===t&&this.strokeThickness===e||(this.stroke=t,this.strokeThickness=e,this.update(!0)),this.parent},setShadow:function(t,e,i,s,n,r){return void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i="#000"),void 0===s&&(s=0),void 0===n&&(n=!1),void 0===r&&(r=!0),this.shadowOffsetX=t,this.shadowOffsetY=e,this.shadowColor=i,this.shadowBlur=s,this.shadowStroke=n,this.shadowFill=r,this.update(!1)},setShadowOffset:function(t,e){return void 0===t&&(t=0),void 0===e&&(e=t),this.shadowOffsetX=t,this.shadowOffsetY=e,this.update(!1)},setShadowColor:function(t){return void 0===t&&(t="#000"),this.shadowColor=t,this.update(!1)},setShadowBlur:function(t){return void 0===t&&(t=0),this.shadowBlur=t,this.update(!1)},setShadowStroke:function(t){return this.shadowStroke=t,this.update(!1)},setShadowFill:function(t){return this.shadowFill=t,this.update(!1)},setWordWrapWidth:function(t,e){return void 0===e&&(e=!1),this.wordWrapWidth=t,this.wordWrapUseAdvanced=e,this.update(!1)},setWordWrapCallback:function(t,e){return void 0===e&&(e=null),this.wordWrapCallback=t,this.wordWrapCallbackScope=e,this.update(!1)},setAlign:function(t){return void 0===t&&(t="left"),this.align=t,this.update(!1)},setMaxLines:function(t){return void 0===t&&(t=0),this.maxLines=t,this.update(!1)},getTextMetrics:function(){var t=this.metrics;return{ascent:t.ascent,descent:t.descent,fontSize:t.fontSize}},toJSON:function(){var t={};for(var e in a)t[e]=this[e];return t.metrics=this.getTextMetrics(),t},destroy:function(){this.parent=void 0}});t.exports=h},34397:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(70554);t.exports=function(t,e,i,n){if(0!==e.width&&0!==e.height){i.addToRenderList(e);var r=e.frame,o=r.width,a=r.height,h=s.getTintAppendFloatAlpha,l=t.pipelines.set(e.pipeline,e),u=l.setTexture2D(r.glTexture,e);l.batchTexture(e,r.glTexture,o,a,e.x,e.y,o/e.style.resolution,a/e.style.resolution,e.scaleX,e.scaleY,e.rotation,e.flipX,e.flipY,e.scrollFactorX,e.scrollFactorY,e.displayOriginX,e.displayOriginY,0,0,o,a,h(e.tintTopLeft,i.alpha*e._alphaTL),h(e.tintTopRight,i.alpha*e._alphaTR),h(e.tintBottomLeft,i.alpha*e._alphaBL),h(e.tintBottomRight,i.alpha*e._alphaBR),e.tintFill,0,0,i,n,!1,u)}}},20839:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(27919),n=i(83419),r=i(31401),o=i(95643),a=i(98439),h=i(68703),l=i(56295),u=i(45650),c=i(26099),d=new n({Extends:o,Mixins:[r.Alpha,r.BlendMode,r.ComputedSize,r.Crop,r.Depth,r.Flip,r.GetBounds,r.Mask,r.Origin,r.Pipeline,r.PostPipeline,r.ScrollFactor,r.Tint,r.Transform,r.Visible,l],initialize:function(t,e,i,n,r,h,l){var d=t.sys.renderer;o.call(this,t,"TileSprite");var f=t.sys.textures.get(h),p=f.get(l);p.source.compressionAlgorithm&&(p=(f=t.sys.textures.get("__MISSING")).get()),"DynamicTexture"===f.type&&(p=(f=t.sys.textures.get("__MISSING")).get()),n&&r?(n=Math.floor(n),r=Math.floor(r)):(n=n||p.width,r=r||p.height),this._tilePosition=new c,this._tileScale=new c(1,1),this.dirty=!1,this.renderer=d,this.canvas=s.create(this,n,r),this.context=this.canvas.getContext("2d",{willReadFrequently:!1}),this.displayTexture=f,this.displayFrame=p,this._crop=this.resetCropObject(),this._textureKey=u(),this.texture=t.sys.textures.addCanvas(this._textureKey,this.canvas),this.frame=this.texture.get(),this.potWidth=a(p.width),this.potHeight=a(p.height),this.fillCanvas=s.create2D(this,this.potWidth,this.potHeight),this.fillContext=this.fillCanvas.getContext("2d",{willReadFrequently:!1}),this.fillPattern=null,this.setPosition(e,i),this.setSize(n,r),this.setFrame(l),this.setOriginFromFrame(),this.initPipeline(),this.initPostPipeline(!0)},setTexture:function(t,e){return this.displayTexture=this.scene.sys.textures.get(t),this.setFrame(e)},setFrame:function(t){var e=this.displayTexture.get(t);return this.potWidth=a(e.width),this.potHeight=a(e.height),this.canvas.width=0,e.cutWidth&&e.cutHeight?this.renderFlags|=8:this.renderFlags&=-9,this.displayFrame=e,this.dirty=!0,this.updateTileTexture(),this},setTilePosition:function(t,e){return void 0!==t&&(this.tilePositionX=t),void 0!==e&&(this.tilePositionY=e),this},setTileScale:function(t,e){return void 0===t&&(t=this.tileScaleX),void 0===e&&(e=t),this.tileScaleX=t,this.tileScaleY=e,this},updateTileTexture:function(){if(this.dirty&&this.renderer){var t=this.displayFrame;if(t.source.isRenderTexture||t.source.isGLTexture)this.dirty=!1;else{var e=this.fillContext,i=this.fillCanvas,s=this.potWidth,n=this.potHeight;this.renderer&&this.renderer.gl||(s=t.cutWidth,n=t.cutHeight),e.clearRect(0,0,s,n),i.width=s,i.height=n,e.drawImage(t.source.image,t.cutX,t.cutY,t.cutWidth,t.cutHeight,0,0,s,n),this.renderer&&this.renderer.gl?this.fillPattern=this.renderer.canvasToTexture(i,this.fillPattern):this.fillPattern=e.createPattern(i,"repeat"),this.updateCanvas(),this.dirty=!1}}},updateCanvas:function(){var t=this.canvas;if(t.width===this.width&&t.height===this.height||(t.width=this.width,t.height=this.height,this.frame.setSize(this.width,this.height),this.updateDisplayOrigin(),this.dirty=!0),!this.dirty||this.renderer&&this.renderer.gl)this.dirty=!1;else{var e=this.context;this.scene.sys.game.config.antialias||h.disable(e);var i=this._tileScale.x,s=this._tileScale.y,n=this._tilePosition.x,r=this._tilePosition.y;e.clearRect(0,0,this.width,this.height),e.save(),e.scale(i,s),e.translate(-n,-r),e.fillStyle=this.fillPattern,e.fillRect(n,r,this.width/i,this.height/s),e.restore(),this.dirty=!1}},preDestroy:function(){this.renderer&&this.renderer.gl&&this.renderer.deleteTexture(this.fillPattern),s.remove(this.canvas),s.remove(this.fillCanvas),this.fillPattern=null,this.fillContext=null,this.fillCanvas=null,this.displayTexture=null,this.displayFrame=null;var t=this.texture;t&&t.destroy(),this.renderer=null},tilePositionX:{get:function(){return this._tilePosition.x},set:function(t){this._tilePosition.x=t,this.dirty=!0}},tilePositionY:{get:function(){return this._tilePosition.y},set:function(t){this._tilePosition.y=t,this.dirty=!0}},tileScaleX:{get:function(){return this._tileScale.x},set:function(t){this._tileScale.x=t,this.dirty=!0}},tileScaleY:{get:function(){return this._tileScale.y},set:function(t){this._tileScale.y=t,this.dirty=!0}}});t.exports=d},46992:t=>{t.exports=function(t,e,i,s){e.updateCanvas(),i.addToRenderList(e),t.batchSprite(e,e.frame,i,s)}},14167:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(25305),n=i(44603),r=i(23568),o=i(20839);n.register("tileSprite",function(t,e){void 0===t&&(t={});var i=r(t,"x",0),n=r(t,"y",0),a=r(t,"width",512),h=r(t,"height",512),l=r(t,"key",""),u=r(t,"frame",""),c=new o(this.scene,i,n,a,h,l,u);return void 0!==e&&(t.add=e),s(this.scene,c,t),c})},91681:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(20839);i(39429).register("tileSprite",function(t,e,i,n,r,o){return this.displayList.add(new s(this.scene,t,e,i,n,r,o))})},56295:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s,n;i(29747),s=i(18553),n=i(46992),t.exports={renderWebGL:s,renderCanvas:n}},18553:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(70554);t.exports=function(t,e,i,n){e.updateCanvas();var r=e.width,o=e.height;if(0!==r&&0!==o){i.addToRenderList(e);var a=s.getTintAppendFloatAlpha,h=t.pipelines.set(e.pipeline,e),l=h.setTexture2D(e.fillPattern,e);h.batchTexture(e,e.fillPattern,e.displayFrame.width*e.tileScaleX,e.displayFrame.height*e.tileScaleY,e.x,e.y,r,o,e.scaleX,e.scaleY,e.rotation,e.flipX,e.flipY,e.scrollFactorX,e.scrollFactorY,e.originX*r,e.originY*o,0,0,r,o,a(e.tintTopLeft,i.alpha*e._alphaTL),a(e.tintTopRight,i.alpha*e._alphaTR),a(e.tintBottomLeft,i.alpha*e._alphaBL),a(e.tintBottomRight,i.alpha*e._alphaBR),e.tintFill,e.tilePositionX%e.displayFrame.width/e.displayFrame.width,e.tilePositionY%e.displayFrame.height/e.displayFrame.height,i,n,!1,l)}}},18471:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(45319),n=i(83419),r=i(31401),o=i(51708),a=i(8443),h=i(95643),l=i(36383),u=i(14463),c=i(45650),d=i(10247),f=new n({Extends:h,Mixins:[r.Alpha,r.BlendMode,r.ComputedSize,r.Depth,r.Flip,r.GetBounds,r.Mask,r.Origin,r.Pipeline,r.PostPipeline,r.ScrollFactor,r.TextureCrop,r.Tint,r.Transform,r.Visible,d],initialize:function(t,e,i,s){h.call(this,t,"Video"),this.video,this.videoTexture,this.videoTextureSource,this.snapshotTexture,this.flipY=!1,this._key=c(),this.touchLocked=!1,this.playWhenUnlocked=!1,this.frameReady=!1,this.isStalled=!1,this.failedPlayAttempts=0,this.metadata,this.retry=0,this.retryInterval=500,this._systemMuted=!1,this._codeMuted=!1,this._systemPaused=!1,this._codePaused=!1,this._callbacks={ended:this.completeHandler.bind(this),legacy:this.legacyPlayHandler.bind(this),playing:this.playingHandler.bind(this),seeked:this.seekedHandler.bind(this),seeking:this.seekingHandler.bind(this),stalled:this.stalledHandler.bind(this),suspend:this.stalledHandler.bind(this),waiting:this.stalledHandler.bind(this)},this._loadCallbackHandler=this.loadErrorHandler.bind(this),this._metadataCallbackHandler=this.metadataHandler.bind(this),this._crop=this.resetCropObject(),this.markers={},this._markerIn=0,this._markerOut=0,this._playingMarker=!1,this._lastUpdate=0,this.cacheKey="",this.isSeeking=!1,this._playCalled=!1,this._getFrame=!1,this._rfvCallbackId=0;var n=t.sys.game;this._device=n.device.video,this.setPosition(e,i),this.setSize(256,256),this.initPipeline(),this.initPostPipeline(!0),n.events.on(a.PAUSE,this.globalPause,this),n.events.on(a.RESUME,this.globalResume,this);var r=t.sys.sound;r&&r.on(u.GLOBAL_MUTE,this.globalMute,this),s&&this.load(s)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},load:function(t){var e=this.scene.sys.cache.video.get(t);return e&&(this.cacheKey=t,this.loadHandler(e.url,e.noAudio,e.crossOrigin)),this},changeSource:function(t,e,i,s,n){void 0===e&&(e=!0),void 0===i&&(i=!1),this.cacheKey!==t&&(this.load(t),e&&this.play(i,s,n))},getVideoKey:function(){return this.cacheKey},loadURL:function(t,e,i){void 0===e&&(e=!1);var s=this._device.getVideoURL(t);return s&&(this.cacheKey="",this.loadHandler(s.url,e,i)),this},loadMediaStream:function(t,e,i){return this.loadHandler(null,e,i,t)},loadHandler:function(t,e,i,s){e||(e=!1);var n=this.video;if(n?(this.removeLoadEventHandlers(),this.stop()):((n=document.createElement("video")).controls=!1,n.setAttribute("playsinline","playsinline"),n.setAttribute("preload","auto"),n.setAttribute("disablePictureInPicture","true")),e?(n.muted=!0,n.defaultMuted=!0,n.setAttribute("autoplay","autoplay")):(n.muted=!1,n.defaultMuted=!1,n.removeAttribute("autoplay")),i?n.setAttribute("crossorigin",i):n.removeAttribute("crossorigin"),s)if("srcObject"in n)try{n.srcObject=s}catch(o){if("TypeError"!==o.name)throw o;n.src=URL.createObjectURL(s)}else n.src=URL.createObjectURL(s);else n.src=t;this.retry=0,this.video=n,this._playCalled=!1,n.load(),this.addLoadEventHandlers();var r=this.scene.sys.textures.get(this._key);return this.setTexture(r),this},requestVideoFrame:function(t,e){var i=this.video;if(i){var s=e.width,n=e.height,r=this.videoTexture,a=this.videoTextureSource,h=!r||a.source!==i;h?(this._codePaused=i.paused,this._codeMuted=i.muted,r?(a.source=i,a.width=s,a.height=n,r.get().setSize(s,n)):((r=this.scene.sys.textures.create(this._key,i,s,n)).add("__BASE",0,0,0,s,n),this.setTexture(r),this.videoTexture=r,this.videoTextureSource=r.source[0],this.videoTextureSource.setFlipY(this.flipY),this.emit(o.VIDEO_TEXTURE,this,r)),this.setSizeToFrame(),this.updateDisplayOrigin()):a.update(),this.isStalled=!1,this.metadata=e;var l=e.mediaTime;h&&(this._lastUpdate=l,this.emit(o.VIDEO_CREATED,this,s,n),this.frameReady||(this.frameReady=!0,this.emit(o.VIDEO_PLAY,this))),this._playingMarker?l>=this._markerOut&&(i.loop?(i.currentTime=this._markerIn,this.emit(o.VIDEO_LOOP,this)):(this.stop(!1),this.emit(o.VIDEO_COMPLETE,this))):l<this._lastUpdate&&this.emit(o.VIDEO_LOOP,this),this._lastUpdate=l,this._getFrame?(this.removeEventHandlers(),i.pause(),this._getFrame=!1):this._rfvCallbackId=this.video.requestVideoFrameCallback(this.requestVideoFrame.bind(this))}},play:function(t,e,i){void 0===e&&(e=-1),void 0===i&&(i=l.MAX_SAFE_INTEGER);var s=this.video;return!s||this.isPlaying()||(void 0===t&&(t=s.loop),s.loop=t,this._markerIn=e,this._markerOut=i,this._playingMarker=e>-1&&i>e&&i<l.MAX_SAFE_INTEGER,this._playCalled||(this._getFrame=!1,this._rfvCallbackId=s.requestVideoFrameCallback(this.requestVideoFrame.bind(this)),this._playCalled=!0,this.createPlayPromise())),this},getFirstFrame:function(){var t=this.video;return!t||this.isPlaying()||this._playCalled||(this._getFrame=!0,this._rfvCallbackId=t.requestVideoFrameCallback(this.requestVideoFrame.bind(this)),this.createPlayPromise()),this},addLoadEventHandlers:function(){var t=this.video;t&&(t.addEventListener("error",this._loadCallbackHandler),t.addEventListener("abort",this._loadCallbackHandler),t.addEventListener("loadedmetadata",this._metadataCallbackHandler))},removeLoadEventHandlers:function(){var t=this.video;t&&(t.removeEventListener("error",this._loadCallbackHandler),t.removeEventListener("abort",this._loadCallbackHandler))},addEventHandlers:function(){var t=this.video;if(t){var e=this._callbacks;for(var i in e)t.addEventListener(i,e[i])}},removeEventHandlers:function(){var t=this.video;if(t){var e=this._callbacks;for(var i in e)t.removeEventListener(i,e[i])}},createPlayPromise:function(t){void 0===t&&(t=!0);var e=this.video,i=e.play();if(void 0!==i){var s=this.playSuccess.bind(this),n=this.playError.bind(this);if(!t){var r=this;n=function(){r.failedPlayAttempts++}}i.then(s).catch(n)}else e.addEventListener("playing",this._callbacks.legacy),t||this.failedPlayAttempts++},addMarker:function(t,e,i){return!isNaN(e)&&e>=0&&!isNaN(i)&&i>e&&(this.markers[t]=[e,i]),this},playMarker:function(t,e){var i=this.markers[t];return i&&this.play(e,i[0],i[1]),this},removeMarker:function(t){return delete this.markers[t],this},snapshot:function(t,e){return void 0===t&&(t=this.width),void 0===e&&(e=this.height),this.snapshotArea(0,0,this.width,this.height,t,e)},snapshotArea:function(t,e,i,s,n,r){void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=this.width),void 0===s&&(s=this.height),void 0===n&&(n=i),void 0===r&&(r=s);var o=this.video,a=this.snapshotTexture;return a?(a.setSize(n,r),o&&a.context.drawImage(o,t,e,i,s,0,0,n,r)):(a=this.scene.sys.textures.createCanvas(c(),n,r),this.snapshotTexture=a,o&&a.context.drawImage(o,t,e,i,s,0,0,n,r)),a.update()},saveSnapshotTexture:function(t){return this.snapshotTexture?this.scene.sys.textures.renameTexture(this.snapshotTexture.key,t):this.snapshotTexture=this.scene.sys.textures.createCanvas(t,this.width,this.height),this.snapshotTexture},playSuccess:function(){if(this._playCalled){this.addEventHandlers(),this._codePaused=!1,this.touchLocked&&(this.touchLocked=!1,this.emit(o.VIDEO_UNLOCKED,this));var t=this.scene.sys.sound;t&&t.mute&&this.setMute(!0),this._markerIn>-1&&(this.video.currentTime=this._markerIn)}},playError:function(t){var e=t.name;"NotAllowedError"===e?(this.touchLocked=!0,this.playWhenUnlocked=!0,this.failedPlayAttempts=1,this.emit(o.VIDEO_LOCKED,this)):"NotSupportedError"===e?(this.stop(!1),this.emit(o.VIDEO_UNSUPPORTED,this,t)):(this.stop(!1),this.emit(o.VIDEO_ERROR,this,t))},legacyPlayHandler:function(){var t=this.video;t&&(this.playSuccess(),t.removeEventListener("playing",this._callbacks.legacy))},playingHandler:function(){this.isStalled=!1,this.emit(o.VIDEO_PLAYING,this)},loadErrorHandler:function(t){this.stop(!1),this.emit(o.VIDEO_ERROR,this,t)},metadataHandler:function(t){this.emit(o.VIDEO_METADATA,this,t)},setSizeToFrame:function(t){t||(t=this.frame),this.width=t.realWidth,this.height=t.realHeight,1!==this.scaleX&&(this.scaleX=this.displayWidth/this.width),1!==this.scaleY&&(this.scaleY=this.displayHeight/this.height);var e=this.input;return e&&!e.customHitArea&&(e.hitArea.width=this.width,e.hitArea.height=this.height),this},stalledHandler:function(t){this.isStalled=!0,this.emit(o.VIDEO_STALLED,this,t)},completeHandler:function(){this._playCalled=!1,this.emit(o.VIDEO_COMPLETE,this)},preUpdate:function(t,e){this.video&&this._playCalled&&this.touchLocked&&this.playWhenUnlocked&&(this.retry+=e,this.retry>=this.retryInterval&&(this.createPlayPromise(!1),this.retry=0))},seekTo:function(t){var e=this.video;if(e){var i=e.duration;if(i!==1/0&&!isNaN(i)){var s=i*t;this.setCurrentTime(s)}}return this},getCurrentTime:function(){return this.video?this.video.currentTime:0},setCurrentTime:function(t){var e=this.video;if(e){if("string"==typeof t){var i=t[0],s=parseFloat(t.substr(1));"+"===i?t=e.currentTime+s:"-"===i&&(t=e.currentTime-s)}e.currentTime=t}return this},seekingHandler:function(){this.isSeeking=!0,this.emit(o.VIDEO_SEEKING,this)},seekedHandler:function(){this.isSeeking=!1,this.emit(o.VIDEO_SEEKED,this)},getProgress:function(){var t=this.video;if(t){var e=t.duration;if(e!==1/0&&!isNaN(e))return t.currentTime/e}return-1},getDuration:function(){return this.video?this.video.duration:0},setMute:function(t){void 0===t&&(t=!0),this._codeMuted=t;var e=this.video;return e&&(e.muted=!!this._systemMuted||t),this},isMuted:function(){return this._codeMuted},globalMute:function(t,e){this._systemMuted=e;var i=this.video;i&&(i.muted=!!this._codeMuted||e)},globalPause:function(){this._systemPaused=!0,this.video&&!this.video.ended&&(this.removeEventHandlers(),this.video.pause())},globalResume:function(){this._systemPaused=!1,!this.video||this._codePaused||this.video.ended||this.createPlayPromise()},setPaused:function(t){void 0===t&&(t=!0);var e=this.video;return this._codePaused=t,e&&!e.ended&&(t?e.paused||(this.removeEventHandlers(),e.pause()):t||(this._playCalled?e.paused&&!this._systemPaused&&this.createPlayPromise():this.play())),this},pause:function(){return this.setPaused(!0)},resume:function(){return this.setPaused(!1)},getVolume:function(){return this.video?this.video.volume:1},setVolume:function(t){return void 0===t&&(t=1),this.video&&(this.video.volume=s(t,0,1)),this},getPlaybackRate:function(){return this.video?this.video.playbackRate:1},setPlaybackRate:function(t){return this.video&&(this.video.playbackRate=t),this},getLoop:function(){return!!this.video&&this.video.loop},setLoop:function(t){return void 0===t&&(t=!0),this.video&&(this.video.loop=t),this},isPlaying:function(){return!!this.video&&!(this.video.paused||this.video.ended)},isPaused:function(){return this.video&&this._playCalled&&this.video.paused||this._codePaused||this._systemPaused},saveTexture:function(t,e){return void 0===e&&(e=!1),this.videoTexture&&(this.scene.sys.textures.renameTexture(this._key,t),this.videoTextureSource.setFlipY(e)),this._key=t,this.flipY=e,!!this.videoTexture},stop:function(t){void 0===t&&(t=!0);var e=this.video;return e&&(this.removeEventHandlers(),e.cancelVideoFrameCallback(this._rfvCallbackId),e.pause()),this.retry=0,this._playCalled=!1,t&&this.emit(o.VIDEO_STOP,this),this},removeVideoElement:function(){var t=this.video;if(t){for(t.parentNode&&t.parentNode.removeChild(t);t.hasChildNodes();)t.removeChild(t.firstChild);t.removeAttribute("autoplay"),t.removeAttribute("src"),this.video=null}},preDestroy:function(){this.stop(!1),this.removeLoadEventHandlers(),this.removeVideoElement();var t=this.scene.sys.game.events;t.off(a.PAUSE,this.globalPause,this),t.off(a.RESUME,this.globalResume,this);var e=this.scene.sys.sound;e&&e.off(u.GLOBAL_MUTE,this.globalMute,this)}});t.exports=f},58352:t=>{t.exports=function(t,e,i,s){e.videoTexture&&(i.addToRenderList(e),t.batchSprite(e,e.frame,i,s))}},11511:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(25305),n=i(44603),r=i(23568),o=i(18471);n.register("video",function(t,e){void 0===t&&(t={});var i=r(t,"key",null),n=new o(this.scene,0,0,i);return void 0!==e&&(t.add=e),s(this.scene,n,t),n})},89025:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(18471);i(39429).register("video",function(t,e,i){return this.displayList.add(new s(this.scene,t,e,i))})},10247:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s,n;i(29747),s=i(29849),n=i(58352),t.exports={renderWebGL:s,renderCanvas:n}},29849:t=>{t.exports=function(t,e,i,s){e.videoTexture&&(i.addToRenderList(e),e.pipeline.batchSprite(e,i,s))}},41481:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(10312),n=i(96503),r=i(87902),o=i(83419),a=i(31401),h=i(95643),l=i(87841),u=i(37303),c=new o({Extends:h,Mixins:[a.Depth,a.GetBounds,a.Origin,a.Transform,a.ScrollFactor,a.Visible],initialize:function(t,e,i,n,r){void 0===n&&(n=1),void 0===r&&(r=n),h.call(this,t,"Zone"),this.setPosition(e,i),this.width=n,this.height=r,this.blendMode=s.NORMAL,this.updateDisplayOrigin()},displayWidth:{get:function(){return this.scaleX*this.width},set:function(t){this.scaleX=t/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(t){this.scaleY=t/this.height}},setSize:function(t,e,i){void 0===i&&(i=!0),this.width=t,this.height=e,this.updateDisplayOrigin();var s=this.input;return i&&s&&!s.customHitArea&&(s.hitArea.width=t,s.hitArea.height=e),this},setDisplaySize:function(t,e){return this.displayWidth=t,this.displayHeight=e,this},setCircleDropZone:function(t){return this.setDropZone(new n(0,0,t),r)},setRectangleDropZone:function(t,e){return this.setDropZone(new l(0,0,t,e),u)},setDropZone:function(t,e){return this.input||this.setInteractive(t,e,!0),this},setAlpha:function(){},setBlendMode:function(){},renderCanvas:function(t,e,i){i.addToRenderList(e)},renderWebGL:function(t,e,i){i.addToRenderList(e)}});t.exports=c},95261:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(44603),n=i(23568),r=i(41481);s.register("zone",function(t){var e=n(t,"x",0),i=n(t,"y",0),s=n(t,"width",1),o=n(t,"height",s);return new r(this.scene,e,i,s,o)})},84175:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(41481);i(39429).register("zone",function(t,e,i,n){return this.displayList.add(new s(this.scene,t,e,i,n))})},95166:t=>{t.exports=function(t){return t.radius>0?Math.PI*t.radius*t.radius:0}},96503:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(83419),n=i(87902),r=i(26241),o=i(79124),a=i(23777),h=i(28176),l=new s({initialize:function(t,e,i){void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=0),this.type=a.CIRCLE,this.x=t,this.y=e,this._radius=i,this._diameter=2*i},contains:function(t,e){return n(this,t,e)},getPoint:function(t,e){return r(this,t,e)},getPoints:function(t,e,i){return o(this,t,e,i)},getRandomPoint:function(t){return h(this,t)},setTo:function(t,e,i){return this.x=t,this.y=e,this._radius=i,this._diameter=2*i,this},setEmpty:function(){return this._radius=0,this._diameter=0,this},setPosition:function(t,e){return void 0===e&&(e=t),this.x=t,this.y=e,this},isEmpty:function(){return this._radius<=0},radius:{get:function(){return this._radius},set:function(t){this._radius=t,this._diameter=2*t}},diameter:{get:function(){return this._diameter},set:function(t){this._diameter=t,this._radius=.5*t}},left:{get:function(){return this.x-this._radius},set:function(t){this.x=t+this._radius}},right:{get:function(){return this.x+this._radius},set:function(t){this.x=t-this._radius}},top:{get:function(){return this.y-this._radius},set:function(t){this.y=t+this._radius}},bottom:{get:function(){return this.y+this._radius},set:function(t){this.y=t-this._radius}}});t.exports=l},71562:t=>{t.exports=function(t){return Math.PI*t.radius*2}},92110:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(2141);t.exports=function(t,e,i){return void 0===i&&(i=new s),i.x=t.x+t.radius*Math.cos(e),i.y=t.y+t.radius*Math.sin(e),i}},42250:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(96503);t.exports=function(t){return new s(t.x,t.y,t.radius)}},87902:t=>{t.exports=function(t,e,i){return t.radius>0&&e>=t.left&&e<=t.right&&i>=t.top&&i<=t.bottom&&(t.x-e)*(t.x-e)+(t.y-i)*(t.y-i)<=t.radius*t.radius}},5698:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(87902);t.exports=function(t,e){return s(t,e.x,e.y)}},70588:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(87902);t.exports=function(t,e){return s(t,e.x,e.y)&&s(t,e.right,e.y)&&s(t,e.x,e.bottom)&&s(t,e.right,e.bottom)}},26394:t=>{t.exports=function(t,e){return e.setTo(t.x,t.y,t.radius)}},76278:t=>{t.exports=function(t,e){return t.x===e.x&&t.y===e.y&&t.radius===e.radius}},2074:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(87841);t.exports=function(t,e){return void 0===e&&(e=new s),e.x=t.left,e.y=t.top,e.width=t.diameter,e.height=t.diameter,e}},26241:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(92110),n=i(62945),r=i(36383),o=i(2141);t.exports=function(t,e,i){void 0===i&&(i=new o);var a=n(e,0,r.PI2);return s(t,a,i)}},79124:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(71562),n=i(92110),r=i(62945),o=i(36383);t.exports=function(t,e,i,a){void 0===a&&(a=[]),!e&&i>0&&(e=s(t)/i);for(var h=0;h<e;h++){var l=r(h/e,0,o.PI2);a.push(n(t,l))}return a}},50884:t=>{t.exports=function(t,e,i){return t.x+=e,t.y+=i,t}},39212:t=>{t.exports=function(t,e){return t.x+=e.x,t.y+=e.y,t}},28176:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(2141);t.exports=function(t,e){void 0===e&&(e=new s);var i=2*Math.PI*Math.random(),n=Math.random()+Math.random(),r=n>1?2-n:n,o=r*Math.cos(i),a=r*Math.sin(i);return e.x=t.x+o*t.radius,e.y=t.y+a*t.radius,e}},88911:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(96503);s.Area=i(95166),s.Circumference=i(71562),s.CircumferencePoint=i(92110),s.Clone=i(42250),s.Contains=i(87902),s.ContainsPoint=i(5698),s.ContainsRect=i(70588),s.CopyFrom=i(26394),s.Equals=i(76278),s.GetBounds=i(2074),s.GetPoint=i(26241),s.GetPoints=i(79124),s.Offset=i(50884),s.OffsetPoint=i(39212),s.Random=i(28176),t.exports=s},23777:t=>{t.exports={CIRCLE:0,ELLIPSE:1,LINE:2,POINT:3,POLYGON:4,RECTANGLE:5,TRIANGLE:6}},78874:t=>{t.exports=function(t){return t.isEmpty()?0:t.getMajorRadius()*t.getMinorRadius()*Math.PI}},92990:t=>{t.exports=function(t){var e=t.width/2,i=t.height/2,s=Math.pow(e-i,2)/Math.pow(e+i,2);return Math.PI*(e+i)*(1+3*s/(10+Math.sqrt(4-3*s)))}},79522:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(2141);t.exports=function(t,e,i){void 0===i&&(i=new s);var n=t.width/2,r=t.height/2;return i.x=t.x+n*Math.cos(e),i.y=t.y+r*Math.sin(e),i}},58102:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(8497);t.exports=function(t){return new s(t.x,t.y,t.width,t.height)}},81154:t=>{t.exports=function(t,e,i){if(t.width<=0||t.height<=0)return!1;var s=(e-t.x)/t.width,n=(i-t.y)/t.height;return(s*=s)+(n*=n)<.25}},46662:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(81154);t.exports=function(t,e){return s(t,e.x,e.y)}},1632:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(81154);t.exports=function(t,e){return s(t,e.x,e.y)&&s(t,e.right,e.y)&&s(t,e.x,e.bottom)&&s(t,e.right,e.bottom)}},65534:t=>{t.exports=function(t,e){return e.setTo(t.x,t.y,t.width,t.height)}},8497:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(83419),n=i(81154),r=i(90549),o=i(48320),a=i(23777),h=i(24820),l=new s({initialize:function(t,e,i,s){void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=0),void 0===s&&(s=0),this.type=a.ELLIPSE,this.x=t,this.y=e,this.width=i,this.height=s},contains:function(t,e){return n(this,t,e)},getPoint:function(t,e){return r(this,t,e)},getPoints:function(t,e,i){return o(this,t,e,i)},getRandomPoint:function(t){return h(this,t)},setTo:function(t,e,i,s){return this.x=t,this.y=e,this.width=i,this.height=s,this},setEmpty:function(){return this.width=0,this.height=0,this},setPosition:function(t,e){return void 0===e&&(e=t),this.x=t,this.y=e,this},setSize:function(t,e){return void 0===e&&(e=t),this.width=t,this.height=e,this},isEmpty:function(){return this.width<=0||this.height<=0},getMinorRadius:function(){return Math.min(this.width,this.height)/2},getMajorRadius:function(){return Math.max(this.width,this.height)/2},left:{get:function(){return this.x-this.width/2},set:function(t){this.x=t+this.width/2}},right:{get:function(){return this.x+this.width/2},set:function(t){this.x=t-this.width/2}},top:{get:function(){return this.y-this.height/2},set:function(t){this.y=t+this.height/2}},bottom:{get:function(){return this.y+this.height/2},set:function(t){this.y=t-this.height/2}}});t.exports=l},36146:t=>{t.exports=function(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}},23694:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(87841);t.exports=function(t,e){return void 0===e&&(e=new s),e.x=t.left,e.y=t.top,e.width=t.width,e.height=t.height,e}},90549:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(79522),n=i(62945),r=i(36383),o=i(2141);t.exports=function(t,e,i){void 0===i&&(i=new o);var a=n(e,0,r.PI2);return s(t,a,i)}},48320:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(92990),n=i(79522),r=i(62945),o=i(36383);t.exports=function(t,e,i,a){void 0===a&&(a=[]),!e&&i>0&&(e=s(t)/i);for(var h=0;h<e;h++){var l=r(h/e,0,o.PI2);a.push(n(t,l))}return a}},73424:t=>{t.exports=function(t,e,i){return t.x+=e,t.y+=i,t}},44808:t=>{t.exports=function(t,e){return t.x+=e.x,t.y+=e.y,t}},24820:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(2141);t.exports=function(t,e){void 0===e&&(e=new s);var i=Math.random()*Math.PI*2,n=Math.sqrt(Math.random());return e.x=t.x+n*Math.cos(i)*t.width/2,e.y=t.y+n*Math.sin(i)*t.height/2,e}},49203:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(8497);s.Area=i(78874),s.Circumference=i(92990),s.CircumferencePoint=i(79522),s.Clone=i(58102),s.Contains=i(81154),s.ContainsPoint=i(46662),s.ContainsRect=i(1632),s.CopyFrom=i(65534),s.Equals=i(36146),s.GetBounds=i(23694),s.GetPoint=i(90549),s.GetPoints=i(48320),s.Offset=i(73424),s.OffsetPoint=i(44808),s.Random=i(24820),t.exports=s},55738:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(23777),n=i(79291),r={Circle:i(88911),Ellipse:i(49203),Intersects:i(91865),Line:i(2529),Mesh:i(73090),Point:i(43711),Polygon:i(58423),Rectangle:i(93232),Triangle:i(84435)};r=n(!1,r,s),t.exports=r},2044:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(20339);t.exports=function(t,e){return s(t.x,t.y,e.x,e.y)<=t.radius+e.radius}},81491:t=>{t.exports=function(t,e){var i=e.width/2,s=e.height/2,n=Math.abs(t.x-e.x-i),r=Math.abs(t.y-e.y-s),o=i+t.radius,a=s+t.radius;if(n>o||r>a)return!1;if(n<=i||r<=s)return!0;var h=n-i,l=r-s;return h*h+l*l<=t.radius*t.radius}},63376:(t,e,i)=>{
/**
                     * @author       Florian Vazelle
                     * @author       Geoffrey Glaive
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(2141),n=i(2044);t.exports=function(t,e,i){if(void 0===i&&(i=[]),n(t,e)){var r,o,a,h,l=t.x,u=t.y,c=t.radius,d=e.x,f=e.y,p=e.radius;if(u===f)0==(a=(o=-2*f)*o-4*(r=1)*(d*d+(h=(p*p-c*c-d*d+l*l)/(2*(l-d)))*h-2*d*h+f*f-p*p))?i.push(new s(h,-o/(2*r))):a>0&&(i.push(new s(h,(-o+Math.sqrt(a))/(2*r))),i.push(new s(h,(-o-Math.sqrt(a))/(2*r))));else{var g=(l-d)/(u-f),m=(p*p-c*c-d*d+l*l-f*f+u*u)/(2*(u-f));0==(a=(o=2*u*g-2*m*g-2*l)*o-4*(r=g*g+1)*(l*l+u*u+m*m-c*c-2*u*m))?(h=-o/(2*r),i.push(new s(h,m-h*g))):a>0&&(h=(-o+Math.sqrt(a))/(2*r),i.push(new s(h,m-h*g)),h=(-o-Math.sqrt(a))/(2*r),i.push(new s(h,m-h*g)))}}return i}},97439:(t,e,i)=>{
/**
                     * @author       Florian Vazelle
                     * @author       Geoffrey Glaive
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(4042),n=i(81491);t.exports=function(t,e,i){if(void 0===i&&(i=[]),n(t,e)){var r=e.getLineA(),o=e.getLineB(),a=e.getLineC(),h=e.getLineD();s(r,t,i),s(o,t,i),s(a,t,i),s(h,t,i)}return i}},4042:(t,e,i)=>{
/**
                     * @author       Florian Vazelle
                     * @author       Geoffrey Glaive
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(2141),n=i(80462);t.exports=function(t,e,i){if(void 0===i&&(i=[]),n(t,e)){var r,o,a=t.x1,h=t.y1,l=t.x2,u=t.y2,c=e.x,d=e.y,f=e.radius,p=l-a,g=u-h,m=a-c,v=h-d,y=p*p+g*g,x=2*(p*m+g*v),T=x*x-4*y*(m*m+v*v-f*f);if(0===T){var w=-x/(2*y);r=a+w*p,o=h+w*g,w>=0&&w<=1&&i.push(new s(r,o))}else if(T>0){var b=(-x-Math.sqrt(T))/(2*y);r=a+b*p,o=h+b*g,b>=0&&b<=1&&i.push(new s(r,o));var S=(-x+Math.sqrt(T))/(2*y);r=a+S*p,o=h+S*g,S>=0&&S<=1&&i.push(new s(r,o))}}return i}},36100:(t,e,i)=>{
/**
                     * @author       Richard Davey
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(25836);t.exports=function(t,e,i,n){void 0===i&&(i=!1);var r,o,a,h=t.x1,l=t.y1,u=t.x2,c=t.y2,d=e.x1,f=e.y1,p=u-h,g=c-l,m=e.x2-d,v=e.y2-f,y=p*v-g*m;if(0===y)return null;if(i){if(r=(p*(f-l)+g*(h-d))/(m*g-v*p),0!==p)o=(d+m*r-h)/p;else{if(0===g)return null;o=(f+v*r-l)/g}if(o<0||r<0||r>1)return null;a=o}else{if(o=((l-f)*p-(h-d)*g)/y,(r=((d-h)*v-(f-l)*m)/y)<0||r>1||o<0||o>1)return null;a=r}return void 0===n&&(n=new s),n.set(h+p*a,l+g*a,a)}},3073:(t,e,i)=>{
/**
                     * @author       Richard Davey
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(36100),n=i(23031),r=i(25836),o=new n,a=new r;t.exports=function(t,e,i,n){void 0===i&&(i=!1),void 0===n&&(n=new r);var h=!1;n.set(),a.set();for(var l=e[e.length-1],u=0;u<e.length;u++){var c=e[u];o.setTo(l.x,l.y,c.x,c.y),l=c,s(t,o,i,a)&&(!h||a.z<n.z)&&(n.copy(a),h=!0)}return h?n:null}},56362:(t,e,i)=>{
/**
                     * @author       Richard Davey
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(25836),n=i(61369),r=i(3073),o=new s;t.exports=function(t,e,i,s){void 0===s&&(s=new n),Array.isArray(e)||(e=[e]);var a=!1;s.set(),o.set();for(var h=0;h<e.length;h++)r(t,e[h].points,i,o)&&(!a||o.z<s.z)&&(s.set(o.x,o.y,o.z,h),a=!0);return a?s:null}},60646:(t,e,i)=>{
/**
                     * @author       Florian Vazelle
                     * @author       Geoffrey Glaive
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(2141),n=i(76112),r=i(92773);t.exports=function(t,e,i){if(void 0===i&&(i=[]),r(t,e))for(var o=e.getLineA(),a=e.getLineB(),h=e.getLineC(),l=e.getLineD(),u=[new s,new s,new s,new s],c=[n(o,t,u[0]),n(a,t,u[1]),n(h,t,u[2]),n(l,t,u[3])],d=0;d<4;d++)c[d]&&i.push(u[d]);return i}},71147:(t,e,i)=>{
/**
                     * @author       Richard Davey
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(61369),n=i(56362),r=new(i(23031));function o(t,e,i,o,a){var h=Math.cos(t),l=Math.sin(t);r.setTo(e,i,e+h,i+l);var u=n(r,o,!0);u&&a.push(new s(u.x,u.y,t,u.w))}function a(t,e){return t.z-e.z}t.exports=function(t,e,i){Array.isArray(i)||(i=[i]);for(var s=[],n=[],r=0;r<i.length;r++)for(var h=i[r].points,l=0;l<h.length;l++){var u=Math.atan2(h[l].y-e,h[l].x-t);-1===n.indexOf(u)&&(o(u,t,e,i,s),o(u-1e-5,t,e,i,s),o(u+1e-5,t,e,i,s),n.push(u))}return s.sort(a)}},68389:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(87841),n=i(59996);t.exports=function(t,e,i){return void 0===i&&(i=new s),n(t,e)&&(i.x=Math.max(t.x,e.x),i.y=Math.max(t.y,e.y),i.width=Math.min(t.right,e.right)-i.x,i.height=Math.min(t.bottom,e.bottom)-i.y),i}},52784:(t,e,i)=>{
/**
                     * @author       Florian Vazelle
                     * @author       Geoffrey Glaive
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(60646),n=i(59996);t.exports=function(t,e,i){if(void 0===i&&(i=[]),n(t,e)){var r=t.getLineA(),o=t.getLineB(),a=t.getLineC(),h=t.getLineD();s(r,e,i),s(o,e,i),s(a,e,i),s(h,e,i)}return i}},26341:(t,e,i)=>{
/**
                     * @author       Florian Vazelle
                     * @author       Geoffrey Glaive
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(89265),n=i(60646);t.exports=function(t,e,i){if(void 0===i&&(i=[]),s(t,e)){var r=e.getLineA(),o=e.getLineB(),a=e.getLineC();n(r,t,i),n(o,t,i),n(a,t,i)}return i}},38720:(t,e,i)=>{
/**
                     * @author       Florian Vazelle
                     * @author       Geoffrey Glaive
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(4042),n=i(67636);t.exports=function(t,e,i){if(void 0===i&&(i=[]),n(t,e)){var r=t.getLineA(),o=t.getLineB(),a=t.getLineC();s(r,e,i),s(o,e,i),s(a,e,i)}return i}},13882:(t,e,i)=>{
/**
                     * @author       Florian Vazelle
                     * @author       Geoffrey Glaive
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(2141),n=i(2822),r=i(76112);t.exports=function(t,e,i){if(void 0===i&&(i=[]),n(t,e))for(var o=t.getLineA(),a=t.getLineB(),h=t.getLineC(),l=[new s,new s,new s],u=[r(o,e,l[0]),r(a,e,l[1]),r(h,e,l[2])],c=0;c<3;c++)u[c]&&i.push(l[c]);return i}},75636:(t,e,i)=>{
/**
                     * @author       Florian Vazelle
                     * @author       Geoffrey Glaive
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(82944),n=i(13882);t.exports=function(t,e,i){if(void 0===i&&(i=[]),s(t,e)){var r=e.getLineA(),o=e.getLineB(),a=e.getLineC();n(t,r,i),n(t,o,i),n(t,a,i)}return i}},80462:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(87902),n=new(i(2141));t.exports=function(t,e,i){if(void 0===i&&(i=n),s(e,t.x1,t.y1))return i.x=t.x1,i.y=t.y1,!0;if(s(e,t.x2,t.y2))return i.x=t.x2,i.y=t.y2,!0;var r=t.x2-t.x1,o=t.y2-t.y1,a=e.x-t.x1,h=e.y-t.y1,l=r*r+o*o,u=r,c=o;if(l>0){var d=(a*r+h*o)/l;u*=d,c*=d}return i.x=t.x1+u,i.y=t.y1+c,u*u+c*c<=l&&u*r+c*o>=0&&s(e,i.x,i.y)}},76112:t=>{t.exports=function(t,e,i){var s=t.x1,n=t.y1,r=t.x2,o=t.y2,a=e.x1,h=e.y1,l=e.x2,u=e.y2;if(s===r&&n===o||a===l&&h===u)return!1;var c=(u-h)*(r-s)-(l-a)*(o-n);if(0===c)return!1;var d=((l-a)*(n-h)-(u-h)*(s-a))/c,f=((r-s)*(n-h)-(o-n)*(s-a))/c;return!(d<0||d>1||f<0||f>1||(i&&(i.x=s+d*(r-s),i.y=n+d*(o-n)),0))}},92773:t=>{t.exports=function(t,e){var i=t.x1,s=t.y1,n=t.x2,r=t.y2,o=e.x,a=e.y,h=e.right,l=e.bottom,u=0;if(i>=o&&i<=h&&s>=a&&s<=l||n>=o&&n<=h&&r>=a&&r<=l)return!0;if(i<o&&n>=o){if((u=s+(r-s)*(o-i)/(n-i))>a&&u<=l)return!0}else if(i>h&&n<=h&&(u=s+(r-s)*(h-i)/(n-i))>=a&&u<=l)return!0;if(s<a&&r>=a){if((u=i+(n-i)*(a-s)/(r-s))>=o&&u<=h)return!0}else if(s>l&&r<=l&&(u=i+(n-i)*(l-s)/(r-s))>=o&&u<=h)return!0;return!1}},16204:t=>{t.exports=function(t,e,i){void 0===i&&(i=1);var s=e.x1,n=e.y1,r=e.x2,o=e.y2,a=t.x,h=t.y,l=(r-s)*(r-s)+(o-n)*(o-n);if(0===l)return!1;var u=((a-s)*(r-s)+(h-n)*(o-n))/l;if(u<0)return Math.sqrt((s-a)*(s-a)+(n-h)*(n-h))<=i;if(u>=0&&u<=1){var c=((n-h)*(r-s)-(s-a)*(o-n))/l;return Math.abs(c)*Math.sqrt(l)<=i}return Math.sqrt((r-a)*(r-a)+(o-h)*(o-h))<=i}},14199:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(16204);t.exports=function(t,e){if(!s(t,e))return!1;var i=Math.min(e.x1,e.x2),n=Math.max(e.x1,e.x2),r=Math.min(e.y1,e.y2),o=Math.max(e.y1,e.y2);return t.x>=i&&t.x<=n&&t.y>=r&&t.y<=o}},59996:t=>{t.exports=function(t,e){return!(t.width<=0||t.height<=0||e.width<=0||e.height<=0||t.right<e.x||t.bottom<e.y||t.x>e.right||t.y>e.bottom)}},89265:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(76112),n=i(37303),r=i(48653),o=i(77493);t.exports=function(t,e){if(e.left>t.right||e.right<t.left||e.top>t.bottom||e.bottom<t.top)return!1;var i=e.getLineA(),a=e.getLineB(),h=e.getLineC();if(n(t,i.x1,i.y1)||n(t,i.x2,i.y2))return!0;if(n(t,a.x1,a.y1)||n(t,a.x2,a.y2))return!0;if(n(t,h.x1,h.y1)||n(t,h.x2,h.y2))return!0;var l=t.getLineA(),u=t.getLineB(),c=t.getLineC(),d=t.getLineD();if(s(i,l)||s(i,u)||s(i,c)||s(i,d))return!0;if(s(a,l)||s(a,u)||s(a,c)||s(a,d))return!0;if(s(h,l)||s(h,u)||s(h,c)||s(h,d))return!0;var f=o(t);return r(e,f,!0).length>0}},84411:t=>{t.exports=function(t,e,i,s,n,r){return void 0===r&&(r=0),!(e>t.right+r||i<t.left-r||s>t.bottom+r||n<t.top-r)}},67636:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(80462),n=i(10690);t.exports=function(t,e){return!(t.left>e.right||t.right<e.left||t.top>e.bottom||t.bottom<e.top||!n(t,e.x,e.y)&&!s(t.getLineA(),e)&&!s(t.getLineB(),e)&&!s(t.getLineC(),e))}},2822:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(76112);t.exports=function(t,e){return!!(t.contains(e.x1,e.y1)||t.contains(e.x2,e.y2)||s(t.getLineA(),e)||s(t.getLineB(),e)||s(t.getLineC(),e))}},82944:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(48653),n=i(71694),r=i(76112);t.exports=function(t,e){if(t.left>e.right||t.right<e.left||t.top>e.bottom||t.bottom<e.top)return!1;var i=t.getLineA(),o=t.getLineB(),a=t.getLineC(),h=e.getLineA(),l=e.getLineB(),u=e.getLineC();if(r(i,h)||r(i,l)||r(i,u))return!0;if(r(o,h)||r(o,l)||r(o,u))return!0;if(r(a,h)||r(a,l)||r(a,u))return!0;var c=n(t),d=s(e,c,!0);return d.length>0||(c=n(e),(d=s(t,c,!0)).length>0)}},91865:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports={CircleToCircle:i(2044),CircleToRectangle:i(81491),GetCircleToCircle:i(63376),GetCircleToRectangle:i(97439),GetLineToCircle:i(4042),GetLineToLine:i(36100),GetLineToPoints:i(3073),GetLineToPolygon:i(56362),GetLineToRectangle:i(60646),GetRaysFromPointToPolygon:i(71147),GetRectangleIntersection:i(68389),GetRectangleToRectangle:i(52784),GetRectangleToTriangle:i(26341),GetTriangleToCircle:i(38720),GetTriangleToLine:i(13882),GetTriangleToTriangle:i(75636),LineToCircle:i(80462),LineToLine:i(76112),LineToRectangle:i(92773),PointToLine:i(16204),PointToLineSegment:i(14199),RectangleToRectangle:i(59996),RectangleToTriangle:i(89265),RectangleToValues:i(84411),TriangleToCircle:i(67636),TriangleToLine:i(2822),TriangleToTriangle:i(82944)}},91938:t=>{t.exports=function(t){return Math.atan2(t.y2-t.y1,t.x2-t.x1)}},84993:t=>{t.exports=function(t,e,i){void 0===e&&(e=1),void 0===i&&(i=[]);var s=Math.round(t.x1),n=Math.round(t.y1),r=Math.round(t.x2),o=Math.round(t.y2),a=Math.abs(r-s),h=Math.abs(o-n),l=s<r?1:-1,u=n<o?1:-1,c=a-h;i.push({x:s,y:n});for(var d=1;s!==r||n!==o;){var f=c<<1;f>-h&&(c-=h,s+=l),f<a&&(c+=a,n+=u),d%e===0&&i.push({x:s,y:n}),d++}return i}},36469:t=>{t.exports=function(t,e,i){var s=e-(t.x1+t.x2)/2,n=i-(t.y1+t.y2)/2;return t.x1+=s,t.y1+=n,t.x2+=s,t.y2+=n,t}},31116:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(23031);t.exports=function(t){return new s(t.x1,t.y1,t.x2,t.y2)}},59944:t=>{t.exports=function(t,e){return e.setTo(t.x1,t.y1,t.x2,t.y2)}},59220:t=>{t.exports=function(t,e){return t.x1===e.x1&&t.y1===e.y1&&t.x2===e.x2&&t.y2===e.y2}},78177:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(35001);t.exports=function(t,e,i){void 0===i&&(i=e);var n=s(t),r=t.x2-t.x1,o=t.y2-t.y1;return e&&(t.x1=t.x1-r/n*e,t.y1=t.y1-o/n*e),i&&(t.x2=t.x2+r/n*i,t.y2=t.y2+o/n*i),t}},26708:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(52816),n=i(6113),r=i(2141);t.exports=function(t,e,i,o,a){void 0===o&&(o=0),void 0===a&&(a=[]);var h,l,u=[],c=t.x1,d=t.y1,f=t.x2-c,p=t.y2-d,g=n(e,a),m=i-1;for(h=0;h<m;h++)l=g(h/m),u.push(new r(c+f*l,d+p*l));if(l=g(1),u.push(new r(c+f*l,d+p*l)),o>0){var v=u[0],y=[v];for(h=1;h<u.length-1;h++){var x=u[h];s(v,x)>=o&&(y.push(x),v=x)}var T=u[u.length-1];return s(v,T)<o&&y.pop(),y.push(T),y}return u}},32125:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(2141);t.exports=function(t,e){return void 0===e&&(e=new s),e.x=(t.x1+t.x2)/2,e.y=(t.y1+t.y2)/2,e}},99569:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @author       Florian Mertens
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(2141);t.exports=function(t,e,i){void 0===i&&(i=new s);var n=t.x1,r=t.y1,o=t.x2,a=t.y2,h=(o-n)*(o-n)+(a-r)*(a-r);if(0===h)return i;var l=((e.x-n)*(o-n)+(e.y-r)*(a-r))/h;return i.x=n+l*(o-n),i.y=r+l*(a-r),i}},34638:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(36383),n=i(91938),r=i(2141);t.exports=function(t,e){void 0===e&&(e=new r);var i=n(t)-s.TAU;return e.x=Math.cos(i),e.y=Math.sin(i),e}},13151:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(2141);t.exports=function(t,e,i){return void 0===i&&(i=new s),i.x=t.x1+(t.x2-t.x1)*e,i.y=t.y1+(t.y2-t.y1)*e,i}},15258:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(35001),n=i(2141);t.exports=function(t,e,i,r){void 0===r&&(r=[]),!e&&i>0&&(e=s(t)/i);for(var o=t.x1,a=t.y1,h=t.x2,l=t.y2,u=0;u<e;u++){var c=u/e,d=o+(h-o)*c,f=a+(l-a)*c;r.push(new n(d,f))}return r}},26408:t=>{t.exports=function(t,e){var i=t.x1,s=t.y1,n=t.x2,r=t.y2,o=(n-i)*(n-i)+(r-s)*(r-s);if(0===o)return!1;var a=((s-e.y)*(n-i)-(i-e.x)*(r-s))/o;return Math.abs(a)*Math.sqrt(o)}},98770:t=>{t.exports=function(t){return Math.abs(t.y1-t.y2)}},35001:t=>{t.exports=function(t){return Math.sqrt((t.x2-t.x1)*(t.x2-t.x1)+(t.y2-t.y1)*(t.y2-t.y1))}},23031:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(83419),n=i(13151),r=i(15258),o=i(23777),a=i(65822),h=i(26099),l=new s({initialize:function(t,e,i,s){void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=0),void 0===s&&(s=0),this.type=o.LINE,this.x1=t,this.y1=e,this.x2=i,this.y2=s},getPoint:function(t,e){return n(this,t,e)},getPoints:function(t,e,i){return r(this,t,e,i)},getRandomPoint:function(t){return a(this,t)},setTo:function(t,e,i,s){return void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=0),void 0===s&&(s=0),this.x1=t,this.y1=e,this.x2=i,this.y2=s,this},setFromObjects:function(t,e){return this.x1=t.x,this.y1=t.y,this.x2=e.x,this.y2=e.y,this},getPointA:function(t){return void 0===t&&(t=new h),t.set(this.x1,this.y1),t},getPointB:function(t){return void 0===t&&(t=new h),t.set(this.x2,this.y2),t},left:{get:function(){return Math.min(this.x1,this.x2)},set:function(t){this.x1<=this.x2?this.x1=t:this.x2=t}},right:{get:function(){return Math.max(this.x1,this.x2)},set:function(t){this.x1>this.x2?this.x1=t:this.x2=t}},top:{get:function(){return Math.min(this.y1,this.y2)},set:function(t){this.y1<=this.y2?this.y1=t:this.y2=t}},bottom:{get:function(){return Math.max(this.y1,this.y2)},set:function(t){this.y1>this.y2?this.y1=t:this.y2=t}}});t.exports=l},64795:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(36383),n=i(15994),r=i(91938);t.exports=function(t){var e=r(t)-s.TAU;return n(e,-Math.PI,Math.PI)}},52616:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(36383),n=i(91938);t.exports=function(t){return Math.cos(n(t)-s.TAU)}},87231:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(36383),n=i(91938);t.exports=function(t){return Math.sin(n(t)-s.TAU)}},89662:t=>{t.exports=function(t,e,i){return t.x1+=e,t.y1+=i,t.x2+=e,t.y2+=i,t}},71165:t=>{t.exports=function(t){return-(t.x2-t.x1)/(t.y2-t.y1)}},65822:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(2141);t.exports=function(t,e){void 0===e&&(e=new s);var i=Math.random();return e.x=t.x1+i*(t.x2-t.x1),e.y=t.y1+i*(t.y2-t.y1),e}},69777:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(91938),n=i(64795);t.exports=function(t,e){return 2*n(e)-Math.PI-s(t)}},39706:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(64400);t.exports=function(t,e){var i=(t.x1+t.x2)/2,n=(t.y1+t.y2)/2;return s(t,i,n,e)}},82585:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(64400);t.exports=function(t,e,i){return s(t,e.x,e.y,i)}},64400:t=>{t.exports=function(t,e,i,s){var n=Math.cos(s),r=Math.sin(s),o=t.x1-e,a=t.y1-i;return t.x1=o*n-a*r+e,t.y1=o*r+a*n+i,o=t.x2-e,a=t.y2-i,t.x2=o*n-a*r+e,t.y2=o*r+a*n+i,t}},62377:t=>{t.exports=function(t,e,i,s,n){return t.x1=e,t.y1=i,t.x2=e+Math.cos(s)*n,t.y2=i+Math.sin(s)*n,t}},71366:t=>{t.exports=function(t){return(t.y2-t.y1)/(t.x2-t.x1)}},10809:t=>{t.exports=function(t){return Math.abs(t.x1-t.x2)}},2529:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(23031);s.Angle=i(91938),s.BresenhamPoints=i(84993),s.CenterOn=i(36469),s.Clone=i(31116),s.CopyFrom=i(59944),s.Equals=i(59220),s.Extend=i(78177),s.GetEasedPoints=i(26708),s.GetMidPoint=i(32125),s.GetNearestPoint=i(99569),s.GetNormal=i(34638),s.GetPoint=i(13151),s.GetPoints=i(15258),s.GetShortestDistance=i(26408),s.Height=i(98770),s.Length=i(35001),s.NormalAngle=i(64795),s.NormalX=i(52616),s.NormalY=i(87231),s.Offset=i(89662),s.PerpSlope=i(71165),s.Random=i(65822),s.ReflectAngle=i(69777),s.Rotate=i(39706),s.RotateAroundPoint=i(82585),s.RotateAroundXY=i(64400),s.SetToAngle=i(62377),s.Slope=i(71366),s.Width=i(10809),t.exports=s},83997:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(83419),n=i(87841),r=i(26099);function o(t,e,i,s){var n=t-i,r=e-s,o=n*n+r*r;return Math.sqrt(o)}var a=new s({initialize:function(t,e,i){this.vertex1=t,this.vertex2=e,this.vertex3=i,this.bounds=new n,this._inCenter=new r},getInCenter:function(t){void 0===t&&(t=!0);var e,i,s,n,r,a,h=this.vertex1,l=this.vertex2,u=this.vertex3;t?(e=h.x,i=h.y,s=l.x,n=l.y,r=u.x,a=u.y):(e=h.vx,i=h.vy,s=l.vx,n=l.vy,r=u.vx,a=u.vy);var c=o(r,a,s,n),d=o(e,i,r,a),f=o(s,n,e,i),p=c+d+f;return this._inCenter.set((e*c+s*d+r*f)/p,(i*c+n*d+a*f)/p)},contains:function(t,e,i){var s=this.vertex1,n=this.vertex2,r=this.vertex3,o=s.vx,a=s.vy,h=n.vx,l=n.vy,u=r.vx,c=r.vy;if(i){var d=i.a,f=i.b,p=i.c,g=i.d,m=i.e,v=i.f;o=s.vx*d+s.vy*p+m,a=s.vx*f+s.vy*g+v,h=n.vx*d+n.vy*p+m,l=n.vx*f+n.vy*g+v,u=r.vx*d+r.vy*p+m,c=r.vx*f+r.vy*g+v}var y=u-o,x=c-a,T=h-o,w=l-a,b=t-o,S=e-a,E=y*y+x*x,C=y*T+x*w,_=y*b+x*S,A=T*T+w*w,M=T*b+w*S,P=E*A-C*C,R=0===P?0:1/P,I=(A*_-C*M)*R,O=(E*M-C*_)*R;return I>=0&&O>=0&&I+O<1},isCounterClockwise:function(t){var e=this.vertex1,i=this.vertex2,s=this.vertex3,n=(i.vx-e.vx)*(s.vy-e.vy)-(i.vy-e.vy)*(s.vx-e.vx);return t<=0?n>=0:n<0},load:function(t,e,i,s,n){return i=this.vertex1.load(t,e,i,s,n),i=this.vertex2.load(t,e,i,s,n),i=this.vertex3.load(t,e,i,s,n)},transformCoordinatesLocal:function(t,e,i,s){return this.vertex1.transformCoordinatesLocal(t,e,i,s),this.vertex2.transformCoordinatesLocal(t,e,i,s),this.vertex3.transformCoordinatesLocal(t,e,i,s),this},updateBounds:function(){var t=this.vertex1,e=this.vertex2,i=this.vertex3,s=this.bounds;return s.x=Math.min(t.vx,e.vx,i.vx),s.y=Math.min(t.vy,e.vy,i.vy),s.width=Math.max(t.vx,e.vx,i.vx)-s.x,s.height=Math.max(t.vy,e.vy,i.vy)-s.y,this},isInView:function(t,e,i,s,n,r,o,a,h,l,u){this.update(s,n,r,o,a,h,l,u);var c=this.vertex1,d=this.vertex2,f=this.vertex3;if(c.ta<=0&&d.ta<=0&&f.ta<=0)return!1;if(e&&!this.isCounterClockwise(i))return!1;var p=this.bounds;p.x=Math.min(c.tx,d.tx,f.tx),p.y=Math.min(c.ty,d.ty,f.ty),p.width=Math.max(c.tx,d.tx,f.tx)-p.x,p.height=Math.max(c.ty,d.ty,f.ty)-p.y;var g=t.x+t.width,m=t.y+t.height;return!(p.width<=0||p.height<=0||t.width<=0||t.height<=0||p.right<t.x||p.bottom<t.y||p.x>g||p.y>m)},scrollUV:function(t,e){return this.vertex1.scrollUV(t,e),this.vertex2.scrollUV(t,e),this.vertex3.scrollUV(t,e),this},scaleUV:function(t,e){return this.vertex1.scaleUV(t,e),this.vertex2.scaleUV(t,e),this.vertex3.scaleUV(t,e),this},setColor:function(t){return this.vertex1.color=t,this.vertex2.color=t,this.vertex3.color=t,this},update:function(t,e,i,s,n,r,o,a){return this.vertex1.update(e,i,s,n,r,o,a,t),this.vertex2.update(e,i,s,n,r,o,a,t),this.vertex3.update(e,i,s,n,r,o,a,t),this},translate:function(t,e){void 0===e&&(e=0);var i=this.vertex1,s=this.vertex2,n=this.vertex3;return i.x+=t,i.y+=e,s.x+=t,s.y+=e,n.x+=t,n.y+=e,this},x:{get:function(){return this.getInCenter().x},set:function(t){var e=this.getInCenter();this.translate(t-e.x,0)}},y:{get:function(){return this.getInCenter().y},set:function(t){var e=this.getInCenter();this.translate(0,t-e.y)}},alpha:{get:function(){var t=this.vertex1,e=this.vertex2,i=this.vertex3;return(t.alpha+e.alpha+i.alpha)/3},set:function(t){this.vertex1.alpha=t,this.vertex2.alpha=t,this.vertex3.alpha=t}},depth:{get:function(){var t=this.vertex1,e=this.vertex2,i=this.vertex3;return(t.vz+e.vz+i.vz)/3}},destroy:function(){this.vertex1=null,this.vertex2=null,this.vertex3=null}});t.exports=a},48803:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(83997),n=i(95540),r=i(37867),o=i(25836),a=i(39318),h=new o,l=new o,u=new r;t.exports=function(t){var e,i=n(t,"mesh"),r=n(t,"texture",null),o=n(t,"frame"),c=n(t,"width",1),d=n(t,"height",c),f=n(t,"widthSegments",1),p=n(t,"heightSegments",f),g=n(t,"x",0),m=n(t,"y",0),v=n(t,"z",0),y=n(t,"rotateX",0),x=n(t,"rotateY",0),T=n(t,"rotateZ",0),w=n(t,"zIsUp",!0),b=n(t,"isOrtho",!!i&&i.dirtyCache[11]),S=n(t,"colors",[16777215]),E=n(t,"alphas",[1]),C=n(t,"tile",!1),_=n(t,"flipY",!1),A=n(t,"width",null),M={faces:[],verts:[]};if(h.set(g,m,v),l.set(y,x,T),u.fromRotationXYTranslation(l,h,w),!r&&i)r=i.texture,o||(e=i.frame);else if(i&&"string"==typeof r)r=i.scene.sys.textures.get(r);else if(!r)return M;e||(e=r.get(o)),!A&&b&&r&&i&&(c=e.width/i.height,d=e.height/i.height);var P,R,I=c/2,O=d/2,L=Math.floor(f),D=Math.floor(p),k=L+1,F=D+1,B=c/L,N=d/D,z=[],U=[],V=0,G=1,X=0,Y=1;e&&(V=e.u0,G=e.u1,_?(X=e.v1,Y=e.v0):(X=e.v0,Y=e.v1));var H=G-V,W=Y-X;for(R=0;R<F;R++){var j=R*N-O;for(P=0;P<k;P++){var q=P*B-I;U.push(q,-j);var K=V+H*(P/L),$=X+W*(R/D);z.push(K,$)}}Array.isArray(S)||(S=[S]),Array.isArray(E)||(E=[E]);var Z=0,J=0;for(R=0;R<D;R++)for(P=0;P<L;P++){var Q=2*(P+k*R),tt=2*(P+k*(R+1)),et=2*(P+1+k*(R+1)),it=2*(P+1+k*R),st=S[J],nt=E[Z],rt=new a(U[Q],U[Q+1],0,z[Q],z[Q+1],st,nt).transformMat4(u),ot=new a(U[tt],U[tt+1],0,z[tt],z[tt+1],st,nt).transformMat4(u),at=new a(U[it],U[it+1],0,z[it],z[it+1],st,nt).transformMat4(u),ht=new a(U[tt],U[tt+1],0,z[tt],z[tt+1],st,nt).transformMat4(u),lt=new a(U[et],U[et+1],0,z[et],z[et+1],st,nt).transformMat4(u),ut=new a(U[it],U[it+1],0,z[it],z[it+1],st,nt).transformMat4(u);C&&(rt.setUVs(V,Y),ot.setUVs(V,X),at.setUVs(G,Y),ht.setUVs(V,X),lt.setUVs(G,X),ut.setUVs(G,Y)),++J===S.length&&(J=0),++Z===E.length&&(Z=0),M.verts.push(rt,ot,at,ht,lt,ut),M.faces.push(new s(rt,ot,at),new s(ht,lt,ut))}return i&&(i.faces=i.faces.concat(M.faces),i.vertices=i.vertices.concat(M.verts)),M}},34684:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(83997),n=i(37867),r=i(25836),o=i(39318),a=new r,h=new r,l=new n;t.exports=function(t,e,i,n,r,u,c,d,f,p){void 0===i&&(i=1),void 0===n&&(n=0),void 0===r&&(r=0),void 0===u&&(u=0),void 0===c&&(c=0),void 0===d&&(d=0),void 0===f&&(f=0),void 0===p&&(p=!0);var g={faces:[],verts:[]},m=t.materials;a.set(n,r,u),h.set(c,d,f),l.fromRotationXYTranslation(h,a,p);for(var v=0;v<t.models.length;v++)for(var y=t.models[v],x=y.vertices,T=y.textureCoords,w=y.faces,b=0;b<w.length;b++){var S=w[b],E=S.vertices[0],C=S.vertices[1],_=S.vertices[2],A=x[E.vertexIndex],M=x[C.vertexIndex],P=x[_.vertexIndex],R=E.textureCoordsIndex,I=C.textureCoordsIndex,O=_.textureCoordsIndex,L=-1===R?{u:0,v:1}:T[R],D=-1===I?{u:0,v:0}:T[I],k=-1===O?{u:1,v:1}:T[O],F=16777215;""!==S.material&&m[S.material]&&(F=m[S.material]);var B=new o(A.x*i,A.y*i,A.z*i,L.u,L.v,F).transformMat4(l),N=new o(M.x*i,M.y*i,M.z*i,D.u,D.v,F).transformMat4(l),z=new o(P.x*i,P.y*i,P.z*i,k.u,k.v,F).transformMat4(l);g.verts.push(B,N,z),g.faces.push(new s(B,N,z))}return e&&(e.faces=e.faces.concat(g.faces),e.vertices=e.vertices.concat(g.verts)),g}},92515:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(83997),n=i(39318);t.exports=function(t,e,i,r,o,a,h,l){if(void 0===r&&(r=!1),void 0===a&&(a=16777215),void 0===h&&(h=1),void 0===l&&(l=!1),t.length===e.length||r){var u,c,d,f,p,g,m,v,y,x,T,w={faces:[],vertices:[]},b=r?3:2,S=Array.isArray(a),E=Array.isArray(h);if(Array.isArray(i)&&i.length>0)for(u=0;u<i.length;u++){var C=i[u],_=2*i[u],A=i[u]*b;c=t[A],d=t[A+1],f=r?t[A+2]:0,p=e[_],g=e[_+1],l&&(g=1-g),m=S?a[C]:a,v=E?h[C]:h,y=0,x=0,T=0,o&&(y=o[A],x=o[A+1],T=r?o[A+2]:0),w.vertices.push(new n(c,d,f,p,g,m,v,y,x,T))}else{var M=0,P=0;for(u=0;u<t.length;u+=b)c=t[u],d=t[u+1],f=r?t[u+2]:0,p=e[M],g=e[M+1],m=S?a[P]:a,v=E?h[P]:h,y=0,x=0,T=0,o&&(y=o[u],x=o[u+1],T=r?o[u+2]:0),w.vertices.push(new n(c,d,f,p,g,m,v,y,x,T)),M+=2,P++}for(u=0;u<w.vertices.length;u+=3){var R=w.vertices[u],I=w.vertices[u+1],O=w.vertices[u+2];w.faces.push(new s(R,I,O))}return w}}},85048:t=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var e=!0,i="untitled",s="",n="";function r(t){var e=t.indexOf("#");return e>-1?t.substring(0,e):t}function o(t){return 0===t.models.length&&t.models.push({faces:[],name:i,textureCoords:[],vertexNormals:[],vertices:[]}),s="",t.models[t.models.length-1]}function a(t,e){var n=t.length>=2?t[1]:i;e.models.push({faces:[],name:n,textureCoords:[],vertexNormals:[],vertices:[]}),s=""}function h(t){2===t.length&&(s=t[1])}function l(t,e){var i=t.length,s=i>=2?parseFloat(t[1]):0,n=i>=3?parseFloat(t[2]):0,r=i>=4?parseFloat(t[3]):0;o(e).vertices.push({x:s,y:n,z:r})}function u(t,i){var s=t.length,n=s>=2?parseFloat(t[1]):0,r=s>=3?parseFloat(t[2]):0,a=s>=4?parseFloat(t[3]):0;isNaN(n)&&(n=0),isNaN(r)&&(r=0),isNaN(a)&&(a=0),e&&(r=1-r),o(i).textureCoords.push({u:n,v:r,w:a})}function c(t,e){var i=t.length,s=i>=2?parseFloat(t[1]):0,n=i>=3?parseFloat(t[2]):0,r=i>=4?parseFloat(t[3]):0;o(e).vertexNormals.push({x:s,y:n,z:r})}function d(t,e){var i=t.length-1;if(!(i<3)){for(var r={group:s,material:n,vertices:[]},a=0;a<i;a++){var h=t[a+1].split("/"),l=h.length;if(!(l<1||l>3)){var u=0,c=0,d=0;u=parseInt(h[0],10),l>1&&""!==h[1]&&(c=parseInt(h[1],10)),l>2&&(d=parseInt(h[2],10)),0!==u&&(u<0&&(u=o(e).vertices.length+1+u),c-=1,u-=1,d-=1,r.vertices.push({textureCoordsIndex:c,vertexIndex:u,vertexNormalIndex:d}))}}o(e).faces.push(r)}}function f(t,e){t.length>=2&&e.materialLibraries.push(t[1])}function p(t){t.length>=2&&(n=t[1])}t.exports=function(t,i){void 0===i&&(i=!0),e=i;var o={materials:{},materialLibraries:[],models:[]};s="",n="";for(var g=t.split("\n"),m=0;m<g.length;m++){var v=r(g[m]).replace(/\s\s+/g," ").trim().split(" ");switch(v[0].toLowerCase()){case"o":a(v,o);break;case"g":h(v);break;case"v":l(v,o);break;case"vt":u(v,o);break;case"vn":c(v,o);break;case"f":d(v,o);break;case"mtllib":f(v,o);break;case"usemtl":p(v)}}return o}},61485:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(37589);t.exports=function(t){for(var e={},i=t.split("\n"),n="",r=0;r<i.length;r++){var o=i[r].trim();if(0!==o.indexOf("#")&&""!==o){var a=o.replace(/\s\s+/g," ").trim().split(" ");switch(a[0].toLowerCase()){case"newmtl":n=a[1];break;case"kd":var h=Math.floor(255*a[1]),l=a.length>=2?Math.floor(255*a[2]):h,u=a.length>=3?Math.floor(255*a[3]):h;e[n]=s(h,l,u)}}}return e}},92570:t=>{t.exports=function(t,e,i,s){var n,r;if(void 0===i&&void 0===s){var o=t.getInCenter();n=o.x,r=o.y}var a=Math.cos(e),h=Math.sin(e),l=t.vertex1,u=t.vertex2,c=t.vertex3,d=l.x-n,f=l.y-r;l.set(d*a-f*h+n,d*h+f*a+r),d=u.x-n,f=u.y-r,u.set(d*a-f*h+n,d*h+f*a+r),d=c.x-n,f=c.y-r,c.set(d*a-f*h+n,d*h+f*a+r)}},39318:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(83419),n=i(70554),r=i(25836),o=new s({Extends:r,initialize:function(t,e,i,s,n,o,a,h,l,u){void 0===o&&(o=16777215),void 0===a&&(a=1),void 0===h&&(h=0),void 0===l&&(l=0),void 0===u&&(u=0),r.call(this,t,e,i),this.vx=0,this.vy=0,this.vz=0,this.nx=h,this.ny=l,this.nz=u,this.u=s,this.v=n,this.color=o,this.alpha=a,this.tx=0,this.ty=0,this.ta=0,this.tu=s,this.tv=n},setUVs:function(t,e){return this.u=t,this.v=e,this.tu=t,this.tv=e,this},scrollUV:function(t,e){return this.tu+=t,this.tv+=e,this},scaleUV:function(t,e){return this.tu=this.u*t,this.tv=this.v*e,this},transformCoordinatesLocal:function(t,e,i,s){var n=this.x,r=this.y,o=this.z,a=t.val,h=n*a[0]+r*a[4]+o*a[8]+a[12],l=n*a[1]+r*a[5]+o*a[9]+a[13],u=n*a[2]+r*a[6]+o*a[10]+a[14],c=n*a[3]+r*a[7]+o*a[11]+a[15];this.vx=h/c*e,this.vy=-l/c*i,this.vz=s<=0?u/c:-u/c},resize:function(t,e,i,s,n,r){return this.x=t,this.y=e,this.vx=this.x*i,this.vy=-this.y*s,this.vz=0,n<.5?this.vx+=i*(.5-n):n>.5&&(this.vx-=i*(n-.5)),r<.5?this.vy+=s*(.5-r):r>.5&&(this.vy-=s*(r-.5)),this},update:function(t,e,i,s,n,r,o,a){var h=this.vx*t+this.vy*i+n,l=this.vx*e+this.vy*s+r;return o&&(h=Math.round(h),l=Math.round(l)),this.tx=h,this.ty=l,this.ta=this.alpha*a,this},load:function(t,e,i,s,r){return t[++i]=this.tx,t[++i]=this.ty,t[++i]=this.tu,t[++i]=this.tv,t[++i]=s,t[++i]=r,e[++i]=n.getTintAppendFloatAlpha(this.color,this.ta),i}});t.exports=o},73090:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s={Face:i(83997),GenerateGridVerts:i(48803),GenerateObjVerts:i(34684),GenerateVerts:i(92515),ParseObj:i(85048),ParseObjMaterial:i(61485),RotateFace:i(92570),Vertex:i(39318)};t.exports=s},96550:t=>{t.exports=function(t){return t.setTo(Math.ceil(t.x),Math.ceil(t.y))}},99706:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(2141);t.exports=function(t){return new s(t.x,t.y)}},68010:t=>{t.exports=function(t,e){return e.setTo(t.x,t.y)}},27814:t=>{t.exports=function(t,e){return t.x===e.x&&t.y===e.y}},73565:t=>{t.exports=function(t){return t.setTo(Math.floor(t.x),Math.floor(t.y))}},87555:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(2141);t.exports=function(t,e){if(void 0===e&&(e=new s),!Array.isArray(t))throw new Error("GetCentroid points argument must be an array");var i=t.length;if(i<1)throw new Error("GetCentroid points array must not be empty");if(1===i)e.x=t[0].x,e.y=t[0].y;else{for(var n=0;n<i;n++)e.x+=t[n].x,e.y+=t[n].y;e.x/=i,e.y/=i}return e}},28793:t=>{t.exports=function(t){return Math.sqrt(t.x*t.x+t.y*t.y)}},44405:t=>{t.exports=function(t){return t.x*t.x+t.y*t.y}},20873:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(87841);t.exports=function(t,e){void 0===e&&(e=new s);for(var i=Number.NEGATIVE_INFINITY,n=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY,o=Number.POSITIVE_INFINITY,a=0;a<t.length;a++){var h=t[a];h.x>i&&(i=h.x),h.x<n&&(n=h.x),h.y>r&&(r=h.y),h.y<o&&(o=h.y)}return e.x=n,e.y=o,e.width=i-n,e.height=r-o,e}},26152:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(2141);t.exports=function(t,e,i,n){return void 0===i&&(i=0),void 0===n&&(n=new s),n.x=t.x+(e.x-t.x)*i,n.y=t.y+(e.y-t.y)*i,n}},55767:t=>{t.exports=function(t){return t.setTo(t.y,t.x)}},79432:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(2141);t.exports=function(t,e){return void 0===e&&(e=new s),e.setTo(-t.x,-t.y)}},2141:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(83419),n=i(23777),r=new s({initialize:function(t,e){void 0===t&&(t=0),void 0===e&&(e=t),this.type=n.POINT,this.x=t,this.y=e},setTo:function(t,e){return void 0===t&&(t=0),void 0===e&&(e=t),this.x=t,this.y=e,this}});t.exports=r},72930:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(2141),n=i(44405);t.exports=function(t,e,i){void 0===i&&(i=new s);var r=(t.x*e.x+t.y*e.y)/n(e);return 0!==r&&(i.x=r*e.x,i.y=r*e.y),i}},62880:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(2141);t.exports=function(t,e,i){void 0===i&&(i=new s);var n=t.x*e.x+t.y*e.y;return 0!==n&&(i.x=n*e.x,i.y=n*e.y),i}},15093:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(28793);t.exports=function(t,e){if(0!==t.x||0!==t.y){var i=s(t);t.x/=i,t.y/=i}return t.x*=e,t.y*=e,t}},43711:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(2141);s.Ceil=i(96550),s.Clone=i(99706),s.CopyFrom=i(68010),s.Equals=i(27814),s.Floor=i(73565),s.GetCentroid=i(87555),s.GetMagnitude=i(28793),s.GetMagnitudeSq=i(44405),s.GetRectangleFromPoints=i(20873),s.Interpolate=i(26152),s.Invert=i(55767),s.Negative=i(79432),s.Project=i(72930),s.ProjectUnit=i(62880),s.SetMagnitude=i(15093),t.exports=s},12306:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(25717);t.exports=function(t){return new s(t.points)}},63814:t=>{t.exports=function(t,e,i){for(var s=!1,n=-1,r=t.points.length-1;++n<t.points.length;r=n){var o=t.points[n].x,a=t.points[n].y,h=t.points[r].x,l=t.points[r].y;(a<=i&&i<l||l<=i&&i<a)&&e<(h-o)*(i-a)/(l-a)+o&&(s=!s)}return s}},99338:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(63814);t.exports=function(t,e){return s(t,e.x,e.y)}},94811:t=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
function e(t,e,s){s=s||2;var r,o,a,h,c,d,p,g=e&&e.length,m=g?e[0]*s:t.length,v=i(t,0,m,s,!0),y=[];if(!v||v.next===v.prev)return y;if(g&&(v=function(t,e,s,n){var r,o,a,h=[];for(r=0,o=e.length;r<o;r++)(a=i(t,e[r]*n,r<o-1?e[r+1]*n:t.length,n,!1))===a.next&&(a.steiner=!0),h.push(f(a));for(h.sort(l),r=0;r<h.length;r++)s=u(h[r],s);return s}(t,e,v,s)),t.length>80*s){r=a=t[0],o=h=t[1];for(var x=s;x<m;x+=s)(c=t[x])<r&&(r=c),(d=t[x+1])<o&&(o=d),c>a&&(a=c),d>h&&(h=d);p=0!==(p=Math.max(a-r,h-o))?32767/p:0}return n(v,y,s,r,o,p,0),y}function i(t,e,i,s,n){var r,o;if(n===_(t,e,i,s)>0)for(r=e;r<i;r+=s)o=S(r,t[r],t[r+1],o);else for(r=i-s;r>=e;r-=s)o=S(r,t[r],t[r+1],o);return o&&v(o,o.next)&&(E(o),o=o.next),o}function s(t,e){if(!t)return t;e||(e=t);var i,s=t;do{if(i=!1,s.steiner||!v(s,s.next)&&0!==m(s.prev,s,s.next))s=s.next;else{if(E(s),(s=e=s.prev)===s.next)break;i=!0}}while(i||s!==e);return e}function n(t,e,i,l,u,c,f){if(t){!f&&c&&function(t,e,i,s){var n=t;do{0===n.z&&(n.z=d(n.x,n.y,e,i,s)),n.prevZ=n.prev,n.nextZ=n.next,n=n.next}while(n!==t);n.prevZ.nextZ=null,n.prevZ=null,function(t){var e,i,s,n,r,o,a,h,l=1;do{for(i=t,t=null,r=null,o=0;i;){for(o++,s=i,a=0,e=0;e<l&&(a++,s=s.nextZ);e++);for(h=l;a>0||h>0&&s;)0!==a&&(0===h||!s||i.z<=s.z)?(n=i,i=i.nextZ,a--):(n=s,s=s.nextZ,h--),r?r.nextZ=n:t=n,n.prevZ=r,r=n;i=s}r.nextZ=null,l*=2}while(o>1)}(n)}(t,l,u,c);for(var p,g,m=t;t.prev!==t.next;)if(p=t.prev,g=t.next,c?o(t,l,u,c):r(t))e.push(p.i/i|0),e.push(t.i/i|0),e.push(g.i/i|0),E(t),t=g.next,m=g.next;else if((t=g)===m){f?1===f?n(t=a(s(t),e,i),e,i,l,u,c,2):2===f&&h(t,e,i,l,u,c):n(s(t),e,i,l,u,c,1);break}}}function r(t){var e=t.prev,i=t,s=t.next;if(m(e,i,s)>=0)return!1;for(var n=e.x,r=i.x,o=s.x,a=e.y,h=i.y,l=s.y,u=n<r?n<o?n:o:r<o?r:o,c=a<h?a<l?a:l:h<l?h:l,d=n>r?n>o?n:o:r>o?r:o,f=a>h?a>l?a:l:h>l?h:l,g=s.next;g!==e;){if(g.x>=u&&g.x<=d&&g.y>=c&&g.y<=f&&p(n,a,r,h,o,l,g.x,g.y)&&m(g.prev,g,g.next)>=0)return!1;g=g.next}return!0}function o(t,e,i,s){var n=t.prev,r=t,o=t.next;if(m(n,r,o)>=0)return!1;for(var a=n.x,h=r.x,l=o.x,u=n.y,c=r.y,f=o.y,g=a<h?a<l?a:l:h<l?h:l,v=u<c?u<f?u:f:c<f?c:f,y=a>h?a>l?a:l:h>l?h:l,x=u>c?u>f?u:f:c>f?c:f,T=d(g,v,e,i,s),w=d(y,x,e,i,s),b=t.prevZ,S=t.nextZ;b&&b.z>=T&&S&&S.z<=w;){if(b.x>=g&&b.x<=y&&b.y>=v&&b.y<=x&&b!==n&&b!==o&&p(a,u,h,c,l,f,b.x,b.y)&&m(b.prev,b,b.next)>=0)return!1;if(b=b.prevZ,S.x>=g&&S.x<=y&&S.y>=v&&S.y<=x&&S!==n&&S!==o&&p(a,u,h,c,l,f,S.x,S.y)&&m(S.prev,S,S.next)>=0)return!1;S=S.nextZ}for(;b&&b.z>=T;){if(b.x>=g&&b.x<=y&&b.y>=v&&b.y<=x&&b!==n&&b!==o&&p(a,u,h,c,l,f,b.x,b.y)&&m(b.prev,b,b.next)>=0)return!1;b=b.prevZ}for(;S&&S.z<=w;){if(S.x>=g&&S.x<=y&&S.y>=v&&S.y<=x&&S!==n&&S!==o&&p(a,u,h,c,l,f,S.x,S.y)&&m(S.prev,S,S.next)>=0)return!1;S=S.nextZ}return!0}function a(t,e,i){var n=t;do{var r=n.prev,o=n.next.next;!v(r,o)&&y(r,n,n.next,o)&&w(r,o)&&w(o,r)&&(e.push(r.i/i|0),e.push(n.i/i|0),e.push(o.i/i|0),E(n),E(n.next),n=t=o),n=n.next}while(n!==t);return s(n)}function h(t,e,i,r,o,a){var h=t;do{for(var l=h.next.next;l!==h.prev;){if(h.i!==l.i&&g(h,l)){var u=b(h,l);return h=s(h,h.next),u=s(u,u.next),n(h,e,i,r,o,a,0),void n(u,e,i,r,o,a,0)}l=l.next}h=h.next}while(h!==t)}function l(t,e){return t.x-e.x}function u(t,e){var i=function(t,e){var i,s=e,n=t.x,r=t.y,o=-1/0;do{if(r<=s.y&&r>=s.next.y&&s.next.y!==s.y){var a=s.x+(r-s.y)*(s.next.x-s.x)/(s.next.y-s.y);if(a<=n&&a>o&&(o=a,i=s.x<s.next.x?s:s.next,a===n))return i}s=s.next}while(s!==e);if(!i)return null;var h,l=i,u=i.x,d=i.y,f=1/0;s=i;do{n>=s.x&&s.x>=u&&n!==s.x&&p(r<d?n:o,r,u,d,r<d?o:n,r,s.x,s.y)&&(h=Math.abs(r-s.y)/(n-s.x),w(s,t)&&(h<f||h===f&&(s.x>i.x||s.x===i.x&&c(i,s)))&&(i=s,f=h)),s=s.next}while(s!==l);return i}(t,e);if(!i)return e;var n=b(i,t);return s(n,n.next),s(i,i.next)}function c(t,e){return m(t.prev,t,e.prev)<0&&m(e.next,t,t.next)<0}function d(t,e,i,s,n){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=(t-i)*n|0)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=(e-s)*n|0)|e<<8))|e<<4))|e<<2))|e<<1))<<1}function f(t){var e=t,i=t;do{(e.x<i.x||e.x===i.x&&e.y<i.y)&&(i=e),e=e.next}while(e!==t);return i}function p(t,e,i,s,n,r,o,a){return(n-o)*(e-a)>=(t-o)*(r-a)&&(t-o)*(s-a)>=(i-o)*(e-a)&&(i-o)*(r-a)>=(n-o)*(s-a)}function g(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!function(t,e){var i=t;do{if(i.i!==t.i&&i.next.i!==t.i&&i.i!==e.i&&i.next.i!==e.i&&y(i,i.next,t,e))return!0;i=i.next}while(i!==t);return!1}(t,e)&&(w(t,e)&&w(e,t)&&function(t,e){var i=t,s=!1,n=(t.x+e.x)/2,r=(t.y+e.y)/2;do{i.y>r!=i.next.y>r&&i.next.y!==i.y&&n<(i.next.x-i.x)*(r-i.y)/(i.next.y-i.y)+i.x&&(s=!s),i=i.next}while(i!==t);return s}(t,e)&&(m(t.prev,t,e.prev)||m(t,e.prev,e))||v(t,e)&&m(t.prev,t,t.next)>0&&m(e.prev,e,e.next)>0)}function m(t,e,i){return(e.y-t.y)*(i.x-e.x)-(e.x-t.x)*(i.y-e.y)}function v(t,e){return t.x===e.x&&t.y===e.y}function y(t,e,i,s){var n=T(m(t,e,i)),r=T(m(t,e,s)),o=T(m(i,s,t)),a=T(m(i,s,e));return n!==r&&o!==a||!(0!==n||!x(t,i,e))||!(0!==r||!x(t,s,e))||!(0!==o||!x(i,t,s))||!(0!==a||!x(i,e,s))}function x(t,e,i){return e.x<=Math.max(t.x,i.x)&&e.x>=Math.min(t.x,i.x)&&e.y<=Math.max(t.y,i.y)&&e.y>=Math.min(t.y,i.y)}function T(t){return t>0?1:t<0?-1:0}function w(t,e){return m(t.prev,t,t.next)<0?m(t,e,t.next)>=0&&m(t,t.prev,e)>=0:m(t,e,t.prev)<0||m(t,t.next,e)<0}function b(t,e){var i=new C(t.i,t.x,t.y),s=new C(e.i,e.x,e.y),n=t.next,r=e.prev;return t.next=e,e.prev=t,i.next=n,n.prev=i,s.next=i,i.prev=s,r.next=s,s.prev=r,s}function S(t,e,i,s){var n=new C(t,e,i);return s?(n.next=s.next,n.prev=s,s.next.prev=n,s.next=n):(n.prev=n,n.next=n),n}function E(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function C(t,e,i){this.i=t,this.x=e,this.y=i,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function _(t,e,i,s){for(var n=0,r=e,o=i-s;r<i;r+=s)n+=(t[o]-t[r])*(t[r+1]+t[o+1]),o=r;return n}e.deviation=function(t,e,i,s){var n=e&&e.length,r=n?e[0]*i:t.length,o=Math.abs(_(t,0,r,i));if(n)for(var a=0,h=e.length;a<h;a++){var l=e[a]*i,u=a<h-1?e[a+1]*i:t.length;o-=Math.abs(_(t,l,u,i))}var c=0;for(a=0;a<s.length;a+=3){var d=s[a]*i,f=s[a+1]*i,p=s[a+2]*i;c+=Math.abs((t[d]-t[p])*(t[f+1]-t[d+1])-(t[d]-t[f])*(t[p+1]-t[d+1]))}return 0===o&&0===c?0:Math.abs((c-o)/o)},e.flatten=function(t){for(var e=t[0][0].length,i={vertices:[],holes:[],dimensions:e},s=0,n=0;n<t.length;n++){for(var r=0;r<t[n].length;r++)for(var o=0;o<e;o++)i.vertices.push(t[n][r][o]);n>0&&(s+=t[n-1].length,i.holes.push(s))}return i},t.exports=e},13829:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(87841);t.exports=function(t,e){void 0===e&&(e=new s);for(var i,n=1/0,r=1/0,o=-n,a=-r,h=0;h<t.points.length;h++)i=t.points[h],n=Math.min(n,i.x),r=Math.min(r,i.y),o=Math.max(o,i.x),a=Math.max(a,i.y);return e.x=n,e.y=r,e.width=o-n,e.height=a-r,e}},26173:t=>{t.exports=function(t,e){void 0===e&&(e=[]);for(var i=0;i<t.points.length;i++)e.push(t.points[i].x),e.push(t.points[i].y);return e}},9564:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(35001),n=i(23031),r=i(30052);t.exports=function(t,e,i,o){void 0===o&&(o=[]);var a=t.points,h=r(t);!e&&i>0&&(e=h/i);for(var l=0;l<e;l++)for(var u=h*(l/e),c=0,d=0;d<a.length;d++){var f=a[d],p=a[(d+1)%a.length],g=new n(f.x,f.y,p.x,p.y),m=s(g);if(!(u<c||u>c+m)){var v=g.getPoint((u-c)/m);o.push(v);break}c+=m}return o}},30052:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(35001),n=i(23031);t.exports=function(t){for(var e=t.points,i=0,r=0;r<e.length;r++){var o=e[r],a=e[(r+1)%e.length],h=new n(o.x,o.y,a.x,a.y);i+=s(h)}return i}},25717:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(83419),n=i(63814),r=i(9564),o=i(23777),a=new s({initialize:function(t){this.type=o.POLYGON,this.area=0,this.points=[],t&&this.setTo(t)},contains:function(t,e){return n(this,t,e)},setTo:function(t){if(this.area=0,this.points=[],"string"==typeof t&&(t=t.split(" ")),!Array.isArray(t))return this;for(var e,i=0;i<t.length;i++)e={x:0,y:0},"number"==typeof t[i]||"string"==typeof t[i]?(e.x=parseFloat(t[i]),e.y=parseFloat(t[i+1]),i++):Array.isArray(t[i])?(e.x=t[i][0],e.y=t[i][1]):(e.x=t[i].x,e.y=t[i].y),this.points.push(e);return this.calculateArea(),this},calculateArea:function(){if(this.points.length<3)return this.area=0,this.area;for(var t,e,i=0,s=0;s<this.points.length-1;s++)t=this.points[s],i+=((e=this.points[s+1]).x-t.x)*(t.y+e.y);return t=this.points[0],e=this.points[this.points.length-1],i+=(t.x-e.x)*(e.y+t.y),this.area=.5*-i,this.area},getPoints:function(t,e,i){return r(this,t,e,i)}});t.exports=a},8133:t=>{t.exports=function(t){return t.points.reverse(),t}},29524:t=>{function e(t,e){var i=t.x-e.x,s=t.y-e.y;return i*i+s*s}function i(t,e,i){var s=e.x,n=e.y,r=i.x-s,o=i.y-n;if(0!==r||0!==o){var a=((t.x-s)*r+(t.y-n)*o)/(r*r+o*o);a>1?(s=i.x,n=i.y):a>0&&(s+=r*a,n+=o*a)}return(r=t.x-s)*r+(o=t.y-n)*o}function s(t,e,n,r,o){for(var a,h=r,l=e+1;l<n;l++){var u=i(t[l],t[e],t[n]);u>h&&(a=l,h=u)}h>r&&(a-e>1&&s(t,e,a,r,o),o.push(t[a]),n-a>1&&s(t,a,n,r,o))}function n(t,e){var i=t.length-1,n=[t[0]];return s(t,0,i,e,n),n.push(t[i]),n}t.exports=function(t,i,s){void 0===i&&(i=1),void 0===s&&(s=!1);var r=t.points;if(r.length>2){var o=i*i;s||(r=function(t,i){for(var s,n=t[0],r=[n],o=1,a=t.length;o<a;o++)e(s=t[o],n)>i&&(r.push(s),n=s);return n!==s&&r.push(s),r}(r,o)),t.setTo(n(r,o))}return t}},5469:t=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @author       Igor Ognichenko <ognichenko.igor@gmail.com>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var e=function(t,e){return t[0]=e[0],t[1]=e[1],t};t.exports=function(t){var i,s=[],n=t.points;for(i=0;i<n.length;i++)s.push([n[i].x,n[i].y]);var r=[];for(s.length>0&&r.push(e([0,0],s[0])),i=0;i<s.length-1;i++){var o=s[i],a=s[i+1],h=o[0],l=o[1],u=a[0],c=a[1];r.push([.85*h+.15*u,.85*l+.15*c]),r.push([.15*h+.85*u,.15*l+.85*c])}return s.length>1&&r.push(e([0,0],s[s.length-1])),t.setTo(r)}},24709:t=>{t.exports=function(t,e,i){for(var s=t.points,n=0;n<s.length;n++)s[n].x+=e,s[n].y+=i;return t}},58423:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(25717);s.Clone=i(12306),s.Contains=i(63814),s.ContainsPoint=i(99338),s.Earcut=i(94811),s.GetAABB=i(13829),s.GetNumberArray=i(26173),s.GetPoints=i(9564),s.Perimeter=i(30052),s.Reverse=i(8133),s.Simplify=i(29524),s.Smooth=i(5469),s.Translate=i(24709),t.exports=s},62224:t=>{t.exports=function(t){return t.width*t.height}},98615:t=>{t.exports=function(t){return t.x=Math.ceil(t.x),t.y=Math.ceil(t.y),t}},31688:t=>{t.exports=function(t){return t.x=Math.ceil(t.x),t.y=Math.ceil(t.y),t.width=Math.ceil(t.width),t.height=Math.ceil(t.height),t}},67502:t=>{t.exports=function(t,e,i){return t.x=e-t.width/2,t.y=i-t.height/2,t}},65085:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(87841);t.exports=function(t){return new s(t.x,t.y,t.width,t.height)}},37303:t=>{t.exports=function(t,e,i){return!(t.width<=0||t.height<=0)&&t.x<=e&&t.x+t.width>=e&&t.y<=i&&t.y+t.height>=i}},96553:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(37303);t.exports=function(t,e){return s(t,e.x,e.y)}},70273:t=>{t.exports=function(t,e){return!(e.width*e.height>t.width*t.height)&&e.x>t.x&&e.x<t.right&&e.right>t.x&&e.right<t.right&&e.y>t.y&&e.y<t.bottom&&e.bottom>t.y&&e.bottom<t.bottom}},43459:t=>{t.exports=function(t,e){return e.setTo(t.x,t.y,t.width,t.height)}},77493:t=>{t.exports=function(t,e){return void 0===e&&(e=[]),e.push({x:t.x,y:t.y}),e.push({x:t.right,y:t.y}),e.push({x:t.right,y:t.bottom}),e.push({x:t.x,y:t.bottom}),e}},9219:t=>{t.exports=function(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}},53751:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(8249);t.exports=function(t,e){var i=s(t);return i<s(e)?t.setSize(e.height*i,e.height):t.setSize(e.width,e.width/i),t.setPosition(e.centerX-t.width/2,e.centerY-t.height/2)}},16088:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(8249);t.exports=function(t,e){var i=s(t);return i>s(e)?t.setSize(e.height*i,e.height):t.setSize(e.width,e.width/i),t.setPosition(e.centerX-t.width/2,e.centerY-t.height/2)}},80774:t=>{t.exports=function(t){return t.x=Math.floor(t.x),t.y=Math.floor(t.y),t}},83859:t=>{t.exports=function(t){return t.x=Math.floor(t.x),t.y=Math.floor(t.y),t.width=Math.floor(t.width),t.height=Math.floor(t.height),t}},19217:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(87841),n=i(36383);t.exports=function(t,e){if(void 0===e&&(e=new s),0===t.length)return e;for(var i,r,o,a=Number.MAX_VALUE,h=Number.MAX_VALUE,l=n.MIN_SAFE_INTEGER,u=n.MIN_SAFE_INTEGER,c=0;c<t.length;c++)i=t[c],Array.isArray(i)?(r=i[0],o=i[1]):(r=i.x,o=i.y),a=Math.min(a,r),h=Math.min(h,o),l=Math.max(l,r),u=Math.max(u,o);return e.x=a,e.y=h,e.width=l-a,e.height=u-h,e}},9477:(t,e,i)=>{
/**
                     * @author       samme
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(87841);t.exports=function(t,e,i,n,r){return void 0===r&&(r=new s),r.setTo(Math.min(t,i),Math.min(e,n),Math.abs(t-i),Math.abs(e-n))}},8249:t=>{t.exports=function(t){return 0===t.height?NaN:t.width/t.height}},27165:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(2141);t.exports=function(t,e){return void 0===e&&(e=new s),e.x=t.centerX,e.y=t.centerY,e}},20812:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(13019),n=i(2141);t.exports=function(t,e,i){if(void 0===i&&(i=new n),e<=0||e>=1)return i.x=t.x,i.y=t.y,i;var r=s(t)*e;return e>.5?(r-=t.width+t.height)<=t.width?(i.x=t.right-r,i.y=t.bottom):(i.x=t.x,i.y=t.bottom-(r-t.width)):r<=t.width?(i.x=t.x+r,i.y=t.y):(i.x=t.right,i.y=t.y+(r-t.width)),i}},34819:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(20812),n=i(13019);t.exports=function(t,e,i,r){void 0===r&&(r=[]),!e&&i>0&&(e=n(t)/i);for(var o=0;o<e;o++){var a=o/e;r.push(s(t,a))}return r}},51313:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(2141);t.exports=function(t,e){return void 0===e&&(e=new s),e.x=t.width,e.y=t.height,e}},86091:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(67502);t.exports=function(t,e,i){var n=t.centerX,r=t.centerY;return t.setSize(t.width+2*e,t.height+2*i),s(t,n,r)}},53951:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(87841),n=i(59996);t.exports=function(t,e,i){return void 0===i&&(i=new s),n(t,e)?(i.x=Math.max(t.x,e.x),i.y=Math.max(t.y,e.y),i.width=Math.min(t.right,e.right)-i.x,i.height=Math.min(t.bottom,e.bottom)-i.y):i.setEmpty(),i}},14649:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(13019),n=i(2141);t.exports=function(t,e,i,r){if(void 0===r&&(r=[]),!e&&!i)return r;e?i=Math.round(s(t)/e):e=s(t)/i;for(var o=t.x,a=t.y,h=0,l=0;l<i;l++)switch(r.push(new n(o,a)),h){case 0:(o+=e)>=t.right&&(h=1,a+=o-t.right,o=t.right);break;case 1:(a+=e)>=t.bottom&&(h=2,o-=a-t.bottom,a=t.bottom);break;case 2:(o-=e)<=t.left&&(h=3,a-=t.left-o,o=t.left);break;case 3:(a-=e)<=t.top&&(h=0,a=t.top)}return r}},33595:t=>{t.exports=function(t,e){for(var i=t.x,s=t.right,n=t.y,r=t.bottom,o=0;o<e.length;o++)i=Math.min(i,e[o].x),s=Math.max(s,e[o].x),n=Math.min(n,e[o].y),r=Math.max(r,e[o].y);return t.x=i,t.y=n,t.width=s-i,t.height=r-n,t}},20074:t=>{t.exports=function(t,e){var i=Math.min(t.x,e.x),s=Math.max(t.right,e.right);t.x=i,t.width=s-i;var n=Math.min(t.y,e.y),r=Math.max(t.bottom,e.bottom);return t.y=n,t.height=r-n,t}},92171:t=>{t.exports=function(t,e,i){var s=Math.min(t.x,e),n=Math.max(t.right,e);t.x=s,t.width=n-s;var r=Math.min(t.y,i),o=Math.max(t.bottom,i);return t.y=r,t.height=o-r,t}},42981:t=>{t.exports=function(t,e,i){return t.x+=e,t.y+=i,t}},46907:t=>{t.exports=function(t,e){return t.x+=e.x,t.y+=e.y,t}},60170:t=>{t.exports=function(t,e){return t.x<e.right&&t.right>e.x&&t.y<e.bottom&&t.bottom>e.y}},13019:t=>{t.exports=function(t){return 2*(t.width+t.height)}},85133:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(2141),n=i(39506);t.exports=function(t,e,i){void 0===i&&(i=new s),e=n(e);var r=Math.sin(e),o=Math.cos(e),a=o>0?t.width/2:t.width/-2,h=r>0?t.height/2:t.height/-2;return Math.abs(a*r)<Math.abs(h*o)?h=a*r/o:a=h*o/r,i.x=a+t.centerX,i.y=h+t.centerY,i}},26597:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(2141);t.exports=function(t,e){return void 0===e&&(e=new s),e.x=t.x+Math.random()*t.width,e.y=t.y+Math.random()*t.height,e}},86470:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(30976),n=i(70273),r=i(2141);t.exports=function(t,e,i){if(void 0===i&&(i=new r),n(t,e))switch(s(0,3)){case 0:i.x=t.x+Math.random()*(e.right-t.x),i.y=t.y+Math.random()*(e.top-t.y);break;case 1:i.x=e.x+Math.random()*(t.right-e.x),i.y=e.bottom+Math.random()*(t.bottom-e.bottom);break;case 2:i.x=t.x+Math.random()*(e.x-t.x),i.y=e.y+Math.random()*(t.bottom-e.y);break;case 3:i.x=e.right+Math.random()*(t.right-e.right),i.y=t.y+Math.random()*(e.bottom-t.y)}return i}},87841:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(83419),n=i(37303),r=i(20812),o=i(34819),a=i(23777),h=i(23031),l=i(26597),u=new s({initialize:function(t,e,i,s){void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=0),void 0===s&&(s=0),this.type=a.RECTANGLE,this.x=t,this.y=e,this.width=i,this.height=s},contains:function(t,e){return n(this,t,e)},getPoint:function(t,e){return r(this,t,e)},getPoints:function(t,e,i){return o(this,t,e,i)},getRandomPoint:function(t){return l(this,t)},setTo:function(t,e,i,s){return this.x=t,this.y=e,this.width=i,this.height=s,this},setEmpty:function(){return this.setTo(0,0,0,0)},setPosition:function(t,e){return void 0===e&&(e=t),this.x=t,this.y=e,this},setSize:function(t,e){return void 0===e&&(e=t),this.width=t,this.height=e,this},isEmpty:function(){return this.width<=0||this.height<=0},getLineA:function(t){return void 0===t&&(t=new h),t.setTo(this.x,this.y,this.right,this.y),t},getLineB:function(t){return void 0===t&&(t=new h),t.setTo(this.right,this.y,this.right,this.bottom),t},getLineC:function(t){return void 0===t&&(t=new h),t.setTo(this.right,this.bottom,this.x,this.bottom),t},getLineD:function(t){return void 0===t&&(t=new h),t.setTo(this.x,this.bottom,this.x,this.y),t},left:{get:function(){return this.x},set:function(t){t>=this.right?this.width=0:this.width=this.right-t,this.x=t}},right:{get:function(){return this.x+this.width},set:function(t){t<=this.x?this.width=0:this.width=t-this.x}},top:{get:function(){return this.y},set:function(t){t>=this.bottom?this.height=0:this.height=this.bottom-t,this.y=t}},bottom:{get:function(){return this.y+this.height},set:function(t){t<=this.y?this.height=0:this.height=t-this.y}},centerX:{get:function(){return this.x+this.width/2},set:function(t){this.x=t-this.width/2}},centerY:{get:function(){return this.y+this.height/2},set:function(t){this.y=t-this.height/2}}});t.exports=u},94845:t=>{t.exports=function(t,e){return t.width===e.width&&t.height===e.height}},31730:t=>{t.exports=function(t,e,i){return void 0===i&&(i=e),t.width*=e,t.height*=i,t}},36899:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(87841);t.exports=function(t,e,i){void 0===i&&(i=new s);var n=Math.min(t.x,e.x),r=Math.min(t.y,e.y),o=Math.max(t.right,e.right)-n,a=Math.max(t.bottom,e.bottom)-r;return i.setTo(n,r,o,a)}},93232:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(87841);s.Area=i(62224),s.Ceil=i(98615),s.CeilAll=i(31688),s.CenterOn=i(67502),s.Clone=i(65085),s.Contains=i(37303),s.ContainsPoint=i(96553),s.ContainsRect=i(70273),s.CopyFrom=i(43459),s.Decompose=i(77493),s.Equals=i(9219),s.FitInside=i(53751),s.FitOutside=i(16088),s.Floor=i(80774),s.FloorAll=i(83859),s.FromPoints=i(19217),s.FromXY=i(9477),s.GetAspectRatio=i(8249),s.GetCenter=i(27165),s.GetPoint=i(20812),s.GetPoints=i(34819),s.GetSize=i(51313),s.Inflate=i(86091),s.Intersection=i(53951),s.MarchingAnts=i(14649),s.MergePoints=i(33595),s.MergeRect=i(20074),s.MergeXY=i(92171),s.Offset=i(42981),s.OffsetPoint=i(46907),s.Overlaps=i(60170),s.Perimeter=i(13019),s.PerimeterPoint=i(85133),s.Random=i(26597),s.RandomOutside=i(86470),s.SameDimensions=i(94845),s.Scale=i(31730),s.Union=i(36899),t.exports=s},41658:t=>{t.exports=function(t){var e=t.x1,i=t.y1,s=t.x2,n=t.y2,r=t.x3,o=t.y3;return Math.abs(((r-e)*(n-i)-(s-e)*(o-i))/2)}},39208:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(16483);t.exports=function(t,e,i){var n=i*(Math.sqrt(3)/2);return new s(t,e,t+i/2,e+n,t-i/2,e+n)}},39545:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(94811),n=i(16483);t.exports=function(t,e,i,r,o){void 0===e&&(e=null),void 0===i&&(i=1),void 0===r&&(r=1),void 0===o&&(o=[]);for(var a,h,l,u,c,d,f,p,g,m=s(t,e),v=0;v<m.length;v+=3)a=m[v],h=m[v+1],l=m[v+2],u=t[2*a]*i,c=t[2*a+1]*r,d=t[2*h]*i,f=t[2*h+1]*r,p=t[2*l]*i,g=t[2*l+1]*r,o.push(new n(u,c,d,f,p,g));return o}},90301:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(16483);t.exports=function(t,e,i,n){return void 0===n&&(n=i),new s(t,e,t,e-n,t+i,e)}},23707:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(97523),n=i(13584);t.exports=function(t,e,i,r){void 0===r&&(r=s);var o=r(t),a=e-o.x,h=i-o.y;return n(t,a,h)}},97523:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(2141);t.exports=function(t,e){return void 0===e&&(e=new s),e.x=(t.x1+t.x2+t.x3)/3,e.y=(t.y1+t.y2+t.y3)/3,e}},24951:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(26099);function n(t,e,i,s){return t*s-e*i}t.exports=function(t,e){void 0===e&&(e=new s);var i=t.x3,r=t.y3,o=t.x1-i,a=t.y1-r,h=t.x2-i,l=t.y2-r,u=2*n(o,a,h,l),c=n(a,o*o+a*a,l,h*h+l*l),d=n(o,o*o+a*a,h,h*h+l*l);return e.x=i-c/u,e.y=r+d/u,e}},85614:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(96503);t.exports=function(t,e){void 0===e&&(e=new s);var i,n,r=t.x1,o=t.y1,a=t.x2,h=t.y2,l=t.x3,u=t.y3,c=a-r,d=h-o,f=l-r,p=u-o,g=c*(r+a)+d*(o+h),m=f*(r+l)+p*(o+u),v=2*(c*(u-h)-d*(l-a));if(Math.abs(v)<1e-6){var y=Math.min(r,a,l),x=Math.min(o,h,u);i=.5*(Math.max(r,a,l)-y),n=.5*(Math.max(o,h,u)-x),e.x=y+i,e.y=x+n,e.radius=Math.sqrt(i*i+n*n)}else e.x=(p*g-d*m)/v,e.y=(c*m-f*g)/v,i=e.x-r,n=e.y-o,e.radius=Math.sqrt(i*i+n*n);return e}},74422:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(16483);t.exports=function(t){return new s(t.x1,t.y1,t.x2,t.y2,t.x3,t.y3)}},10690:t=>{t.exports=function(t,e,i){var s=t.x3-t.x1,n=t.y3-t.y1,r=t.x2-t.x1,o=t.y2-t.y1,a=e-t.x1,h=i-t.y1,l=s*s+n*n,u=s*r+n*o,c=s*a+n*h,d=r*r+o*o,f=r*a+o*h,p=l*d-u*u,g=0===p?0:1/p,m=(d*c-u*f)*g,v=(l*f-u*c)*g;return m>=0&&v>=0&&m+v<1}},48653:t=>{t.exports=function(t,e,i,s){void 0===i&&(i=!1),void 0===s&&(s=[]);for(var n,r,o,a,h,l,u=t.x3-t.x1,c=t.y3-t.y1,d=t.x2-t.x1,f=t.y2-t.y1,p=u*u+c*c,g=u*d+c*f,m=d*d+f*f,v=p*m-g*g,y=0===v?0:1/v,x=t.x1,T=t.y1,w=0;w<e.length&&(r=(p*(l=d*(o=e[w].x-x)+f*(a=e[w].y-T))-g*(h=u*o+c*a))*y,!((n=(m*h-g*l)*y)>=0&&r>=0&&n+r<1&&(s.push({x:e[w].x,y:e[w].y}),i)));w++);return s}},96006:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(10690);t.exports=function(t,e){return s(t,e.x,e.y)}},71326:t=>{t.exports=function(t,e){return e.setTo(t.x1,t.y1,t.x2,t.y2,t.x3,t.y3)}},71694:t=>{t.exports=function(t,e){return void 0===e&&(e=[]),e.push({x:t.x1,y:t.y1}),e.push({x:t.x2,y:t.y2}),e.push({x:t.x3,y:t.y3}),e}},33522:t=>{t.exports=function(t,e){return t.x1===e.x1&&t.y1===e.y1&&t.x2===e.x2&&t.y2===e.y2&&t.x3===e.x3&&t.y3===e.y3}},20437:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(2141),n=i(35001);t.exports=function(t,e,i){void 0===i&&(i=new s);var r=t.getLineA(),o=t.getLineB(),a=t.getLineC();if(e<=0||e>=1)return i.x=r.x1,i.y=r.y1,i;var h=n(r),l=n(o),u=n(a),c=(h+l+u)*e,d=0;return c<h?(d=c/h,i.x=r.x1+(r.x2-r.x1)*d,i.y=r.y1+(r.y2-r.y1)*d):c>h+l?(d=(c-=h+l)/u,i.x=a.x1+(a.x2-a.x1)*d,i.y=a.y1+(a.y2-a.y1)*d):(d=(c-=h)/l,i.x=o.x1+(o.x2-o.x1)*d,i.y=o.y1+(o.y2-o.y1)*d),i}},80672:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(35001),n=i(2141);t.exports=function(t,e,i,r){void 0===r&&(r=[]);var o=t.getLineA(),a=t.getLineB(),h=t.getLineC(),l=s(o),u=s(a),c=s(h),d=l+u+c;!e&&i>0&&(e=d/i);for(var f=0;f<e;f++){var p=d*(f/e),g=0,m=new n;p<l?(g=p/l,m.x=o.x1+(o.x2-o.x1)*g,m.y=o.y1+(o.y2-o.y1)*g):p>l+u?(g=(p-=l+u)/c,m.x=h.x1+(h.x2-h.x1)*g,m.y=h.y1+(h.y2-h.y1)*g):(g=(p-=l)/u,m.x=a.x1+(a.x2-a.x1)*g,m.y=a.y1+(a.y2-a.y1)*g),r.push(m)}return r}},39757:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(2141);function n(t,e,i,s){var n=t-i,r=e-s,o=n*n+r*r;return Math.sqrt(o)}t.exports=function(t,e){void 0===e&&(e=new s);var i=t.x1,r=t.y1,o=t.x2,a=t.y2,h=t.x3,l=t.y3,u=n(h,l,o,a),c=n(i,r,h,l),d=n(o,a,i,r),f=u+c+d;return e.x=(i*u+o*c+h*d)/f,e.y=(r*u+a*c+l*d)/f,e}},13584:t=>{t.exports=function(t,e,i){return t.x1+=e,t.y1+=i,t.x2+=e,t.y2+=i,t.x3+=e,t.y3+=i,t}},1376:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(35001);t.exports=function(t){var e=t.getLineA(),i=t.getLineB(),n=t.getLineC();return s(e)+s(i)+s(n)}},90260:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(2141);t.exports=function(t,e){void 0===e&&(e=new s);var i=t.x2-t.x1,n=t.y2-t.y1,r=t.x3-t.x1,o=t.y3-t.y1,a=Math.random(),h=Math.random();return a+h>=1&&(a=1-a,h=1-h),e.x=t.x1+(i*a+r*h),e.y=t.y1+(n*a+o*h),e}},52172:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(99614),n=i(39757);t.exports=function(t,e){var i=n(t);return s(t,i.x,i.y,e)}},49907:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(99614);t.exports=function(t,e,i){return s(t,e.x,e.y,i)}},99614:t=>{t.exports=function(t,e,i,s){var n=Math.cos(s),r=Math.sin(s),o=t.x1-e,a=t.y1-i;return t.x1=o*n-a*r+e,t.y1=o*r+a*n+i,o=t.x2-e,a=t.y2-i,t.x2=o*n-a*r+e,t.y2=o*r+a*n+i,o=t.x3-e,a=t.y3-i,t.x3=o*n-a*r+e,t.y3=o*r+a*n+i,t}},16483:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(83419),n=i(10690),r=i(20437),o=i(80672),a=i(23777),h=i(23031),l=i(90260),u=new s({initialize:function(t,e,i,s,n,r){void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=0),void 0===s&&(s=0),void 0===n&&(n=0),void 0===r&&(r=0),this.type=a.TRIANGLE,this.x1=t,this.y1=e,this.x2=i,this.y2=s,this.x3=n,this.y3=r},contains:function(t,e){return n(this,t,e)},getPoint:function(t,e){return r(this,t,e)},getPoints:function(t,e,i){return o(this,t,e,i)},getRandomPoint:function(t){return l(this,t)},setTo:function(t,e,i,s,n,r){return void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=0),void 0===s&&(s=0),void 0===n&&(n=0),void 0===r&&(r=0),this.x1=t,this.y1=e,this.x2=i,this.y2=s,this.x3=n,this.y3=r,this},getLineA:function(t){return void 0===t&&(t=new h),t.setTo(this.x1,this.y1,this.x2,this.y2),t},getLineB:function(t){return void 0===t&&(t=new h),t.setTo(this.x2,this.y2,this.x3,this.y3),t},getLineC:function(t){return void 0===t&&(t=new h),t.setTo(this.x3,this.y3,this.x1,this.y1),t},left:{get:function(){return Math.min(this.x1,this.x2,this.x3)},set:function(t){var e=0;e=this.x1<=this.x2&&this.x1<=this.x3?this.x1-t:this.x2<=this.x1&&this.x2<=this.x3?this.x2-t:this.x3-t,this.x1-=e,this.x2-=e,this.x3-=e}},right:{get:function(){return Math.max(this.x1,this.x2,this.x3)},set:function(t){var e=0;e=this.x1>=this.x2&&this.x1>=this.x3?this.x1-t:this.x2>=this.x1&&this.x2>=this.x3?this.x2-t:this.x3-t,this.x1-=e,this.x2-=e,this.x3-=e}},top:{get:function(){return Math.min(this.y1,this.y2,this.y3)},set:function(t){var e=0;e=this.y1<=this.y2&&this.y1<=this.y3?this.y1-t:this.y2<=this.y1&&this.y2<=this.y3?this.y2-t:this.y3-t,this.y1-=e,this.y2-=e,this.y3-=e}},bottom:{get:function(){return Math.max(this.y1,this.y2,this.y3)},set:function(t){var e=0;e=this.y1>=this.y2&&this.y1>=this.y3?this.y1-t:this.y2>=this.y1&&this.y2>=this.y3?this.y2-t:this.y3-t,this.y1-=e,this.y2-=e,this.y3-=e}}});t.exports=u},84435:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(16483);s.Area=i(41658),s.BuildEquilateral=i(39208),s.BuildFromPolygon=i(39545),s.BuildRight=i(90301),s.CenterOn=i(23707),s.Centroid=i(97523),s.CircumCenter=i(24951),s.CircumCircle=i(85614),s.Clone=i(74422),s.Contains=i(10690),s.ContainsArray=i(48653),s.ContainsPoint=i(96006),s.CopyFrom=i(71326),s.Decompose=i(71694),s.Equals=i(33522),s.GetPoint=i(20437),s.GetPoints=i(80672),s.InCenter=i(39757),s.Perimeter=i(1376),s.Offset=i(13584),s.Random=i(90260),s.Rotate=i(52172),s.RotateAroundPoint=i(49907),s.RotateAroundXY=i(99614),t.exports=s},74457:t=>{t.exports=function(t,e,i){return{gameObject:t,enabled:!0,draggable:!1,dropZone:!1,cursor:!1,target:null,camera:null,hitArea:e,hitAreaCallback:i,hitAreaDebug:null,customHitArea:!1,localX:0,localY:0,dragState:0,dragStartX:0,dragStartY:0,dragStartXGlobal:0,dragStartYGlobal:0,dragStartCamera:null,dragX:0,dragY:0}}},84409:t=>{t.exports=function(t,e){return function(i,s,n,r){var o=t.getPixelAlpha(s,n,r.texture.key,r.frame.name);return o&&o>=e}}},7003:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(83419),n=i(93301),r=i(50792),o=i(8214),a=i(8443),h=i(78970),l=i(85098),u=i(42515),c=i(36210),d=i(61340),f=i(85955),p=new s({initialize:function(t,e){this.game=t,this.scaleManager,this.canvas,this.config=e,this.enabled=!0,this.events=new r,this.isOver=!0,this.defaultCursor="",this.keyboard=e.inputKeyboard?new h(this):null,this.mouse=e.inputMouse?new l(this):null,this.touch=e.inputTouch?new c(this):null,this.pointers=[],this.pointersTotal=e.inputActivePointers;for(var i=0;i<=this.pointersTotal;i++){var s=new u(this,i);s.smoothFactor=e.inputSmoothFactor,this.pointers.push(s)}this.mousePointer=e.inputMouse?this.pointers[0]:null,this.activePointer=this.pointers[0],this.globalTopOnly=!0,this.time=0,this._tempPoint={x:0,y:0},this._tempHitTest=[],this._tempMatrix=new d,this._tempMatrix2=new d,this._tempSkip=!1,this.mousePointerContainer=[this.mousePointer],t.events.once(a.BOOT,this.boot,this)},boot:function(){var t=this.game,e=t.events;this.canvas=t.canvas,this.scaleManager=t.scale,this.events.emit(o.MANAGER_BOOT),e.on(a.PRE_RENDER,this.preRender,this),e.once(a.DESTROY,this.destroy,this)},setCanvasOver:function(t){this.isOver=!0,this.events.emit(o.GAME_OVER,t)},setCanvasOut:function(t){this.isOver=!1,this.events.emit(o.GAME_OUT,t)},preRender:function(){var t=this.game.loop.now,e=this.game.loop.delta,i=this.game.scene.getScenes(!0,!0);this.time=t,this.events.emit(o.MANAGER_UPDATE);for(var s=0;s<i.length;s++){var n=i[s];if(n.sys.input&&n.sys.input.updatePoll(t,e)&&this.globalTopOnly)return}},setDefaultCursor:function(t){this.defaultCursor=t,this.canvas.style.cursor!==t&&(this.canvas.style.cursor=t)},setCursor:function(t){t.cursor&&(this.canvas.style.cursor=t.cursor)},resetCursor:function(t,e){(e||t&&t.cursor)&&this.canvas&&(this.canvas.style.cursor=this.defaultCursor)},addPointer:function(t){void 0===t&&(t=1);var e=[];this.pointersTotal+t>10&&(t=10-this.pointersTotal);for(var i=0;i<t;i++){var s=this.pointers.length,n=new u(this,s);n.smoothFactor=this.config.inputSmoothFactor,this.pointers.push(n),this.pointersTotal++,e.push(n)}return e},updateInputPlugins:function(t,e){var i=this.game.scene.getScenes(!1,!0);this._tempSkip=!1;for(var s=0;s<i.length;s++){var n=i[s];if(n.sys.input&&(n.sys.input.update(t,e)&&this.globalTopOnly||this._tempSkip))return}},onTouchStart:function(t){for(var e=this.pointers,i=[],s=0;s<t.changedTouches.length;s++)for(var r=t.changedTouches[s],o=1;o<e.length;o++){var a=e[o];if(!a.active){a.touchstart(r,t),this.activePointer=a,i.push(a);break}}this.updateInputPlugins(n.TOUCH_START,i)},onTouchMove:function(t){for(var e=this.pointers,i=[],s=0;s<t.changedTouches.length;s++)for(var r=t.changedTouches[s],o=1;o<e.length;o++){var a=e[o];if(a.active&&a.identifier===r.identifier){var h=document.elementFromPoint(r.clientX,r.clientY)===this.canvas;!this.isOver&&h?this.setCanvasOver(t):this.isOver&&!h&&this.setCanvasOut(t),this.isOver&&(a.touchmove(r,t),this.activePointer=a,i.push(a));break}}this.updateInputPlugins(n.TOUCH_MOVE,i)},onTouchEnd:function(t){for(var e=this.pointers,i=[],s=0;s<t.changedTouches.length;s++)for(var r=t.changedTouches[s],o=1;o<e.length;o++){var a=e[o];if(a.active&&a.identifier===r.identifier){a.touchend(r,t),i.push(a);break}}this.updateInputPlugins(n.TOUCH_END,i)},onTouchCancel:function(t){for(var e=this.pointers,i=[],s=0;s<t.changedTouches.length;s++)for(var r=t.changedTouches[s],o=1;o<e.length;o++){var a=e[o];if(a.active&&a.identifier===r.identifier){a.touchcancel(r,t),i.push(a);break}}this.updateInputPlugins(n.TOUCH_CANCEL,i)},onMouseDown:function(t){var e=this.mousePointer;e.down(t),e.updateMotion(),this.activePointer=e,this.updateInputPlugins(n.MOUSE_DOWN,this.mousePointerContainer)},onMouseMove:function(t){var e=this.mousePointer;e.move(t),e.updateMotion(),this.activePointer=e,this.updateInputPlugins(n.MOUSE_MOVE,this.mousePointerContainer)},onMouseUp:function(t){var e=this.mousePointer;e.up(t),e.updateMotion(),this.activePointer=e,this.updateInputPlugins(n.MOUSE_UP,this.mousePointerContainer)},onMouseWheel:function(t){var e=this.mousePointer;e.wheel(t),this.activePointer=e,this.updateInputPlugins(n.MOUSE_WHEEL,this.mousePointerContainer)},onPointerLockChange:function(t){var e=this.mouse.locked;this.mousePointer.locked=e,this.events.emit(o.POINTERLOCK_CHANGE,t,e)},inputCandidate:function(t,e){var i=t.input;if(!i||!i.enabled||!t.willRender(e))return!1;var s=!0,n=t.parentContainer;if(n)do{if(!n.willRender(e)){s=!1;break}n=n.parentContainer}while(n);return s},hitTest:function(t,e,i,s){void 0===s&&(s=this._tempHitTest);var n=this._tempPoint,r=i.scrollX,o=i.scrollY;s.length=0;var a=t.x,h=t.y;i.getWorldPoint(a,h,n),t.worldX=n.x,t.worldY=n.y;for(var l={x:0,y:0},u=this._tempMatrix,c=this._tempMatrix2,d=0;d<e.length;d++){var p=e[d];if(this.inputCandidate(p,i)){var g=n.x+r*p.scrollFactorX-r,m=n.y+o*p.scrollFactorY-o;p.parentContainer?(p.getWorldTransformMatrix(u,c),u.applyInverse(g,m,l)):f(g,m,p.x,p.y,p.rotation,p.scaleX,p.scaleY,l),this.pointWithinHitArea(p,l.x,l.y)&&s.push(p)}}return s},pointWithinHitArea:function(t,e,i){e+=t.displayOriginX,i+=t.displayOriginY;var s=t.input;return!(!s||!s.hitAreaCallback(s.hitArea,e,i,t)||(s.localX=e,s.localY=i,0))},pointWithinInteractiveObject:function(t,e,i){return!!t.hitArea&&(e+=t.gameObject.displayOriginX,i+=t.gameObject.displayOriginY,t.localX=e,t.localY=i,t.hitAreaCallback(t.hitArea,e,i,t))},transformPointer:function(t,e,i,s){var n=t.position,r=t.prevPosition;r.x=n.x,r.y=n.y;var o=this.scaleManager.transformX(e),a=this.scaleManager.transformY(i),h=t.smoothFactor;s&&0!==h?(n.x=o*h+r.x*(1-h),n.y=a*h+r.y*(1-h)):(n.x=o,n.y=a)},destroy:function(){this.events.removeAllListeners(),this.game.events.off(a.PRE_RENDER),this.keyboard&&this.keyboard.destroy(),this.mouse&&this.mouse.destroy(),this.touch&&this.touch.destroy();for(var t=0;t<this.pointers.length;t++)this.pointers[t].destroy();this.pointers=[],this._tempHitTest=[],this._tempMatrix.destroy(),this.canvas=null,this.game=null}});t.exports=p},48205:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(96503),n=i(87902),r=i(83419),o=i(93301),a=i(74457),h=i(84409),l=i(20339),u=i(8497),c=i(81154),d=i(8214),f=i(50792),p=i(95540),g=i(23777),m=i(89639),v=i(41212),y=i(37277),x=i(87841),T=i(37303),w=i(44594),b=i(16483),S=i(10690),E=new r({Extends:f,initialize:function(t){f.call(this),this.scene=t,this.systems=t.sys,this.settings=t.sys.settings,this.manager=t.sys.game.input,this.pluginEvents=new f,this.enabled=!0,this.displayList,this.cameras,m.install(this),this.mouse=this.manager.mouse,this.topOnly=!0,this.pollRate=-1,this._pollTimer=0;var e={cancelled:!1};this._eventContainer={stopPropagation:function(){e.cancelled=!0}},this._eventData=e,this.dragDistanceThreshold=0,this.dragTimeThreshold=0,this._temp=[],this._tempZones=[],this._list=[],this._pendingInsertion=[],this._pendingRemoval=[],this._draggable=[],this._drag={0:[],1:[],2:[],3:[],4:[],5:[],6:[],7:[],8:[],9:[],10:[]},this._dragState=[],this._over={0:[],1:[],2:[],3:[],4:[],5:[],6:[],7:[],8:[],9:[],10:[]},this._validTypes=["onDown","onUp","onOver","onOut","onMove","onDragStart","onDrag","onDragEnd","onDragEnter","onDragLeave","onDragOver","onDrop"],this._updatedThisFrame=!1,t.sys.events.once(w.BOOT,this.boot,this),t.sys.events.on(w.START,this.start,this)},boot:function(){this.cameras=this.systems.cameras,this.displayList=this.systems.displayList,this.systems.events.once(w.DESTROY,this.destroy,this),this.pluginEvents.emit(d.BOOT)},start:function(){var t=this.systems.events;t.on(w.TRANSITION_START,this.transitionIn,this),t.on(w.TRANSITION_OUT,this.transitionOut,this),t.on(w.TRANSITION_COMPLETE,this.transitionComplete,this),t.on(w.PRE_UPDATE,this.preUpdate,this),t.once(w.SHUTDOWN,this.shutdown,this),this.manager.events.on(d.GAME_OUT,this.onGameOut,this),this.manager.events.on(d.GAME_OVER,this.onGameOver,this),this.enabled=!0,this._dragState=[0,0,0,0,0,0,0,0,0,0],this.pluginEvents.emit(d.START)},onGameOver:function(t){this.isActive()&&this.emit(d.GAME_OVER,t.timeStamp,t)},onGameOut:function(t){this.isActive()&&this.emit(d.GAME_OUT,t.timeStamp,t)},preUpdate:function(){this.pluginEvents.emit(d.PRE_UPDATE);var t=this._pendingRemoval,e=this._pendingInsertion,i=t.length,s=e.length;if(0!==i||0!==s){for(var n=this._list,r=0;r<i;r++){var o=t[r],a=n.indexOf(o);a>-1&&(n.splice(a,1),this.clear(o,!0))}this._pendingRemoval.length=0,this._list=n.concat(e.splice(0))}},isActive:function(){return this.manager&&this.manager.enabled&&this.enabled&&this.scene.sys.canInput()},setCursor:function(t){this.manager&&this.manager.setCursor(t)},resetCursor:function(){this.manager&&this.manager.resetCursor(null,!0)},updatePoll:function(t,e){if(!this.isActive())return!1;if(this.pluginEvents.emit(d.UPDATE,t,e),this._updatedThisFrame)return this._updatedThisFrame=!1,!1;var i,s=this.manager.pointers;for(i=0;i<s.length;i++)s[i].updateMotion();if(0===this._list.length)return!1;var n=this.pollRate;if(-1===n)return!1;if(n>0){if(this._pollTimer-=e,!(this._pollTimer<0))return!1;this._pollTimer=this.pollRate}var r=!1;for(i=0;i<s.length;i++){var o=0,a=s[i];this._tempZones=[],this._temp=this.hitTestPointer(a),this.sortGameObjects(this._temp,a),this.sortDropZones(this._tempZones),this.topOnly&&(this._temp.length&&this._temp.splice(1),this._tempZones.length&&this._tempZones.splice(1)),o+=this.processOverOutEvents(a),2===this.getDragState(a)&&this.processDragThresholdEvent(a,t),o>0&&(r=!0)}return r},update:function(t,e){if(!this.isActive())return!1;for(var i=!1,s=0;s<e.length;s++){var n=0,r=e[s];switch(this._tempZones=[],this._temp=this.hitTestPointer(r),this.sortGameObjects(this._temp,r),this.sortDropZones(this._tempZones),this.topOnly&&(this._temp.length&&this._temp.splice(1),this._tempZones.length&&this._tempZones.splice(1)),t){case o.MOUSE_DOWN:n+=this.processDragDownEvent(r),n+=this.processDownEvents(r),n+=this.processOverOutEvents(r);break;case o.MOUSE_UP:n+=this.processDragUpEvent(r),n+=this.processUpEvents(r),n+=this.processOverOutEvents(r);break;case o.TOUCH_START:n+=this.processDragDownEvent(r),n+=this.processDownEvents(r),n+=this.processOverEvents(r);break;case o.TOUCH_END:case o.TOUCH_CANCEL:n+=this.processDragUpEvent(r),n+=this.processUpEvents(r),n+=this.processOutEvents(r);break;case o.MOUSE_MOVE:case o.TOUCH_MOVE:n+=this.processDragMoveEvent(r),n+=this.processMoveEvents(r),n+=this.processOverOutEvents(r);break;case o.MOUSE_WHEEL:n+=this.processWheelEvent(r)}n>0&&(i=!0)}return this._updatedThisFrame=!0,i},clear:function(t,e){void 0===e&&(e=!1),this.disable(t);var i=t.input;i&&(this.removeDebug(t),this.manager.resetCursor(i),i.gameObject=void 0,i.target=void 0,i.hitArea=void 0,i.hitAreaCallback=void 0,i.callbackContext=void 0,t.input=null),e||this.queueForRemoval(t);var s=this._draggable.indexOf(t);return s>-1&&this._draggable.splice(s,1),t},disable:function(t,e){void 0===e&&(e=!1);var i=t.input;i&&(i.enabled=!1,i.dragState=0);for(var s,n=this._drag,r=this._over,o=this.manager,a=0;a<o.pointers.length;a++)(s=n[a].indexOf(t))>-1&&n[a].splice(s,1),(s=r[a].indexOf(t))>-1&&r[a].splice(s,1);return e&&this.resetCursor(),this},enable:function(t,e,i,s){return void 0===s&&(s=!1),t.input?t.input.enabled=!0:this.setHitArea(t,e,i),t.input&&s&&!t.input.dropZone&&(t.input.dropZone=s),this},hitTestPointer:function(t){for(var e=this.cameras.getCamerasBelowPointer(t),i=0;i<e.length;i++){for(var s=e[i],n=this.manager.hitTest(t,this._list,s),r=0;r<n.length;r++){var o=n[r];o.input.dropZone&&this._tempZones.push(o)}if(n.length>0)return t.camera=s,n}return t.camera=e[0],[]},processDownEvents:function(t){var e=0,i=this._temp,s=this._eventData,n=this._eventContainer;s.cancelled=!1;for(var r=0;r<i.length;r++){var o=i[r];if(o.input&&o.input.enabled){if(e++,o.emit(d.GAMEOBJECT_POINTER_DOWN,t,o.input.localX,o.input.localY,n),s.cancelled||!this.isActive())break;if(o.input&&o.input.enabled&&(this.emit(d.GAMEOBJECT_DOWN,t,o,n),s.cancelled||!this.isActive()))break}}return!s.cancelled&&this.isActive()&&(t.downElement===this.manager.game.canvas?this.emit(d.POINTER_DOWN,t,i):this.emit(d.POINTER_DOWN_OUTSIDE,t)),e},getDragState:function(t){return this._dragState[t.id]},setDragState:function(t,e){this._dragState[t.id]=e},processDragThresholdEvent:function(t,e){var i=!1,s=this.dragTimeThreshold,n=this.dragDistanceThreshold;if((n>0&&l(t.x,t.y,t.downX,t.downY)>=n||s>0&&e>=t.downTime+s)&&(i=!0),i)return this.setDragState(t,3),this.processDragStartList(t)},processDragStartList:function(t){if(3!==this.getDragState(t))return 0;var e=this._drag[t.id];e.length>1&&(e=e.slice(0));for(var i=0;i<e.length;i++){var s=e[i],n=s.input;n.dragState=2,n.dragStartX=s.x,n.dragStartY=s.y,n.dragStartXGlobal=t.worldX,n.dragStartYGlobal=t.worldY,n.dragStartCamera=t.camera,n.dragX=n.dragStartXGlobal-n.dragStartX,n.dragY=n.dragStartYGlobal-n.dragStartY,s.emit(d.GAMEOBJECT_DRAG_START,t,n.dragX,n.dragY),this.emit(d.DRAG_START,t,s)}return this.setDragState(t,4),e.length},processDragDownEvent:function(t){var e=this._temp;if(0===this._draggable.length||0===e.length||!t.primaryDown||0!==this.getDragState(t))return 0;this.setDragState(t,1);for(var i=[],s=0;s<e.length;s++){var n=e[s];n.input.draggable&&0===n.input.dragState&&i.push(n)}return 0===i.length?(this.setDragState(t,0),0):(i.length>1&&(this.sortGameObjects(i,t),this.topOnly&&i.splice(1)),this._drag[t.id]=i,0===this.dragDistanceThreshold&&0===this.dragTimeThreshold?(this.setDragState(t,3),this.processDragStartList(t)):(this.setDragState(t,2),0))},processDragMoveEvent:function(t){if(2===this.getDragState(t)&&this.processDragThresholdEvent(t,this.manager.game.loop.now),4!==this.getDragState(t))return 0;var e=this._tempZones,i=this._drag[t.id];i.length>1&&(i=i.slice(0));for(var s=0;s<i.length;s++){var n,r,o=i[s],a=o.input,h=a.target;if(h){var l=e.indexOf(h);0===l?(o.emit(d.GAMEOBJECT_DRAG_OVER,t,h),this.emit(d.DRAG_OVER,t,o,h)):l>0?(o.emit(d.GAMEOBJECT_DRAG_LEAVE,t,h),this.emit(d.DRAG_LEAVE,t,o,h),a.target=e[0],h=a.target,o.emit(d.GAMEOBJECT_DRAG_ENTER,t,h),this.emit(d.DRAG_ENTER,t,o,h)):(o.emit(d.GAMEOBJECT_DRAG_LEAVE,t,h),this.emit(d.DRAG_LEAVE,t,o,h),e[0]?(a.target=e[0],h=a.target,o.emit(d.GAMEOBJECT_DRAG_ENTER,t,h),this.emit(d.DRAG_ENTER,t,o,h)):a.target=null)}else!h&&e[0]&&(a.target=e[0],h=a.target,o.emit(d.GAMEOBJECT_DRAG_ENTER,t,h),this.emit(d.DRAG_ENTER,t,o,h));var u=t.positionToCamera(a.dragStartCamera);if(o.parentContainer){var c=u.x-a.dragStartXGlobal,f=u.y-a.dragStartYGlobal,p=o.getParentRotation(),g=c*Math.cos(p)+f*Math.sin(p),m=f*Math.cos(p)-c*Math.sin(p);g*=1/o.parentContainer.scaleX,m*=1/o.parentContainer.scaleY,n=g+a.dragStartX,r=m+a.dragStartY}else n=u.x-a.dragX,r=u.y-a.dragY;o.emit(d.GAMEOBJECT_DRAG,t,n,r),this.emit(d.DRAG,t,o,n,r)}return i.length},processDragUpEvent:function(t){var e=this._drag[t.id];e.length>1&&(e=e.slice(0));for(var i=0;i<e.length;i++){var s=e[i],n=s.input;if(n&&2===n.dragState){n.dragState=0,n.dragX=n.localX-s.displayOriginX,n.dragY=n.localY-s.displayOriginY,n.dragStartCamera=null;var r=!1,o=n.target;o&&(s.emit(d.GAMEOBJECT_DROP,t,o),this.emit(d.DROP,t,s,o),n.target=null,r=!0),s.input&&s.input.enabled&&(s.emit(d.GAMEOBJECT_DRAG_END,t,n.dragX,n.dragY,r),this.emit(d.DRAG_END,t,s,r))}}return this.setDragState(t,0),e.splice(0),0},processMoveEvents:function(t){var e=0,i=this._temp,s=this._eventData,n=this._eventContainer;s.cancelled=!1;for(var r=0;r<i.length;r++){var o=i[r];if(o.input&&o.input.enabled){if(e++,o.emit(d.GAMEOBJECT_POINTER_MOVE,t,o.input.localX,o.input.localY,n),s.cancelled||!this.isActive())break;if(o.input&&o.input.enabled){if(this.emit(d.GAMEOBJECT_MOVE,t,o,n),s.cancelled||!this.isActive())break;if(this.topOnly)break}}}return!s.cancelled&&this.isActive()&&this.emit(d.POINTER_MOVE,t,i),e},processWheelEvent:function(t){var e=0,i=this._temp,s=this._eventData,n=this._eventContainer;s.cancelled=!1;for(var r=t.deltaX,o=t.deltaY,a=t.deltaZ,h=0;h<i.length;h++){var l=i[h];if(l.input&&l.input.enabled){if(e++,l.emit(d.GAMEOBJECT_POINTER_WHEEL,t,r,o,a,n),s.cancelled||!this.isActive())break;if(l.input&&l.input.enabled&&(this.emit(d.GAMEOBJECT_WHEEL,t,l,r,o,a,n),s.cancelled||!this.isActive()))break}}return!s.cancelled&&this.isActive()&&this.emit(d.POINTER_WHEEL,t,i,r,o,a),e},processOverEvents:function(t){var e=this._temp,i=0,s=e.length,n=[];if(s>0){var r=this.manager,o=this._eventData,a=this._eventContainer;o.cancelled=!1;for(var h=0;h<s;h++){var l=e[h];if(l.input&&l.input.enabled){if(n.push(l),r.setCursor(l.input),l.emit(d.GAMEOBJECT_POINTER_OVER,t,l.input.localX,l.input.localY,a),i++,o.cancelled||!this.isActive())break;if(l.input&&l.input.enabled&&(this.emit(d.GAMEOBJECT_OVER,t,l,a),o.cancelled||!this.isActive()))break}}!o.cancelled&&this.isActive()&&this.emit(d.POINTER_OVER,t,n)}return this._over[t.id]=n,i},processOutEvents:function(t){var e=this._over[t.id],i=0,s=e.length;if(s>0){var n=this.manager,r=this._eventData,o=this._eventContainer;r.cancelled=!1,this.sortGameObjects(e,t);for(var a=0;a<s;a++){var h=e[a];if((h=e[a]).input&&h.input.enabled){if(n.resetCursor(h.input),h.emit(d.GAMEOBJECT_POINTER_OUT,t,o),i++,r.cancelled||!this.isActive())break;if(h.input&&h.input.enabled&&(this.emit(d.GAMEOBJECT_OUT,t,h,o),r.cancelled||!this.isActive()))break}}!r.cancelled&&this.isActive()&&this.emit(d.POINTER_OUT,t,e),this._over[t.id]=[]}return i},processOverOutEvents:function(t){var e,i,s=this._temp,n=[],r=[],o=[],a=this._over[t.id],h=this._drag[t.id],l=this.manager;for(e=0;e<a.length;e++)i=a[e],-1===s.indexOf(i)&&-1===h.indexOf(i)?n.push(i):o.push(i);for(e=0;e<s.length;e++)i=s[e],-1===a.indexOf(i)&&r.push(i);var u=n.length,c=0,f=this._eventData,p=this._eventContainer;if(f.cancelled=!1,u>0){for(this.sortGameObjects(n,t),e=0;e<u;e++)if((i=n[e]).input&&i.input.enabled){if(l.resetCursor(i.input),i.emit(d.GAMEOBJECT_POINTER_OUT,t,p),c++,f.cancelled||!this.isActive())break;if(i.input&&i.input.enabled&&(this.emit(d.GAMEOBJECT_OUT,t,i,p),f.cancelled||!this.isActive()))break}f.cancelled&&!this.isActive()||this.emit(d.POINTER_OUT,t,n)}if(u=r.length,f.cancelled=!1,u>0){for(this.sortGameObjects(r,t),e=0;e<u;e++)if((i=r[e]).input&&i.input.enabled){if(l.setCursor(i.input),i.emit(d.GAMEOBJECT_POINTER_OVER,t,i.input.localX,i.input.localY,p),c++,f.cancelled||!this.isActive())break;if(i.input&&i.input.enabled&&(this.emit(d.GAMEOBJECT_OVER,t,i,p),f.cancelled||!this.isActive()))break}!f.cancelled&&this.isActive()&&this.emit(d.POINTER_OVER,t,r)}return a=o.concat(r),this._over[t.id]=this.sortGameObjects(a,t),c},processUpEvents:function(t){var e=this._temp,i=this._eventData,s=this._eventContainer;i.cancelled=!1;for(var n=0;n<e.length;n++){var r=e[n];if(r.input&&r.input.enabled){if(r.emit(d.GAMEOBJECT_POINTER_UP,t,r.input.localX,r.input.localY,s),i.cancelled||!this.isActive())break;if(r.input&&r.input.enabled&&(this.emit(d.GAMEOBJECT_UP,t,r,s),i.cancelled||!this.isActive()))break}}return!i.cancelled&&this.isActive()&&(t.upElement===this.manager.game.canvas?this.emit(d.POINTER_UP,t,e):this.emit(d.POINTER_UP_OUTSIDE,t)),e.length},forceDownState:function(t,e){this.forceState(t,e,d.GAMEOBJECT_POINTER_DOWN,d.GAMEOBJECT_DOWN,!1)},forceUpState:function(t,e){this.forceState(t,e,d.GAMEOBJECT_POINTER_UP,d.GAMEOBJECT_UP,!1)},forceOverState:function(t,e){this.forceState(t,e,d.GAMEOBJECT_POINTER_OVER,d.GAMEOBJECT_OVER,!0)},forceOutState:function(t,e){this.forceState(t,e,d.GAMEOBJECT_POINTER_OUT,d.GAMEOBJECT_OUT,!1)},forceState:function(t,e,i,s,n){var r=this._eventData,o=this._eventContainer;r.cancelled=!1,e.input&&e.input.enabled&&(e.emit(i,t,e.input.localX,e.input.localY,o),n&&this.setCursor(e.input),!r.cancelled&&this.isActive()&&e.input&&e.input.enabled&&this.emit(s,t,e,o))},queueForInsertion:function(t){return-1===this._pendingInsertion.indexOf(t)&&-1===this._list.indexOf(t)&&this._pendingInsertion.push(t),this},queueForRemoval:function(t){return this._pendingRemoval.push(t),this},setDraggable:function(t,e){void 0===e&&(e=!0),Array.isArray(t)||(t=[t]);for(var i=0;i<t.length;i++){var s=t[i];s.input.draggable=e;var n=this._draggable.indexOf(s);e&&-1===n?this._draggable.push(s):!e&&n>-1&&this._draggable.splice(n,1)}return this},makePixelPerfect:function(t){void 0===t&&(t=1);var e=this.systems.textures;return h(e,t)},setHitArea:function(t,e,i){if(void 0===e)return this.setHitAreaFromTexture(t);Array.isArray(t)||(t=[t]);var s=!1,n=!1,r=!1,o=!1,h=!1,l=!0;if(v(e)&&Object.keys(e).length){var u=e;if(!t.some(function(t){return t.hasOwnProperty("faces")})){e=p(u,"hitArea",null),i=p(u,"hitAreaCallback",null),h=p(u,"pixelPerfect",!1);var c=p(u,"alphaTolerance",1);h&&(e={},i=this.makePixelPerfect(c))}s=p(u,"draggable",!1),n=p(u,"dropZone",!1),r=p(u,"cursor",!1),o=p(u,"useHandCursor",!1),e&&i||(this.setHitAreaFromTexture(t),l=!1)}else"function"!=typeof e||i||(i=e,e={});for(var d=0;d<t.length;d++){var f=t[d];if(!h||"Container"!==f.type){var g=f.input?f.input:a(f,e,i);g.customHitArea=l,g.dropZone=n,g.cursor=o?"pointer":r,f.input=g,s&&this.setDraggable(f),this.queueForInsertion(f)}}return this},setHitAreaCircle:function(t,e,i,r,o){void 0===o&&(o=n);var a=new s(e,i,r);return this.setHitArea(t,a,o)},setHitAreaEllipse:function(t,e,i,s,n,r){void 0===r&&(r=c);var o=new u(e,i,s,n);return this.setHitArea(t,o,r)},setHitAreaFromTexture:function(t,e){void 0===e&&(e=T),Array.isArray(t)||(t=[t]);for(var i=0;i<t.length;i++){var s=t[i],n=s.frame,r=0,o=0;s.width?(r=s.width,o=s.height):n&&(r=n.realWidth,o=n.realHeight),("Container"!==s.type||0!==r&&0!==o)&&0!==r&&0!==o&&(s.input=a(s,new x(0,0,r,o),e),this.queueForInsertion(s))}return this},setHitAreaRectangle:function(t,e,i,s,n,r){void 0===r&&(r=T);var o=new x(e,i,s,n);return this.setHitArea(t,o,r)},setHitAreaTriangle:function(t,e,i,s,n,r,o,a){void 0===a&&(a=S);var h=new b(e,i,s,n,r,o);return this.setHitArea(t,h,a)},enableDebug:function(t,e){void 0===e&&(e=65280);var i=t.input;if(!i||!i.hitArea)return this;var s=i.hitArea,n=s.type,r=i.hitAreaDebug,o=this.systems.add,a=this.systems.updateList;r&&(a.remove(r),r.destroy(),r=null);var h=0,l=0;switch(n){case g.CIRCLE:r=o.arc(0,0,s.radius),h=s.x-s.radius,l=s.y-s.radius;break;case g.ELLIPSE:r=o.ellipse(0,0,s.width,s.height),h=s.x-s.width/2,l=s.y-s.height/2;break;case g.LINE:r=o.line(0,0,s.x1,s.y1,s.x2,s.y2);break;case g.POLYGON:r=o.polygon(0,0,s.points);break;case g.RECTANGLE:r=o.rectangle(0,0,s.width,s.height),h=s.x,l=s.y;break;case g.TRIANGLE:r=o.triangle(0,0,s.x1,s.y1,s.x2,s.y2,s.x3,s.y3)}return r&&(r.isFilled=!1,r.strokeColor=e,r.preUpdate=function(){r.setVisible(t.visible),r.setStrokeStyle(1/t.scale,r.strokeColor),r.setDisplayOrigin(t.displayOriginX,t.displayOriginY);var e=t.x,i=t.y,s=t.rotation,n=t.scaleX,o=t.scaleY;if(t.parentContainer){var a=t.getWorldTransformMatrix();e=a.tx,i=a.ty,s=a.rotation,n=a.scaleX,o=a.scaleY}r.setRotation(s),r.setScale(n,o),r.setPosition(e+h*n,i+l*o),r.setScrollFactor(t.scrollFactorX,t.scrollFactorY),r.setDepth(t.depth)},a.add(r),i.hitAreaDebug=r),this},removeDebug:function(t){var e=t.input;return e&&e.hitAreaDebug&&(e.hitAreaDebug.destroy(),e.hitAreaDebug=null),this},setPollAlways:function(){return this.setPollRate(0)},setPollOnMove:function(){return this.setPollRate(-1)},setPollRate:function(t){return this.pollRate=t,this._pollTimer=0,this},setGlobalTopOnly:function(t){return this.manager.globalTopOnly=t,this},setTopOnly:function(t){return this.topOnly=t,this},sortGameObjects:function(t,e){if(t.length<2||!e.camera)return t;var i=e.camera.renderList;return t.sort(function(t,e){var s=Math.max(i.indexOf(t),0);return Math.max(i.indexOf(e),0)-s})},sortDropZones:function(t){return t.length<2?t:(this.scene.sys.depthSort(),t.sort(this.sortDropZoneHandler.bind(this)))},sortDropZoneHandler:function(t,e){if(t.parentContainer||e.parentContainer){if(t.parentContainer===e.parentContainer)return e.parentContainer.getIndex(e)-t.parentContainer.getIndex(t);if(t.parentContainer===e)return-1;if(e.parentContainer===t)return 1;for(var i=t.getIndexList(),s=e.getIndexList(),n=Math.min(i.length,s.length),r=0;r<n;r++){var o=i[r],a=s[r];if(o!==a)return a-o}return s.length-i.length}return this.displayList.getIndex(e)-this.displayList.getIndex(t)},stopPropagation:function(){return this.manager._tempSkip=!0,this},addPointer:function(t){return this.manager.addPointer(t)},setDefaultCursor:function(t){return this.manager.setDefaultCursor(t),this},transitionIn:function(){this.enabled=this.settings.transitionAllowInput},transitionComplete:function(){this.settings.transitionAllowInput||(this.enabled=!0)},transitionOut:function(){this.enabled=this.settings.transitionAllowInput},shutdown:function(){this.pluginEvents.emit(d.SHUTDOWN),this._temp.length=0,this._list.length=0,this._draggable.length=0,this._pendingRemoval.length=0,this._pendingInsertion.length=0,this._dragState.length=0;for(var t=0;t<10;t++)this._drag[t]=[],this._over[t]=[];this.removeAllListeners();var e=this.manager;e.canvas.style.cursor=e.defaultCursor;var i=this.systems.events;i.off(w.TRANSITION_START,this.transitionIn,this),i.off(w.TRANSITION_OUT,this.transitionOut,this),i.off(w.TRANSITION_COMPLETE,this.transitionComplete,this),i.off(w.PRE_UPDATE,this.preUpdate,this),e.events.off(d.GAME_OUT,this.onGameOut,this),e.events.off(d.GAME_OVER,this.onGameOver,this),i.off(w.SHUTDOWN,this.shutdown,this)},resetPointers:function(){for(var t=this.manager.pointers,e=0;e<t.length;e++)t[e].reset()},destroy:function(){this.shutdown(),this.pluginEvents.emit(d.DESTROY),this.pluginEvents.removeAllListeners(),this.scene.sys.events.off(w.START,this.start,this),this.scene=null,this.cameras=null,this.manager=null,this.events=null,this.mouse=null},x:{get:function(){return this.manager.activePointer.x}},y:{get:function(){return this.manager.activePointer.y}},isOver:{get:function(){return this.manager.isOver}},mousePointer:{get:function(){return this.manager.mousePointer}},activePointer:{get:function(){return this.manager.activePointer}},pointer1:{get:function(){return this.manager.pointers[1]}},pointer2:{get:function(){return this.manager.pointers[2]}},pointer3:{get:function(){return this.manager.pointers[3]}},pointer4:{get:function(){return this.manager.pointers[4]}},pointer5:{get:function(){return this.manager.pointers[5]}},pointer6:{get:function(){return this.manager.pointers[6]}},pointer7:{get:function(){return this.manager.pointers[7]}},pointer8:{get:function(){return this.manager.pointers[8]}},pointer9:{get:function(){return this.manager.pointers[9]}},pointer10:{get:function(){return this.manager.pointers[10]}}});y.register("InputPlugin",E,"input"),t.exports=E},89639:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(35154),n={},r={register:function(t,e,i,s,r){n[t]={plugin:e,mapping:i,settingsKey:s,configKey:r}},getPlugin:function(t){return n[t]},install:function(t){var e=t.scene.sys,i=e.settings.input,r=e.game.config;for(var o in n){var a=n[o].plugin,h=n[o].mapping,l=n[o].settingsKey,u=n[o].configKey;s(i,l,r[u])&&(t[h]=new a(t))}},remove:function(t){n.hasOwnProperty(t)&&delete n[t]}};t.exports=r},42515:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(31040),n=i(83419),r=i(20339),o=i(43855),a=i(47235),h=i(26099),l=i(25892),u=new n({initialize:function(t,e){this.manager=t,this.id=e,this.event,this.downElement,this.upElement,this.camera=null,this.button=0,this.buttons=0,this.position=new h,this.prevPosition=new h,this.midPoint=new h(-1,-1),this.velocity=new h,this.angle=0,this.distance=0,this.smoothFactor=0,this.motionFactor=.2,this.worldX=0,this.worldY=0,this.moveTime=0,this.downX=0,this.downY=0,this.downTime=0,this.upX=0,this.upY=0,this.upTime=0,this.primaryDown=!1,this.isDown=!1,this.wasTouch=!1,this.wasCanceled=!1,this.movementX=0,this.movementY=0,this.identifier=0,this.pointerId=null,this.active=0===e,this.locked=!1,this.deltaX=0,this.deltaY=0,this.deltaZ=0},updateWorldPoint:function(t){var e=t.getWorldPoint(this.x,this.y);return this.worldX=e.x,this.worldY=e.y,this},positionToCamera:function(t,e){return t.getWorldPoint(this.x,this.y,e)},updateMotion:function(){var t=this.position.x,e=this.position.y,i=this.midPoint.x,n=this.midPoint.y;if(t!==i||e!==n){var r=a(this.motionFactor,i,t),h=a(this.motionFactor,n,e);o(r,t,.1)&&(r=t),o(h,e,.1)&&(h=e),this.midPoint.set(r,h);var l=t-r,u=e-h;this.velocity.set(l,u),this.angle=s(r,h,t,e),this.distance=Math.sqrt(l*l+u*u)}},up:function(t){"buttons"in t&&(this.buttons=t.buttons),this.event=t,this.button=t.button,this.upElement=t.target,this.manager.transformPointer(this,t.pageX,t.pageY,!1),0===t.button&&(this.primaryDown=!1,this.upX=this.x,this.upY=this.y),0===this.buttons&&(this.isDown=!1,this.upTime=t.timeStamp,this.wasTouch=!1)},down:function(t){"buttons"in t&&(this.buttons=t.buttons),this.event=t,this.button=t.button,this.downElement=t.target,this.manager.transformPointer(this,t.pageX,t.pageY,!1),0===t.button&&(this.primaryDown=!0,this.downX=this.x,this.downY=this.y),l.macOS&&t.ctrlKey&&(this.buttons=2,this.primaryDown=!1),this.isDown||(this.isDown=!0,this.downTime=t.timeStamp),this.wasTouch=!1},move:function(t){"buttons"in t&&(this.buttons=t.buttons),this.event=t,this.manager.transformPointer(this,t.pageX,t.pageY,!0),this.locked&&(this.movementX=t.movementX||t.mozMovementX||t.webkitMovementX||0,this.movementY=t.movementY||t.mozMovementY||t.webkitMovementY||0),this.moveTime=t.timeStamp,this.wasTouch=!1},wheel:function(t){"buttons"in t&&(this.buttons=t.buttons),this.event=t,this.manager.transformPointer(this,t.pageX,t.pageY,!1),this.deltaX=t.deltaX,this.deltaY=t.deltaY,this.deltaZ=t.deltaZ,this.wasTouch=!1},touchstart:function(t,e){t.pointerId&&(this.pointerId=t.pointerId),this.identifier=t.identifier,this.target=t.target,this.active=!0,this.buttons=1,this.event=e,this.downElement=t.target,this.manager.transformPointer(this,t.pageX,t.pageY,!1),this.primaryDown=!0,this.downX=this.x,this.downY=this.y,this.downTime=e.timeStamp,this.isDown=!0,this.wasTouch=!0,this.wasCanceled=!1,this.updateMotion()},touchmove:function(t,e){this.event=e,this.manager.transformPointer(this,t.pageX,t.pageY,!0),this.moveTime=e.timeStamp,this.wasTouch=!0,this.updateMotion()},touchend:function(t,e){this.buttons=0,this.event=e,this.upElement=t.target,this.manager.transformPointer(this,t.pageX,t.pageY,!1),this.primaryDown=!1,this.upX=this.x,this.upY=this.y,this.upTime=e.timeStamp,this.isDown=!1,this.wasTouch=!0,this.wasCanceled=!1,this.active=!1,this.updateMotion()},touchcancel:function(t,e){this.buttons=0,this.event=e,this.upElement=t.target,this.manager.transformPointer(this,t.pageX,t.pageY,!1),this.primaryDown=!1,this.upX=this.x,this.upY=this.y,this.upTime=e.timeStamp,this.isDown=!1,this.wasTouch=!0,this.wasCanceled=!0,this.active=!1},noButtonDown:function(){return 0===this.buttons},leftButtonDown:function(){return!!(1&this.buttons)},rightButtonDown:function(){return!!(2&this.buttons)},middleButtonDown:function(){return!!(4&this.buttons)},backButtonDown:function(){return!!(8&this.buttons)},forwardButtonDown:function(){return!!(16&this.buttons)},leftButtonReleased:function(){return 0===this.buttons?0===this.button&&!this.isDown:0===this.button},rightButtonReleased:function(){return 0===this.buttons?2===this.button&&!this.isDown:2===this.button},middleButtonReleased:function(){return 0===this.buttons?1===this.button&&!this.isDown:1===this.button},backButtonReleased:function(){return 0===this.buttons?3===this.button&&!this.isDown:3===this.button},forwardButtonReleased:function(){return 0===this.buttons?4===this.button&&!this.isDown:4===this.button},getDistance:function(){return this.isDown?r(this.downX,this.downY,this.x,this.y):r(this.downX,this.downY,this.upX,this.upY)},getDistanceX:function(){return this.isDown?Math.abs(this.downX-this.x):Math.abs(this.downX-this.upX)},getDistanceY:function(){return this.isDown?Math.abs(this.downY-this.y):Math.abs(this.downY-this.upY)},getDuration:function(){return this.isDown?this.manager.time-this.downTime:this.upTime-this.downTime},getAngle:function(){return this.isDown?s(this.downX,this.downY,this.x,this.y):s(this.downX,this.downY,this.upX,this.upY)},getInterpolatedPosition:function(t,e){void 0===t&&(t=10),void 0===e&&(e=[]);for(var i=this.prevPosition.x,s=this.prevPosition.y,n=this.position.x,r=this.position.y,o=0;o<t;o++){var h=1/t*o;e[o]={x:a(h,i,n),y:a(h,s,r)}}return e},reset:function(){this.event=null,this.downElement=null,this.upElement=null,this.button=0,this.buttons=0,this.position.set(0,0),this.prevPosition.set(0,0),this.midPoint.set(-1,-1),this.velocity.set(0,0),this.angle=0,this.distance=0,this.worldX=0,this.worldY=0,this.downX=0,this.downY=0,this.upX=0,this.upY=0,this.moveTime=0,this.upTime=0,this.downTime=0,this.primaryDown=!1,this.isDown=!1,this.wasTouch=!1,this.wasCanceled=!1,this.movementX=0,this.movementY=0,this.identifier=0,this.pointerId=null,this.deltaX=0,this.deltaY=0,this.deltaZ=0,this.active=0===this.id},destroy:function(){this.camera=null,this.manager=null,this.position=null},x:{get:function(){return this.position.x},set:function(t){this.position.x=t}},y:{get:function(){return this.position.y},set:function(t){this.position.y=t}},time:{get:function(){return this.event?this.event.timeStamp:0}}});t.exports=u},93301:t=>{t.exports={MOUSE_DOWN:0,MOUSE_MOVE:1,MOUSE_UP:2,TOUCH_START:3,TOUCH_MOVE:4,TOUCH_END:5,POINTER_LOCK_CHANGE:6,TOUCH_CANCEL:7,MOUSE_WHEEL:8}},7179:t=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports="boot"},85375:t=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports="destroy"},39843:t=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports="dragend"},23388:t=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports="dragenter"},16133:t=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports="drag"},27829:t=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports="dragleave"},53904:t=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports="dragover"},56058:t=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports="dragstart"},2642:t=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports="drop"},88171:t=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports="gameobjectdown"},36147:t=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports="dragend"},71692:t=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports="dragenter"},96149:t=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports="drag"},81285:t=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports="dragleave"},74048:t=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports="dragover"},21322:t=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports="dragstart"},49378:t=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports="drop"},86754:t=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports="gameobjectmove"},86433:t=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports="gameobjectout"},60709:t=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports="gameobjectover"},24081:t=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports="pointerdown"},11172:t=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports="pointermove"},18907:t=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports="pointerout"},95579:t=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports="pointerover"},35368:t=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports="pointerup"},26972:t=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports="wheel"},47078:t=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports="gameobjectup"},73802:t=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports="gameobjectwheel"},56718:t=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports="gameout"},25936:t=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports="gameover"},27503:t=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports="boot"},50852:t=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports="process"},96438:t=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports="update"},59152:t=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports="pointerlockchange"},47777:t=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports="pointerdown"},27957:t=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports="pointerdownoutside"},19444:t=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports="pointermove"},54251:t=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports="pointerout"},18667:t=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports="pointerover"},27192:t=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports="pointerup"},24652:t=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports="pointerupoutside"},45132:t=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports="wheel"},44512:t=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports="preupdate"},15757:t=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports="shutdown"},41637:t=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports="start"},93802:t=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports="update"},8214:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports={BOOT:i(7179),DESTROY:i(85375),DRAG_END:i(39843),DRAG_ENTER:i(23388),DRAG:i(16133),DRAG_LEAVE:i(27829),DRAG_OVER:i(53904),DRAG_START:i(56058),DROP:i(2642),GAME_OUT:i(56718),GAME_OVER:i(25936),GAMEOBJECT_DOWN:i(88171),GAMEOBJECT_DRAG_END:i(36147),GAMEOBJECT_DRAG_ENTER:i(71692),GAMEOBJECT_DRAG:i(96149),GAMEOBJECT_DRAG_LEAVE:i(81285),GAMEOBJECT_DRAG_OVER:i(74048),GAMEOBJECT_DRAG_START:i(21322),GAMEOBJECT_DROP:i(49378),GAMEOBJECT_MOVE:i(86754),GAMEOBJECT_OUT:i(86433),GAMEOBJECT_OVER:i(60709),GAMEOBJECT_POINTER_DOWN:i(24081),GAMEOBJECT_POINTER_MOVE:i(11172),GAMEOBJECT_POINTER_OUT:i(18907),GAMEOBJECT_POINTER_OVER:i(95579),GAMEOBJECT_POINTER_UP:i(35368),GAMEOBJECT_POINTER_WHEEL:i(26972),GAMEOBJECT_UP:i(47078),GAMEOBJECT_WHEEL:i(73802),MANAGER_BOOT:i(27503),MANAGER_PROCESS:i(50852),MANAGER_UPDATE:i(96438),POINTER_DOWN:i(47777),POINTER_DOWN_OUTSIDE:i(27957),POINTER_MOVE:i(19444),POINTER_OUT:i(54251),POINTER_OVER:i(18667),POINTER_UP:i(27192),POINTER_UP_OUTSIDE:i(24652),POINTER_WHEEL:i(45132),POINTERLOCK_CHANGE:i(59152),PRE_UPDATE:i(44512),SHUTDOWN:i(15757),START:i(41637),UPDATE:i(93802)}},97421:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=new(i(83419))({initialize:function(t,e){this.pad=t,this.events=t.events,this.index=e,this.value=0,this.threshold=.1},update:function(t){this.value=t},getValue:function(){return Math.abs(this.value)<this.threshold?0:this.value},destroy:function(){this.pad=null,this.events=null}});t.exports=s},28884:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(83419),n=i(92734),r=new s({initialize:function(t,e){this.pad=t,this.events=t.manager,this.index=e,this.value=0,this.threshold=1,this.pressed=!1},update:function(t){this.value=t;var e=this.pad,i=this.index;t>=this.threshold?this.pressed||(this.pressed=!0,this.events.emit(n.BUTTON_DOWN,e,this,t),this.pad.emit(n.GAMEPAD_BUTTON_DOWN,i,t,this)):this.pressed&&(this.pressed=!1,this.events.emit(n.BUTTON_UP,e,this,t),this.pad.emit(n.GAMEPAD_BUTTON_UP,i,t,this))},destroy:function(){this.pad=null,this.events=null}});t.exports=r},99125:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(97421),n=i(28884),r=i(83419),o=i(50792),a=i(26099),h=new r({Extends:o,initialize:function(t,e){o.call(this),this.manager=t,this.pad=e,this.id=e.id,this.index=e.index;for(var i=[],r=0;r<e.buttons.length;r++)i.push(new n(this,r));this.buttons=i;var h=[];for(r=0;r<e.axes.length;r++)h.push(new s(this,r));this.axes=h,this.vibration=e.vibrationActuator;var l={value:0,pressed:!1};this._LCLeft=i[14]?i[14]:l,this._LCRight=i[15]?i[15]:l,this._LCTop=i[12]?i[12]:l,this._LCBottom=i[13]?i[13]:l,this._RCLeft=i[2]?i[2]:l,this._RCRight=i[1]?i[1]:l,this._RCTop=i[3]?i[3]:l,this._RCBottom=i[0]?i[0]:l,this._FBLeftTop=i[4]?i[4]:l,this._FBLeftBottom=i[6]?i[6]:l,this._FBRightTop=i[5]?i[5]:l,this._FBRightBottom=i[7]?i[7]:l;var u={value:0};this._HAxisLeft=h[0]?h[0]:u,this._VAxisLeft=h[1]?h[1]:u,this._HAxisRight=h[2]?h[2]:u,this._VAxisRight=h[3]?h[3]:u,this.leftStick=new a,this.rightStick=new a,this._created=performance.now()},getAxisTotal:function(){return this.axes.length},getAxisValue:function(t){return this.axes[t].getValue()},setAxisThreshold:function(t){for(var e=0;e<this.axes.length;e++)this.axes[e].threshold=t},getButtonTotal:function(){return this.buttons.length},getButtonValue:function(t){return this.buttons[t].value},isButtonDown:function(t){return this.buttons[t].pressed},update:function(t){if(!(t.timestamp<this._created)){var e,i=this.buttons,s=t.buttons,n=i.length;for(e=0;e<n;e++)i[e].update(s[e].value);var r=this.axes,o=t.axes;for(n=r.length,e=0;e<n;e++)r[e].update(o[e]);n>=2&&(this.leftStick.set(r[0].getValue(),r[1].getValue()),n>=4&&this.rightStick.set(r[2].getValue(),r[3].getValue()))}},destroy:function(){var t;for(this.removeAllListeners(),this.manager=null,this.pad=null,t=0;t<this.buttons.length;t++)this.buttons[t].destroy();for(t=0;t<this.axes.length;t++)this.axes[t].destroy();this.buttons=[],this.axes=[]},connected:{get:function(){return this.pad.connected}},timestamp:{get:function(){return this.pad.timestamp}},left:{get:function(){return this._LCLeft.pressed}},right:{get:function(){return this._LCRight.pressed}},up:{get:function(){return this._LCTop.pressed}},down:{get:function(){return this._LCBottom.pressed}},A:{get:function(){return this._RCBottom.pressed}},Y:{get:function(){return this._RCTop.pressed}},X:{get:function(){return this._RCLeft.pressed}},B:{get:function(){return this._RCRight.pressed}},L1:{get:function(){return this._FBLeftTop.value}},L2:{get:function(){return this._FBLeftBottom.value}},R1:{get:function(){return this._FBRightTop.value}},R2:{get:function(){return this._FBRightBottom.value}}});t.exports=h},56654:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(83419),n=i(50792),r=i(92734),o=i(99125),a=i(35154),h=i(89639),l=i(8214),u=new s({Extends:n,initialize:function(t){n.call(this),this.scene=t.scene,this.settings=this.scene.sys.settings,this.sceneInputPlugin=t,this.enabled=!0,this.target,this.gamepads=[],this.queue=[],this.onGamepadHandler,this._pad1,this._pad2,this._pad3,this._pad4,t.pluginEvents.once(l.BOOT,this.boot,this),t.pluginEvents.on(l.START,this.start,this)},boot:function(){var t=this.scene.sys.game,e=this.settings.input,i=t.config;this.enabled=a(e,"gamepad",i.inputGamepad)&&t.device.input.gamepads,this.target=a(e,"gamepad.target",i.inputGamepadEventTarget),this.sceneInputPlugin.pluginEvents.once(l.DESTROY,this.destroy,this)},start:function(){this.enabled&&(this.startListeners(),this.refreshPads()),this.sceneInputPlugin.pluginEvents.once(l.SHUTDOWN,this.shutdown,this)},isActive:function(){return this.enabled&&this.scene.sys.isActive()},startListeners:function(){var t=this,e=this.target,i=function(e){!e.defaultPrevented&&t.isActive()&&(t.refreshPads(),t.queue.push(e))};this.onGamepadHandler=i,e.addEventListener("gamepadconnected",i,!1),e.addEventListener("gamepaddisconnected",i,!1),this.sceneInputPlugin.pluginEvents.on(l.UPDATE,this.update,this)},stopListeners:function(){this.target.removeEventListener("gamepadconnected",this.onGamepadHandler),this.target.removeEventListener("gamepaddisconnected",this.onGamepadHandler),this.sceneInputPlugin.pluginEvents.off(l.UPDATE,this.update);for(var t=0;t<this.gamepads.length;t++)this.gamepads[t].removeAllListeners()},disconnectAll:function(){for(var t=0;t<this.gamepads.length;t++)this.gamepads[t].pad.connected=!1},refreshPads:function(){var t=navigator.getGamepads();if(t)for(var e=this.gamepads,i=0;i<t.length;i++){var s=t[i];if(s){var n=s.id,r=s.index,a=e[r];if(a)a.id!==n?(a.destroy(),e[r]=new o(this,s)):a.update(s);else{var h=new o(this,s);e[r]=h,this._pad1?this._pad2?this._pad3?this._pad4||(this._pad4=h):this._pad3=h:this._pad2=h:this._pad1=h}}}else this.disconnectAll()},getAll:function(){for(var t=[],e=this.gamepads,i=0;i<e.length;i++)e[i]&&t.push(e[i]);return t},getPad:function(t){for(var e=this.gamepads,i=0;i<e.length;i++)if(e[i]&&e[i].index===t)return e[i]},update:function(){if(this.enabled){this.refreshPads();var t=this.queue.length;if(0!==t)for(var e=this.queue.splice(0,t),i=0;i<t;i++){var s=e[i],n=this.getPad(s.gamepad.index);"gamepadconnected"===s.type?this.emit(r.CONNECTED,n,s):"gamepaddisconnected"===s.type&&this.emit(r.DISCONNECTED,n,s)}}},shutdown:function(){this.stopListeners(),this.removeAllListeners()},destroy:function(){this.shutdown();for(var t=0;t<this.gamepads.length;t++)this.gamepads[t]&&this.gamepads[t].destroy();this.gamepads=[],this.scene=null,this.settings=null,this.sceneInputPlugin=null,this.target=null},total:{get:function(){return this.gamepads.length}},pad1:{get:function(){return this._pad1}},pad2:{get:function(){return this._pad2}},pad3:{get:function(){return this._pad3}},pad4:{get:function(){return this._pad4}}});h.register("GamepadPlugin",u,"gamepad","gamepad","inputGamepad"),t.exports=u},89651:t=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,SELECT:8,START:9,B:0,A:1,Y:2,X:3,LEFT_SHOULDER:4,RIGHT_SHOULDER:5}},65294:t=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,SHARE:8,OPTIONS:9,PS:16,TOUCHBAR:17,X:0,CIRCLE:1,SQUARE:2,TRIANGLE:3,L1:4,R1:5,L2:6,R2:7,L3:10,R3:11,LEFT_STICK_H:0,LEFT_STICK_V:1,RIGHT_STICK_H:2,RIGHT_STICK_V:3}},90089:t=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,MENU:16,A:0,B:1,X:2,Y:3,LB:4,RB:5,LT:6,RT:7,BACK:8,START:9,LS:10,RS:11,LEFT_STICK_H:0,LEFT_STICK_V:1,RIGHT_STICK_H:2,RIGHT_STICK_V:3}},64894:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports={DUALSHOCK_4:i(65294),SNES_USB:i(89651),XBOX_360:i(90089)}},46008:t=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports="down"},7629:t=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports="up"},42206:t=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports="connected"},86544:t=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports="disconnected"},94784:t=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports="down"},14325:t=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports="up"},92734:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports={BUTTON_DOWN:i(46008),BUTTON_UP:i(7629),CONNECTED:i(42206),DISCONNECTED:i(86544),GAMEPAD_BUTTON_DOWN:i(94784),GAMEPAD_BUTTON_UP:i(14325)}},48646:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports={Axis:i(97421),Button:i(28884),Events:i(92734),Gamepad:i(99125),GamepadPlugin:i(56654),Configs:i(64894)}},14350:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(93301),n=i(79291),r={CreatePixelPerfectHandler:i(84409),CreateInteractiveObject:i(74457),Events:i(8214),Gamepad:i(48646),InputManager:i(7003),InputPlugin:i(48205),InputPluginCache:i(89639),Keyboard:i(51442),Mouse:i(87078),Pointer:i(42515),Touch:i(95618)};r=n(!1,r,s),t.exports=r},78970:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(72905),n=i(83419),r=i(8443),o=i(8214),a=i(46032),h=i(29747),l=new n({initialize:function(t){this.manager=t,this.queue=[],this.preventDefault=!0,this.captures=[],this.enabled=!1,this.target,this.onKeyDown=h,this.onKeyUp=h,t.events.once(o.MANAGER_BOOT,this.boot,this)},boot:function(){var t=this.manager.config;this.enabled=t.inputKeyboard,this.target=t.inputKeyboardEventTarget,this.addCapture(t.inputKeyboardCapture),!this.target&&window&&(this.target=window),this.enabled&&this.target&&this.startListeners(),this.manager.game.events.on(r.POST_STEP,this.postUpdate,this)},startListeners:function(){var t=this;this.onKeyDown=function(e){if(!e.defaultPrevented&&t.enabled&&t.manager){t.queue.push(e),t.manager.events.emit(o.MANAGER_PROCESS);var i=e.altKey||e.ctrlKey||e.shiftKey||e.metaKey;t.preventDefault&&!i&&t.captures.indexOf(e.keyCode)>-1&&e.preventDefault()}},this.onKeyUp=function(e){if(!e.defaultPrevented&&t.enabled&&t.manager){t.queue.push(e),t.manager.events.emit(o.MANAGER_PROCESS);var i=e.altKey||e.ctrlKey||e.shiftKey||e.metaKey;t.preventDefault&&!i&&t.captures.indexOf(e.keyCode)>-1&&e.preventDefault()}};var e=this.target;e&&(e.addEventListener("keydown",this.onKeyDown,!1),e.addEventListener("keyup",this.onKeyUp,!1),this.enabled=!0)},stopListeners:function(){var t=this.target;t.removeEventListener("keydown",this.onKeyDown,!1),t.removeEventListener("keyup",this.onKeyUp,!1),this.enabled=!1},postUpdate:function(){this.queue=[]},addCapture:function(t){"string"==typeof t&&(t=t.split(",")),Array.isArray(t)||(t=[t]);for(var e=this.captures,i=0;i<t.length;i++){var s=t[i];"string"==typeof s&&(s=a[s.trim().toUpperCase()]),-1===e.indexOf(s)&&e.push(s)}this.preventDefault=e.length>0},removeCapture:function(t){"string"==typeof t&&(t=t.split(",")),Array.isArray(t)||(t=[t]);for(var e=this.captures,i=0;i<t.length;i++){var n=t[i];"string"==typeof n&&(n=a[n.toUpperCase()]),s(e,n)}this.preventDefault=e.length>0},clearCaptures:function(){this.captures=[],this.preventDefault=!1},destroy:function(){this.stopListeners(),this.clearCaptures(),this.queue=[],this.manager.game.events.off(r.POST_RENDER,this.postUpdate,this),this.target=null,this.enabled=!1,this.manager=null}});t.exports=l},28846:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(83419),n=i(50792),r=i(95922),o=i(8443),a=i(35154),h=i(8214),l=i(89639),u=i(30472),c=i(46032),d=i(87960),f=i(74600),p=i(44594),g=i(56583),m=new s({Extends:n,initialize:function(t){n.call(this),this.game=t.systems.game,this.scene=t.scene,this.settings=this.scene.sys.settings,this.sceneInputPlugin=t,this.manager=t.manager.keyboard,this.enabled=!0,this.keys=[],this.combos=[],this.prevCode=null,this.prevTime=0,this.prevType=null,t.pluginEvents.once(h.BOOT,this.boot,this),t.pluginEvents.on(h.START,this.start,this)},boot:function(){var t=this.settings.input;this.enabled=a(t,"keyboard",!0);var e=a(t,"keyboard.capture",null);e&&this.addCaptures(e),this.sceneInputPlugin.pluginEvents.once(h.DESTROY,this.destroy,this)},start:function(){this.sceneInputPlugin.manager.events.on(h.MANAGER_PROCESS,this.update,this),this.sceneInputPlugin.pluginEvents.once(h.SHUTDOWN,this.shutdown,this),this.game.events.on(o.BLUR,this.resetKeys,this),this.scene.sys.events.on(p.PAUSE,this.resetKeys,this),this.scene.sys.events.on(p.SLEEP,this.resetKeys,this)},isActive:function(){return this.enabled&&this.scene.sys.canInput()},addCapture:function(t){return this.manager.addCapture(t),this},removeCapture:function(t){return this.manager.removeCapture(t),this},getCaptures:function(){return this.manager.captures},enableGlobalCapture:function(){return this.manager.preventDefault=!0,this},disableGlobalCapture:function(){return this.manager.preventDefault=!1,this},clearCaptures:function(){return this.manager.clearCaptures(),this},createCursorKeys:function(){return this.addKeys({up:c.UP,down:c.DOWN,left:c.LEFT,right:c.RIGHT,space:c.SPACE,shift:c.SHIFT})},addKeys:function(t,e,i){void 0===e&&(e=!0),void 0===i&&(i=!1);var s={};if("string"==typeof t){t=t.split(",");for(var n=0;n<t.length;n++){var r=t[n].trim();r&&(s[r]=this.addKey(r,e,i))}}else for(var o in t)s[o]=this.addKey(t[o],e,i);return s},addKey:function(t,e,i){void 0===e&&(e=!0),void 0===i&&(i=!1);var s=this.keys;if(t instanceof u){var n=s.indexOf(t);return n>-1?s[n]=t:s[t.keyCode]=t,e&&this.addCapture(t.keyCode),t.setEmitOnRepeat(i),t}return"string"==typeof t&&(t=c[t.toUpperCase()]),s[t]||(s[t]=new u(this,t),e&&this.addCapture(t),s[t].setEmitOnRepeat(i)),s[t]},removeKey:function(t,e,i){void 0===e&&(e=!1),void 0===i&&(i=!1);var s,n=this.keys;if(t instanceof u){var r=n.indexOf(t);r>-1&&(s=this.keys[r],this.keys[r]=void 0)}else"string"==typeof t&&(t=c[t.toUpperCase()]);return n[t]&&(s=n[t],n[t]=void 0),s&&(s.plugin=null,i&&this.removeCapture(s.keyCode),e&&s.destroy()),this},removeAllKeys:function(t,e){void 0===t&&(t=!1),void 0===e&&(e=!1);for(var i=this.keys,s=0;s<i.length;s++){var n=i[s];n&&(i[s]=void 0,e&&this.removeCapture(n.keyCode),t&&n.destroy())}return this},createCombo:function(t,e){return new d(this,t,e)},checkDown:function(t,e){if(void 0===e&&(e=0),this.enabled&&t.isDown){var i=g(this.time-t.timeDown,e);if(i>t._tick)return t._tick=i,!0}return!1},update:function(){var t=this.manager.queue,e=t.length;if(this.isActive()&&0!==e)for(var i=this.keys,s=0;s<e;s++){var n=t[s],o=n.keyCode,a=i[o],h=!1;void 0===n.cancelled&&(n.cancelled=0,n.stopImmediatePropagation=function(){n.cancelled=1},n.stopPropagation=function(){n.cancelled=-1}),-1!==n.cancelled&&(o===this.prevCode&&n.timeStamp===this.prevTime&&n.type===this.prevType||(this.prevCode=o,this.prevTime=n.timeStamp,this.prevType=n.type,"keydown"===n.type?(a&&(h=a.isDown,a.onDown(n)),n.cancelled||a&&h||(f[o]&&this.emit(r.KEY_DOWN+f[o],n),n.cancelled||this.emit(r.ANY_KEY_DOWN,n))):(a&&a.onUp(n),n.cancelled||(f[o]&&this.emit(r.KEY_UP+f[o],n),n.cancelled||this.emit(r.ANY_KEY_UP,n))),1===n.cancelled&&(n.cancelled=0)))}},resetKeys:function(){for(var t=this.keys,e=0;e<t.length;e++)t[e]&&t[e].reset();return this},shutdown:function(){this.removeAllKeys(!0),this.removeAllListeners(),this.sceneInputPlugin.manager.events.off(h.MANAGER_PROCESS,this.update,this),this.game.events.off(o.BLUR,this.resetKeys),this.scene.sys.events.off(p.PAUSE,this.resetKeys,this),this.scene.sys.events.off(p.SLEEP,this.resetKeys,this),this.queue=[]},destroy:function(){this.shutdown();for(var t=this.keys,e=0;e<t.length;e++)t[e]&&t[e].destroy();this.keys=[],this.combos=[],this.queue=[],this.scene=null,this.settings=null,this.sceneInputPlugin=null,this.manager=null},time:{get:function(){return this.sceneInputPlugin.manager.time}}});l.register("KeyboardPlugin",m,"keyboard","keyboard","inputKeyboard"),t.exports=m},66970:t=>{t.exports=function(t,e){return e.timeLastMatched=t.timeStamp,e.index++,e.index===e.size||(e.current=e.keyCodes[e.index],!1)}},87960:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(83419),n=i(95922),r=i(95540),o=i(68769),a=i(92803),h=new s({initialize:function(t,e,i){if(void 0===i&&(i={}),e.length<2)return!1;this.manager=t,this.enabled=!0,this.keyCodes=[];for(var s=0;s<e.length;s++){var h=e[s];"string"==typeof h?this.keyCodes.push(h.toUpperCase().charCodeAt(0)):"number"==typeof h?this.keyCodes.push(h):h.hasOwnProperty("keyCode")&&this.keyCodes.push(h.keyCode)}this.current=this.keyCodes[0],this.index=0,this.size=this.keyCodes.length,this.timeLastMatched=0,this.matched=!1,this.timeMatched=0,this.resetOnWrongKey=r(i,"resetOnWrongKey",!0),this.maxKeyDelay=r(i,"maxKeyDelay",0),this.resetOnMatch=r(i,"resetOnMatch",!1),this.deleteOnMatch=r(i,"deleteOnMatch",!1);var l=this;this.onKeyDown=function(t){!l.matched&&l.enabled&&o(t,l)&&(l.manager.emit(n.COMBO_MATCH,l,t),l.resetOnMatch?a(l):l.deleteOnMatch&&l.destroy())},this.manager.on(n.ANY_KEY_DOWN,this.onKeyDown)},progress:{get:function(){return this.index/this.size}},destroy:function(){this.enabled=!1,this.keyCodes=[],this.manager.off(n.ANY_KEY_DOWN,this.onKeyDown),this.manager=null}});t.exports=h},68769:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(66970);t.exports=function(t,e){if(e.matched)return!0;var i=!1,n=!1;if(t.keyCode===e.current)if(e.index>0&&e.maxKeyDelay>0){var r=e.timeLastMatched+e.maxKeyDelay;t.timeStamp<=r&&(n=!0,i=s(t,e))}else n=!0,i=s(t,e);return!n&&e.resetOnWrongKey&&(e.index=0,e.current=e.keyCodes[0]),i&&(e.timeLastMatched=t.timeStamp,e.matched=!0,e.timeMatched=t.timeStamp),i}},92803:t=>{t.exports=function(t){return t.current=t.keyCodes[0],t.index=0,t.timeLastMatched=0,t.matched=!1,t.timeMatched=0,t}},92612:t=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports="keydown"},23345:t=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports="keyup"},21957:t=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports="keycombomatch"},44743:t=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports="down"},3771:t=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports="keydown-"},46358:t=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports="keyup-"},75674:t=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports="up"},95922:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports={ANY_KEY_DOWN:i(92612),ANY_KEY_UP:i(23345),COMBO_MATCH:i(21957),DOWN:i(44743),KEY_DOWN:i(3771),KEY_UP:i(46358),UP:i(75674)}},51442:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports={Events:i(95922),KeyboardManager:i(78970),KeyboardPlugin:i(28846),Key:i(30472),KeyCodes:i(46032),KeyCombo:i(87960),AdvanceKeyCombo:i(66970),ProcessKeyCombo:i(68769),ResetKeyCombo:i(92803),JustDown:i(90229),JustUp:i(38796),DownDuration:i(37015),UpDuration:i(41170)}},37015:t=>{t.exports=function(t,e){void 0===e&&(e=50);var i=t.plugin.game.loop.time-t.timeDown;return t.isDown&&i<e}},90229:t=>{t.exports=function(t){return!!t._justDown&&(t._justDown=!1,!0)}},38796:t=>{t.exports=function(t){return!!t._justUp&&(t._justUp=!1,!0)}},30472:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(83419),n=i(50792),r=i(95922),o=new s({Extends:n,initialize:function(t,e){n.call(this),this.plugin=t,this.keyCode=e,this.originalEvent=void 0,this.enabled=!0,this.isDown=!1,this.isUp=!0,this.altKey=!1,this.ctrlKey=!1,this.shiftKey=!1,this.metaKey=!1,this.location=0,this.timeDown=0,this.duration=0,this.timeUp=0,this.emitOnRepeat=!1,this.repeats=0,this._justDown=!1,this._justUp=!1,this._tick=-1},setEmitOnRepeat:function(t){return this.emitOnRepeat=t,this},onDown:function(t){this.originalEvent=t,this.enabled&&(this.altKey=t.altKey,this.ctrlKey=t.ctrlKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.location=t.location,this.repeats++,this.isDown?this.emitOnRepeat&&this.emit(r.DOWN,this,t):(this.isDown=!0,this.isUp=!1,this.timeDown=t.timeStamp,this.duration=0,this._justDown=!0,this._justUp=!1,this.emit(r.DOWN,this,t)))},onUp:function(t){this.originalEvent=t,this.enabled&&(this.isDown=!1,this.isUp=!0,this.timeUp=t.timeStamp,this.duration=this.timeUp-this.timeDown,this.repeats=0,this._justDown=!1,this._justUp=!0,this._tick=-1,this.emit(r.UP,this,t))},reset:function(){return this.isDown=!1,this.isUp=!0,this.altKey=!1,this.ctrlKey=!1,this.shiftKey=!1,this.metaKey=!1,this.timeDown=0,this.duration=0,this.timeUp=0,this.repeats=0,this._justDown=!1,this._justUp=!1,this._tick=-1,this},getDuration:function(){return this.isDown?this.plugin.game.loop.time-this.timeDown:0},destroy:function(){this.removeAllListeners(),this.originalEvent=null,this.plugin=null}});t.exports=o},46032:t=>{t.exports={BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:42,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,NUMPAD_ZERO:96,NUMPAD_ONE:97,NUMPAD_TWO:98,NUMPAD_THREE:99,NUMPAD_FOUR:100,NUMPAD_FIVE:101,NUMPAD_SIX:102,NUMPAD_SEVEN:103,NUMPAD_EIGHT:104,NUMPAD_NINE:105,NUMPAD_ADD:107,NUMPAD_SUBTRACT:109,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,SEMICOLON:186,PLUS:187,COMMA:188,MINUS:189,PERIOD:190,FORWARD_SLASH:191,BACK_SLASH:220,QUOTES:222,BACKTICK:192,OPEN_BRACKET:219,CLOSED_BRACKET:221,SEMICOLON_FIREFOX:59,COLON:58,COMMA_FIREFOX_WINDOWS:60,COMMA_FIREFOX:62,BRACKET_RIGHT_FIREFOX:174,BRACKET_LEFT_FIREFOX:175}},74600:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(46032),n={};for(var r in s)n[s[r]]=r;t.exports=n},41170:t=>{t.exports=function(t,e){void 0===e&&(e=50);var i=t.plugin.game.loop.time-t.timeUp;return t.isUp&&i<e}},85098:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(83419),n=i(89357),r=i(8214),o=i(29747),a=new s({initialize:function(t){this.manager=t,this.preventDefaultDown=!0,this.preventDefaultUp=!0,this.preventDefaultMove=!0,this.preventDefaultWheel=!1,this.enabled=!1,this.target,this.locked=!1,this.onMouseMove=o,this.onMouseDown=o,this.onMouseUp=o,this.onMouseDownWindow=o,this.onMouseUpWindow=o,this.onMouseOver=o,this.onMouseOut=o,this.onMouseWheel=o,this.pointerLockChange=o,this.isTop=!0,t.events.once(r.MANAGER_BOOT,this.boot,this)},boot:function(){var t=this.manager.config;this.enabled=t.inputMouse,this.target=t.inputMouseEventTarget,this.passive=t.inputMousePassive,this.preventDefaultDown=t.inputMousePreventDefaultDown,this.preventDefaultUp=t.inputMousePreventDefaultUp,this.preventDefaultMove=t.inputMousePreventDefaultMove,this.preventDefaultWheel=t.inputMousePreventDefaultWheel,this.target?"string"==typeof this.target&&(this.target=document.getElementById(this.target)):this.target=this.manager.game.canvas,t.disableContextMenu&&this.disableContextMenu(),this.enabled&&this.target&&this.startListeners()},disableContextMenu:function(){return this.target.addEventListener("contextmenu",function(t){return t.preventDefault(),!1}),this},requestPointerLock:function(){if(n.pointerLock){var t=this.target;t.requestPointerLock=t.requestPointerLock||t.mozRequestPointerLock||t.webkitRequestPointerLock,t.requestPointerLock()}},releasePointerLock:function(){n.pointerLock&&(document.exitPointerLock=document.exitPointerLock||document.mozExitPointerLock||document.webkitExitPointerLock,document.exitPointerLock())},startListeners:function(){var t=this.target;if(t){var e=this,i=this.manager,s=i.canvas,r=window&&window.focus&&i.game.config.autoFocus;this.onMouseMove=function(t){!t.defaultPrevented&&e.enabled&&i&&i.enabled&&(i.onMouseMove(t),e.preventDefaultMove&&t.preventDefault())},this.onMouseDown=function(t){r&&window.focus(),!t.defaultPrevented&&e.enabled&&i&&i.enabled&&(i.onMouseDown(t),e.preventDefaultDown&&t.target===s&&t.preventDefault())},this.onMouseDownWindow=function(t){t.sourceCapabilities&&t.sourceCapabilities.firesTouchEvents||!t.defaultPrevented&&e.enabled&&i&&i.enabled&&t.target!==s&&i.onMouseDown(t)},this.onMouseUp=function(t){!t.defaultPrevented&&e.enabled&&i&&i.enabled&&(i.onMouseUp(t),e.preventDefaultUp&&t.target===s&&t.preventDefault())},this.onMouseUpWindow=function(t){t.sourceCapabilities&&t.sourceCapabilities.firesTouchEvents||!t.defaultPrevented&&e.enabled&&i&&i.enabled&&t.target!==s&&i.onMouseUp(t)},this.onMouseOver=function(t){!t.defaultPrevented&&e.enabled&&i&&i.enabled&&i.setCanvasOver(t)},this.onMouseOut=function(t){!t.defaultPrevented&&e.enabled&&i&&i.enabled&&i.setCanvasOut(t)},this.onMouseWheel=function(t){!t.defaultPrevented&&e.enabled&&i&&i.enabled&&i.onMouseWheel(t),e.preventDefaultWheel&&t.target===s&&t.preventDefault()};var o={passive:!0};if(t.addEventListener("mousemove",this.onMouseMove),t.addEventListener("mousedown",this.onMouseDown),t.addEventListener("mouseup",this.onMouseUp),t.addEventListener("mouseover",this.onMouseOver,o),t.addEventListener("mouseout",this.onMouseOut,o),this.preventDefaultWheel?t.addEventListener("wheel",this.onMouseWheel,{passive:!1}):t.addEventListener("wheel",this.onMouseWheel,o),window&&i.game.config.inputWindowEvents)try{window.top.addEventListener("mousedown",this.onMouseDownWindow,o),window.top.addEventListener("mouseup",this.onMouseUpWindow,o)}catch(a){window.addEventListener("mousedown",this.onMouseDownWindow,o),window.addEventListener("mouseup",this.onMouseUpWindow,o),this.isTop=!1}n.pointerLock&&(this.pointerLockChange=function(t){var s=e.target;e.locked=document.pointerLockElement===s||document.mozPointerLockElement===s||document.webkitPointerLockElement===s,i.onPointerLockChange(t)},document.addEventListener("pointerlockchange",this.pointerLockChange,!0),document.addEventListener("mozpointerlockchange",this.pointerLockChange,!0),document.addEventListener("webkitpointerlockchange",this.pointerLockChange,!0)),this.enabled=!0}},stopListeners:function(){var t=this.target;t.removeEventListener("mousemove",this.onMouseMove),t.removeEventListener("mousedown",this.onMouseDown),t.removeEventListener("mouseup",this.onMouseUp),t.removeEventListener("mouseover",this.onMouseOver),t.removeEventListener("mouseout",this.onMouseOut),window&&((t=this.isTop?window.top:window).removeEventListener("mousedown",this.onMouseDownWindow),t.removeEventListener("mouseup",this.onMouseUpWindow)),n.pointerLock&&(document.removeEventListener("pointerlockchange",this.pointerLockChange,!0),document.removeEventListener("mozpointerlockchange",this.pointerLockChange,!0),document.removeEventListener("webkitpointerlockchange",this.pointerLockChange,!0))},destroy:function(){this.stopListeners(),this.target=null,this.enabled=!1,this.manager=null}});t.exports=a},87078:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports={MouseManager:i(85098)}},36210:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(83419),n=i(8214),r=i(29747),o=new s({initialize:function(t){this.manager=t,this.capture=!0,this.enabled=!1,this.target,this.onTouchStart=r,this.onTouchStartWindow=r,this.onTouchMove=r,this.onTouchEnd=r,this.onTouchEndWindow=r,this.onTouchCancel=r,this.onTouchCancelWindow=r,this.isTop=!0,t.events.once(n.MANAGER_BOOT,this.boot,this)},boot:function(){var t=this.manager.config;this.enabled=t.inputTouch,this.target=t.inputTouchEventTarget,this.capture=t.inputTouchCapture,this.target?"string"==typeof this.target&&(this.target=document.getElementById(this.target)):this.target=this.manager.game.canvas,t.disableContextMenu&&this.disableContextMenu(),this.enabled&&this.target&&this.startListeners()},disableContextMenu:function(){return this.target.addEventListener("contextmenu",function(t){return t.preventDefault(),!1}),this},startListeners:function(){var t=this.target;if(t){var e=this,i=this.manager,s=i.canvas,n=window&&window.focus&&i.game.config.autoFocus;this.onTouchMove=function(t){!t.defaultPrevented&&e.enabled&&i&&i.enabled&&(i.onTouchMove(t),e.capture&&t.cancelable&&t.preventDefault())},this.onTouchStart=function(t){n&&window.focus(),!t.defaultPrevented&&e.enabled&&i&&i.enabled&&(i.onTouchStart(t),e.capture&&t.cancelable&&t.target===s&&t.preventDefault())},this.onTouchStartWindow=function(t){!t.defaultPrevented&&e.enabled&&i&&i.enabled&&t.target!==s&&i.onTouchStart(t)},this.onTouchEnd=function(t){!t.defaultPrevented&&e.enabled&&i&&i.enabled&&(i.onTouchEnd(t),e.capture&&t.cancelable&&t.target===s&&t.preventDefault())},this.onTouchEndWindow=function(t){!t.defaultPrevented&&e.enabled&&i&&i.enabled&&t.target!==s&&i.onTouchEnd(t)},this.onTouchCancel=function(t){!t.defaultPrevented&&e.enabled&&i&&i.enabled&&(i.onTouchCancel(t),e.capture&&t.preventDefault())},this.onTouchCancelWindow=function(t){!t.defaultPrevented&&e.enabled&&i&&i.enabled&&i.onTouchCancel(t)};var r=this.capture,o={passive:!0},a={passive:!1};if(t.addEventListener("touchstart",this.onTouchStart,r?a:o),t.addEventListener("touchmove",this.onTouchMove,r?a:o),t.addEventListener("touchend",this.onTouchEnd,r?a:o),t.addEventListener("touchcancel",this.onTouchCancel,r?a:o),window&&i.game.config.inputWindowEvents)try{window.top.addEventListener("touchstart",this.onTouchStartWindow,a),window.top.addEventListener("touchend",this.onTouchEndWindow,a),window.top.addEventListener("touchcancel",this.onTouchCancelWindow,a)}catch(h){window.addEventListener("touchstart",this.onTouchStartWindow,a),window.addEventListener("touchend",this.onTouchEndWindow,a),window.addEventListener("touchcancel",this.onTouchCancelWindow,a),this.isTop=!1}this.enabled=!0}},stopListeners:function(){var t=this.target;t.removeEventListener("touchstart",this.onTouchStart),t.removeEventListener("touchmove",this.onTouchMove),t.removeEventListener("touchend",this.onTouchEnd),t.removeEventListener("touchcancel",this.onTouchCancel),window&&((t=this.isTop?window.top:window).removeEventListener("touchstart",this.onTouchStartWindow),t.removeEventListener("touchend",this.onTouchEndWindow),t.removeEventListener("touchcancel",this.onTouchCancelWindow))},destroy:function(){this.stopListeners(),this.target=null,this.enabled=!1,this.manager=null}});t.exports=o},95618:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports={TouchManager:i(36210)}},41299:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(83419),n=i(23906),r=i(54899),o=i(95540),a=i(98356),h=i(3374),l=i(84376),u=i(92638),c=new s({initialize:function(t,e){if(this.loader=t,this.cache=o(e,"cache",!1),this.type=o(e,"type",!1),!this.type)throw new Error("Invalid File type: "+this.type);this.key=o(e,"key",!1);var i=this.key;if(t.prefix&&""!==t.prefix&&(this.key=t.prefix+i),!this.key)throw new Error("Invalid File key: "+this.key);var s=o(e,"url");void 0===s?s=t.path+i+"."+o(e,"extension",""):"string"!=typeof s||s.match(/^(?:blob:|data:|capacitor:\/\/|http:\/\/|https:\/\/|\/\/)/)||(s=t.path+s),this.url=s,this.src="",this.xhrSettings=u(o(e,"responseType",void 0)),o(e,"xhrSettings",!1)&&(this.xhrSettings=h(this.xhrSettings,o(e,"xhrSettings",{}))),this.xhrLoader=null,this.state="function"==typeof this.url?n.FILE_POPULATED:n.FILE_PENDING,this.bytesTotal=0,this.bytesLoaded=-1,this.percentComplete=-1,this.crossOrigin=void 0,this.data=void 0,this.config=o(e,"config",{}),this.multiFile,this.linkFile,this.base64="string"==typeof s&&0===s.indexOf("data:"),this.retryAttempts=o(e,"maxRetries",t.maxRetries)},setLink:function(t){this.linkFile=t,t.linkFile=this},resetXHR:function(){this.xhrLoader&&(this.xhrLoader.onload=void 0,this.xhrLoader.onerror=void 0,this.xhrLoader.onprogress=void 0)},load:function(){if(this.state===n.FILE_POPULATED)this.loader.nextFile(this,!0);else{if(this.state=n.FILE_LOADING,this.src=a(this,this.loader.baseURL),!this.src)throw new Error("URL Error in File: "+this.key+" from: "+this.url);0===this.src.indexOf("data:")&&(this.base64=!0),this.xhrLoader=l(this,this.loader.xhr)}},onLoad:function(t,e){var i=t.responseURL&&this.loader.localSchemes.some(function(e){return 0===t.responseURL.indexOf(e)})&&0===e.target.status,s=!(e.target&&200!==e.target.status)||i;4===t.readyState&&t.status>=400&&t.status<=599&&(s=!1),this.state=n.FILE_LOADED,this.resetXHR(),this.loader.nextFile(this,s)},onBase64Load:function(t){this.xhrLoader=t,this.state=n.FILE_LOADED,this.percentComplete=1,this.loader.emit(r.FILE_PROGRESS,this,this.percentComplete),this.loader.nextFile(this,!0)},onError:function(){this.resetXHR(),this.retryAttempts>0?(this.retryAttempts--,this.load()):this.loader.nextFile(this,!1)},onProgress:function(t){t.lengthComputable&&(this.bytesLoaded=t.loaded,this.bytesTotal=t.total,this.percentComplete=Math.min(this.bytesLoaded/this.bytesTotal,1),this.loader.emit(r.FILE_PROGRESS,this,this.percentComplete))},onProcess:function(){this.state=n.FILE_PROCESSING,this.onProcessComplete()},onProcessComplete:function(){this.state=n.FILE_COMPLETE,this.multiFile&&this.multiFile.onFileComplete(this),this.loader.fileProcessComplete(this)},onProcessError:function(){this.state=n.FILE_ERRORED,this.multiFile&&this.multiFile.onFileFailed(this),this.loader.fileProcessComplete(this)},hasCacheConflict:function(){return this.cache&&this.cache.exists(this.key)},addToCache:function(){this.cache&&this.data&&this.cache.add(this.key,this.data)},pendingDestroy:function(t){if(this.state!==n.FILE_PENDING_DESTROY){void 0===t&&(t=this.data);var e=this.key,i=this.type;this.loader.emit(r.FILE_COMPLETE,e,i,t),this.loader.emit(r.FILE_KEY_COMPLETE+i+"-"+e,e,i,t),this.loader.flagForRemoval(this),this.state=n.FILE_PENDING_DESTROY}},destroy:function(){this.loader=null,this.cache=null,this.xhrSettings=null,this.multiFile=null,this.linkFile=null,this.data=null}});c.createObjectURL=function(t,e,i){if("function"==typeof URL)t.src=URL.createObjectURL(e);else{var s=new FileReader;s.onload=function(){t.removeAttribute("crossOrigin"),t.src="data:"+(e.type||i)+";base64,"+s.result.split(",")[1]},s.onerror=t.onerror,s.readAsDataURL(e)}},c.revokeObjectURL=function(t){"function"==typeof URL&&URL.revokeObjectURL(t.src)},t.exports=c},74099:t=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var e={},i={install:function(t){for(var i in e)t[i]=e[i]},register:function(t,i){e[t]=i},destroy:function(){e={}}};t.exports=i},98356:t=>{t.exports=function(t,e){return!!t.url&&(t.url.match(/^(?:blob:|data:|capacitor:\/\/|http:\/\/|https:\/\/|\/\/)/)?t.url:e+t.url)}},74261:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(83419),n=i(23906),r=i(35072),o=i(50792),a=i(54899),h=i(74099),l=i(95540),u=i(35154),c=i(41212),d=i(37277),f=i(44594),p=i(92638),g=new s({Extends:o,initialize:function(t){o.call(this);var e=t.sys.game.config,i=t.sys.settings.loader;this.scene=t,this.systems=t.sys,this.cacheManager=t.sys.cache,this.textureManager=t.sys.textures,this.sceneManager=t.sys.game.scene,h.install(this),this.prefix="",this.path="",this.baseURL="",this.setBaseURL(l(i,"baseURL",e.loaderBaseURL)),this.setPath(l(i,"path",e.loaderPath)),this.setPrefix(l(i,"prefix",e.loaderPrefix)),this.maxParallelDownloads=l(i,"maxParallelDownloads",e.loaderMaxParallelDownloads),this.xhr=p(l(i,"responseType",e.loaderResponseType),l(i,"async",e.loaderAsync),l(i,"user",e.loaderUser),l(i,"password",e.loaderPassword),l(i,"timeout",e.loaderTimeout),l(i,"withCredentials",e.loaderWithCredentials)),this.crossOrigin=l(i,"crossOrigin",e.loaderCrossOrigin),this.imageLoadType=l(i,"imageLoadType",e.loaderImageLoadType),this.localSchemes=l(i,"localScheme",e.loaderLocalScheme),this.totalToLoad=0,this.progress=0,this.list=new r,this.inflight=new r,this.queue=new r,this._deleteQueue=new r,this.totalFailed=0,this.totalComplete=0,this.state=n.LOADER_IDLE,this.multiKeyIndex=0,this.maxRetries=l(i,"maxRetries",e.loaderMaxRetries),t.sys.events.once(f.BOOT,this.boot,this),t.sys.events.on(f.START,this.pluginStart,this)},boot:function(){this.systems.events.once(f.DESTROY,this.destroy,this)},pluginStart:function(){this.systems.events.once(f.SHUTDOWN,this.shutdown,this)},setBaseURL:function(t){return void 0===t&&(t=""),""!==t&&"/"!==t.substr(-1)&&(t=t.concat("/")),this.baseURL=t,this},setPath:function(t){return void 0===t&&(t=""),""!==t&&"/"!==t.substr(-1)&&(t=t.concat("/")),this.path=t,this},setPrefix:function(t){return void 0===t&&(t=""),this.prefix=t,this},setCORS:function(t){return this.crossOrigin=t,this},addFile:function(t){Array.isArray(t)||(t=[t]);for(var e=0;e<t.length;e++){var i=t[e];this.keyExists(i)||(this.list.set(i),this.emit(a.ADD,i.key,i.type,this,i),this.isLoading()&&(this.totalToLoad++,this.updateProgress()))}},keyExists:function(t){var e=t.hasCacheConflict();return e||this.list.iterate(function(i){if(i.type===t.type&&i.key===t.key)return e=!0,!1}),!e&&this.isLoading()&&(this.inflight.iterate(function(i){if(i.type===t.type&&i.key===t.key)return e=!0,!1}),this.queue.iterate(function(i){if(i.type===t.type&&i.key===t.key)return e=!0,!1})),e},addPack:function(t,e){if("string"==typeof e){var i=u(t,e);i&&(t={packKey:i})}var s=0,n=this.baseURL,r=this.path,o=this.prefix;for(var a in t)if(Object.prototype.hasOwnProperty.call(t,a)){var h=t[a],c=l(h,"baseURL",n),d=l(h,"path",r),f=l(h,"prefix",o),p=l(h,"files",null),g=l(h,"defaultType","void");if(Array.isArray(p)){this.setBaseURL(c),this.setPath(d),this.setPrefix(f);for(var m=0;m<p.length;m++){var v=p[m],y=v.hasOwnProperty("type")?v.type:g;this[y]&&(this[y](v),s++)}}}return this.setBaseURL(n),this.setPath(r),this.setPrefix(o),s>0},removePack:function(t,e){var i,s=this.systems.anims,n=this.cacheManager,r=this.textureManager,o={animation:"json",aseprite:"json",audio:"audio",audioSprite:"audio",binary:"binary",bitmapFont:"bitmapFont",css:null,glsl:"shader",html:"html",json:"json",obj:"obj",plugin:null,scenePlugin:null,script:null,spine:"json",text:"text",tilemapCSV:"tilemap",tilemapImpact:"tilemap",tilemapTiledJSON:"tilemap",video:"video",xml:"xml"};if(c(t))i=t;else if(!(i=n.json.get(t)))return;for(var a in e&&(i={_:i[e]}),i){var h=i[a],u=l(h,"prefix",""),d=l(h,"files"),f=l(h,"defaultType");if(Array.isArray(d))for(var p=0;p<d.length;p++){var g=d[p],m=g.hasOwnProperty("type")?g.type:f;if(m){var v=u+g.key;if("animation"===m&&s.remove(v),"aseprite"!==m&&"atlas"!==m&&"atlasXML"!==m&&"htmlTexture"!==m&&"image"!==m&&"multiatlas"!==m&&"spritesheet"!==m&&"svg"!==m&&"texture"!==m&&"unityAtlas"!==m||(r.remove(v),o[m]))if("pack"!==m){if("spine"===m){var y=n.custom.spine.get(v);if(!y)continue;var x=void 0===y.prefix?"":y.prefix;n.custom.spine.remove(v);var T=n.custom.spineTextures.get(v);if(!T)continue;n.custom.spineTextures.remove(v);for(var w=0;w<T.pages.length;w++){var b=x+T.pages[w].name,S=v+":"+b;r.exists(S)?r.remove(S):r.remove(b)}}var E=o[m];null!==E&&E&&n[E].remove(v)}else this.removePack(v,g.dataKey)}}}},isLoading:function(){return this.state===n.LOADER_LOADING||this.state===n.LOADER_PROCESSING},isReady:function(){return this.state===n.LOADER_IDLE||this.state===n.LOADER_COMPLETE},start:function(){this.isReady()&&(this.progress=0,this.totalFailed=0,this.totalComplete=0,this.totalToLoad=this.list.size,this.emit(a.START,this),0===this.list.size?this.loadComplete():(this.state=n.LOADER_LOADING,this.inflight.clear(),this.queue.clear(),this.updateProgress(),this.checkLoadQueue(),this.systems.events.on(f.UPDATE,this.update,this)))},updateProgress:function(){this.progress=1-(this.list.size+this.inflight.size)/this.totalToLoad,this.emit(a.PROGRESS,this.progress)},update:function(){this.state===n.LOADER_LOADING&&this.list.size>0&&this.inflight.size<this.maxParallelDownloads&&this.checkLoadQueue()},checkLoadQueue:function(){this.list.each(function(t){if((t.state===n.FILE_POPULATED||t.state===n.FILE_PENDING&&this.inflight.size<this.maxParallelDownloads)&&(this.inflight.set(t),this.list.delete(t),t.crossOrigin||(t.crossOrigin=this.crossOrigin),t.load()),this.inflight.size===this.maxParallelDownloads)return!1},this)},nextFile:function(t,e){this.inflight&&(this.inflight.delete(t),this.updateProgress(),e?(this.totalComplete++,this.queue.set(t),this.emit(a.FILE_LOAD,t),t.onProcess()):(this.totalFailed++,this._deleteQueue.set(t),this.emit(a.FILE_LOAD_ERROR,t),this.fileProcessComplete(t)))},fileProcessComplete:function(t){this.scene&&this.systems&&this.systems.game&&!this.systems.game.pendingDestroy&&(t.state===n.FILE_ERRORED?t.multiFile&&t.multiFile.onFileFailed(t):t.state===n.FILE_COMPLETE&&(t.multiFile?t.multiFile.isReadyToProcess()&&(t.multiFile.addToCache(),t.multiFile.pendingDestroy()):(t.addToCache(),t.pendingDestroy())),this.queue.delete(t),0===this.list.size&&0===this.inflight.size&&0===this.queue.size&&this.loadComplete())},loadComplete:function(){this.emit(a.POST_PROCESS,this),this.list.clear(),this.inflight.clear(),this.queue.clear(),this.progress=1,this.state=n.LOADER_COMPLETE,this.systems.events.off(f.UPDATE,this.update,this),this._deleteQueue.iterateLocal("destroy"),this._deleteQueue.clear(),this.emit(a.COMPLETE,this,this.totalComplete,this.totalFailed)},flagForRemoval:function(t){this._deleteQueue.set(t)},saveJSON:function(t,e){return this.save(JSON.stringify(t),e)},save:function(t,e,i){void 0===e&&(e="file.json"),void 0===i&&(i="application/json");var s=new Blob([t],{type:i}),n=URL.createObjectURL(s),r=document.createElement("a");return r.download=e,r.textContent="Download "+e,r.href=n,r.click(),this},reset:function(){this.list.clear(),this.inflight.clear(),this.queue.clear();var t=this.systems.game.config,e=this.systems.settings.loader;this.setBaseURL(l(e,"baseURL",t.loaderBaseURL)),this.setPath(l(e,"path",t.loaderPath)),this.setPrefix(l(e,"prefix",t.loaderPrefix)),this.state=n.LOADER_IDLE},shutdown:function(){this.reset(),this.state=n.LOADER_SHUTDOWN,this.removeAllListeners(),this.systems.events.off(f.UPDATE,this.update,this),this.systems.events.off(f.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.state=n.LOADER_DESTROYED,this.systems.events.off(f.UPDATE,this.update,this),this.systems.events.off(f.START,this.pluginStart,this),this.list=null,this.inflight=null,this.queue=null,this.scene=null,this.systems=null,this.textureManager=null,this.cacheManager=null,this.sceneManager=null}});d.register("Loader",g,"load"),t.exports=g},3374:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(79291),n=i(92638);t.exports=function(t,e){var i=void 0===t?n():s({},t);if(e)for(var r in e)void 0!==e[r]&&(i[r]=e[r]);return i}},26430:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(83419),n=i(23906),r=i(54899),o=new s({initialize:function(t,e,i,s){var r=[];s.forEach(function(t){t&&r.push(t)}),this.loader=t,this.type=e,this.key=i;var o=this.key;t.prefix&&""!==t.prefix&&(this.key=t.prefix+o),this.multiKeyIndex=t.multiKeyIndex++,this.files=r,this.state=n.FILE_PENDING,this.complete=!1,this.pending=r.length,this.failed=0,this.config={},this.baseURL=t.baseURL,this.path=t.path,this.prefix=t.prefix;for(var a=0;a<r.length;a++)r[a].multiFile=this},isReadyToProcess:function(){return 0===this.pending&&0===this.failed&&!this.complete},addToMultiFile:function(t){return this.files.push(t),t.multiFile=this,this.pending++,this.complete=!1,this},onFileComplete:function(t){-1!==this.files.indexOf(t)&&this.pending--},onFileFailed:function(t){-1!==this.files.indexOf(t)&&this.failed++},pendingDestroy:function(){if(this.state!==n.FILE_PENDING_DESTROY){var t=this.key,e=this.type;this.loader.emit(r.FILE_COMPLETE,t,e),this.loader.emit(r.FILE_KEY_COMPLETE+e+"-"+t,t,e),this.loader.flagForRemoval(this);for(var i=0;i<this.files.length;i++)this.files[i].pendingDestroy();this.state=n.FILE_PENDING_DESTROY}},destroy:function(){this.loader=null,this.files=null,this.config=null}});t.exports=o},84376:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(3374);t.exports=function(t,e){var i=s(e,t.xhrSettings);if(t.base64){var n,r=t.url.split(";base64,").pop()||t.url.split(",").pop();return n="arraybuffer"===t.xhrSettings.responseType?{response:Uint8Array.from(atob(r),function(t){return t.charCodeAt(0)}).buffer}:{responseText:atob(r)},void t.onBase64Load(n)}var o=new XMLHttpRequest;if(o.open("GET",t.src,i.async,i.user,i.password),o.responseType=t.xhrSettings.responseType,o.timeout=i.timeout,i.headers)for(var a in i.headers)o.setRequestHeader(a,i.headers[a]);return i.header&&i.headerValue&&o.setRequestHeader(i.header,i.headerValue),i.requestedWith&&o.setRequestHeader("X-Requested-With",i.requestedWith),i.overrideMimeType&&o.overrideMimeType(i.overrideMimeType),i.withCredentials&&(o.withCredentials=!0),o.onload=t.onLoad.bind(t,o),o.onerror=t.onError.bind(t,o),o.onprogress=t.onProgress.bind(t),o.ontimeout=t.onError.bind(t,o),o.send(),o}},92638:t=>{t.exports=function(t,e,i,s,n,r){return void 0===t&&(t=""),void 0===e&&(e=!0),void 0===i&&(i=""),void 0===s&&(s=""),void 0===n&&(n=0),void 0===r&&(r=!1),{responseType:t,async:e,user:i,password:s,timeout:n,headers:void 0,header:void 0,headerValue:void 0,requestedWith:!1,overrideMimeType:void 0,withCredentials:r}}},23906:t=>{t.exports={LOADER_IDLE:0,LOADER_LOADING:1,LOADER_PROCESSING:2,LOADER_COMPLETE:3,LOADER_SHUTDOWN:4,LOADER_DESTROYED:5,FILE_PENDING:10,FILE_LOADING:11,FILE_LOADED:12,FILE_FAILED:13,FILE_PROCESSING:14,FILE_ERRORED:16,FILE_COMPLETE:17,FILE_DESTROYED:18,FILE_POPULATED:19,FILE_PENDING_DESTROY:20}},42155:t=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports="addfile"},38991:t=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports="complete"},27540:t=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports="filecomplete"},87464:t=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports="filecomplete-"},94486:t=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports="loaderror"},13035:t=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports="load"},38144:t=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports="fileprogress"},97520:t=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports="postprocess"},85595:t=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports="progress"},55680:t=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports="start"},54899:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports={ADD:i(42155),COMPLETE:i(38991),FILE_COMPLETE:i(27540),FILE_KEY_COMPLETE:i(87464),FILE_LOAD_ERROR:i(94486),FILE_LOAD:i(13035),FILE_PROGRESS:i(38144),POST_PROCESS:i(97520),PROGRESS:i(85595),START:i(55680)}},14135:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(83419),n=i(74099),r=i(518),o=i(54899),a=new s({Extends:r,initialize:function(t,e,i,s,n){r.call(this,t,e,i,s,n),this.type="animationJSON"},onProcess:function(){this.loader.once(o.POST_PROCESS,this.onLoadComplete,this),r.prototype.onProcess.call(this)},onLoadComplete:function(){this.loader.systems.anims.fromJSON(this.data)}});n.register("animation",function(t,e,i,s){if(Array.isArray(t))for(var n=0;n<t.length;n++)this.addFile(new a(this,t[n]));else this.addFile(new a(this,t,e,s,i));return this}),t.exports=a},76272:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(83419),n=i(74099),r=i(95540),o=i(19550),a=i(41212),h=i(518),l=i(26430),u=new s({Extends:l,initialize:function(t,e,i,s,n,u){var c,d;if(a(e)){var f=e;e=r(f,"key"),c=new o(t,{key:e,url:r(f,"textureURL"),extension:r(f,"textureExtension","png"),normalMap:r(f,"normalMap"),xhrSettings:r(f,"textureXhrSettings")}),d=new h(t,{key:e,url:r(f,"atlasURL"),extension:r(f,"atlasExtension","json"),xhrSettings:r(f,"atlasXhrSettings")})}else c=new o(t,e,i,n),d=new h(t,e,s,u);c.linkFile?l.call(this,t,"atlasjson",e,[c,d,c.linkFile]):l.call(this,t,"atlasjson",e,[c,d])},addToCache:function(){if(this.isReadyToProcess()){var t=this.files[0],e=this.files[1],i=this.files[2]?this.files[2].data:null;this.loader.textureManager.addAtlas(t.key,t.data,e.data,i),e.addToCache(),this.complete=!0}}});n.register("aseprite",function(t,e,i,s,n){var r;if(Array.isArray(t))for(var o=0;o<t.length;o++)r=new u(this,t[o]),this.addFile(r.files);else r=new u(this,t,e,i,s,n),this.addFile(r.files);return this}),t.exports=u},38734:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(83419),n=i(74099),r=i(95540),o=i(19550),a=i(41212),h=i(518),l=i(26430),u=new s({Extends:l,initialize:function(t,e,i,s,n,u){var c,d;if(a(e)){var f=e;e=r(f,"key"),c=new o(t,{key:e,url:r(f,"textureURL"),extension:r(f,"textureExtension","png"),normalMap:r(f,"normalMap"),xhrSettings:r(f,"textureXhrSettings")}),d=new h(t,{key:e,url:r(f,"atlasURL"),extension:r(f,"atlasExtension","json"),xhrSettings:r(f,"atlasXhrSettings")})}else c=new o(t,e,i,n),d=new h(t,e,s,u);c.linkFile?l.call(this,t,"atlasjson",e,[c,d,c.linkFile]):l.call(this,t,"atlasjson",e,[c,d])},addToCache:function(){if(this.isReadyToProcess()){var t=this.files[0],e=this.files[1],i=this.files[2]?this.files[2].data:null;this.loader.textureManager.addAtlas(t.key,t.data,e.data,i),this.complete=!0}}});n.register("atlas",function(t,e,i,s,n){var r;if(Array.isArray(t))for(var o=0;o<t.length;o++)r=new u(this,t[o]),this.addFile(r.files);else r=new u(this,t,e,i,s,n),this.addFile(r.files);return this}),t.exports=u},74599:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(83419),n=i(74099),r=i(95540),o=i(19550),a=i(41212),h=i(26430),l=i(57318),u=new s({Extends:h,initialize:function(t,e,i,s,n,u){var c,d;if(a(e)){var f=e;e=r(f,"key"),c=new o(t,{key:e,url:r(f,"textureURL"),extension:r(f,"textureExtension","png"),normalMap:r(f,"normalMap"),xhrSettings:r(f,"textureXhrSettings")}),d=new l(t,{key:e,url:r(f,"atlasURL"),extension:r(f,"atlasExtension","xml"),xhrSettings:r(f,"atlasXhrSettings")})}else c=new o(t,e,i,n),d=new l(t,e,s,u);c.linkFile?h.call(this,t,"atlasxml",e,[c,d,c.linkFile]):h.call(this,t,"atlasxml",e,[c,d])},addToCache:function(){if(this.isReadyToProcess()){var t=this.files[0],e=this.files[1],i=this.files[2]?this.files[2].data:null;this.loader.textureManager.addAtlasXML(t.key,t.data,e.data,i),this.complete=!0}}});n.register("atlasXML",function(t,e,i,s,n){var r;if(Array.isArray(t))for(var o=0;o<t.length;o++)r=new u(this,t[o]),this.addFile(r.files);else r=new u(this,t,e,i,s,n),this.addFile(r.files);return this}),t.exports=u},21097:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(83419),n=i(23906),r=i(41299),o=i(74099),a=i(95540),h=i(89749),l=i(41212),u=new s({Extends:r,initialize:function(t,e,i,s,n){if(l(e)){var o=e;e=a(o,"key"),s=a(o,"xhrSettings"),n=a(o,"context",n)}var h={type:"audio",cache:t.cacheManager.audio,extension:i.type,responseType:"arraybuffer",key:e,url:i.url,xhrSettings:s,config:{context:n}};r.call(this,t,h)},onProcess:function(){this.state=n.FILE_PROCESSING;var t=this;this.config.context.decodeAudioData(this.xhrLoader.response,function(e){t.data=e,t.onProcessComplete()},function(e){t.onProcessError()}),this.config.context=null}});u.create=function(t,e,i,s,n){var r=t.systems.game,o=r.config.audio,c=r.device.audio;l(e)&&(i=a(e,"url",[]),s=a(e,"config",{}));var d=u.getAudioURL(r,i);return d?c.webAudio&&!o.disableWebAudio?new u(t,e,d,n,r.sound.context):new h(t,e,d,s):null},u.getAudioURL=function(t,e){Array.isArray(e)||(e=[e]);for(var i=0;i<e.length;i++){var s=a(e[i],"url",e[i]);if(0===s.indexOf("blob:")||0===s.indexOf("data:"))return{url:s,type:""};var n=s.match(/\.([a-zA-Z0-9]+)($|\?)/);if(n=a(e[i],"type",n?n[1]:"").toLowerCase(),t.device.audio[n])return{url:s,type:n}}return null},o.register("audio",function(t,e,i,s){var n,r=this.systems.game,o=r.config.audio,a=r.device.audio;if(o.noAudio||!a.webAudio&&!a.audioData)return this;if(Array.isArray(t))for(var h=0;h<t.length;h++)(n=u.create(this,t[h]))&&this.addFile(n);else(n=u.create(this,t,e,i,s))&&this.addFile(n);return this}),t.exports=u},89524:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(21097),n=i(83419),r=i(74099),o=i(95540),a=i(41212),h=i(518),l=i(26430),u=new n({Extends:l,initialize:function(t,e,i,n,r,u,c){if(a(e)){var d=e;e=o(d,"key"),i=o(d,"jsonURL"),n=o(d,"audioURL"),r=o(d,"audioConfig"),u=o(d,"audioXhrSettings"),c=o(d,"jsonXhrSettings")}var f;if(n){var p=s.create(t,e,n,r,u);p&&(f=new h(t,e,i,c),l.call(this,t,"audiosprite",e,[p,f]),this.config.resourceLoad=!1)}else f=new h(t,e,i,c),l.call(this,t,"audiosprite",e,[f]),this.config.resourceLoad=!0,this.config.audioConfig=r,this.config.audioXhrSettings=u},onFileComplete:function(t){if(-1!==this.files.indexOf(t)&&(this.pending--,this.config.resourceLoad&&"json"===t.type&&t.data.hasOwnProperty("resources"))){var e=t.data.resources,i=o(this.config,"audioConfig"),n=o(this.config,"audioXhrSettings"),r=s.create(this.loader,t.key,e,i,n);r&&(this.addToMultiFile(r),this.loader.addFile(r))}},addToCache:function(){if(this.isReadyToProcess()){var t=this.files[0],e=this.files[1];t.addToCache(),e.addToCache(),this.complete=!0}}});r.register("audioSprite",function(t,e,i,s,n,r){var o,a=this.systems.game,h=a.config.audio,l=a.device.audio;if(h&&h.noAudio||!l.webAudio&&!l.audioData)return this;if(Array.isArray(t))for(var c=0;c<t.length;c++)(o=new u(this,t[c])).files&&this.addFile(o.files);else(o=new u(this,t,e,i,s,n,r)).files&&this.addFile(o.files);return this})},85722:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(83419),n=i(23906),r=i(41299),o=i(74099),a=i(95540),h=i(41212),l=new s({Extends:r,initialize:function(t,e,i,s,n){var o="bin";if(h(e)){var l=e;e=a(l,"key"),i=a(l,"url"),s=a(l,"xhrSettings"),o=a(l,"extension",o),n=a(l,"dataType",n)}var u={type:"binary",cache:t.cacheManager.binary,extension:o,responseType:"arraybuffer",key:e,url:i,xhrSettings:s,config:{dataType:n}};r.call(this,t,u)},onProcess:function(){this.state=n.FILE_PROCESSING;var t=this.config.dataType;this.data=t?new t(this.xhrLoader.response):this.xhrLoader.response,this.onProcessComplete()}});o.register("binary",function(t,e,i,s){if(Array.isArray(t))for(var n=0;n<t.length;n++)this.addFile(new l(this,t[n]));else this.addFile(new l(this,t,e,s,i));return this}),t.exports=l},97025:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(83419),n=i(74099),r=i(95540),o=i(19550),a=i(41212),h=i(26430),l=i(21859),u=i(57318),c=new s({Extends:h,initialize:function(t,e,i,s,n,l){var c,d;if(a(e)){var f=e;e=r(f,"key"),c=new o(t,{key:e,url:r(f,"textureURL"),extension:r(f,"textureExtension","png"),normalMap:r(f,"normalMap"),xhrSettings:r(f,"textureXhrSettings")}),d=new u(t,{key:e,url:r(f,"fontDataURL"),extension:r(f,"fontDataExtension","xml"),xhrSettings:r(f,"fontDataXhrSettings")})}else c=new o(t,e,i,n),d=new u(t,e,s,l);c.linkFile?h.call(this,t,"bitmapfont",e,[c,d,c.linkFile]):h.call(this,t,"bitmapfont",e,[c,d])},addToCache:function(){if(this.isReadyToProcess()){var t=this.files[0],e=this.files[1];t.addToCache();var i=t.cache.get(t.key),s=l(e.data,t.cache.getFrame(t.key),0,0,i);this.loader.cacheManager.bitmapFont.add(t.key,{data:s,texture:t.key,frame:null}),this.complete=!0}}});n.register("bitmapFont",function(t,e,i,s,n){var r;if(Array.isArray(t))for(var o=0;o<t.length;o++)r=new c(this,t[o]),this.addFile(r.files);else r=new c(this,t,e,i,s,n),this.addFile(r.files);return this}),t.exports=c},16024:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(83419),n=i(23906),r=i(41299),o=i(74099),a=i(95540),h=i(41212),l=new s({Extends:r,initialize:function(t,e,i,s){var n="css";if(h(e)){var o=e;e=a(o,"key"),i=a(o,"url"),s=a(o,"xhrSettings"),n=a(o,"extension",n)}var l={type:"script",cache:!1,extension:n,responseType:"text",key:e,url:i,xhrSettings:s};r.call(this,t,l)},onProcess:function(){this.state=n.FILE_PROCESSING,this.data=document.createElement("style"),this.data.defer=!1,this.data.innerHTML=this.xhrLoader.responseText,document.head.appendChild(this.data),this.onProcessComplete()}});o.register("css",function(t,e,i){if(Array.isArray(t))for(var s=0;s<t.length;s++)this.addFile(new l(this,t[s]));else this.addFile(new l(this,t,e,i));return this}),t.exports=l},69559:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2021 Photon Storm Ltd.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(38734),n=i(85722),r=i(83419),o=i(74099),a=i(95540),h=i(19550),l=i(41212),u=i(518),c=i(31403),d=i(46975),f=i(59327),p=i(26430),g=i(82038),m=i(55222),v=new r({Extends:p,initialize:function(t,e,i,s){if(i.multiAtlasURL){var r=new u(t,{key:e,url:i.multiAtlasURL,xhrSettings:s,config:i});p.call(this,t,"texture",e,[r])}else{var o=i.textureURL.substr(i.textureURL.length-3);i.type||(i.type="ktx"===o.toLowerCase()?"KTX":"PVR");var a=new n(t,{key:e,url:i.textureURL,extension:o,xhrSettings:s,config:i});if(i.atlasURL){var h=new u(t,{key:e,url:i.atlasURL,xhrSettings:s,config:i});p.call(this,t,"texture",e,[a,h])}else p.call(this,t,"texture",e,[a])}this.config=i},onFileComplete:function(t){if(-1!==this.files.indexOf(t)){if(this.pending--,!this.config.multiAtlasURL)return;if("json"===t.type&&t.data.hasOwnProperty("textures")){var e=t.data.textures,i=this.config,s=this.loader,r=s.baseURL,o=s.path,h=s.prefix,l=a(i,"multiBaseURL",this.baseURL),u=a(i,"multiPath",this.path),c=a(i,"prefix",this.prefix),d=a(i,"textureXhrSettings");l&&s.setBaseURL(l),u&&s.setPath(u),c&&s.setPrefix(c);for(var f=0;f<e.length;f++){var p=e[f].image,g="CMA"+this.multiKeyIndex+"_"+p,m=new n(s,g,p,d);if(this.addToMultiFile(m),s.addFile(m),e[f].normalMap){var v=new n(s,g,e[f].normalMap,d);v.type="normalMap",m.setLink(v),this.addToMultiFile(v),s.addFile(v)}}s.setBaseURL(r),s.setPath(o),s.setPrefix(h)}}},addToCache:function(){if(this.isReadyToProcess()){var t=this.config;if(t.multiAtlasURL)this.addMultiToCache();else{var e,i=this.loader.systems.renderer,s=this.loader.textureManager,n=this.files[0],r=this.files[1];if("PVR"===t.type?e=g(n.data):"KTX"===t.type&&(e=c(n.data)),e&&!m(e)&&(t.format,e.internalFormat.toString(16),e=null),e&&!i.supportsCompressedTexture(t.format,e.internalFormat)&&(t.format,e.internalFormat,e=null),e){e.format=i.getCompressedTextureName(t.format,e.internalFormat);var o=r&&r.data?r.data:null;s.addCompressedTexture(n.key,e,o)}}this.complete=!0}},addMultiToCache:function(){for(var t,e=this.config,i=this.files[0],s=[],n=[],r=[],o=this.loader.systems.renderer,a=this.loader.textureManager,h=1;h<this.files.length;h++){var l=this.files[h];if("normalMap"!==l.type)for(var u=l.key.indexOf("_"),d=l.key.substr(u+1),f=l.data,p=0;p<i.data.textures.length;p++){var m=i.data.textures[p];if(m.image===d){"PVR"===e.type?t=g(f):"KTX"===e.type&&(t=c(f)),t&&o.supportsCompressedTexture(e.format,t.internalFormat)&&(t.format=o.getCompressedTextureName(e.format,t.internalFormat),n.push(t),s.push(m),l.linkFile&&r.push(l.linkFile.data));break}}}0===r.length&&(r=void 0),a.addAtlasJSONArray(this.key,n,s,r),this.complete=!0}});o.register("texture",function(t,e,i){var n=this.systems.renderer,r=function(t,e,i,r){var o={format:null,type:null,textureURL:void 0,atlasURL:void 0,multiAtlasURL:void 0,multiPath:void 0,multiBaseURL:void 0};if(l(e)){var u=e;e=a(u,"key"),i=a(u,"url"),r=a(u,"xhrSettings")}var c=!1;for(var p in i)if(n.supportsCompressedTexture(p)){var g=i[p];"string"==typeof g?o.textureURL=g:o=d(g,o),o.format=p.toUpperCase(),c=!0;break}if(c)if("IMG"===o.format){var m;m=o.multiAtlasURL?new f(t,e,o.multiAtlasURL,o.multiPath,o.multiBaseURL,r).files:o.atlasURL?new s(t,e,o.textureURL,o.atlasURL,r).files:new h(t,e,o.textureURL,r),t.addFile(m)}else{var y=new v(t,e,o,r);t.addFile(y.files)}};if(Array.isArray(t))for(var o=0;o<t.length;o++)r(this,t[o]);else r(this,t,e,i);return this}),t.exports=v},87674:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(83419),n=i(23906),r=i(41299),o=i(74099),a=i(95540),h=i(98356),l=i(41212),u=new s({Extends:r,initialize:function(t,e,i,s,o,h){var u="ttf";if(l(e)){var c=e;e=a(c,"key"),i=a(c,"url"),s=a(c,"format","truetype"),o=a(c,"descriptors",null),h=a(c,"xhrSettings"),u=a(c,"extension",u)}else void 0===s&&(s="truetype");var d={type:"font",cache:!1,extension:u,responseType:"text",key:e,url:i,xhrSettings:h};r.call(this,t,d),this.data={format:s,descriptors:o},this.state=n.FILE_POPULATED},onProcess:function(){var t;this.state=n.FILE_PROCESSING,this.src=h(this,this.loader.baseURL);var e=this.key,i="url("+this.src+') format("'+this.data.format+'")';t=this.data.descriptors?new FontFace(e,i,this.data.descriptors):new FontFace(e,i);var s=this;t.load().then(function(){document.fonts.add(t),document.body.classList.add("fonts-loaded"),s.onProcessComplete()}).catch(function(){s.onProcessComplete()})}});o.register("font",function(t,e,i,s,n){if(Array.isArray(t))for(var r=0;r<t.length;r++)this.addFile(new u(this,t[r]));else this.addFile(new u(this,t,e,i,s,n));return this}),t.exports=u},47931:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(83419),n=i(23906),r=i(41299),o=i(74099),a=i(95540),h=i(41212),l=i(73894),u=new s({Extends:r,initialize:function(t,e,i,s,n){var o="glsl";if(h(e)){var l=e;e=a(l,"key"),i=a(l,"url"),s=a(l,"shaderType","fragment"),n=a(l,"xhrSettings"),o=a(l,"extension",o)}else void 0===s&&(s="fragment");var u={type:"glsl",cache:t.cacheManager.shader,extension:o,responseType:"text",key:e,url:i,config:{shaderType:s},xhrSettings:n};r.call(this,t,u)},onProcess:function(){this.state=n.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()},addToCache:function(){var t=this.data.split("\n"),e=this.extractBlock(t,0);if(e)for(;e;){var i=this.getShaderName(e.header),s=this.getShaderType(e.header),n=this.getShaderUniforms(e.header),r=e.shader;if(this.cache.has(i)){var o=this.cache.get(i);"fragment"===s?o.fragmentSrc=r:o.vertexSrc=r,o.uniforms||(o.uniforms=n)}else"fragment"===s?this.cache.add(i,new l(i,r,"",n)):this.cache.add(i,new l(i,"",r,n));e=this.extractBlock(t,e.offset)}else"fragment"===this.config.shaderType?this.cache.add(this.key,new l(this.key,this.data)):this.cache.add(this.key,new l(this.key,"",this.data))},getShaderName:function(t){for(var e=0;e<t.length;e++){var i=t[e].trim();if("name:"===i.substring(0,5))return i.substring(5).trim()}return this.key},getShaderType:function(t){for(var e=0;e<t.length;e++){var i=t[e].trim();if("type:"===i.substring(0,5))return i.substring(5).trim()}return this.config.shaderType},getShaderUniforms:function(t){for(var e={},i=0;i<t.length;i++){var s=t[i].trim();if("uniform."===s.substring(0,8)){var n=s.indexOf(":");if(n){var r=s.substring(8,n);try{e[r]=JSON.parse(s.substring(n+1))}catch(o){}}}}return e},extractBlock:function(t,e){for(var i=-1,s=-1,n=-1,r=!1,o=!1,a=[],h=[],l=e;l<t.length;l++){var u=t[l].trim();if("---"===u)if(-1===i)i=l,r=!0;else{if(!r){o=!1;break}s=l,r=!1,o=!0}else r?a.push(u):o&&(h.push(u),n=l)}return r||-1===s?null:{header:a,shader:h.join("\n"),offset:n}}});o.register("glsl",function(t,e,i,s){if(Array.isArray(t))for(var n=0;n<t.length;n++)this.addFile(new u(this,t[n]));else this.addFile(new u(this,t,e,i,s));return this}),t.exports=u},89749:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(83419),n=i(54899),r=i(41299),o=i(95540),a=i(98356),h=i(41212),l=new s({Extends:r,initialize:function(t,e,i,s){if(h(e)){var n=e;e=o(n,"key"),s=o(n,"config",s)}var a={type:"audio",cache:t.cacheManager.audio,extension:i.type,key:e,url:i.url,config:s};r.call(this,t,a),this.locked="ontouchstart"in window,this.loaded=!1,this.filesLoaded=0,this.filesTotal=0},onLoad:function(){this.loaded||(this.loaded=!0,this.loader.nextFile(this,!0))},onError:function(){for(var t=0;t<this.data.length;t++){var e=this.data[t];e.oncanplaythrough=null,e.onerror=null}this.loader.nextFile(this,!1)},onProgress:function(t){var e=t.target;e.oncanplaythrough=null,e.onerror=null,this.filesLoaded++,this.percentComplete=Math.min(this.filesLoaded/this.filesTotal,1),this.loader.emit(n.FILE_PROGRESS,this,this.percentComplete),this.filesLoaded===this.filesTotal&&this.onLoad()},load:function(){this.data=[];var t=this.config&&this.config.instances||1;this.filesTotal=t,this.filesLoaded=0,this.percentComplete=0;for(var e=0;e<t;e++){var i=new Audio;i.dataset||(i.dataset={}),i.dataset.name=this.key+("0"+e).slice(-2),i.dataset.used="false",this.locked?i.dataset.locked="true":(i.dataset.locked="false",i.preload="auto",i.oncanplaythrough=this.onProgress.bind(this),i.onerror=this.onError.bind(this)),this.data.push(i)}for(e=0;e<this.data.length;e++)(i=this.data[e]).src=a(this,this.loader.baseURL),this.locked||i.load();this.locked&&setTimeout(this.onLoad.bind(this))}});t.exports=l},88470:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(83419),n=i(23906),r=i(41299),o=i(74099),a=i(95540),h=i(41212),l=new s({Extends:r,initialize:function(t,e,i,s){var n="html";if(h(e)){var o=e;e=a(o,"key"),i=a(o,"url"),s=a(o,"xhrSettings"),n=a(o,"extension",n)}var l={type:"text",cache:t.cacheManager.html,extension:n,responseType:"text",key:e,url:i,xhrSettings:s};r.call(this,t,l)},onProcess:function(){this.state=n.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()}});o.register("html",function(t,e,i){if(Array.isArray(t))for(var s=0;s<t.length;s++)this.addFile(new l(this,t[s]));else this.addFile(new l(this,t,e,i));return this}),t.exports=l},14643:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(83419),n=i(23906),r=i(41299),o=i(74099),a=i(95540),h=i(41212),l=new s({Extends:r,initialize:function(t,e,i,s,n,o){void 0===s&&(s=512),void 0===n&&(n=512);var l="html";if(h(e)){var u=e;e=a(u,"key"),i=a(u,"url"),o=a(u,"xhrSettings"),l=a(u,"extension",l),s=a(u,"width",s),n=a(u,"height",n)}var c={type:"html",cache:t.textureManager,extension:l,responseType:"text",key:e,url:i,xhrSettings:o,config:{width:s,height:n}};r.call(this,t,c)},onProcess:function(){this.state=n.FILE_PROCESSING;var t=this.config.width,e=this.config.height,i=[];i.push('<svg width="'+t+'px" height="'+e+'px" viewBox="0 0 '+t+" "+e+'" xmlns="http://www.w3.org/2000/svg">'),i.push('<foreignObject width="100%" height="100%">'),i.push('<body xmlns="http://www.w3.org/1999/xhtml">'),i.push(this.xhrLoader.responseText),i.push("</body>"),i.push("</foreignObject>"),i.push("</svg>");var s=[i.join("\n")],o=this;try{var a=new window.Blob(s,{type:"image/svg+xml;charset=utf-8"})}catch(h){return o.state=n.FILE_ERRORED,void o.onProcessComplete()}this.data=new Image,this.data.crossOrigin=this.crossOrigin,this.data.onload=function(){r.revokeObjectURL(o.data),o.onProcessComplete()},this.data.onerror=function(){r.revokeObjectURL(o.data),o.onProcessError()},r.createObjectURL(this.data,a,"image/svg+xml")},addToCache:function(){this.cache.addImage(this.key,this.data)}});o.register("htmlTexture",function(t,e,i,s,n){if(Array.isArray(t))for(var r=0;r<t.length;r++)this.addFile(new l(this,t[r]));else this.addFile(new l(this,t,e,i,s,n));return this}),t.exports=l},19550:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(83419),n=i(23906),r=i(41299),o=i(74099),a=i(95540),h=i(41212),l=i(98356),u=new s({Extends:r,initialize:function t(e,i,s,n,o){var l,u="png";if(h(i)){var c=i;i=a(c,"key"),s=a(c,"url"),l=a(c,"normalMap"),n=a(c,"xhrSettings"),u=a(c,"extension",u),o=a(c,"frameConfig")}Array.isArray(s)&&(l=s[1],s=s[0]);var d={type:"image",cache:e.textureManager,extension:u,responseType:"blob",key:i,url:s,xhrSettings:n,config:o};if(r.call(this,e,d),l){var f=new t(e,this.key,l,n,o);f.type="normalMap",this.setLink(f),e.addFile(f)}this.useImageElementLoad="HTMLImageElement"===e.imageLoadType||this.base64,this.useImageElementLoad&&(this.load=this.loadImage,this.onProcess=this.onProcessImage)},onProcess:function(){this.state=n.FILE_PROCESSING,this.data=new Image,this.data.crossOrigin=this.crossOrigin;var t=this;this.data.onload=function(){r.revokeObjectURL(t.data),t.onProcessComplete()},this.data.onerror=function(){r.revokeObjectURL(t.data),t.onProcessError()},r.createObjectURL(this.data,this.xhrLoader.response,"image/png")},onProcessImage:function(){var t=this.state;this.state=n.FILE_PROCESSING,t===n.FILE_LOADED?this.onProcessComplete():this.onProcessError()},loadImage:function(){this.state=n.FILE_LOADING,this.src=l(this,this.loader.baseURL),this.data=new Image,this.data.crossOrigin=this.crossOrigin;var t=this;this.data.onload=function(){t.state=n.FILE_LOADED,t.loader.nextFile(t,!0)},this.data.onerror=function(){t.loader.nextFile(t,!1)},this.data.src=this.src},addToCache:function(){var t=this.linkFile;t?t.state>=n.FILE_COMPLETE&&("spritesheet"===t.type?t.addToCache():"normalMap"===this.type?this.cache.addImage(this.key,t.data,this.data):this.cache.addImage(this.key,this.data,t.data)):this.cache.addImage(this.key,this.data)}});o.register("image",function(t,e,i){if(Array.isArray(t))for(var s=0;s<t.length;s++)this.addFile(new u(this,t[s]));else this.addFile(new u(this,t,e,i));return this}),t.exports=u},518:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(83419),n=i(23906),r=i(41299),o=i(74099),a=i(95540),h=i(35154),l=i(41212),u=new s({Extends:r,initialize:function(t,e,i,s,o){var u="json";if(l(e)){var c=e;e=a(c,"key"),i=a(c,"url"),s=a(c,"xhrSettings"),u=a(c,"extension",u),o=a(c,"dataKey",o)}var d={type:"json",cache:t.cacheManager.json,extension:u,responseType:"text",key:e,url:i,xhrSettings:s,config:o};r.call(this,t,d),l(i)&&(this.data=o?h(i,o):i,this.state=n.FILE_POPULATED)},onProcess:function(){if(this.state!==n.FILE_POPULATED){this.state=n.FILE_PROCESSING;try{var t=JSON.parse(this.xhrLoader.responseText)}catch(i){throw this.onProcessError(),i}var e=this.config;this.data="string"==typeof e?h(t,e,t):t}this.onProcessComplete()}});o.register("json",function(t,e,i,s){if(Array.isArray(t))for(var n=0;n<t.length;n++)this.addFile(new u(this,t[n]));else this.addFile(new u(this,t,e,s,i));return this}),t.exports=u},59327:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(83419),n=i(74099),r=i(95540),o=i(19550),a=i(41212),h=i(518),l=i(26430),u=new s({Extends:l,initialize:function(t,e,i,s,n,o,u){if(a(e)){var c=e;e=r(c,"key"),i=r(c,"url",!1)?r(c,"url"):r(c,"atlasURL"),o=r(c,"xhrSettings"),s=r(c,"path"),n=r(c,"baseURL"),u=r(c,"textureXhrSettings")}var d=new h(t,e,i,o);l.call(this,t,"multiatlas",e,[d]),this.config.path=s,this.config.baseURL=n,this.config.textureXhrSettings=u},onFileComplete:function(t){if(-1!==this.files.indexOf(t)&&(this.pending--,"json"===t.type&&t.data.hasOwnProperty("textures"))){var e=t.data.textures,i=this.config,s=this.loader,n=s.baseURL,a=s.path,h=s.prefix,l=r(i,"baseURL",this.baseURL),u=r(i,"path",this.path),c=r(i,"prefix",this.prefix),d=r(i,"textureXhrSettings");s.setBaseURL(l),s.setPath(u),s.setPrefix(c);for(var f=0;f<e.length;f++){var p=e[f].image,g="MA"+this.multiKeyIndex+"_"+p,m=new o(s,g,p,d);if(this.addToMultiFile(m),s.addFile(m),e[f].normalMap){var v=new o(s,g,e[f].normalMap,d);v.type="normalMap",m.setLink(v),this.addToMultiFile(v),s.addFile(v)}}s.setBaseURL(n),s.setPath(a),s.setPrefix(h)}},addToCache:function(){if(this.isReadyToProcess()){for(var t=this.files[0],e=[],i=[],s=[],n=1;n<this.files.length;n++){var r=this.files[n];if("normalMap"!==r.type)for(var o=r.key.indexOf("_"),a=r.key.substr(o+1),h=r.data,l=0;l<t.data.textures.length;l++){var u=t.data.textures[l];if(u.image===a){i.push(h),e.push(u),r.linkFile&&s.push(r.linkFile.data);break}}}0===s.length&&(s=void 0),this.loader.textureManager.addAtlasJSONArray(this.key,i,e,s),this.complete=!0}}});n.register("multiatlas",function(t,e,i,s,n){var r;if(Array.isArray(t))for(var o=0;o<t.length;o++)r=new u(this,t[o]),this.addFile(r.files);else r=new u(this,t,e,i,s,n),this.addFile(r.files);return this}),t.exports=u},99297:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(83419),n=i(74099),r=i(95540),o=i(41212),a=i(26430),h=i(34328),l=new s({Extends:a,initialize:function(t,e,i,s){var n="js",l=[];if(o(e)){var u=e;e=r(u,"key"),i=r(u,"url"),s=r(u,"xhrSettings"),n=r(u,"extension",n)}Array.isArray(i)||(i=[i]);for(var c=0;c<i.length;c++){var d=new h(t,{key:e+"_"+c.toString(),url:i[c],extension:n,xhrSettings:s});d.onProcess=function(){this.onProcessComplete()},l.push(d)}a.call(this,t,"scripts",e,l)},addToCache:function(){if(this.isReadyToProcess()){for(var t=0;t<this.files.length;t++){var e=this.files[t];e.data=document.createElement("script"),e.data.language="javascript",e.data.type="text/javascript",e.data.defer=!1,e.data.text=e.xhrLoader.responseText,document.head.appendChild(e.data)}this.complete=!0}}});n.register("scripts",function(t,e,i){var s;if(Array.isArray(t))for(var n=0;n<t.length;n++)s=new l(this,t[n]),this.addFile(s.files);else s=new l(this,t,e,i),this.addFile(s.files);return this}),t.exports=l},41846:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(83419),n=i(74099),r=i(95540),o=i(41212),a=i(26430),h=i(85048),l=i(61485),u=i(78776),c=new s({Extends:a,initialize:function(t,e,i,s,n,h){var l,c,d=t.cacheManager.obj;if(o(e)){var f=e;e=r(f,"key"),l=new u(t,{key:e,type:"obj",cache:d,url:r(f,"url"),extension:r(f,"extension","obj"),xhrSettings:r(f,"xhrSettings"),config:{flipUV:r(f,"flipUV",n)}}),(s=r(f,"matURL"))&&(c=new u(t,{key:e,type:"mat",cache:d,url:s,extension:r(f,"matExtension","mat"),xhrSettings:r(f,"xhrSettings")}))}else l=new u(t,{key:e,url:i,type:"obj",cache:d,extension:"obj",xhrSettings:h,config:{flipUV:n}}),s&&(c=new u(t,{key:e,url:s,type:"mat",cache:d,extension:"mat",xhrSettings:h}));a.call(this,t,"obj",e,[l,c])},addToCache:function(){if(this.isReadyToProcess()){var t=this.files[0],e=this.files[1],i=h(t.data,t.config.flipUV);e&&(i.materials=l(e.data)),t.cache.add(t.key,i),this.complete=!0}}});n.register("obj",function(t,e,i,s,n){var r;if(Array.isArray(t))for(var o=0;o<t.length;o++)r=new c(this,t[o]),this.addFile(r.files);else r=new c(this,t,e,i,s,n),this.addFile(r.files);return this}),t.exports=c},58610:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(83419),n=i(23906),r=i(74099),o=i(518),a=new s({Extends:o,initialize:function(t,e,i,s,n){o.call(this,t,e,i,s,n),this.type="packfile"},onProcess:function(){if(this.state!==n.FILE_POPULATED&&(this.state=n.FILE_PROCESSING,this.data=JSON.parse(this.xhrLoader.responseText)),this.data.hasOwnProperty("files")&&this.config){var t={};t[this.config]=this.data,this.data=t}this.loader.addPack(this.data,this.config),this.onProcessComplete()}});r.register("pack",function(t,e,i,s){if(Array.isArray(t))for(var n=0;n<t.length;n++)this.addFile(new a(this,t[n]));else this.addFile(new a(this,t,e,s,i));return this}),t.exports=a},48988:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(83419),n=i(23906),r=i(41299),o=i(74099),a=i(95540),h=i(41212),l=new s({Extends:r,initialize:function(t,e,i,s,o,l){var u="js";if(h(e)){var c=e;e=a(c,"key"),i=a(c,"url"),l=a(c,"xhrSettings"),u=a(c,"extension",u),s=a(c,"start"),o=a(c,"mapping")}var d={type:"plugin",cache:!1,extension:u,responseType:"text",key:e,url:i,xhrSettings:l,config:{start:s,mapping:o}};r.call(this,t,d),"function"==typeof i&&(this.data=i,this.state=n.FILE_POPULATED)},onProcess:function(){var t=this.loader.systems.plugins,e=this.config,i=a(e,"start",!1),s=a(e,"mapping",null);if(this.state===n.FILE_POPULATED)t.install(this.key,this.data,i,s);else{this.state=n.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data);var r=t.install(this.key,window[this.key],i,s);(i||s)&&(this.loader.systems[s]=r,this.loader.scene[s]=r)}this.onProcessComplete()}});o.register("plugin",function(t,e,i,s,n){if(Array.isArray(t))for(var r=0;r<t.length;r++)this.addFile(new l(this,t[r]));else this.addFile(new l(this,t,e,i,s,n));return this}),t.exports=l},67397:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(83419),n=i(23906),r=i(41299),o=i(74099),a=i(95540),h=i(41212),l=new s({Extends:r,initialize:function(t,e,i,s,n){var o="svg";if(h(e)){var l=e;e=a(l,"key"),i=a(l,"url"),s=a(l,"svgConfig",{}),n=a(l,"xhrSettings"),o=a(l,"extension",o)}var u={type:"svg",cache:t.textureManager,extension:o,responseType:"text",key:e,url:i,xhrSettings:n,config:{width:a(s,"width"),height:a(s,"height"),scale:a(s,"scale")}};r.call(this,t,u)},onProcess:function(){this.state=n.FILE_PROCESSING;var t=this.xhrLoader.responseText,e=[t],i=this.config.width,s=this.config.height,o=this.config.scale;t:if(i&&s||o){var a=(new DOMParser).parseFromString(t,"text/xml").getElementsByTagName("svg")[0],h=a.hasAttribute("viewBox"),l=parseFloat(a.getAttribute("width")),u=parseFloat(a.getAttribute("height"));if(!h&&l&&u)a.setAttribute("viewBox","0  0 "+l+" "+u);else if(h&&!l&&!u){var c=a.getAttribute("viewBox").split(/\s+|,/);l=c[2],u=c[3]}if(o){if(!l||!u)break t;i=l*o,s=u*o}a.setAttribute("width",i.toString()+"px"),a.setAttribute("height",s.toString()+"px"),e=[(new XMLSerializer).serializeToString(a)]}try{var d=new window.Blob(e,{type:"image/svg+xml;charset=utf-8"})}catch(g){return void this.onProcessError()}this.data=new Image,this.data.crossOrigin=this.crossOrigin;var f=this,p=!1;this.data.onload=function(){p||r.revokeObjectURL(f.data),f.onProcessComplete()},this.data.onerror=function(){p?f.onProcessError():(p=!0,r.revokeObjectURL(f.data),f.data.src="data:image/svg+xml,"+encodeURIComponent(e.join("")))},r.createObjectURL(this.data,d,"image/svg+xml")},addToCache:function(){this.cache.addImage(this.key,this.data)}});o.register("svg",function(t,e,i,s){if(Array.isArray(t))for(var n=0;n<t.length;n++)this.addFile(new l(this,t[n]));else this.addFile(new l(this,t,e,i,s));return this}),t.exports=l},88423:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(83419),n=i(23906),r=i(41299),o=i(74099),a=i(95540),h=i(41212),l=new s({Extends:r,initialize:function(t,e,i,s){var n="js";if(h(e)){var o=e;e=a(o,"key"),i=a(o,"url"),s=a(o,"xhrSettings"),n=a(o,"extension",n)}var l={type:"text",extension:n,responseType:"text",key:e,url:i,xhrSettings:s};r.call(this,t,l)},onProcess:function(){this.state=n.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()},addToCache:function(){var t=this.data.concat("(function(){\nreturn new "+this.key+"();\n}).call(this);"),e=eval;this.loader.sceneManager.add(this.key,e(t)),this.complete=!0}});o.register("sceneFile",function(t,e,i){if(Array.isArray(t))for(var s=0;s<t.length;s++)this.addFile(new l(this,t[s]));else this.addFile(new l(this,t,e,i));return this}),t.exports=l},56812:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(83419),n=i(23906),r=i(41299),o=i(74099),a=i(95540),h=i(41212),l=new s({Extends:r,initialize:function(t,e,i,s,o,l){var u="js";if(h(e)){var c=e;e=a(c,"key"),i=a(c,"url"),l=a(c,"xhrSettings"),u=a(c,"extension",u),s=a(c,"systemKey"),o=a(c,"sceneKey")}var d={type:"scenePlugin",cache:!1,extension:u,responseType:"text",key:e,url:i,xhrSettings:l,config:{systemKey:s,sceneKey:o}};r.call(this,t,d),"function"==typeof i&&(this.data=i,this.state=n.FILE_POPULATED)},onProcess:function(){var t=this.loader.systems.plugins,e=this.config,i=this.key,s=a(e,"systemKey",i),r=a(e,"sceneKey",i);this.state===n.FILE_POPULATED?t.installScenePlugin(s,this.data,r,this.loader.scene,!0):(this.state=n.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data),t.installScenePlugin(s,window[this.key],r,this.loader.scene,!0)),this.onProcessComplete()}});o.register("scenePlugin",function(t,e,i,s,n){if(Array.isArray(t))for(var r=0;r<t.length;r++)this.addFile(new l(this,t[r]));else this.addFile(new l(this,t,e,i,s,n));return this}),t.exports=l},34328:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(83419),n=i(23906),r=i(41299),o=i(74099),a=i(95540),h=i(41212),l=new s({Extends:r,initialize:function(t,e,i,s,n){var o="js";if(h(e)){var l=e;e=a(l,"key"),i=a(l,"url"),s=a(l,"type","script"),n=a(l,"xhrSettings"),o=a(l,"extension",o)}else void 0===s&&(s="script");var u={type:s,cache:!1,extension:o,responseType:"text",key:e,url:i,xhrSettings:n};r.call(this,t,u)},onProcess:function(){this.state=n.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data),this.onProcessComplete()}});o.register("script",function(t,e,i,s){if(Array.isArray(t))for(var n=0;n<t.length;n++)this.addFile(new l(this,t[n]));else this.addFile(new l(this,t,e,i,s));return this}),t.exports=l},85035:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(83419),n=i(23906),r=i(74099),o=i(19550),a=new s({Extends:o,initialize:function(t,e,i,s,n){o.call(this,t,e,i,n,s),this.type="spritesheet"},addToCache:function(){var t=this.linkFile;t?t.state>=n.FILE_COMPLETE&&("normalMap"===this.type?this.cache.addSpriteSheet(this.key,t.data,this.config,this.data):this.cache.addSpriteSheet(this.key,this.data,this.config,t.data)):this.cache.addSpriteSheet(this.key,this.data,this.config)}});r.register("spritesheet",function(t,e,i,s){if(Array.isArray(t))for(var n=0;n<t.length;n++)this.addFile(new a(this,t[n]));else this.addFile(new a(this,t,e,i,s));return this}),t.exports=a},78776:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(83419),n=i(23906),r=i(41299),o=i(74099),a=i(95540),h=i(41212),l=new s({Extends:r,initialize:function(t,e,i,s){var n="text",o="txt",l=t.cacheManager.text;if(h(e)){var u=e;e=a(u,"key"),i=a(u,"url"),s=a(u,"xhrSettings"),o=a(u,"extension",o),n=a(u,"type",n),l=a(u,"cache",l)}var c={type:n,cache:l,extension:o,responseType:"text",key:e,url:i,xhrSettings:s};r.call(this,t,c)},onProcess:function(){this.state=n.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()}});o.register("text",function(t,e,i){if(Array.isArray(t))for(var s=0;s<t.length;s++)this.addFile(new l(this,t[s]));else this.addFile(new l(this,t,e,i));return this}),t.exports=l},49477:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(83419),n=i(23906),r=i(41299),o=i(74099),a=i(95540),h=i(41212),l=i(80341),u=new s({Extends:r,initialize:function(t,e,i,s){var n="csv";if(h(e)){var o=e;e=a(o,"key"),i=a(o,"url"),s=a(o,"xhrSettings"),n=a(o,"extension",n)}var u={type:"tilemapCSV",cache:t.cacheManager.tilemap,extension:n,responseType:"text",key:e,url:i,xhrSettings:s};r.call(this,t,u),this.tilemapFormat=l.CSV},onProcess:function(){this.state=n.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()},addToCache:function(){var t={format:this.tilemapFormat,data:this.data};this.cache.add(this.key,t)}});o.register("tilemapCSV",function(t,e,i){if(Array.isArray(t))for(var s=0;s<t.length;s++)this.addFile(new u(this,t[s]));else this.addFile(new u(this,t,e,i));return this}),t.exports=u},40807:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(83419),n=i(74099),r=i(518),o=i(80341),a=new s({Extends:r,initialize:function(t,e,i,s){r.call(this,t,e,i,s),this.type="tilemapJSON",this.cache=t.cacheManager.tilemap},addToCache:function(){var t={format:o.WELTMEISTER,data:this.data};this.cache.add(this.key,t)}});n.register("tilemapImpact",function(t,e,i){if(Array.isArray(t))for(var s=0;s<t.length;s++)this.addFile(new a(this,t[s]));else this.addFile(new a(this,t,e,i));return this}),t.exports=a},56775:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(83419),n=i(74099),r=i(518),o=i(80341),a=new s({Extends:r,initialize:function(t,e,i,s){r.call(this,t,e,i,s),this.type="tilemapJSON",this.cache=t.cacheManager.tilemap},addToCache:function(){var t={format:o.TILED_JSON,data:this.data};this.cache.add(this.key,t)}});n.register("tilemapTiledJSON",function(t,e,i){if(Array.isArray(t))for(var s=0;s<t.length;s++)this.addFile(new a(this,t[s]));else this.addFile(new a(this,t,e,i));return this}),t.exports=a},25771:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(83419),n=i(74099),r=i(95540),o=i(19550),a=i(41212),h=i(26430),l=i(78776),u=new s({Extends:h,initialize:function(t,e,i,s,n,u){var c,d;if(a(e)){var f=e;e=r(f,"key"),c=new o(t,{key:e,url:r(f,"textureURL"),extension:r(f,"textureExtension","png"),normalMap:r(f,"normalMap"),xhrSettings:r(f,"textureXhrSettings")}),d=new l(t,{key:e,url:r(f,"atlasURL"),extension:r(f,"atlasExtension","txt"),xhrSettings:r(f,"atlasXhrSettings")})}else c=new o(t,e,i,n),d=new l(t,e,s,u);c.linkFile?h.call(this,t,"unityatlas",e,[c,d,c.linkFile]):h.call(this,t,"unityatlas",e,[c,d])},addToCache:function(){if(this.isReadyToProcess()){var t=this.files[0],e=this.files[1],i=this.files[2]?this.files[2].data:null;this.loader.textureManager.addUnityAtlas(t.key,t.data,e.data,i),this.complete=!0}}});n.register("unityAtlas",function(t,e,i,s,n){var r;if(Array.isArray(t))for(var o=0;o<t.length;o++)r=new u(this,t[o]),this.addFile(r.files);else r=new u(this,t,e,i,s,n),this.addFile(r.files);return this}),t.exports=u},33720:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(83419),n=i(23906),r=i(41299),o=i(74099),a=i(98356),h=i(95540),l=i(41212),u=new s({Extends:r,initialize:function(t,e,i,s){if(void 0===s&&(s=!1),l(e)){var n=e;e=h(n,"key"),i=h(n,"url",[]),s=h(n,"noAudio",!1)}var o=t.systems.game.device.video.getVideoURL(i),a={type:"video",cache:t.cacheManager.video,extension:o.type,key:e,url:o.url,config:{noAudio:s}};r.call(this,t,a)},onProcess:function(){this.data={url:this.src,noAudio:this.config.noAudio,crossOrigin:this.crossOrigin},this.onProcessComplete()},load:function(){this.src=a(this,this.loader.baseURL),this.state=n.FILE_LOADED,this.loader.nextFile(this,!0)}});o.register("video",function(t,e,i){if(Array.isArray(t))for(var s=0;s<t.length;s++)this.addFile(new u(this,t[s]));else this.addFile(new u(this,t,e,i));return this}),t.exports=u},57318:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(83419),n=i(23906),r=i(41299),o=i(74099),a=i(95540),h=i(41212),l=i(56836),u=new s({Extends:r,initialize:function(t,e,i,s){var n="xml";if(h(e)){var o=e;e=a(o,"key"),i=a(o,"url"),s=a(o,"xhrSettings"),n=a(o,"extension",n)}var l={type:"xml",cache:t.cacheManager.xml,extension:n,responseType:"text",key:e,url:i,xhrSettings:s};r.call(this,t,l)},onProcess:function(){this.state=n.FILE_PROCESSING,this.data=l(this.xhrLoader.responseText),this.data?this.onProcessComplete():this.onProcessError()}});o.register("xml",function(t,e,i){if(Array.isArray(t))for(var s=0;s<t.length;s++)this.addFile(new u(this,t[s]));else this.addFile(new u(this,t,e,i));return this}),t.exports=u},64589:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports={AnimationJSONFile:i(14135),AsepriteFile:i(76272),AtlasJSONFile:i(38734),AtlasXMLFile:i(74599),AudioFile:i(21097),AudioSpriteFile:i(89524),BinaryFile:i(85722),BitmapFontFile:i(97025),CompressedTextureFile:i(69559),CSSFile:i(16024),FontFile:i(87674),GLSLFile:i(47931),HTML5AudioFile:i(89749),HTMLFile:i(88470),HTMLTextureFile:i(14643),ImageFile:i(19550),JSONFile:i(518),MultiAtlasFile:i(59327),MultiScriptFile:i(99297),OBJFile:i(41846),PackFile:i(58610),PluginFile:i(48988),SceneFile:i(88423),ScenePluginFile:i(56812),ScriptFile:i(34328),SpriteSheetFile:i(85035),SVGFile:i(67397),TextFile:i(78776),TilemapCSVFile:i(49477),TilemapImpactFile:i(40807),TilemapJSONFile:i(56775),UnityAtlasFile:i(25771),VideoFile:i(33720),XMLFile:i(57318)}},57777:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(23906),n=i(79291),r={Events:i(54899),FileTypes:i(64589),File:i(41299),FileTypesManager:i(74099),GetURL:i(98356),LoaderPlugin:i(74261),MergeXHRSettings:i(3374),MultiFile:i(26430),XHRLoader:i(84376),XHRSettings:i(92638)};r=n(!1,r,s),t.exports=r},53307:t=>{t.exports=function(t){for(var e=0,i=0;i<t.length;i++)e+=+t[i];return e/t.length}},85710:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(6411);t.exports=function(t,e){return s(t)/s(e)/s(t-e)}},30976:t=>{t.exports=function(t,e){return Math.floor(Math.random()*(e-t+1)+t)}},87842:t=>{t.exports=function(t,e,i,s,n){var r=.5*(s-e),o=.5*(n-i),a=t*t;return(2*i-2*s+r+o)*(t*a)+(-3*i+3*s-2*r-o)*a+r*t+i}},26302:t=>{t.exports=function(t,e,i){void 0===e&&(e=0),void 0===i&&(i=10);var s=Math.pow(i,-e);return Math.ceil(t*s)/s}},45319:t=>{t.exports=function(t,e,i){return Math.max(e,Math.min(i,t))}},39506:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(36383);t.exports=function(t){return t*s.DEG_TO_RAD}},61241:t=>{t.exports=function(t,e){return Math.abs(t-e)}},38857:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(45319),n=i(83419),r=i(37867),o=i(29747),a=new r,h=new n({initialize:function t(e,i,s,n){void 0===e&&(e=0),void 0===i&&(i=0),void 0===s&&(s=0),void 0===n&&(n=t.DefaultOrder),this._x=e,this._y=i,this._z=s,this._order=n,this.onChangeCallback=o},x:{get:function(){return this._x},set:function(t){this._x=t,this.onChangeCallback(this)}},y:{get:function(){return this._y},set:function(t){this._y=t,this.onChangeCallback(this)}},z:{get:function(){return this._z},set:function(t){this._z=t,this.onChangeCallback(this)}},order:{get:function(){return this._order},set:function(t){this._order=t,this.onChangeCallback(this)}},set:function(t,e,i,s){return void 0===s&&(s=this._order),this._x=t,this._y=e,this._z=i,this._order=s,this.onChangeCallback(this),this},copy:function(t){return this.set(t.x,t.y,t.z,t.order)},setFromQuaternion:function(t,e,i){return void 0===e&&(e=this._order),void 0===i&&(i=!1),a.fromQuat(t),this.setFromRotationMatrix(a,e,i)},setFromRotationMatrix:function(t,e,i){void 0===e&&(e=this._order),void 0===i&&(i=!1);var n=t.val,r=n[0],o=n[4],a=n[8],h=n[1],l=n[5],u=n[9],c=n[2],d=n[6],f=n[10],p=0,g=0,m=0,v=.99999;switch(e){case"XYZ":g=Math.asin(s(a,-1,1)),Math.abs(a)<v?(p=Math.atan2(-u,f),m=Math.atan2(-o,r)):p=Math.atan2(d,l);break;case"YXZ":p=Math.asin(-s(u,-1,1)),Math.abs(u)<v?(g=Math.atan2(a,f),m=Math.atan2(h,l)):g=Math.atan2(-c,r);break;case"ZXY":p=Math.asin(s(d,-1,1)),Math.abs(d)<v?(g=Math.atan2(-c,f),m=Math.atan2(-o,l)):m=Math.atan2(h,r);break;case"ZYX":g=Math.asin(-s(c,-1,1)),Math.abs(c)<v?(p=Math.atan2(d,f),m=Math.atan2(h,r)):m=Math.atan2(-o,l);break;case"YZX":m=Math.asin(s(h,-1,1)),Math.abs(h)<v?(p=Math.atan2(-u,l),g=Math.atan2(-c,r)):g=Math.atan2(a,f);break;case"XZY":m=Math.asin(-s(o,-1,1)),Math.abs(o)<v?(p=Math.atan2(d,l),g=Math.atan2(a,r)):p=Math.atan2(-u,f)}return this._x=p,this._y=g,this._z=m,this._order=e,i&&this.onChangeCallback(this),this}});h.RotationOrders=["XYZ","YXZ","ZXY","ZYX","YZX","XZY"],h.DefaultOrder="XYZ",t.exports=h},6411:t=>{t.exports=function(t){if(0===t)return 1;for(var e=t;--t;)e*=t;return e}},99472:t=>{t.exports=function(t,e){return Math.random()*(e-t)+t}},77623:t=>{t.exports=function(t,e,i){void 0===e&&(e=0),void 0===i&&(i=10);var s=Math.pow(i,-e);return Math.floor(t*s)/s}},62945:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(45319);t.exports=function(t,e,i){return(i-e)*(t=s(t,0,1))+e}},38265:t=>{t.exports=function(t,e){return t/e/1e3}},78702:t=>{t.exports=function(t){return t==parseFloat(t)?!(t%2):void 0}},94883:t=>{t.exports=function(t){return t===parseFloat(t)?!(t%2):void 0}},28915:t=>{t.exports=function(t,e,i){return(e-t)*i+t}},94908:t=>{t.exports=function(t,e,i){return void 0===i&&(i=0),t.clone().lerp(e,i)}},94434:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=new(i(83419))({initialize:function(t){this.val=new Float32Array(9),t?this.copy(t):this.identity()},clone:function(){return new s(this)},set:function(t){return this.copy(t)},copy:function(t){var e=this.val,i=t.val;return e[0]=i[0],e[1]=i[1],e[2]=i[2],e[3]=i[3],e[4]=i[4],e[5]=i[5],e[6]=i[6],e[7]=i[7],e[8]=i[8],this},fromMat4:function(t){var e=t.val,i=this.val;return i[0]=e[0],i[1]=e[1],i[2]=e[2],i[3]=e[4],i[4]=e[5],i[5]=e[6],i[6]=e[8],i[7]=e[9],i[8]=e[10],this},fromArray:function(t){var e=this.val;return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],this},identity:function(){var t=this.val;return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,this},transpose:function(){var t=this.val,e=t[1],i=t[2],s=t[5];return t[1]=t[3],t[2]=t[6],t[3]=e,t[5]=t[7],t[6]=i,t[7]=s,this},invert:function(){var t=this.val,e=t[0],i=t[1],s=t[2],n=t[3],r=t[4],o=t[5],a=t[6],h=t[7],l=t[8],u=l*r-o*h,c=-l*n+o*a,d=h*n-r*a,f=e*u+i*c+s*d;return f?(f=1/f,t[0]=u*f,t[1]=(-l*i+s*h)*f,t[2]=(o*i-s*r)*f,t[3]=c*f,t[4]=(l*e-s*a)*f,t[5]=(-o*e+s*n)*f,t[6]=d*f,t[7]=(-h*e+i*a)*f,t[8]=(r*e-i*n)*f,this):null},adjoint:function(){var t=this.val,e=t[0],i=t[1],s=t[2],n=t[3],r=t[4],o=t[5],a=t[6],h=t[7],l=t[8];return t[0]=r*l-o*h,t[1]=s*h-i*l,t[2]=i*o-s*r,t[3]=o*a-n*l,t[4]=e*l-s*a,t[5]=s*n-e*o,t[6]=n*h-r*a,t[7]=i*a-e*h,t[8]=e*r-i*n,this},determinant:function(){var t=this.val,e=t[0],i=t[1],s=t[2],n=t[3],r=t[4],o=t[5],a=t[6],h=t[7],l=t[8];return e*(l*r-o*h)+i*(-l*n+o*a)+s*(h*n-r*a)},multiply:function(t){var e=this.val,i=e[0],s=e[1],n=e[2],r=e[3],o=e[4],a=e[5],h=e[6],l=e[7],u=e[8],c=t.val,d=c[0],f=c[1],p=c[2],g=c[3],m=c[4],v=c[5],y=c[6],x=c[7],T=c[8];return e[0]=d*i+f*r+p*h,e[1]=d*s+f*o+p*l,e[2]=d*n+f*a+p*u,e[3]=g*i+m*r+v*h,e[4]=g*s+m*o+v*l,e[5]=g*n+m*a+v*u,e[6]=y*i+x*r+T*h,e[7]=y*s+x*o+T*l,e[8]=y*n+x*a+T*u,this},translate:function(t){var e=this.val,i=t.x,s=t.y;return e[6]=i*e[0]+s*e[3]+e[6],e[7]=i*e[1]+s*e[4]+e[7],e[8]=i*e[2]+s*e[5]+e[8],this},rotate:function(t){var e=this.val,i=e[0],s=e[1],n=e[2],r=e[3],o=e[4],a=e[5],h=Math.sin(t),l=Math.cos(t);return e[0]=l*i+h*r,e[1]=l*s+h*o,e[2]=l*n+h*a,e[3]=l*r-h*i,e[4]=l*o-h*s,e[5]=l*a-h*n,this},scale:function(t){var e=this.val,i=t.x,s=t.y;return e[0]=i*e[0],e[1]=i*e[1],e[2]=i*e[2],e[3]=s*e[3],e[4]=s*e[4],e[5]=s*e[5],this},fromQuat:function(t){var e=t.x,i=t.y,s=t.z,n=t.w,r=e+e,o=i+i,a=s+s,h=e*r,l=e*o,u=e*a,c=i*o,d=i*a,f=s*a,p=n*r,g=n*o,m=n*a,v=this.val;return v[0]=1-(c+f),v[3]=l+m,v[6]=u-g,v[1]=l-m,v[4]=1-(h+f),v[7]=d+p,v[2]=u+g,v[5]=d-p,v[8]=1-(h+c),this},normalFromMat4:function(t){var e=t.val,i=this.val,s=e[0],n=e[1],r=e[2],o=e[3],a=e[4],h=e[5],l=e[6],u=e[7],c=e[8],d=e[9],f=e[10],p=e[11],g=e[12],m=e[13],v=e[14],y=e[15],x=s*h-n*a,T=s*l-r*a,w=s*u-o*a,b=n*l-r*h,S=n*u-o*h,E=r*u-o*l,C=c*m-d*g,_=c*v-f*g,A=c*y-p*g,M=d*v-f*m,P=d*y-p*m,R=f*y-p*v,I=x*R-T*P+w*M+b*A-S*_+E*C;return I?(I=1/I,i[0]=(h*R-l*P+u*M)*I,i[1]=(l*A-a*R-u*_)*I,i[2]=(a*P-h*A+u*C)*I,i[3]=(r*P-n*R-o*M)*I,i[4]=(s*R-r*A+o*_)*I,i[5]=(n*A-s*P-o*C)*I,i[6]=(m*E-v*S+y*b)*I,i[7]=(v*w-g*E-y*T)*I,i[8]=(g*S-m*w+y*x)*I,this):null}});t.exports=s},37867:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(83419),n=i(25836),r=1e-6,o=new s({initialize:function(t){this.val=new Float32Array(16),t?this.copy(t):this.identity()},clone:function(){return new o(this)},set:function(t){return this.copy(t)},setValues:function(t,e,i,s,n,r,o,a,h,l,u,c,d,f,p,g){var m=this.val;return m[0]=t,m[1]=e,m[2]=i,m[3]=s,m[4]=n,m[5]=r,m[6]=o,m[7]=a,m[8]=h,m[9]=l,m[10]=u,m[11]=c,m[12]=d,m[13]=f,m[14]=p,m[15]=g,this},copy:function(t){var e=t.val;return this.setValues(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10],e[11],e[12],e[13],e[14],e[15])},fromArray:function(t){return this.setValues(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8],t[9],t[10],t[11],t[12],t[13],t[14],t[15])},zero:function(){return this.setValues(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)},transform:function(t,e,i){var s=a.fromQuat(i).val,n=e.x,r=e.y,o=e.z;return this.setValues(s[0]*n,s[1]*n,s[2]*n,0,s[4]*r,s[5]*r,s[6]*r,0,s[8]*o,s[9]*o,s[10]*o,0,t.x,t.y,t.z,1)},xyz:function(t,e,i){this.identity();var s=this.val;return s[12]=t,s[13]=e,s[14]=i,this},scaling:function(t,e,i){this.zero();var s=this.val;return s[0]=t,s[5]=e,s[10]=i,s[15]=1,this},identity:function(){return this.setValues(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)},transpose:function(){var t=this.val,e=t[1],i=t[2],s=t[3],n=t[6],r=t[7],o=t[11];return t[1]=t[4],t[2]=t[8],t[3]=t[12],t[4]=e,t[6]=t[9],t[7]=t[13],t[8]=i,t[9]=n,t[11]=t[14],t[12]=s,t[13]=r,t[14]=o,this},getInverse:function(t){return this.copy(t),this.invert()},invert:function(){var t=this.val,e=t[0],i=t[1],s=t[2],n=t[3],r=t[4],o=t[5],a=t[6],h=t[7],l=t[8],u=t[9],c=t[10],d=t[11],f=t[12],p=t[13],g=t[14],m=t[15],v=e*o-i*r,y=e*a-s*r,x=e*h-n*r,T=i*a-s*o,w=i*h-n*o,b=s*h-n*a,S=l*p-u*f,E=l*g-c*f,C=l*m-d*f,_=u*g-c*p,A=u*m-d*p,M=c*m-d*g,P=v*M-y*A+x*_+T*C-w*E+b*S;return P?(P=1/P,this.setValues((o*M-a*A+h*_)*P,(s*A-i*M-n*_)*P,(p*b-g*w+m*T)*P,(c*w-u*b-d*T)*P,(a*C-r*M-h*E)*P,(e*M-s*C+n*E)*P,(g*x-f*b-m*y)*P,(l*b-c*x+d*y)*P,(r*A-o*C+h*S)*P,(i*C-e*A-n*S)*P,(f*w-p*x+m*v)*P,(u*x-l*w-d*v)*P,(o*E-r*_-a*S)*P,(e*_-i*E+s*S)*P,(p*y-f*T-g*v)*P,(l*T-u*y+c*v)*P)):this},adjoint:function(){var t=this.val,e=t[0],i=t[1],s=t[2],n=t[3],r=t[4],o=t[5],a=t[6],h=t[7],l=t[8],u=t[9],c=t[10],d=t[11],f=t[12],p=t[13],g=t[14],m=t[15];return this.setValues(o*(c*m-d*g)-u*(a*m-h*g)+p*(a*d-h*c),-(i*(c*m-d*g)-u*(s*m-n*g)+p*(s*d-n*c)),i*(a*m-h*g)-o*(s*m-n*g)+p*(s*h-n*a),-(i*(a*d-h*c)-o*(s*d-n*c)+u*(s*h-n*a)),-(r*(c*m-d*g)-l*(a*m-h*g)+f*(a*d-h*c)),e*(c*m-d*g)-l*(s*m-n*g)+f*(s*d-n*c),-(e*(a*m-h*g)-r*(s*m-n*g)+f*(s*h-n*a)),e*(a*d-h*c)-r*(s*d-n*c)+l*(s*h-n*a),r*(u*m-d*p)-l*(o*m-h*p)+f*(o*d-h*u),-(e*(u*m-d*p)-l*(i*m-n*p)+f*(i*d-n*u)),e*(o*m-h*p)-r*(i*m-n*p)+f*(i*h-n*o),-(e*(o*d-h*u)-r*(i*d-n*u)+l*(i*h-n*o)),-(r*(u*g-c*p)-l*(o*g-a*p)+f*(o*c-a*u)),e*(u*g-c*p)-l*(i*g-s*p)+f*(i*c-s*u),-(e*(o*g-a*p)-r*(i*g-s*p)+f*(i*a-s*o)),e*(o*c-a*u)-r*(i*c-s*u)+l*(i*a-s*o))},determinant:function(){var t=this.val,e=t[0],i=t[1],s=t[2],n=t[3],r=t[4],o=t[5],a=t[6],h=t[7],l=t[8],u=t[9],c=t[10],d=t[11],f=t[12],p=t[13],g=t[14],m=t[15];return(e*o-i*r)*(c*m-d*g)-(e*a-s*r)*(u*m-d*p)+(e*h-n*r)*(u*g-c*p)+(i*a-s*o)*(l*m-d*f)-(i*h-n*o)*(l*g-c*f)+(s*h-n*a)*(l*p-u*f)},multiply:function(t){var e=this.val,i=e[0],s=e[1],n=e[2],r=e[3],o=e[4],a=e[5],h=e[6],l=e[7],u=e[8],c=e[9],d=e[10],f=e[11],p=e[12],g=e[13],m=e[14],v=e[15],y=t.val,x=y[0],T=y[1],w=y[2],b=y[3];return e[0]=x*i+T*o+w*u+b*p,e[1]=x*s+T*a+w*c+b*g,e[2]=x*n+T*h+w*d+b*m,e[3]=x*r+T*l+w*f+b*v,x=y[4],T=y[5],w=y[6],b=y[7],e[4]=x*i+T*o+w*u+b*p,e[5]=x*s+T*a+w*c+b*g,e[6]=x*n+T*h+w*d+b*m,e[7]=x*r+T*l+w*f+b*v,x=y[8],T=y[9],w=y[10],b=y[11],e[8]=x*i+T*o+w*u+b*p,e[9]=x*s+T*a+w*c+b*g,e[10]=x*n+T*h+w*d+b*m,e[11]=x*r+T*l+w*f+b*v,x=y[12],T=y[13],w=y[14],b=y[15],e[12]=x*i+T*o+w*u+b*p,e[13]=x*s+T*a+w*c+b*g,e[14]=x*n+T*h+w*d+b*m,e[15]=x*r+T*l+w*f+b*v,this},multiplyLocal:function(t){var e=this.val,i=t.val;return this.setValues(e[0]*i[0]+e[1]*i[4]+e[2]*i[8]+e[3]*i[12],e[0]*i[1]+e[1]*i[5]+e[2]*i[9]+e[3]*i[13],e[0]*i[2]+e[1]*i[6]+e[2]*i[10]+e[3]*i[14],e[0]*i[3]+e[1]*i[7]+e[2]*i[11]+e[3]*i[15],e[4]*i[0]+e[5]*i[4]+e[6]*i[8]+e[7]*i[12],e[4]*i[1]+e[5]*i[5]+e[6]*i[9]+e[7]*i[13],e[4]*i[2]+e[5]*i[6]+e[6]*i[10]+e[7]*i[14],e[4]*i[3]+e[5]*i[7]+e[6]*i[11]+e[7]*i[15],e[8]*i[0]+e[9]*i[4]+e[10]*i[8]+e[11]*i[12],e[8]*i[1]+e[9]*i[5]+e[10]*i[9]+e[11]*i[13],e[8]*i[2]+e[9]*i[6]+e[10]*i[10]+e[11]*i[14],e[8]*i[3]+e[9]*i[7]+e[10]*i[11]+e[11]*i[15],e[12]*i[0]+e[13]*i[4]+e[14]*i[8]+e[15]*i[12],e[12]*i[1]+e[13]*i[5]+e[14]*i[9]+e[15]*i[13],e[12]*i[2]+e[13]*i[6]+e[14]*i[10]+e[15]*i[14],e[12]*i[3]+e[13]*i[7]+e[14]*i[11]+e[15]*i[15])},premultiply:function(t){return this.multiplyMatrices(t,this)},multiplyMatrices:function(t,e){var i=t.val,s=e.val,n=i[0],r=i[4],o=i[8],a=i[12],h=i[1],l=i[5],u=i[9],c=i[13],d=i[2],f=i[6],p=i[10],g=i[14],m=i[3],v=i[7],y=i[11],x=i[15],T=s[0],w=s[4],b=s[8],S=s[12],E=s[1],C=s[5],_=s[9],A=s[13],M=s[2],P=s[6],R=s[10],I=s[14],O=s[3],L=s[7],D=s[11],k=s[15];return this.setValues(n*T+r*E+o*M+a*O,h*T+l*E+u*M+c*O,d*T+f*E+p*M+g*O,m*T+v*E+y*M+x*O,n*w+r*C+o*P+a*L,h*w+l*C+u*P+c*L,d*w+f*C+p*P+g*L,m*w+v*C+y*P+x*L,n*b+r*_+o*R+a*D,h*b+l*_+u*R+c*D,d*b+f*_+p*R+g*D,m*b+v*_+y*R+x*D,n*S+r*A+o*I+a*k,h*S+l*A+u*I+c*k,d*S+f*A+p*I+g*k,m*S+v*A+y*I+x*k)},translate:function(t){return this.translateXYZ(t.x,t.y,t.z)},translateXYZ:function(t,e,i){var s=this.val;return s[12]=s[0]*t+s[4]*e+s[8]*i+s[12],s[13]=s[1]*t+s[5]*e+s[9]*i+s[13],s[14]=s[2]*t+s[6]*e+s[10]*i+s[14],s[15]=s[3]*t+s[7]*e+s[11]*i+s[15],this},scale:function(t){return this.scaleXYZ(t.x,t.y,t.z)},scaleXYZ:function(t,e,i){var s=this.val;return s[0]=s[0]*t,s[1]=s[1]*t,s[2]=s[2]*t,s[3]=s[3]*t,s[4]=s[4]*e,s[5]=s[5]*e,s[6]=s[6]*e,s[7]=s[7]*e,s[8]=s[8]*i,s[9]=s[9]*i,s[10]=s[10]*i,s[11]=s[11]*i,this},makeRotationAxis:function(t,e){var i=Math.cos(e),s=Math.sin(e),n=1-i,r=t.x,o=t.y,a=t.z,h=n*r,l=n*o;return this.setValues(h*r+i,h*o-s*a,h*a+s*o,0,h*o+s*a,l*o+i,l*a-s*r,0,h*a-s*o,l*a+s*r,n*a*a+i,0,0,0,0,1)},rotate:function(t,e){var i=this.val,s=e.x,n=e.y,o=e.z,a=Math.sqrt(s*s+n*n+o*o);if(Math.abs(a)<r)return this;s*=a=1/a,n*=a,o*=a;var h=Math.sin(t),l=Math.cos(t),u=1-l,c=i[0],d=i[1],f=i[2],p=i[3],g=i[4],m=i[5],v=i[6],y=i[7],x=i[8],T=i[9],w=i[10],b=i[11],S=i[12],E=i[13],C=i[14],_=i[15],A=s*s*u+l,M=n*s*u+o*h,P=o*s*u-n*h,R=s*n*u-o*h,I=n*n*u+l,O=o*n*u+s*h,L=s*o*u+n*h,D=n*o*u-s*h,k=o*o*u+l;return this.setValues(c*A+g*M+x*P,d*A+m*M+T*P,f*A+v*M+w*P,p*A+y*M+b*P,c*R+g*I+x*O,d*R+m*I+T*O,f*R+v*I+w*O,p*R+y*I+b*O,c*L+g*D+x*k,d*L+m*D+T*k,f*L+v*D+w*k,p*L+y*D+b*k,S,E,C,_)},rotateX:function(t){var e=this.val,i=Math.sin(t),s=Math.cos(t),n=e[4],r=e[5],o=e[6],a=e[7],h=e[8],l=e[9],u=e[10],c=e[11];return e[4]=n*s+h*i,e[5]=r*s+l*i,e[6]=o*s+u*i,e[7]=a*s+c*i,e[8]=h*s-n*i,e[9]=l*s-r*i,e[10]=u*s-o*i,e[11]=c*s-a*i,this},rotateY:function(t){var e=this.val,i=Math.sin(t),s=Math.cos(t),n=e[0],r=e[1],o=e[2],a=e[3],h=e[8],l=e[9],u=e[10],c=e[11];return e[0]=n*s-h*i,e[1]=r*s-l*i,e[2]=o*s-u*i,e[3]=a*s-c*i,e[8]=n*i+h*s,e[9]=r*i+l*s,e[10]=o*i+u*s,e[11]=a*i+c*s,this},rotateZ:function(t){var e=this.val,i=Math.sin(t),s=Math.cos(t),n=e[0],r=e[1],o=e[2],a=e[3],h=e[4],l=e[5],u=e[6],c=e[7];return e[0]=n*s+h*i,e[1]=r*s+l*i,e[2]=o*s+u*i,e[3]=a*s+c*i,e[4]=h*s-n*i,e[5]=l*s-r*i,e[6]=u*s-o*i,e[7]=c*s-a*i,this},fromRotationTranslation:function(t,e){var i=t.x,s=t.y,n=t.z,r=t.w,o=i+i,a=s+s,h=n+n,l=i*o,u=i*a,c=i*h,d=s*a,f=s*h,p=n*h,g=r*o,m=r*a,v=r*h;return this.setValues(1-(d+p),u+v,c-m,0,u-v,1-(l+p),f+g,0,c+m,f-g,1-(l+d),0,e.x,e.y,e.z,1)},fromQuat:function(t){var e=t.x,i=t.y,s=t.z,n=t.w,r=e+e,o=i+i,a=s+s,h=e*r,l=e*o,u=e*a,c=i*o,d=i*a,f=s*a,p=n*r,g=n*o,m=n*a;return this.setValues(1-(c+f),l+m,u-g,0,l-m,1-(h+f),d+p,0,u+g,d-p,1-(h+c),0,0,0,0,1)},frustum:function(t,e,i,s,n,r){var o=1/(e-t),a=1/(s-i),h=1/(n-r);return this.setValues(2*n*o,0,0,0,0,2*n*a,0,0,(e+t)*o,(s+i)*a,(r+n)*h,-1,0,0,r*n*2*h,0)},perspective:function(t,e,i,s){var n=1/Math.tan(t/2),r=1/(i-s);return this.setValues(n/e,0,0,0,0,n,0,0,0,0,(s+i)*r,-1,0,0,2*s*i*r,0)},perspectiveLH:function(t,e,i,s){return this.setValues(2*i/t,0,0,0,0,2*i/e,0,0,0,0,-s/(i-s),1,0,0,i*s/(i-s),0)},ortho:function(t,e,i,s,n,r){var o=t-e,a=i-s,h=n-r;return o=0===o?o:1/o,a=0===a?a:1/a,h=0===h?h:1/h,this.setValues(-2*o,0,0,0,0,-2*a,0,0,0,0,2*h,0,(t+e)*o,(s+i)*a,(r+n)*h,1)},lookAtRH:function(t,e,i){var s=this.val;return c.subVectors(t,e),0===c.lengthSq()&&(c.z=1),c.normalize(),l.crossVectors(i,c),0===l.lengthSq()&&(1===Math.abs(i.z)?c.x+=1e-4:c.z+=1e-4,c.normalize(),l.crossVectors(i,c)),l.normalize(),u.crossVectors(c,l),s[0]=l.x,s[1]=l.y,s[2]=l.z,s[4]=u.x,s[5]=u.y,s[6]=u.z,s[8]=c.x,s[9]=c.y,s[10]=c.z,this},lookAt:function(t,e,i){var s=t.x,n=t.y,o=t.z,a=i.x,h=i.y,l=i.z,u=e.x,c=e.y,d=e.z;if(Math.abs(s-u)<r&&Math.abs(n-c)<r&&Math.abs(o-d)<r)return this.identity();var f=s-u,p=n-c,g=o-d,m=1/Math.sqrt(f*f+p*p+g*g),v=h*(g*=m)-l*(p*=m),y=l*(f*=m)-a*g,x=a*p-h*f;(m=Math.sqrt(v*v+y*y+x*x))?(v*=m=1/m,y*=m,x*=m):(v=0,y=0,x=0);var T=p*x-g*y,w=g*v-f*x,b=f*y-p*v;return(m=Math.sqrt(T*T+w*w+b*b))?(T*=m=1/m,w*=m,b*=m):(T=0,w=0,b=0),this.setValues(v,T,f,0,y,w,p,0,x,b,g,0,-(v*s+y*n+x*o),-(T*s+w*n+b*o),-(f*s+p*n+g*o),1)},yawPitchRoll:function(t,e,i){this.zero(),a.zero(),h.zero();var s=this.val,n=a.val,r=h.val,o=Math.sin(i),l=Math.cos(i);return s[10]=1,s[15]=1,s[0]=l,s[1]=o,s[4]=-o,s[5]=l,o=Math.sin(e),l=Math.cos(e),n[0]=1,n[15]=1,n[5]=l,n[10]=l,n[9]=-o,n[6]=o,o=Math.sin(t),l=Math.cos(t),r[5]=1,r[15]=1,r[0]=l,r[2]=-o,r[8]=o,r[10]=l,this.multiplyLocal(a),this.multiplyLocal(h),this},setWorldMatrix:function(t,e,i,s,n){return this.yawPitchRoll(t.y,t.x,t.z),a.scaling(i.x,i.y,i.z),h.xyz(e.x,e.y,e.z),this.multiplyLocal(a),this.multiplyLocal(h),s&&this.multiplyLocal(s),n&&this.multiplyLocal(n),this},multiplyToMat4:function(t,e){var i=this.val,s=t.val,n=i[0],r=i[1],o=i[2],a=i[3],h=i[4],l=i[5],u=i[6],c=i[7],d=i[8],f=i[9],p=i[10],g=i[11],m=i[12],v=i[13],y=i[14],x=i[15],T=s[0],w=s[1],b=s[2],S=s[3],E=s[4],C=s[5],_=s[6],A=s[7],M=s[8],P=s[9],R=s[10],I=s[11],O=s[12],L=s[13],D=s[14],k=s[15];return e.setValues(T*n+w*h+b*d+S*m,w*r+w*l+b*f+S*v,b*o+w*u+b*p+S*y,S*a+w*c+b*g+S*x,E*n+C*h+_*d+A*m,E*r+C*l+_*f+A*v,E*o+C*u+_*p+A*y,E*a+C*c+_*g+A*x,M*n+P*h+R*d+I*m,M*r+P*l+R*f+I*v,M*o+P*u+R*p+I*y,M*a+P*c+R*g+I*x,O*n+L*h+D*d+k*m,O*r+L*l+D*f+k*v,O*o+L*u+D*p+k*y,O*a+L*c+D*g+k*x)},fromRotationXYTranslation:function(t,e,i){var s=e.x,n=e.y,r=e.z,o=Math.sin(t.x),a=Math.cos(t.x),h=Math.sin(t.y),l=Math.cos(t.y),u=s,c=n,d=r,f=-o,p=0-f*h,g=0-a*h,m=f*l,v=a*l;return i||(u=l*s+h*r,c=p*s+a*n+m*r,d=g*s+o*n+v*r),this.setValues(l,p,g,0,0,a,o,0,h,m,v,0,u,c,d,1)},getMaxScaleOnAxis:function(){var t=this.val,e=t[0]*t[0]+t[1]*t[1]+t[2]*t[2],i=t[4]*t[4]+t[5]*t[5]+t[6]*t[6],s=t[8]*t[8]+t[9]*t[9]+t[10]*t[10];return Math.sqrt(Math.max(e,i,s))}}),a=new o,h=new o,l=new n,u=new n,c=new n;t.exports=o},86883:t=>{t.exports=function(t,e,i){return Math.min(t+e,i)}},50040:t=>{t.exports=function(t){var e=t.length;if(0===e)return 0;t.sort(function(t,e){return t-e});var i=Math.floor(e/2);return e%2==0?(t[i]+t[i-1])/2:t[i]}},37204:t=>{t.exports=function(t,e,i){return Math.max(t-e,i)}},65201:t=>{t.exports=function(t,e,i,s){void 0===i&&(i=e+1);var n=(t-e)/(i-e);return n>1?void 0!==s?(n=(s-t)/(s-i))<0&&(n=0):n=1:n<0&&(n=0),n}},15746:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(83419),n=i(94434),r=i(29747),o=i(25836),a=1e-6,h=new Int8Array([1,2,0]),l=new Float32Array([0,0,0]),u=new o(1,0,0),c=new o(0,1,0),d=new o,f=new n,p=new s({initialize:function(t,e,i,s){this.onChangeCallback=r,this.set(t,e,i,s)},x:{get:function(){return this._x},set:function(t){this._x=t,this.onChangeCallback(this)}},y:{get:function(){return this._y},set:function(t){this._y=t,this.onChangeCallback(this)}},z:{get:function(){return this._z},set:function(t){this._z=t,this.onChangeCallback(this)}},w:{get:function(){return this._w},set:function(t){this._w=t,this.onChangeCallback(this)}},copy:function(t){return this.set(t)},set:function(t,e,i,s,n){return void 0===n&&(n=!0),"object"==typeof t?(this._x=t.x||0,this._y=t.y||0,this._z=t.z||0,this._w=t.w||0):(this._x=t||0,this._y=e||0,this._z=i||0,this._w=s||0),n&&this.onChangeCallback(this),this},add:function(t){return this._x+=t.x,this._y+=t.y,this._z+=t.z,this._w+=t.w,this.onChangeCallback(this),this},subtract:function(t){return this._x-=t.x,this._y-=t.y,this._z-=t.z,this._w-=t.w,this.onChangeCallback(this),this},scale:function(t){return this._x*=t,this._y*=t,this._z*=t,this._w*=t,this.onChangeCallback(this),this},length:function(){var t=this.x,e=this.y,i=this.z,s=this.w;return Math.sqrt(t*t+e*e+i*i+s*s)},lengthSq:function(){var t=this.x,e=this.y,i=this.z,s=this.w;return t*t+e*e+i*i+s*s},normalize:function(){var t=this.x,e=this.y,i=this.z,s=this.w,n=t*t+e*e+i*i+s*s;return n>0&&(n=1/Math.sqrt(n),this._x=t*n,this._y=e*n,this._z=i*n,this._w=s*n),this.onChangeCallback(this),this},dot:function(t){return this.x*t.x+this.y*t.y+this.z*t.z+this.w*t.w},lerp:function(t,e){void 0===e&&(e=0);var i=this.x,s=this.y,n=this.z,r=this.w;return this.set(i+e*(t.x-i),s+e*(t.y-s),n+e*(t.z-n),r+e*(t.w-r))},rotationTo:function(t,e){var i=t.x*e.x+t.y*e.y+t.z*e.z;return i<-.999999?(d.copy(u).cross(t).length()<a&&d.copy(c).cross(t),d.normalize(),this.setAxisAngle(d,Math.PI)):i>.999999?this.set(0,0,0,1):(d.copy(t).cross(e),this._x=d.x,this._y=d.y,this._z=d.z,this._w=1+i,this.normalize())},setAxes:function(t,e,i){var s=f.val;return s[0]=e.x,s[3]=e.y,s[6]=e.z,s[1]=i.x,s[4]=i.y,s[7]=i.z,s[2]=-t.x,s[5]=-t.y,s[8]=-t.z,this.fromMat3(f).normalize()},identity:function(){return this.set(0,0,0,1)},setAxisAngle:function(t,e){e*=.5;var i=Math.sin(e);return this.set(i*t.x,i*t.y,i*t.z,Math.cos(e))},multiply:function(t){var e=this.x,i=this.y,s=this.z,n=this.w,r=t.x,o=t.y,a=t.z,h=t.w;return this.set(e*h+n*r+i*a-s*o,i*h+n*o+s*r-e*a,s*h+n*a+e*o-i*r,n*h-e*r-i*o-s*a)},slerp:function(t,e){var i=this.x,s=this.y,n=this.z,r=this.w,o=t.x,h=t.y,l=t.z,u=t.w,c=i*o+s*h+n*l+r*u;c<0&&(c=-c,o=-o,h=-h,l=-l,u=-u);var d=1-e,f=e;if(1-c>a){var p=Math.acos(c),g=Math.sin(p);d=Math.sin((1-e)*p)/g,f=Math.sin(e*p)/g}return this.set(d*i+f*o,d*s+f*h,d*n+f*l,d*r+f*u)},invert:function(){var t=this.x,e=this.y,i=this.z,s=this.w,n=t*t+e*e+i*i+s*s,r=n?1/n:0;return this.set(-t*r,-e*r,-i*r,s*r)},conjugate:function(){return this._x=-this.x,this._y=-this.y,this._z=-this.z,this.onChangeCallback(this),this},rotateX:function(t){t*=.5;var e=this.x,i=this.y,s=this.z,n=this.w,r=Math.sin(t),o=Math.cos(t);return this.set(e*o+n*r,i*o+s*r,s*o-i*r,n*o-e*r)},rotateY:function(t){t*=.5;var e=this.x,i=this.y,s=this.z,n=this.w,r=Math.sin(t),o=Math.cos(t);return this.set(e*o-s*r,i*o+n*r,s*o+e*r,n*o-i*r)},rotateZ:function(t){t*=.5;var e=this.x,i=this.y,s=this.z,n=this.w,r=Math.sin(t),o=Math.cos(t);return this.set(e*o+i*r,i*o-e*r,s*o+n*r,n*o-s*r)},calculateW:function(){var t=this.x,e=this.y,i=this.z;return this.w=-Math.sqrt(1-t*t-e*e-i*i),this},setFromEuler:function(t,e){var i=t.x/2,s=t.y/2,n=t.z/2,r=Math.cos(i),o=Math.cos(s),a=Math.cos(n),h=Math.sin(i),l=Math.sin(s),u=Math.sin(n);switch(t.order){case"XYZ":this.set(h*o*a+r*l*u,r*l*a-h*o*u,r*o*u+h*l*a,r*o*a-h*l*u,e);break;case"YXZ":this.set(h*o*a+r*l*u,r*l*a-h*o*u,r*o*u-h*l*a,r*o*a+h*l*u,e);break;case"ZXY":this.set(h*o*a-r*l*u,r*l*a+h*o*u,r*o*u+h*l*a,r*o*a-h*l*u,e);break;case"ZYX":this.set(h*o*a-r*l*u,r*l*a+h*o*u,r*o*u-h*l*a,r*o*a+h*l*u,e);break;case"YZX":this.set(h*o*a+r*l*u,r*l*a+h*o*u,r*o*u-h*l*a,r*o*a-h*l*u,e);break;case"XZY":this.set(h*o*a-r*l*u,r*l*a-h*o*u,r*o*u+h*l*a,r*o*a+h*l*u,e)}return this},setFromRotationMatrix:function(t){var e,i=t.val,s=i[0],n=i[4],r=i[8],o=i[1],a=i[5],h=i[9],l=i[2],u=i[6],c=i[10],d=s+a+c;return d>0?(e=.5/Math.sqrt(d+1),this.set((u-h)*e,(r-l)*e,(o-n)*e,.25/e)):s>a&&s>c?(e=2*Math.sqrt(1+s-a-c),this.set(.25*e,(n+o)/e,(r+l)/e,(u-h)/e)):a>c?(e=2*Math.sqrt(1+a-s-c),this.set((n+o)/e,.25*e,(h+u)/e,(r-l)/e)):(e=2*Math.sqrt(1+c-s-a),this.set((r+l)/e,(h+u)/e,.25*e,(o-n)/e)),this},fromMat3:function(t){var e,i=t.val,s=i[0]+i[4]+i[8];if(s>0)e=Math.sqrt(s+1),this.w=.5*e,e=.5/e,this._x=(i[7]-i[5])*e,this._y=(i[2]-i[6])*e,this._z=(i[3]-i[1])*e;else{var n=0;i[4]>i[0]&&(n=1),i[8]>i[3*n+n]&&(n=2);var r=h[n],o=h[r];e=Math.sqrt(i[3*n+n]-i[3*r+r]-i[3*o+o]+1),l[n]=.5*e,e=.5/e,l[r]=(i[3*r+n]+i[3*n+r])*e,l[o]=(i[3*o+n]+i[3*n+o])*e,this._x=l[0],this._y=l[1],this._z=l[2],this._w=(i[3*o+r]-i[3*r+o])*e}return this.onChangeCallback(this),this}});t.exports=p},43396:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(36383);t.exports=function(t){return t*s.RAD_TO_DEG}},74362:t=>{t.exports=function(t,e){void 0===e&&(e=1);var i=2*Math.random()*Math.PI;return t.x=Math.cos(i)*e,t.y=Math.sin(i)*e,t}},60706:t=>{t.exports=function(t,e){void 0===e&&(e=1);var i=2*Math.random()*Math.PI,s=2*Math.random()-1,n=Math.sqrt(1-s*s)*e;return t.x=Math.cos(i)*n,t.y=Math.sin(i)*n,t.z=s*e,t}},67421:t=>{t.exports=function(t,e){return void 0===e&&(e=1),t.x=(2*Math.random()-1)*e,t.y=(2*Math.random()-1)*e,t.z=(2*Math.random()-1)*e,t.w=(2*Math.random()-1)*e,t}},36305:t=>{t.exports=function(t,e){var i=t.x,s=t.y;return t.x=i*Math.cos(e)-s*Math.sin(e),t.y=i*Math.sin(e)+s*Math.cos(e),t}},11520:t=>{t.exports=function(t,e,i,s){var n=Math.cos(s),r=Math.sin(s),o=t.x-e,a=t.y-i;return t.x=o*n-a*r+e,t.y=o*r+a*n+i,t}},1163:t=>{t.exports=function(t,e,i,s,n){var r=s+Math.atan2(t.y-i,t.x-e);return t.x=e+n*Math.cos(r),t.y=i+n*Math.sin(r),t}},70336:t=>{t.exports=function(t,e,i,s,n){return t.x=e+n*Math.cos(s),t.y=i+n*Math.sin(s),t}},72678:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(25836),n=i(37867),r=i(15746),o=new n,a=new r,h=new s;t.exports=function(t,e,i){return a.setAxisAngle(e,i),o.fromRotationTranslation(a,h.set(0,0,0)),t.transformMat4(o)}},2284:t=>{t.exports=function(t){return t>0?Math.ceil(t):Math.floor(t)}},41013:t=>{t.exports=function(t,e,i){void 0===e&&(e=0),void 0===i&&(i=10);var s=Math.pow(i,-e);return Math.round(t*s)/s}},16922:t=>{t.exports=function(t,e,i,s){void 0===e&&(e=1),void 0===i&&(i=1),void 0===s&&(s=1),s*=Math.PI/t;for(var n=[],r=[],o=0;o<t;o++)e+=(i-=e*s)*s,n[o]=i,r[o]=e;return{sin:r,cos:n,length:t}}},7602:t=>{t.exports=function(t,e,i){return t<=e?0:t>=i?1:(t=(t-e)/(i-e))*t*(3-2*t)}},54261:t=>{t.exports=function(t,e,i){return(t=Math.max(0,Math.min(1,(t-e)/(i-e))))*t*t*(t*(6*t-15)+10)}},44408:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(26099);t.exports=function(t,e,i,n){void 0===n&&(n=new s);var r=0,o=0;return t>0&&t<=e*i&&(r=t>e-1?t-(o=Math.floor(t/e))*e:t),n.set(r,o)}},85955:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(26099);t.exports=function(t,e,i,n,r,o,a,h){void 0===h&&(h=new s);var l=Math.sin(r),u=Math.cos(r),c=u*o,d=l*o,f=-l*a,p=u*a,g=1/(c*p+f*-d);return h.x=p*g*t+-f*g*e+(n*f-i*p)*g,h.y=c*g*e+-d*g*t+(-n*c+i*d)*g,h}},26099:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(83419),n=i(43855),r=new s({initialize:function(t,e){this.x=0,this.y=0,"object"==typeof t?(this.x=t.x||0,this.y=t.y||0):(void 0===e&&(e=t),this.x=t||0,this.y=e||0)},clone:function(){return new r(this.x,this.y)},copy:function(t){return this.x=t.x||0,this.y=t.y||0,this},setFromObject:function(t){return this.x=t.x||0,this.y=t.y||0,this},set:function(t,e){return void 0===e&&(e=t),this.x=t,this.y=e,this},setTo:function(t,e){return this.set(t,e)},setToPolar:function(t,e){return null==e&&(e=1),this.x=Math.cos(t)*e,this.y=Math.sin(t)*e,this},equals:function(t){return this.x===t.x&&this.y===t.y},fuzzyEquals:function(t,e){return n(this.x,t.x,e)&&n(this.y,t.y,e)},angle:function(){var t=Math.atan2(this.y,this.x);return t<0&&(t+=2*Math.PI),t},setAngle:function(t){return this.setToPolar(t,this.length())},add:function(t){return this.x+=t.x,this.y+=t.y,this},subtract:function(t){return this.x-=t.x,this.y-=t.y,this},multiply:function(t){return this.x*=t.x,this.y*=t.y,this},scale:function(t){return isFinite(t)?(this.x*=t,this.y*=t):(this.x=0,this.y=0),this},divide:function(t){return this.x/=t.x,this.y/=t.y,this},negate:function(){return this.x=-this.x,this.y=-this.y,this},distance:function(t){var e=t.x-this.x,i=t.y-this.y;return Math.sqrt(e*e+i*i)},distanceSq:function(t){var e=t.x-this.x,i=t.y-this.y;return e*e+i*i},length:function(){var t=this.x,e=this.y;return Math.sqrt(t*t+e*e)},setLength:function(t){return this.normalize().scale(t)},lengthSq:function(){var t=this.x,e=this.y;return t*t+e*e},normalize:function(){var t=this.x,e=this.y,i=t*t+e*e;return i>0&&(i=1/Math.sqrt(i),this.x=t*i,this.y=e*i),this},normalizeRightHand:function(){var t=this.x;return this.x=-1*this.y,this.y=t,this},normalizeLeftHand:function(){var t=this.x;return this.x=this.y,this.y=-1*t,this},dot:function(t){return this.x*t.x+this.y*t.y},cross:function(t){return this.x*t.y-this.y*t.x},lerp:function(t,e){void 0===e&&(e=0);var i=this.x,s=this.y;return this.x=i+e*(t.x-i),this.y=s+e*(t.y-s),this},transformMat3:function(t){var e=this.x,i=this.y,s=t.val;return this.x=s[0]*e+s[3]*i+s[6],this.y=s[1]*e+s[4]*i+s[7],this},transformMat4:function(t){var e=this.x,i=this.y,s=t.val;return this.x=s[0]*e+s[4]*i+s[12],this.y=s[1]*e+s[5]*i+s[13],this},reset:function(){return this.x=0,this.y=0,this},limit:function(t){var e=this.length();return e&&e>t&&this.scale(t/e),this},reflect:function(t){return t=t.clone().normalize(),this.subtract(t.scale(2*this.dot(t)))},mirror:function(t){return this.reflect(t).negate()},rotate:function(t){var e=Math.cos(t),i=Math.sin(t);return this.set(e*this.x-i*this.y,i*this.x+e*this.y)},project:function(t){var e=this.dot(t)/t.dot(t);return this.copy(t).scale(e)}});r.ZERO=new r,r.RIGHT=new r(1,0),r.LEFT=new r(-1,0),r.UP=new r(0,-1),r.DOWN=new r(0,1),r.ONE=new r(1,1),t.exports=r},25836:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=new(i(83419))({initialize:function(t,e,i){this.x=0,this.y=0,this.z=0,"object"==typeof t?(this.x=t.x||0,this.y=t.y||0,this.z=t.z||0):(this.x=t||0,this.y=e||0,this.z=i||0)},up:function(){return this.x=0,this.y=1,this.z=0,this},min:function(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this},max:function(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this},clone:function(){return new s(this.x,this.y,this.z)},addVectors:function(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this.z=t.z+e.z,this},subVectors:function(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this.z=t.z-e.z,this},crossVectors:function(t,e){var i=t.x,s=t.y,n=t.z,r=e.x,o=e.y,a=e.z;return this.x=s*a-n*o,this.y=n*r-i*a,this.z=i*o-s*r,this},equals:function(t){return this.x===t.x&&this.y===t.y&&this.z===t.z},copy:function(t){return this.x=t.x,this.y=t.y,this.z=t.z||0,this},set:function(t,e,i){return"object"==typeof t?(this.x=t.x||0,this.y=t.y||0,this.z=t.z||0):(this.x=t||0,this.y=e||0,this.z=i||0),this},setFromMatrixPosition:function(t){return this.fromArray(t.val,12)},setFromMatrixColumn:function(t,e){return this.fromArray(t.val,4*e)},fromArray:function(t,e){return void 0===e&&(e=0),this.x=t[e],this.y=t[e+1],this.z=t[e+2],this},add:function(t){return this.x+=t.x,this.y+=t.y,this.z+=t.z||0,this},addScalar:function(t){return this.x+=t,this.y+=t,this.z+=t,this},addScale:function(t,e){return this.x+=t.x*e,this.y+=t.y*e,this.z+=t.z*e||0,this},subtract:function(t){return this.x-=t.x,this.y-=t.y,this.z-=t.z||0,this},multiply:function(t){return this.x*=t.x,this.y*=t.y,this.z*=t.z||1,this},scale:function(t){return isFinite(t)?(this.x*=t,this.y*=t,this.z*=t):(this.x=0,this.y=0,this.z=0),this},divide:function(t){return this.x/=t.x,this.y/=t.y,this.z/=t.z||1,this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},distance:function(t){var e=t.x-this.x,i=t.y-this.y,s=t.z-this.z||0;return Math.sqrt(e*e+i*i+s*s)},distanceSq:function(t){var e=t.x-this.x,i=t.y-this.y,s=t.z-this.z||0;return e*e+i*i+s*s},length:function(){var t=this.x,e=this.y,i=this.z;return Math.sqrt(t*t+e*e+i*i)},lengthSq:function(){var t=this.x,e=this.y,i=this.z;return t*t+e*e+i*i},normalize:function(){var t=this.x,e=this.y,i=this.z,s=t*t+e*e+i*i;return s>0&&(s=1/Math.sqrt(s),this.x=t*s,this.y=e*s,this.z=i*s),this},dot:function(t){return this.x*t.x+this.y*t.y+this.z*t.z},cross:function(t){var e=this.x,i=this.y,s=this.z,n=t.x,r=t.y,o=t.z;return this.x=i*o-s*r,this.y=s*n-e*o,this.z=e*r-i*n,this},lerp:function(t,e){void 0===e&&(e=0);var i=this.x,s=this.y,n=this.z;return this.x=i+e*(t.x-i),this.y=s+e*(t.y-s),this.z=n+e*(t.z-n),this},applyMatrix3:function(t){var e=this.x,i=this.y,s=this.z,n=t.val;return this.x=n[0]*e+n[3]*i+n[6]*s,this.y=n[1]*e+n[4]*i+n[7]*s,this.z=n[2]*e+n[5]*i+n[8]*s,this},applyMatrix4:function(t){var e=this.x,i=this.y,s=this.z,n=t.val,r=1/(n[3]*e+n[7]*i+n[11]*s+n[15]);return this.x=(n[0]*e+n[4]*i+n[8]*s+n[12])*r,this.y=(n[1]*e+n[5]*i+n[9]*s+n[13])*r,this.z=(n[2]*e+n[6]*i+n[10]*s+n[14])*r,this},transformMat3:function(t){var e=this.x,i=this.y,s=this.z,n=t.val;return this.x=e*n[0]+i*n[3]+s*n[6],this.y=e*n[1]+i*n[4]+s*n[7],this.z=e*n[2]+i*n[5]+s*n[8],this},transformMat4:function(t){var e=this.x,i=this.y,s=this.z,n=t.val;return this.x=n[0]*e+n[4]*i+n[8]*s+n[12],this.y=n[1]*e+n[5]*i+n[9]*s+n[13],this.z=n[2]*e+n[6]*i+n[10]*s+n[14],this},transformCoordinates:function(t){var e=this.x,i=this.y,s=this.z,n=t.val,r=e*n[0]+i*n[4]+s*n[8]+n[12],o=e*n[1]+i*n[5]+s*n[9]+n[13],a=e*n[2]+i*n[6]+s*n[10]+n[14],h=e*n[3]+i*n[7]+s*n[11]+n[15];return this.x=r/h,this.y=o/h,this.z=a/h,this},transformQuat:function(t){var e=this.x,i=this.y,s=this.z,n=t.x,r=t.y,o=t.z,a=t.w,h=a*e+r*s-o*i,l=a*i+o*e-n*s,u=a*s+n*i-r*e,c=-n*e-r*i-o*s;return this.x=h*a+c*-n+l*-o-u*-r,this.y=l*a+c*-r+u*-n-h*-o,this.z=u*a+c*-o+h*-r-l*-n,this},project:function(t){var e=this.x,i=this.y,s=this.z,n=t.val,r=n[0],o=n[1],a=n[2],h=n[3],l=n[4],u=n[5],c=n[6],d=n[7],f=n[8],p=n[9],g=n[10],m=n[11],v=n[12],y=n[13],x=n[14],T=1/(e*h+i*d+s*m+n[15]);return this.x=(e*r+i*l+s*f+v)*T,this.y=(e*o+i*u+s*p+y)*T,this.z=(e*a+i*c+s*g+x)*T,this},projectViewMatrix:function(t,e){return this.applyMatrix4(t).applyMatrix4(e)},unprojectViewMatrix:function(t,e){return this.applyMatrix4(t).applyMatrix4(e)},unproject:function(t,e){var i=t.x,s=t.y,n=t.z,r=t.w,o=this.x-i,a=r-this.y-1-s,h=this.z;return this.x=2*o/n-1,this.y=2*a/r-1,this.z=2*h-1,this.project(e)},reset:function(){return this.x=0,this.y=0,this.z=0,this}});s.ZERO=new s,s.RIGHT=new s(1,0,0),s.LEFT=new s(-1,0,0),s.UP=new s(0,-1,0),s.DOWN=new s(0,1,0),s.FORWARD=new s(0,0,1),s.BACK=new s(0,0,-1),s.ONE=new s(1,1,1),t.exports=s},61369:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=new(i(83419))({initialize:function(t,e,i,s){this.x=0,this.y=0,this.z=0,this.w=0,"object"==typeof t?(this.x=t.x||0,this.y=t.y||0,this.z=t.z||0,this.w=t.w||0):(this.x=t||0,this.y=e||0,this.z=i||0,this.w=s||0)},clone:function(){return new s(this.x,this.y,this.z,this.w)},copy:function(t){return this.x=t.x,this.y=t.y,this.z=t.z||0,this.w=t.w||0,this},equals:function(t){return this.x===t.x&&this.y===t.y&&this.z===t.z&&this.w===t.w},set:function(t,e,i,s){return"object"==typeof t?(this.x=t.x||0,this.y=t.y||0,this.z=t.z||0,this.w=t.w||0):(this.x=t||0,this.y=e||0,this.z=i||0,this.w=s||0),this},add:function(t){return this.x+=t.x,this.y+=t.y,this.z+=t.z||0,this.w+=t.w||0,this},subtract:function(t){return this.x-=t.x,this.y-=t.y,this.z-=t.z||0,this.w-=t.w||0,this},scale:function(t){return this.x*=t,this.y*=t,this.z*=t,this.w*=t,this},length:function(){var t=this.x,e=this.y,i=this.z,s=this.w;return Math.sqrt(t*t+e*e+i*i+s*s)},lengthSq:function(){var t=this.x,e=this.y,i=this.z,s=this.w;return t*t+e*e+i*i+s*s},normalize:function(){var t=this.x,e=this.y,i=this.z,s=this.w,n=t*t+e*e+i*i+s*s;return n>0&&(n=1/Math.sqrt(n),this.x=t*n,this.y=e*n,this.z=i*n,this.w=s*n),this},dot:function(t){return this.x*t.x+this.y*t.y+this.z*t.z+this.w*t.w},lerp:function(t,e){void 0===e&&(e=0);var i=this.x,s=this.y,n=this.z,r=this.w;return this.x=i+e*(t.x-i),this.y=s+e*(t.y-s),this.z=n+e*(t.z-n),this.w=r+e*(t.w-r),this},multiply:function(t){return this.x*=t.x,this.y*=t.y,this.z*=t.z||1,this.w*=t.w||1,this},divide:function(t){return this.x/=t.x,this.y/=t.y,this.z/=t.z||1,this.w/=t.w||1,this},distance:function(t){var e=t.x-this.x,i=t.y-this.y,s=t.z-this.z||0,n=t.w-this.w||0;return Math.sqrt(e*e+i*i+s*s+n*n)},distanceSq:function(t){var e=t.x-this.x,i=t.y-this.y,s=t.z-this.z||0,n=t.w-this.w||0;return e*e+i*i+s*s+n*n},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this},transformMat4:function(t){var e=this.x,i=this.y,s=this.z,n=this.w,r=t.val;return this.x=r[0]*e+r[4]*i+r[8]*s+r[12]*n,this.y=r[1]*e+r[5]*i+r[9]*s+r[13]*n,this.z=r[2]*e+r[6]*i+r[10]*s+r[14]*n,this.w=r[3]*e+r[7]*i+r[11]*s+r[15]*n,this},transformQuat:function(t){var e=this.x,i=this.y,s=this.z,n=t.x,r=t.y,o=t.z,a=t.w,h=a*e+r*s-o*i,l=a*i+o*e-n*s,u=a*s+n*i-r*e,c=-n*e-r*i-o*s;return this.x=h*a+c*-n+l*-o-u*-r,this.y=l*a+c*-r+u*-n-h*-o,this.z=u*a+c*-o+h*-r-l*-n,this},reset:function(){return this.x=0,this.y=0,this.z=0,this.w=0,this}});s.prototype.sub=s.prototype.subtract,s.prototype.mul=s.prototype.multiply,s.prototype.div=s.prototype.divide,s.prototype.dist=s.prototype.distance,s.prototype.distSq=s.prototype.distanceSq,s.prototype.len=s.prototype.length,s.prototype.lenSq=s.prototype.lengthSq,t.exports=s},60417:t=>{t.exports=function(t,e,i){return Math.abs(t-e)<=i}},15994:t=>{t.exports=function(t,e,i){var s=i-e;return e+((t-e)%s+s)%s}},31040:t=>{t.exports=function(t,e,i,s){return Math.atan2(s-e,i-t)}},55495:t=>{t.exports=function(t,e){return Math.atan2(e.y-t.y,e.x-t.x)}},128:t=>{t.exports=function(t,e){return Math.atan2(e.x-t.x,e.y-t.y)}},41273:t=>{t.exports=function(t,e,i,s){return Math.atan2(i-t,s-e)}},1432:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(36383);t.exports=function(t){return t>Math.PI&&(t-=s.PI2),Math.abs(((t+s.TAU)%s.PI2-s.PI2)%s.PI2)}},49127:(t,e,i)=>{
/**
                     * @author       samme
                     * @copyright    2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(12407);t.exports=function(t,e){return s(e-t)}},52285:(t,e,i)=>{
/**
                     * @author       samme
                     * @copyright    2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(12407),n=2*Math.PI;t.exports=function(t,e){var i=s(e-t);return i>0&&(i-=n),i}},67317:(t,e,i)=>{
/**
                     * @author       samme
                     * @copyright    2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(86554);t.exports=function(t,e){return s(e-t)}},12407:t=>{t.exports=function(t){return(t%=2*Math.PI)>=0?t:t+2*Math.PI}},53993:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @author       @samme
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(99472);t.exports=function(){return s(-Math.PI,Math.PI)}},86564:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @author       @samme
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(99472);t.exports=function(){return s(-180,180)}},90154:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(12407);t.exports=function(t){return s(t+Math.PI)}},48736:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(36383);t.exports=function(t,e,i){return void 0===i&&(i=.05),t===e||(Math.abs(e-t)<=i||Math.abs(e-t)>=s.PI2-i?t=e:(Math.abs(e-t)>Math.PI&&(e<t?e+=s.PI2:e-=s.PI2),e>t?t+=i:e<t&&(t-=i))),t}},61430:t=>{t.exports=function(t,e){var i=e-t;return 0===i?0:i-360*Math.floor((i- -180)/360)}},86554:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(15994);t.exports=function(t){return s(t,-Math.PI,Math.PI)}},30954:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(15994);t.exports=function(t){return s(t,-180,180)}},25588:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports={Between:i(31040),BetweenPoints:i(55495),BetweenPointsY:i(128),BetweenY:i(41273),CounterClockwise:i(1432),GetClockwiseDistance:i(49127),GetCounterClockwiseDistance:i(52285),GetShortestDistance:i(67317),Normalize:i(12407),Random:i(53993),RandomDegrees:i(86564),Reverse:i(90154),RotateTo:i(48736),ShortestBetween:i(61430),Wrap:i(86554),WrapDegrees:i(30954)}},36383:t=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var e={PI2:2*Math.PI,TAU:.5*Math.PI,EPSILON:1e-6,DEG_TO_RAD:Math.PI/180,RAD_TO_DEG:180/Math.PI,RND:null,MIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER||-9007199254740991,MAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER||9007199254740991};t.exports=e},20339:t=>{t.exports=function(t,e,i,s){var n=t-i,r=e-s;return Math.sqrt(n*n+r*r)}},52816:t=>{t.exports=function(t,e){var i=t.x-e.x,s=t.y-e.y;return Math.sqrt(i*i+s*s)}},64559:t=>{t.exports=function(t,e){var i=t.x-e.x,s=t.y-e.y;return i*i+s*s}},82340:t=>{t.exports=function(t,e,i,s){return Math.max(Math.abs(t-i),Math.abs(e-s))}},14390:t=>{t.exports=function(t,e,i,s,n){return void 0===n&&(n=2),Math.sqrt(Math.pow(i-t,n)+Math.pow(s-e,n))}},2243:t=>{t.exports=function(t,e,i,s){return Math.abs(t-i)+Math.abs(e-s)}},89774:t=>{t.exports=function(t,e,i,s){var n=t-i,r=e-s;return n*n+r*r}},50994:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports={Between:i(20339),BetweenPoints:i(52816),BetweenPointsSquared:i(64559),Chebyshev:i(82340),Power:i(14390),Snake:i(2243),Squared:i(89774)}},62640:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(54178),n=i(41521),r=i(79980),o=i(85433),a=i(99140),h=i(48857),l=i(81596),u=i(59133),c=i(98516),d=i(35248),f=i(82500),p=i(49752);t.exports={Power0:l,Power1:u.Out,Power2:o.Out,Power3:c.Out,Power4:d.Out,Linear:l,Quad:u.Out,Cubic:o.Out,Quart:c.Out,Quint:d.Out,Sine:f.Out,Expo:h.Out,Circ:r.Out,Elastic:a.Out,Back:s.Out,Bounce:n.Out,Stepped:p,"Quad.easeIn":u.In,"Cubic.easeIn":o.In,"Quart.easeIn":c.In,"Quint.easeIn":d.In,"Sine.easeIn":f.In,"Expo.easeIn":h.In,"Circ.easeIn":r.In,"Elastic.easeIn":a.In,"Back.easeIn":s.In,"Bounce.easeIn":n.In,"Quad.easeOut":u.Out,"Cubic.easeOut":o.Out,"Quart.easeOut":c.Out,"Quint.easeOut":d.Out,"Sine.easeOut":f.Out,"Expo.easeOut":h.Out,"Circ.easeOut":r.Out,"Elastic.easeOut":a.Out,"Back.easeOut":s.Out,"Bounce.easeOut":n.Out,"Quad.easeInOut":u.InOut,"Cubic.easeInOut":o.InOut,"Quart.easeInOut":c.InOut,"Quint.easeInOut":d.InOut,"Sine.easeInOut":f.InOut,"Expo.easeInOut":h.InOut,"Circ.easeInOut":r.InOut,"Elastic.easeInOut":a.InOut,"Back.easeInOut":s.InOut,"Bounce.easeInOut":n.InOut}},1639:t=>{t.exports=function(t,e){return void 0===e&&(e=1.70158),t*t*((e+1)*t-e)}},50099:t=>{t.exports=function(t,e){void 0===e&&(e=1.70158);var i=1.525*e;return(t*=2)<1?t*t*((i+1)*t-i)*.5:.5*((t-=2)*t*((i+1)*t+i)+2)}},41286:t=>{t.exports=function(t,e){return void 0===e&&(e=1.70158),--t*t*((e+1)*t+e)+1}},54178:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports={In:i(1639),Out:i(41286),InOut:i(50099)}},59590:t=>{t.exports=function(t){return(t=1-t)<1/2.75?1-7.5625*t*t:t<2/2.75?1-(7.5625*(t-=1.5/2.75)*t+.75):t<2.5/2.75?1-(7.5625*(t-=2.25/2.75)*t+.9375):1-(7.5625*(t-=2.625/2.75)*t+.984375)}},41788:t=>{t.exports=function(t){var e=!1;return t<.5?(t=1-2*t,e=!0):t=2*t-1,t<1/2.75?t*=7.5625*t:t=t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375,e?.5*(1-t):.5*t+.5}},69905:t=>{t.exports=function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375}},41521:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports={In:i(59590),Out:i(69905),InOut:i(41788)}},91861:t=>{t.exports=function(t){return 1-Math.sqrt(1-t*t)}},4177:t=>{t.exports=function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)}},57512:t=>{t.exports=function(t){return Math.sqrt(1- --t*t)}},79980:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports={In:i(91861),Out:i(57512),InOut:i(4177)}},51150:t=>{t.exports=function(t){return t*t*t}},82820:t=>{t.exports=function(t){return(t*=2)<1?.5*t*t*t:.5*((t-=2)*t*t+2)}},35033:t=>{t.exports=function(t){return--t*t*t+1}},85433:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports={In:i(51150),Out:i(35033),InOut:i(82820)}},69965:t=>{t.exports=function(t,e,i){if(void 0===e&&(e=.1),void 0===i&&(i=.1),0===t)return 0;if(1===t)return 1;var s=i/4;return e<1?e=1:s=i*Math.asin(1/e)/(2*Math.PI),-e*Math.pow(2,10*(t-=1))*Math.sin((t-s)*(2*Math.PI)/i)}},50665:t=>{t.exports=function(t,e,i){if(void 0===e&&(e=.1),void 0===i&&(i=.1),0===t)return 0;if(1===t)return 1;var s=i/4;return e<1?e=1:s=i*Math.asin(1/e)/(2*Math.PI),(t*=2)<1?e*Math.pow(2,10*(t-=1))*Math.sin((t-s)*(2*Math.PI)/i)*-.5:e*Math.pow(2,-10*(t-=1))*Math.sin((t-s)*(2*Math.PI)/i)*.5+1}},7744:t=>{t.exports=function(t,e,i){if(void 0===e&&(e=.1),void 0===i&&(i=.1),0===t)return 0;if(1===t)return 1;var s=i/4;return e<1?e=1:s=i*Math.asin(1/e)/(2*Math.PI),e*Math.pow(2,-10*t)*Math.sin((t-s)*(2*Math.PI)/i)+1}},99140:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports={In:i(69965),Out:i(7744),InOut:i(50665)}},24590:t=>{t.exports=function(t){return Math.pow(2,10*(t-1))-.001}},87844:t=>{t.exports=function(t){return(t*=2)<1?.5*Math.pow(2,10*(t-1)):.5*(2-Math.pow(2,-10*(t-1)))}},89433:t=>{t.exports=function(t){return 1-Math.pow(2,-10*t)}},48857:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports={In:i(24590),Out:i(89433),InOut:i(87844)}},48820:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports={Back:i(54178),Bounce:i(41521),Circular:i(79980),Cubic:i(85433),Elastic:i(99140),Expo:i(48857),Linear:i(81596),Quadratic:i(59133),Quartic:i(98516),Quintic:i(35248),Sine:i(82500),Stepped:i(49752)}},7147:t=>{t.exports=function(t){return t}},81596:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports=i(7147)},34826:t=>{t.exports=function(t){return t*t}},20544:t=>{t.exports=function(t){return(t*=2)<1?.5*t*t:-.5*(--t*(t-2)-1)}},92029:t=>{t.exports=function(t){return t*(2-t)}},59133:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports={In:i(34826),Out:i(92029),InOut:i(20544)}},64413:t=>{t.exports=function(t){return t*t*t*t}},78137:t=>{t.exports=function(t){return(t*=2)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)}},45840:t=>{t.exports=function(t){return 1- --t*t*t*t}},98516:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports={In:i(64413),Out:i(45840),InOut:i(78137)}},87745:t=>{t.exports=function(t){return t*t*t*t*t}},16509:t=>{t.exports=function(t){return(t*=2)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)}},17868:t=>{t.exports=function(t){return--t*t*t*t*t+1}},35248:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports={In:i(87745),Out:i(17868),InOut:i(16509)}},80461:t=>{t.exports=function(t){return 0===t?0:1===t?1:1-Math.cos(t*Math.PI/2)}},34025:t=>{t.exports=function(t){return 0===t?0:1===t?1:.5*(1-Math.cos(Math.PI*t))}},52768:t=>{t.exports=function(t){return 0===t?0:1===t?1:Math.sin(t*Math.PI/2)}},82500:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports={In:i(80461),Out:i(52768),InOut:i(34025)}},72251:t=>{t.exports=function(t,e){return void 0===e&&(e=1),t<=0?0:t>=1?1:1/e*(1+(e*t|0))}},49752:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports=i(72251)},75698:t=>{t.exports=function(t,e){return void 0===e&&(e=1e-4),Math.ceil(t-e)}},43855:t=>{t.exports=function(t,e,i){return void 0===i&&(i=1e-4),Math.abs(t-e)<i}},25777:t=>{t.exports=function(t,e){return void 0===e&&(e=1e-4),Math.floor(t+e)}},5470:t=>{t.exports=function(t,e,i){return void 0===i&&(i=1e-4),t>e-i}},94977:t=>{t.exports=function(t,e,i){return void 0===i&&(i=1e-4),t<e+i}},48379:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports={Ceil:i(75698),Equal:i(43855),Floor:i(25777),GreaterThan:i(5470),LessThan:i(94977)}},75508:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(36383),n=i(79291),r={Angle:i(25588),Distance:i(50994),Easing:i(48820),Fuzzy:i(48379),Interpolation:i(38289),Pow2:i(49001),Snap:i(73697),RandomDataGenerator:i(28453),Average:i(53307),Bernstein:i(85710),Between:i(30976),CatmullRom:i(87842),CeilTo:i(26302),Clamp:i(45319),DegToRad:i(39506),Difference:i(61241),Euler:i(38857),Factorial:i(6411),FloatBetween:i(99472),FloorTo:i(77623),FromPercent:i(62945),GetSpeed:i(38265),IsEven:i(78702),IsEvenStrict:i(94883),Linear:i(28915),LinearXY:i(94908),MaxAdd:i(86883),Median:i(50040),MinSub:i(37204),Percent:i(65201),RadToDeg:i(43396),RandomXY:i(74362),RandomXYZ:i(60706),RandomXYZW:i(67421),Rotate:i(36305),RotateAround:i(11520),RotateAroundDistance:i(1163),RotateTo:i(70336),RoundAwayFromZero:i(2284),RoundTo:i(41013),SinCosTableGenerator:i(16922),SmootherStep:i(54261),SmoothStep:i(7602),ToXY:i(44408),TransformXY:i(85955),Within:i(60417),Wrap:i(15994),Vector2:i(26099),Vector3:i(25836),Vector4:i(61369),Matrix3:i(94434),Matrix4:i(37867),Quaternion:i(15746),RotateVec3:i(72678)};r=n(!1,r,s),t.exports=r},89318:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(85710);t.exports=function(t,e){for(var i=0,n=t.length-1,r=0;r<=n;r++)i+=Math.pow(1-e,n-r)*Math.pow(e,r)*t[r]*s(n,r);return i}},77259:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(87842);t.exports=function(t,e){var i=t.length-1,n=i*e,r=Math.floor(n);return t[0]===t[i]?(e<0&&(r=Math.floor(n=i*(1+e))),s(n-r,t[(r-1+i)%i],t[r],t[(r+1)%i],t[(r+2)%i])):e<0?t[0]-(s(-n,t[0],t[0],t[1],t[1])-t[0]):e>1?t[i]-(s(n-i,t[i],t[i],t[i-1],t[i-1])-t[i]):s(n-r,t[r?r-1:0],t[r],t[i<r+1?i:r+1],t[i<r+2?i:r+2])}},36316:t=>{t.exports=function(t,e,i,s,n){
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
return function(t,e){var i=1-t;return i*i*i*e}(t,e)+function(t,e){var i=1-t;return 3*i*i*t*e}(t,i)+function(t,e){return 3*(1-t)*t*t*e}(t,s)+function(t,e){return t*t*t*e}(t,n)}},28392:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(28915);t.exports=function(t,e){var i=t.length-1,n=i*e,r=Math.floor(n);return e<0?s(t[0],t[1],n):e>1?s(t[i],t[i-1],i-n):s(t[r],t[r+1>i?i:r+1],n-r)}},32112:t=>{t.exports=function(t,e,i,s){
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
return function(t,e){var i=1-t;return i*i*e}(t,e)+function(t,e){return 2*(1-t)*t*e}(t,i)+function(t,e){return t*t*e}(t,s)}},47235:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(7602);t.exports=function(t,e,i){return e+(i-e)*s(t,0,1)}},50178:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(54261);t.exports=function(t,e,i){return e+(i-e)*s(t,0,1)}},38289:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports={Bezier:i(89318),CatmullRom:i(77259),CubicBezier:i(36316),Linear:i(28392),QuadraticBezier:i(32112),SmoothStep:i(47235),SmootherStep:i(50178)}},98439:t=>{t.exports=function(t){var e=Math.log(t)/.6931471805599453;return 1<<Math.ceil(e)}},50030:t=>{t.exports=function(t,e){return t>0&&!(t&t-1)&&e>0&&!(e&e-1)}},81230:t=>{t.exports=function(t){return t>0&&!(t&t-1)}},49001:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports={GetNext:i(98439),IsSize:i(50030),IsValue:i(81230)}},28453:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=new(i(83419))({initialize:function(t){void 0===t&&(t=[(Date.now()*Math.random()).toString()]),this.c=1,this.s0=0,this.s1=0,this.s2=0,this.n=0,this.signs=[-1,1],t&&this.init(t)},rnd:function(){var t=2091639*this.s0+2.3283064365386963e-10*this.c;return this.c=0|t,this.s0=this.s1,this.s1=this.s2,this.s2=t-this.c,this.s2},hash:function(t){var e,i=this.n;t=t.toString();for(var s=0;s<t.length;s++)e=.02519603282416938*(i+=t.charCodeAt(s)),e-=i=e>>>0,i=(e*=i)>>>0,i+=4294967296*(e-=i);return this.n=i,2.3283064365386963e-10*(i>>>0)},init:function(t){"string"==typeof t?this.state(t):this.sow(t)},sow:function(t){if(this.n=4022871197,this.s0=this.hash(" "),this.s1=this.hash(" "),this.s2=this.hash(" "),this.c=1,t)for(var e=0;e<t.length&&null!=t[e];e++){var i=t[e];this.s0-=this.hash(i),this.s0+=~~(this.s0<0),this.s1-=this.hash(i),this.s1+=~~(this.s1<0),this.s2-=this.hash(i),this.s2+=~~(this.s2<0)}},integer:function(){return 4294967296*this.rnd()},frac:function(){return this.rnd()+11102230246251565e-32*(2097152*this.rnd()|0)},real:function(){return this.integer()+this.frac()},integerInRange:function(t,e){return Math.floor(this.realInRange(0,e-t+1)+t)},between:function(t,e){return Math.floor(this.realInRange(0,e-t+1)+t)},realInRange:function(t,e){return this.frac()*(e-t)+t},normal:function(){return 1-2*this.frac()},uuid:function(){var t="",e="";for(e=t="";t++<36;e+=~t%5|3*t&4?(15^t?8^this.frac()*(20^t?16:4):4).toString(16):"-");return e},pick:function(t){return t[this.integerInRange(0,t.length-1)]},sign:function(){return this.pick(this.signs)},weightedPick:function(t){return t[~~(Math.pow(this.frac(),2)*(t.length-.5)+.5)]},timestamp:function(t,e){return this.realInRange(t||9466848e5,e||1577862e6)},angle:function(){return this.integerInRange(-180,180)},rotation:function(){return this.realInRange(-3.1415926,3.1415926)},state:function(t){return"string"==typeof t&&t.match(/^!rnd/)&&(t=t.split(","),this.c=parseFloat(t[1]),this.s0=parseFloat(t[2]),this.s1=parseFloat(t[3]),this.s2=parseFloat(t[4])),["!rnd",this.c,this.s0,this.s1,this.s2].join(",")},shuffle:function(t){for(var e=t.length-1;e>0;e--){var i=Math.floor(this.frac()*(e+1)),s=t[i];t[i]=t[e],t[e]=s}return t}});t.exports=s},63448:t=>{t.exports=function(t,e,i,s){return void 0===i&&(i=0),0===e?t:(t-=i,t=e*Math.ceil(t/e),s?(i+t)/e:i+t)}},56583:t=>{t.exports=function(t,e,i,s){return void 0===i&&(i=0),0===e?t:(t-=i,t=e*Math.floor(t/e),s?(i+t)/e:i+t)}},77720:t=>{t.exports=function(t,e,i,s){return void 0===i&&(i=0),0===e?t:(t-=i,t=e*Math.round(t/e),s?(i+t)/e:i+t)}},73697:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports={Ceil:i(63448),Floor:i(56583),To:i(77720)}},85454:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
i(63595);var s=i(8054),n=i(79291),r={Actions:i(61061),Animations:i(60421),BlendModes:i(10312),Cache:i(83388),Cameras:i(26638),Core:i(42857),Class:i(83419),Create:i(15822),Curves:i(25410),Data:i(44965),Display:i(27460),DOM:i(84902),Events:i(93055),FX:i(66064),Game:i(50127),GameObjects:i(77856),Geom:i(55738),Input:i(14350),Loader:i(57777),Math:i(75508),Physics:i(44563),Plugins:i(18922),Renderer:i(36909),Scale:i(93364),ScaleModes:i(29795),Scene:i(97482),Scenes:i(62194),Structs:i(41392),Textures:i(27458),Tilemaps:i(62501),Time:i(90291),Tweens:i(43066),Utils:i(91799)};r.Sound=i(23717),r=n(!1,r,s),t.exports=r,i.g.Phaser=r},71289:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(83419),n=i(92209),r=i(88571),o=new s({Extends:r,Mixins:[n.Acceleration,n.Angular,n.Bounce,n.Collision,n.Debug,n.Drag,n.Enable,n.Friction,n.Gravity,n.Immovable,n.Mass,n.Pushable,n.Size,n.Velocity],initialize:function(t,e,i,s,n){r.call(this,t,e,i,s,n),this.body=null}});t.exports=o},86689:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(83419),n=i(39506),r=i(20339),o=i(89774),a=i(66022),h=i(95540),l=i(46975),u=i(72441),c=i(47956),d=i(37277),f=i(44594),p=i(26099),g=i(82248),m=new s({initialize:function(t){this.scene=t,this.systems=t.sys,this.config=this.getConfig(),this.world,this.add,this._category=1,t.sys.events.once(f.BOOT,this.boot,this),t.sys.events.on(f.START,this.start,this)},boot:function(){this.world=new g(this.scene,this.config),this.add=new a(this.world),this.systems.events.once(f.DESTROY,this.destroy,this)},start:function(){this.world||(this.world=new g(this.scene,this.config),this.add=new a(this.world));var t=this.systems.events;h(this.config,"customUpdate",!1)||t.on(f.UPDATE,this.world.update,this.world),t.on(f.POST_UPDATE,this.world.postUpdate,this.world),t.once(f.SHUTDOWN,this.shutdown,this)},enableUpdate:function(){this.systems.events.on(f.UPDATE,this.world.update,this.world)},disableUpdate:function(){this.systems.events.off(f.UPDATE,this.world.update,this.world)},getConfig:function(){var t=this.systems.game.config.physics,e=this.systems.settings.physics;return l(h(e,"arcade",{}),h(t,"arcade",{}))},nextCategory:function(){return this._category=this._category<<1,this._category},overlap:function(t,e,i,s,n){return void 0===i&&(i=null),void 0===s&&(s=null),void 0===n&&(n=i),this.world.collideObjects(t,e,i,s,n,!0)},collide:function(t,e,i,s,n){return void 0===i&&(i=null),void 0===s&&(s=null),void 0===n&&(n=i),this.world.collideObjects(t,e,i,s,n,!1)},collideTiles:function(t,e,i,s,n){return this.world.collideTiles(t,e,i,s,n)},overlapTiles:function(t,e,i,s,n){return this.world.overlapTiles(t,e,i,s,n)},pause:function(){return this.world.pause()},resume:function(){return this.world.resume()},accelerateTo:function(t,e,i,s,n,r){void 0===s&&(s=60);var o=Math.atan2(i-t.y,e-t.x);return t.body.acceleration.setToPolar(o,s),void 0!==n&&void 0!==r&&t.body.maxVelocity.set(n,r),o},accelerateToObject:function(t,e,i,s,n){return this.accelerateTo(t,e.x,e.y,i,s,n)},closest:function(t,e){e||(e=this.world.bodies.entries);for(var i=Number.MAX_VALUE,s=null,n=t.x,r=t.y,a=e.length,h=0;h<a;h++){var l=e[h],u=l.body||l;if(t!==l&&t!==u&&t!==u.gameObject&&t!==u.center){var c=o(n,r,u.center.x,u.center.y);c<i&&(s=l,i=c)}}return s},furthest:function(t,e){e||(e=this.world.bodies.entries);for(var i=-1,s=null,n=t.x,r=t.y,a=e.length,h=0;h<a;h++){var l=e[h],u=l.body||l;if(t!==l&&t!==u&&t!==u.gameObject&&t!==u.center){var c=o(n,r,u.center.x,u.center.y);c>i&&(s=l,i=c)}}return s},moveTo:function(t,e,i,s,n){void 0===s&&(s=60),void 0===n&&(n=0);var o=Math.atan2(i-t.y,e-t.x);return n>0&&(s=r(t.x,t.y,e,i)/(n/1e3)),t.body.velocity.setToPolar(o,s),o},moveToObject:function(t,e,i,s){return this.moveTo(t,e.x,e.y,i,s)},velocityFromAngle:function(t,e,i){return void 0===e&&(e=60),void 0===i&&(i=new p),i.setToPolar(n(t),e)},velocityFromRotation:function(t,e,i){return void 0===e&&(e=60),void 0===i&&(i=new p),i.setToPolar(t,e)},overlapRect:function(t,e,i,s,n,r){return c(this.world,t,e,i,s,n,r)},overlapCirc:function(t,e,i,s,n){return u(this.world,t,e,i,s,n)},shutdown:function(){if(this.world){var t=this.systems.events;t.off(f.UPDATE,this.world.update,this.world),t.off(f.POST_UPDATE,this.world.postUpdate,this.world),t.off(f.SHUTDOWN,this.shutdown,this),this.add.destroy(),this.world.destroy(),this.add=null,this.world=null,this._category=1}},destroy:function(){this.shutdown(),this.scene.sys.events.off(f.START,this.start,this),this.scene=null,this.systems=null}});d.register("ArcadePhysics",m,"arcadePhysics"),t.exports=m},13759:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(83419),n=i(92209),r=i(68287),o=new s({Extends:r,Mixins:[n.Acceleration,n.Angular,n.Bounce,n.Collision,n.Debug,n.Drag,n.Enable,n.Friction,n.Gravity,n.Immovable,n.Mass,n.Pushable,n.Size,n.Velocity],initialize:function(t,e,i,s,n){r.call(this,t,e,i,s,n),this.body=null}});t.exports=o},37742:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(83419),n=i(78389),r=i(37747),o=i(63012),a=i(43396),h=i(87841),l=i(37303),u=i(95829),c=i(26099),d=new s({Mixins:[n],initialize:function(t,e){var i=64,s=64,n=void 0!==e;n&&e.displayWidth&&(i=e.displayWidth,s=e.displayHeight),n||(e={x:0,y:0,angle:0,rotation:0,scaleX:1,scaleY:1,displayOriginX:0,displayOriginY:0}),this.world=t,this.gameObject=n?e:void 0,this.isBody=!0,this.transform={x:e.x,y:e.y,rotation:e.angle,scaleX:e.scaleX,scaleY:e.scaleY,displayOriginX:e.displayOriginX,displayOriginY:e.displayOriginY},this.debugShowBody=t.defaults.debugShowBody,this.debugShowVelocity=t.defaults.debugShowVelocity,this.debugBodyColor=t.defaults.bodyDebugColor,this.enable=!0,this.isCircle=!1,this.radius=0,this.offset=new c,this.position=new c(e.x-e.scaleX*e.displayOriginX,e.y-e.scaleY*e.displayOriginY),this.prev=this.position.clone(),this.prevFrame=this.position.clone(),this.allowRotation=!0,this.rotation=e.angle,this.preRotation=e.angle,this.width=i,this.height=s,this.sourceWidth=i,this.sourceHeight=s,e.frame&&(this.sourceWidth=e.frame.realWidth,this.sourceHeight=e.frame.realHeight),this.halfWidth=Math.abs(i/2),this.halfHeight=Math.abs(s/2),this.center=new c(this.position.x+this.halfWidth,this.position.y+this.halfHeight),this.velocity=new c,this.newVelocity=new c,this.deltaMax=new c,this.acceleration=new c,this.allowDrag=!0,this.drag=new c,this.allowGravity=!0,this.gravity=new c,this.bounce=new c,this.worldBounce=null,this.customBoundsRectangle=t.bounds,this.onWorldBounds=!1,this.onCollide=!1,this.onOverlap=!1,this.maxVelocity=new c(1e4,1e4),this.maxSpeed=-1,this.friction=new c(1,0),this.useDamping=!1,this.angularVelocity=0,this.angularAcceleration=0,this.angularDrag=0,this.maxAngular=1e3,this.mass=1,this.angle=0,this.speed=0,this.facing=r.FACING_NONE,this.immovable=!1,this.pushable=!0,this.slideFactor=new c(1,1),this.moves=!0,this.customSeparateX=!1,this.customSeparateY=!1,this.overlapX=0,this.overlapY=0,this.overlapR=0,this.embedded=!1,this.collideWorldBounds=!1,this.checkCollision=u(!1),this.touching=u(!0),this.wasTouching=u(!0),this.blocked=u(!0),this.syncBounds=!1,this.physicsType=r.DYNAMIC_BODY,this.collisionCategory=1,this.collisionMask=1,this._sx=e.scaleX,this._sy=e.scaleY,this._dx=0,this._dy=0,this._tx=0,this._ty=0,this._bounds=new h,this.directControl=!1,this.autoFrame=this.position.clone()},updateBounds:function(){var t=this.gameObject,e=this.transform;if(t.parentContainer){var i=t.getWorldTransformMatrix(this.world._tempMatrix,this.world._tempMatrix2);e.x=i.tx,e.y=i.ty,e.rotation=a(i.rotation),e.scaleX=i.scaleX,e.scaleY=i.scaleY,e.displayOriginX=t.displayOriginX,e.displayOriginY=t.displayOriginY}else e.x=t.x,e.y=t.y,e.rotation=t.angle,e.scaleX=t.scaleX,e.scaleY=t.scaleY,e.displayOriginX=t.displayOriginX,e.displayOriginY=t.displayOriginY;var s=!1;if(this.syncBounds){var n=t.getBounds(this._bounds);this.width=n.width,this.height=n.height,s=!0}else{var r=Math.abs(e.scaleX),o=Math.abs(e.scaleY);this._sx===r&&this._sy===o||(this.width=this.sourceWidth*r,this.height=this.sourceHeight*o,this._sx=r,this._sy=o,s=!0)}s&&(this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.updateCenter())},updateCenter:function(){this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight)},updateFromGameObject:function(){this.updateBounds();var t=this.transform;this.position.x=t.x+t.scaleX*(this.offset.x-t.displayOriginX),this.position.y=t.y+t.scaleY*(this.offset.y-t.displayOriginY),this.updateCenter()},resetFlags:function(t){void 0===t&&(t=!1);var e=this.wasTouching,i=this.touching,s=this.blocked;t?u(!0,e):(e.none=i.none,e.up=i.up,e.down=i.down,e.left=i.left,e.right=i.right),u(!0,i),u(!0,s),this.overlapR=0,this.overlapX=0,this.overlapY=0,this.embedded=!1},preUpdate:function(t,e){if(t&&this.resetFlags(),this.gameObject&&this.updateFromGameObject(),this.rotation=this.transform.rotation,this.preRotation=this.rotation,this.moves){var i=this.position;this.prev.x=i.x,this.prev.y=i.y,this.prevFrame.x=i.x,this.prevFrame.y=i.y}t&&this.update(e)},update:function(t){var e=this.prev,i=this.position,s=this.velocity;if(e.set(i.x,i.y),!this.moves)return this._dx=i.x-e.x,void(this._dy=i.y-e.y);if(this.directControl){var n=this.autoFrame;s.set((i.x-n.x)/t,(i.y-n.y)/t),this.world.updateMotion(this,t),this._dx=i.x-n.x,this._dy=i.y-n.y}else this.world.updateMotion(this,t),this.newVelocity.set(s.x*t,s.y*t),i.add(this.newVelocity),this._dx=i.x-e.x,this._dy=i.y-e.y;var r=s.x,a=s.y;if(this.updateCenter(),this.angle=Math.atan2(a,r),this.speed=Math.sqrt(r*r+a*a),this.collideWorldBounds&&this.checkWorldBounds()&&this.onWorldBounds){var h=this.blocked;this.world.emit(o.WORLD_BOUNDS,this,h.up,h.down,h.left,h.right)}},postUpdate:function(){var t=this.position,e=t.x-this.prevFrame.x,i=t.y-this.prevFrame.y,s=this.gameObject;if(this.moves){var n=this.deltaMax.x,o=this.deltaMax.y;0!==n&&0!==e&&(e<0&&e<-n?e=-n:e>0&&e>n&&(e=n)),0!==o&&0!==i&&(i<0&&i<-o?i=-o:i>0&&i>o&&(i=o)),s&&(s.x+=e,s.y+=i)}e<0?this.facing=r.FACING_LEFT:e>0&&(this.facing=r.FACING_RIGHT),i<0?this.facing=r.FACING_UP:i>0&&(this.facing=r.FACING_DOWN),this.allowRotation&&s&&(s.angle+=this.deltaZ()),this._tx=e,this._ty=i,this.autoFrame.set(t.x,t.y)},setBoundsRectangle:function(t){return this.customBoundsRectangle=t||this.world.bounds,this},checkWorldBounds:function(){var t=this.position,e=this.velocity,i=this.blocked,s=this.customBoundsRectangle,n=this.world.checkCollision,r=this.worldBounce?-this.worldBounce.x:-this.bounce.x,o=this.worldBounce?-this.worldBounce.y:-this.bounce.y,a=!1;return t.x<s.x&&n.left?(t.x=s.x,e.x*=r,i.left=!0,a=!0):this.right>s.right&&n.right&&(t.x=s.right-this.width,e.x*=r,i.right=!0,a=!0),t.y<s.y&&n.up?(t.y=s.y,e.y*=o,i.up=!0,a=!0):this.bottom>s.bottom&&n.down&&(t.y=s.bottom-this.height,e.y*=o,i.down=!0,a=!0),a&&(this.blocked.none=!1,this.updateCenter()),a},setOffset:function(t,e){return void 0===e&&(e=t),this.offset.set(t,e),this},setGameObject:function(t,e){if(void 0===e&&(e=!0),!t||!t.hasTransformComponent)return this;var i=this.world;return this.gameObject&&this.gameObject.body&&(i.disable(this.gameObject),this.gameObject.body=null),t.body&&i.disable(t),this.gameObject=t,t.body=this,this.setSize(),this.enable=e,this},setSize:function(t,e,i){void 0===i&&(i=!0);var s=this.gameObject;if(s&&(!t&&s.frame&&(t=s.frame.realWidth),!e&&s.frame&&(e=s.frame.realHeight)),this.sourceWidth=t,this.sourceHeight=e,this.width=this.sourceWidth*this._sx,this.height=this.sourceHeight*this._sy,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.updateCenter(),i&&s&&s.getCenter){var n=(s.width-t)/2,r=(s.height-e)/2;this.offset.set(n,r)}return this.isCircle=!1,this.radius=0,this},setCircle:function(t,e,i){return void 0===e&&(e=this.offset.x),void 0===i&&(i=this.offset.y),t>0?(this.isCircle=!0,this.radius=t,this.sourceWidth=2*t,this.sourceHeight=2*t,this.width=this.sourceWidth*this._sx,this.height=this.sourceHeight*this._sy,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.offset.set(e,i),this.updateCenter()):this.isCircle=!1,this},reset:function(t,e){this.stop();var i=this.gameObject;i&&(i.setPosition(t,e),this.rotation=i.angle,this.preRotation=i.angle);var s=this.position;i&&i.getTopLeft?i.getTopLeft(s):s.set(t,e),this.prev.copy(s),this.prevFrame.copy(s),this.autoFrame.copy(s),i&&this.updateBounds(),this.updateCenter(),this.collideWorldBounds&&this.checkWorldBounds(),this.resetFlags(!0)},stop:function(){return this.velocity.set(0),this.acceleration.set(0),this.speed=0,this.angularVelocity=0,this.angularAcceleration=0,this},getBounds:function(t){return t.x=this.x,t.y=this.y,t.right=this.right,t.bottom=this.bottom,t},hitTest:function(t,e){return this.isCircle?this.radius>0&&t>=this.left&&t<=this.right&&e>=this.top&&e<=this.bottom&&(this.center.x-t)*(this.center.x-t)+(this.center.y-e)*(this.center.y-e)<=this.radius*this.radius:l(this,t,e)},onFloor:function(){return this.blocked.down},onCeiling:function(){return this.blocked.up},onWall:function(){return this.blocked.left||this.blocked.right},deltaAbsX:function(){return this._dx>0?this._dx:-this._dx},deltaAbsY:function(){return this._dy>0?this._dy:-this._dy},deltaX:function(){return this._dx},deltaY:function(){return this._dy},deltaXFinal:function(){return this._tx},deltaYFinal:function(){return this._ty},deltaZ:function(){return this.rotation-this.preRotation},destroy:function(){this.enable=!1,this.world&&this.world.pendingDestroy.set(this)},drawDebug:function(t){var e=this.position,i=e.x+this.halfWidth,s=e.y+this.halfHeight;this.debugShowBody&&(t.lineStyle(t.defaultStrokeWidth,this.debugBodyColor),this.isCircle?t.strokeCircle(i,s,this.width/2):(this.checkCollision.up&&t.lineBetween(e.x,e.y,e.x+this.width,e.y),this.checkCollision.right&&t.lineBetween(e.x+this.width,e.y,e.x+this.width,e.y+this.height),this.checkCollision.down&&t.lineBetween(e.x,e.y+this.height,e.x+this.width,e.y+this.height),this.checkCollision.left&&t.lineBetween(e.x,e.y,e.x,e.y+this.height))),this.debugShowVelocity&&(t.lineStyle(t.defaultStrokeWidth,this.world.defaults.velocityDebugColor,1),t.lineBetween(i,s,i+this.velocity.x/2,s+this.velocity.y/2))},willDrawDebug:function(){return this.debugShowBody||this.debugShowVelocity},setDirectControl:function(t){return void 0===t&&(t=!0),this.directControl=t,this},setCollideWorldBounds:function(t,e,i,s){void 0===t&&(t=!0),this.collideWorldBounds=t;var n=void 0!==e,r=void 0!==i;return(n||r)&&(this.worldBounce||(this.worldBounce=new c),n&&(this.worldBounce.x=e),r&&(this.worldBounce.y=i)),void 0!==s&&(this.onWorldBounds=s),this},setVelocity:function(t,e){return this.velocity.set(t,e),t=this.velocity.x,e=this.velocity.y,this.speed=Math.sqrt(t*t+e*e),this},setVelocityX:function(t){return this.setVelocity(t,this.velocity.y)},setVelocityY:function(t){return this.setVelocity(this.velocity.x,t)},setMaxVelocity:function(t,e){return this.maxVelocity.set(t,e),this},setMaxVelocityX:function(t){return this.maxVelocity.x=t,this},setMaxVelocityY:function(t){return this.maxVelocity.y=t,this},setMaxSpeed:function(t){return this.maxSpeed=t,this},setSlideFactor:function(t,e){return this.slideFactor.set(t,e),this},setBounce:function(t,e){return this.bounce.set(t,e),this},setBounceX:function(t){return this.bounce.x=t,this},setBounceY:function(t){return this.bounce.y=t,this},setAcceleration:function(t,e){return this.acceleration.set(t,e),this},setAccelerationX:function(t){return this.acceleration.x=t,this},setAccelerationY:function(t){return this.acceleration.y=t,this},setAllowDrag:function(t){return void 0===t&&(t=!0),this.allowDrag=t,this},setAllowGravity:function(t){return void 0===t&&(t=!0),this.allowGravity=t,this},setAllowRotation:function(t){return void 0===t&&(t=!0),this.allowRotation=t,this},setDrag:function(t,e){return this.drag.set(t,e),this},setDamping:function(t){return this.useDamping=t,this},setDragX:function(t){return this.drag.x=t,this},setDragY:function(t){return this.drag.y=t,this},setGravity:function(t,e){return this.gravity.set(t,e),this},setGravityX:function(t){return this.gravity.x=t,this},setGravityY:function(t){return this.gravity.y=t,this},setFriction:function(t,e){return this.friction.set(t,e),this},setFrictionX:function(t){return this.friction.x=t,this},setFrictionY:function(t){return this.friction.y=t,this},setAngularVelocity:function(t){return this.angularVelocity=t,this},setAngularAcceleration:function(t){return this.angularAcceleration=t,this},setAngularDrag:function(t){return this.angularDrag=t,this},setMass:function(t){return this.mass=t,this},setImmovable:function(t){return void 0===t&&(t=!0),this.immovable=t,this},setEnable:function(t){return void 0===t&&(t=!0),this.enable=t,this},processX:function(t,e,i,s){this.x+=t,this.updateCenter(),null!==e&&(this.velocity.x=e*this.slideFactor.x);var n=this.blocked;i&&(n.left=!0,n.none=!1),s&&(n.right=!0,n.none=!1)},processY:function(t,e,i,s){this.y+=t,this.updateCenter(),null!==e&&(this.velocity.y=e*this.slideFactor.y);var n=this.blocked;i&&(n.up=!0,n.none=!1),s&&(n.down=!0,n.none=!1)},x:{get:function(){return this.position.x},set:function(t){this.position.x=t}},y:{get:function(){return this.position.y},set:function(t){this.position.y=t}},left:{get:function(){return this.position.x}},right:{get:function(){return this.position.x+this.width}},top:{get:function(){return this.position.y}},bottom:{get:function(){return this.position.y+this.height}}});t.exports=d},79342:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=new(i(83419))({initialize:function(t,e,i,s,n,r,o){this.world=t,this.name="",this.active=!0,this.overlapOnly=e,this.object1=i,this.object2=s,this.collideCallback=n,this.processCallback=r,this.callbackContext=o},setName:function(t){return this.name=t,this},update:function(){this.world.collideObjects(this.object1,this.object2,this.collideCallback,this.processCallback,this.callbackContext,this.overlapOnly)},destroy:function(){this.world.removeCollider(this),this.active=!1,this.world=null,this.object1=null,this.object2=null,this.collideCallback=null,this.processCallback=null,this.callbackContext=null}});t.exports=s},66022:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(71289),n=i(13759),r=i(37742),o=i(83419),a=i(37747),h=i(60758),l=i(72624),u=i(71464),c=new o({initialize:function(t){this.world=t,this.scene=t.scene,this.sys=t.scene.sys},collider:function(t,e,i,s,n){return this.world.addCollider(t,e,i,s,n)},overlap:function(t,e,i,s,n){return this.world.addOverlap(t,e,i,s,n)},existing:function(t,e){var i=e?a.STATIC_BODY:a.DYNAMIC_BODY;return this.world.enableBody(t,i),t},staticImage:function(t,e,i,n){var r=new s(this.scene,t,e,i,n);return this.sys.displayList.add(r),this.world.enableBody(r,a.STATIC_BODY),r},image:function(t,e,i,n){var r=new s(this.scene,t,e,i,n);return this.sys.displayList.add(r),this.world.enableBody(r,a.DYNAMIC_BODY),r},staticSprite:function(t,e,i,s){var r=new n(this.scene,t,e,i,s);return this.sys.displayList.add(r),this.sys.updateList.add(r),this.world.enableBody(r,a.STATIC_BODY),r},sprite:function(t,e,i,s){var r=new n(this.scene,t,e,i,s);return this.sys.displayList.add(r),this.sys.updateList.add(r),this.world.enableBody(r,a.DYNAMIC_BODY),r},staticGroup:function(t,e){return this.sys.updateList.add(new u(this.world,this.world.scene,t,e))},group:function(t,e){return this.sys.updateList.add(new h(this.world,this.world.scene,t,e))},body:function(t,e,i,s){var n=new r(this.world);return n.position.set(t,e),i&&s&&n.setSize(i,s),this.world.add(n,a.DYNAMIC_BODY),n},staticBody:function(t,e,i,s){var n=new l(this.world);return n.position.set(t,e),i&&s&&n.setSize(i,s),this.world.add(n,a.STATIC_BODY),n},destroy:function(){this.world=null,this.scene=null,this.sys=null}});t.exports=c},79599:t=>{t.exports=function(t){var e=0;if(Array.isArray(t))for(var i=0;i<t.length;i++)e|=t[i];else e=t;return e}},64897:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(37747);t.exports=function(t,e,i,n){var r=0,o=t.deltaAbsX()+e.deltaAbsX()+n;return 0===t._dx&&0===e._dx?(t.embedded=!0,e.embedded=!0):t._dx>e._dx?(r=t.right-e.x)>o&&!i||!1===t.checkCollision.right||!1===e.checkCollision.left?r=0:(t.touching.none=!1,t.touching.right=!0,e.touching.none=!1,e.touching.left=!0,e.physicsType!==s.STATIC_BODY||i||(t.blocked.none=!1,t.blocked.right=!0),t.physicsType!==s.STATIC_BODY||i||(e.blocked.none=!1,e.blocked.left=!0)):t._dx<e._dx&&(-(r=t.x-e.width-e.x)>o&&!i||!1===t.checkCollision.left||!1===e.checkCollision.right?r=0:(t.touching.none=!1,t.touching.left=!0,e.touching.none=!1,e.touching.right=!0,e.physicsType!==s.STATIC_BODY||i||(t.blocked.none=!1,t.blocked.left=!0),t.physicsType!==s.STATIC_BODY||i||(e.blocked.none=!1,e.blocked.right=!0))),t.overlapX=r,e.overlapX=r,r}},45170:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(37747);t.exports=function(t,e,i,n){var r=0,o=t.deltaAbsY()+e.deltaAbsY()+n;return 0===t._dy&&0===e._dy?(t.embedded=!0,e.embedded=!0):t._dy>e._dy?(r=t.bottom-e.y)>o&&!i||!1===t.checkCollision.down||!1===e.checkCollision.up?r=0:(t.touching.none=!1,t.touching.down=!0,e.touching.none=!1,e.touching.up=!0,e.physicsType!==s.STATIC_BODY||i||(t.blocked.none=!1,t.blocked.down=!0),t.physicsType!==s.STATIC_BODY||i||(e.blocked.none=!1,e.blocked.up=!0)):t._dy<e._dy&&(-(r=t.y-e.bottom)>o&&!i||!1===t.checkCollision.up||!1===e.checkCollision.down?r=0:(t.touching.none=!1,t.touching.up=!0,e.touching.none=!1,e.touching.down=!0,e.physicsType!==s.STATIC_BODY||i||(t.blocked.none=!1,t.blocked.up=!0),t.physicsType!==s.STATIC_BODY||i||(e.blocked.none=!1,e.blocked.down=!0))),t.overlapY=r,e.overlapY=r,r}},60758:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(13759),n=i(83419),r=i(78389),o=i(37747),a=i(95540),h=i(26479),l=i(41212),u=new n({Extends:h,Mixins:[r],initialize:function(t,e,i,n){if(i||n)if(l(i))n=i,i=null,n.internalCreateCallback=this.createCallbackHandler,n.internalRemoveCallback=this.removeCallbackHandler;else if(Array.isArray(i)&&l(i[0])){var r=this;i.forEach(function(t){t.internalCreateCallback=r.createCallbackHandler,t.internalRemoveCallback=r.removeCallbackHandler,t.classType=a(t,"classType",s)}),n=null}else n={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler};else n={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler};this.world=t,n&&(n.classType=a(n,"classType",s)),this.physicsType=o.DYNAMIC_BODY,this.collisionCategory=1,this.collisionMask=2147483647,this.defaults={setCollideWorldBounds:a(n,"collideWorldBounds",!1),setBoundsRectangle:a(n,"customBoundsRectangle",null),setAccelerationX:a(n,"accelerationX",0),setAccelerationY:a(n,"accelerationY",0),setAllowDrag:a(n,"allowDrag",!0),setAllowGravity:a(n,"allowGravity",!0),setAllowRotation:a(n,"allowRotation",!0),setDamping:a(n,"useDamping",!1),setBounceX:a(n,"bounceX",0),setBounceY:a(n,"bounceY",0),setDragX:a(n,"dragX",0),setDragY:a(n,"dragY",0),setEnable:a(n,"enable",!0),setGravityX:a(n,"gravityX",0),setGravityY:a(n,"gravityY",0),setFrictionX:a(n,"frictionX",0),setFrictionY:a(n,"frictionY",0),setMaxSpeed:a(n,"maxSpeed",-1),setMaxVelocityX:a(n,"maxVelocityX",1e4),setMaxVelocityY:a(n,"maxVelocityY",1e4),setVelocityX:a(n,"velocityX",0),setVelocityY:a(n,"velocityY",0),setAngularVelocity:a(n,"angularVelocity",0),setAngularAcceleration:a(n,"angularAcceleration",0),setAngularDrag:a(n,"angularDrag",0),setMass:a(n,"mass",1),setImmovable:a(n,"immovable",!1)},h.call(this,e,i,n),this.type="PhysicsGroup"},createCallbackHandler:function(t){t.body||this.world.enableBody(t,o.DYNAMIC_BODY);var e=t.body;for(var i in this.defaults)e[i](this.defaults[i])},removeCallbackHandler:function(t){t.body&&this.world.disableBody(t)},setVelocity:function(t,e,i){void 0===i&&(i=0);for(var s=this.getChildren(),n=0;n<s.length;n++)s[n].body.velocity.set(t+n*i,e+n*i);return this},setVelocityX:function(t,e){void 0===e&&(e=0);for(var i=this.getChildren(),s=0;s<i.length;s++)i[s].body.velocity.x=t+s*e;return this},setVelocityY:function(t,e){void 0===e&&(e=0);for(var i=this.getChildren(),s=0;s<i.length;s++)i[s].body.velocity.y=t+s*e;return this}});t.exports=u},3017:t=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var e,i,s,n,r,o,a,h,l,u,c,d,f,p,g,m,v,y=function(){return u&&g&&i.blocked.right?(e.processX(-v,a,!1,!0),1):l&&m&&i.blocked.left?(e.processX(v,a,!0),1):f&&m&&e.blocked.right?(i.processX(-v,h,!1,!0),2):d&&g&&e.blocked.left?(i.processX(v,h,!0),2):0},x=function(t){if(s&&n)v*=.5,0===t||3===t?(e.processX(v,r),i.processX(-v,o)):(e.processX(-v,r),i.processX(v,o));else if(s&&!n)0===t||3===t?e.processX(v,a,!0):e.processX(-v,a,!1,!0);else if(!s&&n)0===t||3===t?i.processX(-v,h,!1,!0):i.processX(v,h,!0);else{var g=.5*v;0===t?p?(e.processX(v,0,!0),i.processX(0,null,!1,!0)):f?(e.processX(g,0,!0),i.processX(-g,0,!1,!0)):(e.processX(g,i.velocity.x,!0),i.processX(-g,null,!1,!0)):1===t?c?(e.processX(0,null,!1,!0),i.processX(v,0,!0)):u?(e.processX(-g,0,!1,!0),i.processX(g,0,!0)):(e.processX(-g,null,!1,!0),i.processX(g,e.velocity.x,!0)):2===t?p?(e.processX(-v,0,!1,!0),i.processX(0,null,!0)):d?(e.processX(-g,0,!1,!0),i.processX(g,0,!0)):(e.processX(-g,i.velocity.x,!1,!0),i.processX(g,null,!0)):3===t&&(c?(e.processX(0,null,!0),i.processX(-v,0,!1,!0)):l?(e.processX(g,0,!0),i.processX(-g,0,!1,!0)):(e.processX(g,i.velocity.y,!0),i.processX(-g,null,!1,!0)))}return!0};t.exports={BlockCheck:y,Check:function(){var t=e.velocity.x,s=i.velocity.x,n=Math.sqrt(s*s*i.mass/e.mass)*(s>0?1:-1),a=Math.sqrt(t*t*e.mass/i.mass)*(t>0?1:-1),h=.5*(n+a);return a-=h,r=h+(n-=h)*e.bounce.x,o=h+a*i.bounce.x,l&&m?x(0):d&&g?x(1):u&&g?x(2):!(!f||!m)&&x(3)},Set:function(t,r,o){i=r;var x=(e=t).velocity.x,T=i.velocity.x;return s=e.pushable,l=e._dx<0,u=e._dx>0,c=0===e._dx,g=Math.abs(e.right-i.x)<=Math.abs(i.right-e.x),a=T-x*e.bounce.x,n=i.pushable,d=i._dx<0,f=i._dx>0,p=0===i._dx,m=!g,h=x-T*i.bounce.x,v=Math.abs(o),y()},Run:x,RunImmovableBody1:function(t){if(1===t?i.velocity.x=0:g?i.processX(v,h,!0):i.processX(-v,h,!1,!0),e.moves){var s=e.directControl?e.y-e.autoFrame.y:e.y-e.prev.y;i.y+=s*e.friction.y,i._dy=i.y-i.prev.y}},RunImmovableBody2:function(t){if(2===t?e.velocity.x=0:m?e.processX(v,a,!0):e.processX(-v,a,!1,!0),i.moves){var s=i.directControl?i.y-i.autoFrame.y:i.y-i.prev.y;e.y+=s*i.friction.y,e._dy=e.y-e.prev.y}}}},47962:t=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var e,i,s,n,r,o,a,h,l,u,c,d,f,p,g,m,v,y=function(){return u&&g&&i.blocked.down?(e.processY(-v,a,!1,!0),1):l&&m&&i.blocked.up?(e.processY(v,a,!0),1):f&&m&&e.blocked.down?(i.processY(-v,h,!1,!0),2):d&&g&&e.blocked.up?(i.processY(v,h,!0),2):0},x=function(t){if(s&&n)v*=.5,0===t||3===t?(e.processY(v,r),i.processY(-v,o)):(e.processY(-v,r),i.processY(v,o));else if(s&&!n)0===t||3===t?e.processY(v,a,!0):e.processY(-v,a,!1,!0);else if(!s&&n)0===t||3===t?i.processY(-v,h,!1,!0):i.processY(v,h,!0);else{var g=.5*v;0===t?p?(e.processY(v,0,!0),i.processY(0,null,!1,!0)):f?(e.processY(g,0,!0),i.processY(-g,0,!1,!0)):(e.processY(g,i.velocity.y,!0),i.processY(-g,null,!1,!0)):1===t?c?(e.processY(0,null,!1,!0),i.processY(v,0,!0)):u?(e.processY(-g,0,!1,!0),i.processY(g,0,!0)):(e.processY(-g,null,!1,!0),i.processY(g,e.velocity.y,!0)):2===t?p?(e.processY(-v,0,!1,!0),i.processY(0,null,!0)):d?(e.processY(-g,0,!1,!0),i.processY(g,0,!0)):(e.processY(-g,i.velocity.y,!1,!0),i.processY(g,null,!0)):3===t&&(c?(e.processY(0,null,!0),i.processY(-v,0,!1,!0)):l?(e.processY(g,0,!0),i.processY(-g,0,!1,!0)):(e.processY(g,i.velocity.y,!0),i.processY(-g,null,!1,!0)))}return!0};t.exports={BlockCheck:y,Check:function(){var t=e.velocity.y,s=i.velocity.y,n=Math.sqrt(s*s*i.mass/e.mass)*(s>0?1:-1),a=Math.sqrt(t*t*e.mass/i.mass)*(t>0?1:-1),h=.5*(n+a);return a-=h,r=h+(n-=h)*e.bounce.y,o=h+a*i.bounce.y,l&&m?x(0):d&&g?x(1):u&&g?x(2):!(!f||!m)&&x(3)},Set:function(t,r,o){i=r;var x=(e=t).velocity.y,T=i.velocity.y;return s=e.pushable,l=e._dy<0,u=e._dy>0,c=0===e._dy,g=Math.abs(e.bottom-i.y)<=Math.abs(i.bottom-e.y),a=T-x*e.bounce.y,n=i.pushable,d=i._dy<0,f=i._dy>0,p=0===i._dy,m=!g,h=x-T*i.bounce.y,v=Math.abs(o),y()},Run:x,RunImmovableBody1:function(t){if(1===t?i.velocity.y=0:g?i.processY(v,h,!0):i.processY(-v,h,!1,!0),e.moves){var s=e.directControl?e.x-e.autoFrame.x:e.x-e.prev.x;i.x+=s*e.friction.x,i._dx=i.x-i.prev.x}},RunImmovableBody2:function(t){if(2===t?e.velocity.y=0:m?e.processY(v,a,!0):e.processY(-v,a,!1,!0),i.moves){var s=i.directControl?i.x-i.autoFrame.x:i.x-i.prev.x;e.x+=s*i.friction.x,e._dx=e.x-e.prev.x}}}},14087:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(64897),n=i(3017);t.exports=function(t,e,i,r,o){void 0===o&&(o=s(t,e,i,r));var a=t.immovable,h=e.immovable;if(i||0===o||a&&h||t.customSeparateX||e.customSeparateX)return 0!==o||t.embedded&&e.embedded;var l=n.Set(t,e,o);return a||h?(a?n.RunImmovableBody1(l):h&&n.RunImmovableBody2(l),!0):l>0||n.Check()}},89936:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(45170),n=i(47962);t.exports=function(t,e,i,r,o){void 0===o&&(o=s(t,e,i,r));var a=t.immovable,h=e.immovable;if(i||0===o||a&&h||t.customSeparateY||e.customSeparateY)return 0!==o||t.embedded&&e.embedded;var l=n.Set(t,e,o);return a||h?(a?n.RunImmovableBody1(l):h&&n.RunImmovableBody2(l),!0):l>0||n.Check()}},95829:t=>{t.exports=function(t,e){return void 0===e&&(e={}),e.none=t,e.up=!1,e.down=!1,e.left=!1,e.right=!1,t||(e.up=!0,e.down=!0,e.left=!0,e.right=!0),e}},72624:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(87902),n=i(83419),r=i(78389),o=i(37747),a=i(37303),h=i(95829),l=i(26099),u=new n({Mixins:[r],initialize:function(t,e){var i=64,s=64,n=void 0!==e;n&&e.displayWidth&&(i=e.displayWidth,s=e.displayHeight),n||(e={x:0,y:0,angle:0,rotation:0,scaleX:1,scaleY:1,displayOriginX:0,displayOriginY:0}),this.world=t,this.gameObject=n?e:void 0,this.isBody=!0,this.debugShowBody=t.defaults.debugShowStaticBody,this.debugBodyColor=t.defaults.staticBodyDebugColor,this.enable=!0,this.isCircle=!1,this.radius=0,this.offset=new l,this.position=new l(e.x-i*e.originX,e.y-s*e.originY),this.width=i,this.height=s,this.halfWidth=Math.abs(this.width/2),this.halfHeight=Math.abs(this.height/2),this.center=new l(this.position.x+this.halfWidth,this.position.y+this.halfHeight),this.velocity=l.ZERO,this.allowGravity=!1,this.gravity=l.ZERO,this.bounce=l.ZERO,this.onWorldBounds=!1,this.onCollide=!1,this.onOverlap=!1,this.mass=1,this.immovable=!0,this.pushable=!1,this.customSeparateX=!1,this.customSeparateY=!1,this.overlapX=0,this.overlapY=0,this.overlapR=0,this.embedded=!1,this.collideWorldBounds=!1,this.checkCollision=h(!1),this.touching=h(!0),this.wasTouching=h(!0),this.blocked=h(!0),this.physicsType=o.STATIC_BODY,this.collisionCategory=1,this.collisionMask=1,this._dx=0,this._dy=0},setGameObject:function(t,e,i){if(void 0===e&&(e=!0),void 0===i&&(i=!0),!t||!t.hasTransformComponent)return this;var s=this.world;return this.gameObject&&this.gameObject.body&&(s.disable(this.gameObject),this.gameObject.body=null),t.body&&s.disable(t),this.gameObject=t,t.body=this,this.setSize(),e&&this.updateFromGameObject(),this.enable=i,this},updateFromGameObject:function(){this.world.staticTree.remove(this);var t=this.gameObject;return t.getTopLeft(this.position),this.width=t.displayWidth,this.height=t.displayHeight,this.halfWidth=Math.abs(this.width/2),this.halfHeight=Math.abs(this.height/2),this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight),this.world.staticTree.insert(this),this},setOffset:function(t,e){return void 0===e&&(e=t),this.world.staticTree.remove(this),this.position.x-=this.offset.x,this.position.y-=this.offset.y,this.offset.set(t,e),this.position.x+=this.offset.x,this.position.y+=this.offset.y,this.updateCenter(),this.world.staticTree.insert(this),this},setSize:function(t,e,i){void 0===i&&(i=!0);var s=this.gameObject;if(s&&s.frame&&(t||(t=s.frame.realWidth),e||(e=s.frame.realHeight)),this.world.staticTree.remove(this),this.width=t,this.height=e,this.halfWidth=Math.floor(t/2),this.halfHeight=Math.floor(e/2),i&&s&&s.getCenter){var n=s.displayWidth/2,r=s.displayHeight/2;this.position.x-=this.offset.x,this.position.y-=this.offset.y,this.offset.set(n-this.halfWidth,r-this.halfHeight),this.position.x+=this.offset.x,this.position.y+=this.offset.y}return this.updateCenter(),this.isCircle=!1,this.radius=0,this.world.staticTree.insert(this),this},setCircle:function(t,e,i){return void 0===e&&(e=this.offset.x),void 0===i&&(i=this.offset.y),t>0?(this.world.staticTree.remove(this),this.isCircle=!0,this.radius=t,this.width=2*t,this.height=2*t,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.offset.set(e,i),this.updateCenter(),this.world.staticTree.insert(this)):this.isCircle=!1,this},updateCenter:function(){this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight)},reset:function(t,e){var i=this.gameObject;void 0===t&&(t=i.x),void 0===e&&(e=i.y),this.world.staticTree.remove(this),i.setPosition(t,e),i.getTopLeft(this.position),this.position.x+=this.offset.x,this.position.y+=this.offset.y,this.updateCenter(),this.world.staticTree.insert(this)},stop:function(){return this},getBounds:function(t){return t.x=this.x,t.y=this.y,t.right=this.right,t.bottom=this.bottom,t},hitTest:function(t,e){return this.isCircle?s(this,t,e):a(this,t,e)},postUpdate:function(){},deltaAbsX:function(){return 0},deltaAbsY:function(){return 0},deltaX:function(){return 0},deltaY:function(){return 0},deltaZ:function(){return 0},destroy:function(){this.enable=!1,this.world.pendingDestroy.set(this)},drawDebug:function(t){var e=this.position,i=e.x+this.halfWidth,s=e.y+this.halfHeight;this.debugShowBody&&(t.lineStyle(t.defaultStrokeWidth,this.debugBodyColor,1),this.isCircle?t.strokeCircle(i,s,this.width/2):t.strokeRect(e.x,e.y,this.width,this.height))},willDrawDebug:function(){return this.debugShowBody},setMass:function(t){return t<=0&&(t=.1),this.mass=t,this},x:{get:function(){return this.position.x},set:function(t){this.world.staticTree.remove(this),this.position.x=t,this.world.staticTree.insert(this)}},y:{get:function(){return this.position.y},set:function(t){this.world.staticTree.remove(this),this.position.y=t,this.world.staticTree.insert(this)}},left:{get:function(){return this.position.x}},right:{get:function(){return this.position.x+this.width}},top:{get:function(){return this.position.y}},bottom:{get:function(){return this.position.y+this.height}}});t.exports=u},71464:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(13759),n=i(83419),r=i(78389),o=i(37747),a=i(95540),h=i(26479),l=i(41212),u=new n({Extends:h,Mixins:[r],initialize:function(t,e,i,n){i||n?l(i)?(n=i,i=null,n.internalCreateCallback=this.createCallbackHandler,n.internalRemoveCallback=this.removeCallbackHandler,n.createMultipleCallback=this.createMultipleCallbackHandler,n.classType=a(n,"classType",s)):Array.isArray(i)&&l(i[0])?(n=i,i=null,n.forEach(function(t){t.internalCreateCallback=this.createCallbackHandler,t.internalRemoveCallback=this.removeCallbackHandler,t.createMultipleCallback=this.createMultipleCallbackHandler,t.classType=a(t,"classType",s)})):n={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler}:n={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler,createMultipleCallback:this.createMultipleCallbackHandler,classType:s},this.world=t,this.physicsType=o.STATIC_BODY,this.collisionCategory=1,this.collisionMask=1,h.call(this,e,i,n),this.type="StaticPhysicsGroup"},createCallbackHandler:function(t){t.body||this.world.enableBody(t,o.STATIC_BODY)},removeCallbackHandler:function(t){t.body&&this.world.disableBody(t)},createMultipleCallbackHandler:function(){this.refresh()},refresh:function(){for(var t=this.children.entries,e=0;e<t.length;e++)t[e].body.reset();return this}});t.exports=u},82248:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(55495),n=i(37742),r=i(45319),o=i(83419),a=i(79342),h=i(37747),l=i(20339),u=i(52816),c=i(50792),d=i(63012),f=i(43855),p=i(5470),g=i(94977),m=i(64897),v=i(45170),y=i(96523),x=i(35154),T=i(36383),w=i(25774),b=i(96602),S=i(87841),E=i(59542),C=i(40012),_=i(14087),A=i(89936),M=i(35072),P=i(72624),R=i(2483),I=i(61340),O=i(26099),L=i(15994),D=new o({Extends:c,initialize:function(t,e){c.call(this),this.scene=t,this.bodies=new M,this.staticBodies=new M,this.pendingDestroy=new M,this.colliders=new w,this.gravity=new O(x(e,"gravity.x",0),x(e,"gravity.y",0)),this.bounds=new S(x(e,"x",0),x(e,"y",0),x(e,"width",t.sys.scale.width),x(e,"height",t.sys.scale.height)),this.checkCollision={up:x(e,"checkCollision.up",!0),down:x(e,"checkCollision.down",!0),left:x(e,"checkCollision.left",!0),right:x(e,"checkCollision.right",!0)},this.fps=x(e,"fps",60),this.fixedStep=x(e,"fixedStep",!0),this._elapsed=0,this._frameTime=1/this.fps,this._frameTimeMS=1e3*this._frameTime,this.stepsLastFrame=0,this.timeScale=x(e,"timeScale",1),this.OVERLAP_BIAS=x(e,"overlapBias",4),this.TILE_BIAS=x(e,"tileBias",16),this.forceX=x(e,"forceX",!1),this.isPaused=x(e,"isPaused",!1),this._total=0,this.drawDebug=x(e,"debug",!1),this.debugGraphic,this.defaults={debugShowBody:x(e,"debugShowBody",!0),debugShowStaticBody:x(e,"debugShowStaticBody",!0),debugShowVelocity:x(e,"debugShowVelocity",!0),bodyDebugColor:x(e,"debugBodyColor",16711935),staticBodyDebugColor:x(e,"debugStaticBodyColor",255),velocityDebugColor:x(e,"debugVelocityColor",65280)},this.maxEntries=x(e,"maxEntries",16),this.useTree=x(e,"useTree",!0),this.tree=new E(this.maxEntries),this.staticTree=new E(this.maxEntries),this.treeMinMax={minX:0,minY:0,maxX:0,maxY:0},this._tempMatrix=new I,this._tempMatrix2=new I,this.tileFilterOptions={isColliding:!0,isNotEmpty:!0,hasInterestingFace:!0},this.drawDebug&&this.createDebugGraphic()},enable:function(t,e){void 0===e&&(e=h.DYNAMIC_BODY),Array.isArray(t)||(t=[t]);for(var i=0;i<t.length;i++){var s=t[i];if(s.isParent)for(var n=s.getChildren(),r=0;r<n.length;r++){var o=n[r];o.isParent?this.enable(o,e):this.enableBody(o,e)}else this.enableBody(s,e)}},enableBody:function(t,e){return void 0===e&&(e=h.DYNAMIC_BODY),t.hasTransformComponent&&(t.body||(e===h.DYNAMIC_BODY?t.body=new n(this,t):e===h.STATIC_BODY&&(t.body=new P(this,t))),this.add(t.body)),t},add:function(t){return t.physicsType===h.DYNAMIC_BODY?this.bodies.set(t):t.physicsType===h.STATIC_BODY&&(this.staticBodies.set(t),this.staticTree.insert(t)),t.enable=!0,t},disable:function(t){Array.isArray(t)||(t=[t]);for(var e=0;e<t.length;e++){var i=t[e];if(i.isParent)for(var s=i.getChildren(),n=0;n<s.length;n++){var r=s[n];r.isParent?this.disable(r):this.disableBody(r.body)}else this.disableBody(i.body)}},disableBody:function(t){this.remove(t),t.enable=!1},remove:function(t){t.physicsType===h.DYNAMIC_BODY?(this.tree.remove(t),this.bodies.delete(t)):t.physicsType===h.STATIC_BODY&&(this.staticBodies.delete(t),this.staticTree.remove(t))},createDebugGraphic:function(){var t=this.scene.sys.add.graphics({x:0,y:0});return t.setDepth(Number.MAX_VALUE),this.debugGraphic=t,this.drawDebug=!0,t},setBounds:function(t,e,i,s,n,r,o,a){return this.bounds.setTo(t,e,i,s),void 0!==n&&this.setBoundsCollision(n,r,o,a),this},setBoundsCollision:function(t,e,i,s){return void 0===t&&(t=!0),void 0===e&&(e=!0),void 0===i&&(i=!0),void 0===s&&(s=!0),this.checkCollision.left=t,this.checkCollision.right=e,this.checkCollision.up=i,this.checkCollision.down=s,this},pause:function(){return this.isPaused=!0,this.emit(d.PAUSE),this},resume:function(){return this.isPaused=!1,this.emit(d.RESUME),this},addCollider:function(t,e,i,s,n){void 0===i&&(i=null),void 0===s&&(s=null),void 0===n&&(n=i);var r=new a(this,!1,t,e,i,s,n);return this.colliders.add(r),r},addOverlap:function(t,e,i,s,n){void 0===i&&(i=null),void 0===s&&(s=null),void 0===n&&(n=i);var r=new a(this,!0,t,e,i,s,n);return this.colliders.add(r),r},removeCollider:function(t){return this.colliders.remove(t),this},setFPS:function(t){return this.fps=t,this._frameTime=1/this.fps,this._frameTimeMS=1e3*this._frameTime,this},update:function(t,e){if(!this.isPaused&&0!==this.bodies.size){var i,s,n=this._frameTime,r=this._frameTimeMS*this.timeScale;this._elapsed+=e;var o=this.bodies.entries,a=this._elapsed>=r;for(this.fixedStep||(n=.001*e,a=!0,this._elapsed=0),i=0;i<o.length;i++)(s=o[i]).enable&&s.preUpdate(a,n);if(a){this._elapsed-=r,this.stepsLastFrame=1,this.useTree&&(this.tree.clear(),this.tree.load(o));var h=this.colliders.update();for(i=0;i<h.length;i++){var l=h[i];l.active&&l.update()}this.emit(d.WORLD_STEP,n)}for(;this._elapsed>=r;)this._elapsed-=r,this.step(n)}},step:function(t){var e,i,s=this.bodies.entries,n=s.length;for(e=0;e<n;e++)(i=s[e]).enable&&i.update(t);this.useTree&&(this.tree.clear(),this.tree.load(s));var r=this.colliders.update();for(e=0;e<r.length;e++){var o=r[e];o.active&&o.update()}this.emit(d.WORLD_STEP,t),this.stepsLastFrame++},singleStep:function(){this.update(0,this._frameTimeMS),this.postUpdate()},postUpdate:function(){var t,e,i=this.bodies.entries,s=i.length,n=this.bodies,r=this.staticBodies;if(this.stepsLastFrame)for(this.stepsLastFrame=0,t=0;t<s;t++)(e=i[t]).enable&&e.postUpdate();if(this.drawDebug){var o=this.debugGraphic;for(o.clear(),t=0;t<s;t++)(e=i[t]).willDrawDebug()&&e.drawDebug(o);for(s=(i=r.entries).length,t=0;t<s;t++)(e=i[t]).willDrawDebug()&&e.drawDebug(o)}var a=this.pendingDestroy;if(a.size>0){var l=this.tree,u=this.staticTree;for(s=(i=a.entries).length,t=0;t<s;t++)(e=i[t]).physicsType===h.DYNAMIC_BODY?(l.remove(e),n.delete(e)):e.physicsType===h.STATIC_BODY&&(u.remove(e),r.delete(e)),e.world=void 0,e.gameObject=void 0;a.clear()}},updateMotion:function(t,e){t.allowRotation&&this.computeAngularVelocity(t,e),this.computeVelocity(t,e)},computeAngularVelocity:function(t,e){var i=t.angularVelocity,s=t.angularAcceleration,n=t.angularDrag,o=t.maxAngular;s?i+=s*e:t.allowDrag&&n&&(p(i-(n*=e),0,.1)?i-=n:g(i+n,0,.1)?i+=n:i=0);var a=(i=r(i,-o,o))-t.angularVelocity;t.angularVelocity+=a,t.rotation+=t.angularVelocity*e},computeVelocity:function(t,e){var i=t.velocity.x,s=t.acceleration.x,n=t.drag.x,o=t.maxVelocity.x,a=t.velocity.y,h=t.acceleration.y,l=t.drag.y,u=t.maxVelocity.y,c=t.speed,d=t.maxSpeed,m=t.allowDrag,v=t.useDamping;t.allowGravity&&(i+=(this.gravity.x+t.gravity.x)*e,a+=(this.gravity.y+t.gravity.y)*e),s?i+=s*e:m&&n&&(v?(i*=n=Math.pow(n,e),c=Math.sqrt(i*i+a*a),f(c,0,.001)&&(i=0)):p(i-(n*=e),0,.01)?i-=n:g(i+n,0,.01)?i+=n:i=0),h?a+=h*e:m&&l&&(v?(a*=l=Math.pow(l,e),c=Math.sqrt(i*i+a*a),f(c,0,.001)&&(a=0)):p(a-(l*=e),0,.01)?a-=l:g(a+l,0,.01)?a+=l:a=0),i=r(i,-o,o),a=r(a,-u,u),t.velocity.set(i,a),d>-1&&t.velocity.length()>d&&(t.velocity.normalize().scale(d),c=d),t.speed=c},separate:function(t,e,i,s,n){var r,o,a=!1,h=!0;if(!t.enable||!e.enable||t.checkCollision.none||e.checkCollision.none||!this.intersects(t,e)||0===(t.collisionMask&e.collisionCategory)||0===(e.collisionMask&t.collisionCategory))return a;if(i&&!1===i.call(s,t.gameObject||t,e.gameObject||e))return a;if(t.isCircle||e.isCircle){var l=this.separateCircle(t,e,n);l.result?(a=!0,h=!1):(r=l.x,o=l.y,h=!0)}if(h){var u=!1,c=!1,f=this.OVERLAP_BIAS;n?(u=_(t,e,n,f,r),c=A(t,e,n,f,o)):this.forceX||Math.abs(this.gravity.y+t.gravity.y)<Math.abs(this.gravity.x+t.gravity.x)?(u=_(t,e,n,f,r),this.intersects(t,e)&&(c=A(t,e,n,f,o))):(c=A(t,e,n,f,o),this.intersects(t,e)&&(u=_(t,e,n,f,r))),a=u||c}return a&&(n?(t.onOverlap||e.onOverlap)&&this.emit(d.OVERLAP,t.gameObject,e.gameObject,t,e):(t.onCollide||e.onCollide)&&this.emit(d.COLLIDE,t.gameObject,e.gameObject,t,e)),a},separateCircle:function(t,e,i){m(t,e,!1,0),v(t,e,!1,0);var n=t.isCircle,r=e.isCircle,o=t.center,a=e.center,h=t.immovable,c=e.immovable,d=t.velocity,f=e.velocity,p=0,g=!0;if(n!==r){g=!1;var y=o.x,x=o.y,w=t.halfWidth,b=e.position.x,S=e.position.y,E=e.right,C=e.bottom;r&&(y=a.x,x=a.y,w=e.halfWidth,b=t.position.x,S=t.position.y,E=t.right,C=t.bottom),x<S?y<b?p=l(y,x,b,S)-w:y>E&&(p=l(y,x,E,S)-w):x>C&&(y<b?p=l(y,x,b,C)-w:y>E&&(p=l(y,x,E,C)-w)),p*=-1}else p=t.halfWidth+e.halfWidth-u(o,a);t.overlapR=p,e.overlapR=p;var _=s(o,a),A=(p+T.EPSILON)*Math.cos(_),M=(p+T.EPSILON)*Math.sin(_),P={overlap:p,result:!1,x:A,y:M};if(i&&(!g||g&&0!==p))return P.result=!0,P;if(!g&&0===p||h&&c||t.customSeparateX||e.customSeparateX)return P.x=void 0,P.y=void 0,P;var R=!t.pushable&&!e.pushable;if(g){var I=o.x-a.x,O=o.y-a.y,L=Math.sqrt(Math.pow(I,2)+Math.pow(O,2)),D=(a.x-o.x)/L||0,k=(a.y-o.y)/L||0,F=2*(d.x*D+d.y*k-f.x*D-f.y*k)/(t.mass+e.mass);!h&&!c&&t.pushable&&e.pushable||(F*=2),!h&&t.pushable&&(d.x=d.x-F/t.mass*D,d.y=d.y-F/t.mass*k,d.multiply(t.bounce)),!c&&e.pushable&&(f.x=f.x+F/e.mass*D,f.y=f.y+F/e.mass*k,f.multiply(e.bounce)),h||c||(A*=.5,M*=.5),(!h||t.pushable||R)&&(t.x-=A,t.y-=M,t.updateCenter()),(!c||e.pushable||R)&&(e.x+=A,e.y+=M,e.updateCenter()),P.result=!0}else h||!t.pushable&&!R||(t.x-=A,t.y-=M,t.updateCenter()),c||!e.pushable&&!R||(e.x+=A,e.y+=M,e.updateCenter()),P.x=void 0,P.y=void 0;return P},intersects:function(t,e){return t!==e&&(t.isCircle||e.isCircle?t.isCircle?e.isCircle?u(t.center,e.center)<=t.halfWidth+e.halfWidth:this.circleBodyIntersects(t,e):this.circleBodyIntersects(e,t):!(t.right<=e.left||t.bottom<=e.top||t.left>=e.right||t.top>=e.bottom))},circleBodyIntersects:function(t,e){var i=r(t.center.x,e.left,e.right),s=r(t.center.y,e.top,e.bottom);return(t.center.x-i)*(t.center.x-i)+(t.center.y-s)*(t.center.y-s)<=t.halfWidth*t.halfWidth},overlap:function(t,e,i,s,n){return void 0===i&&(i=null),void 0===s&&(s=null),void 0===n&&(n=i),this.collideObjects(t,e,i,s,n,!0)},collide:function(t,e,i,s,n){return void 0===i&&(i=null),void 0===s&&(s=null),void 0===n&&(n=i),this.collideObjects(t,e,i,s,n,!1)},collideObjects:function(t,e,i,s,n,r){var o,a;!t.isParent||void 0!==t.physicsType&&void 0!==e&&t!==e||(t=t.children.entries),e&&e.isParent&&void 0===e.physicsType&&(e=e.children.entries);var h=Array.isArray(t),l=Array.isArray(e);if(this._total=0,h||l)if(!h&&l)for(o=0;o<e.length;o++)this.collideHandler(t,e[o],i,s,n,r);else if(h&&!l)if(e)for(o=0;o<t.length;o++)this.collideHandler(t[o],e,i,s,n,r);else for(o=0;o<t.length;o++){var u=t[o];for(a=o+1;a<t.length;a++)o!==a&&this.collideHandler(u,t[a],i,s,n,r)}else for(o=0;o<t.length;o++)for(a=0;a<e.length;a++)this.collideHandler(t[o],e[a],i,s,n,r);else this.collideHandler(t,e,i,s,n,r);return this._total>0},collideHandler:function(t,e,i,s,n,r){if(void 0===e&&t.isParent)return this.collideGroupVsGroup(t,t,i,s,n,r);if(!t||!e)return!1;if(t.body||t.isBody){if(e.body||e.isBody)return this.collideSpriteVsSprite(t,e,i,s,n,r);if(e.isParent)return this.collideSpriteVsGroup(t,e,i,s,n,r);if(e.isTilemap)return this.collideSpriteVsTilemapLayer(t,e,i,s,n,r)}else if(t.isParent){if(e.body||e.isBody)return this.collideSpriteVsGroup(e,t,i,s,n,r);if(e.isParent)return this.collideGroupVsGroup(t,e,i,s,n,r);if(e.isTilemap)return this.collideGroupVsTilemapLayer(t,e,i,s,n,r)}else if(t.isTilemap){if(e.body||e.isBody)return this.collideSpriteVsTilemapLayer(e,t,i,s,n,r);if(e.isParent)return this.collideGroupVsTilemapLayer(e,t,i,s,n,r)}},canCollide:function(t,e){return t&&e&&0!==(t.collisionMask&e.collisionCategory)&&0!==(e.collisionMask&t.collisionCategory)},collideSpriteVsSprite:function(t,e,i,s,n,r){var o=t.isBody?t:t.body,a=e.isBody?e:e.body;return!!this.canCollide(o,a)&&(this.separate(o,a,s,n,r)&&(i&&i.call(n,t,e),this._total++),!0)},collideSpriteVsGroup:function(t,e,i,s,n,r){var o,a,l,u=t.isBody?t:t.body;if(0!==e.getLength()&&u&&u.enable&&!u.checkCollision.none&&this.canCollide(u,e))if(this.useTree||e.physicsType===h.STATIC_BODY){var c=this.treeMinMax;c.minX=u.left,c.minY=u.top,c.maxX=u.right,c.maxY=u.bottom;var d=e.physicsType===h.DYNAMIC_BODY?this.tree.search(c):this.staticTree.search(c);for(a=d.length,o=0;o<a;o++)u!==(l=d[o])&&l.enable&&!l.checkCollision.none&&e.contains(l.gameObject)&&this.separate(u,l,s,n,r)&&(i&&i.call(n,u.gameObject,l.gameObject),this._total++)}else{var f=e.getChildren(),p=e.children.entries.indexOf(t);for(a=f.length,o=0;o<a;o++)(l=f[o].body)&&o!==p&&l.enable&&this.separate(u,l,s,n,r)&&(i&&i.call(n,u.gameObject,l.gameObject),this._total++)}},collideGroupVsTilemapLayer:function(t,e,i,s,n,r){if(!this.canCollide(t,e))return!1;var o=t.getChildren();if(0===o.length)return!1;for(var a=!1,h=0;h<o.length;h++)(o[h].body||o[h].isBody)&&this.collideSpriteVsTilemapLayer(o[h],e,i,s,n,r)&&(a=!0);return a},collideTiles:function(t,e,i,s,n){return!(0===e.length||t.body&&!t.body.enable||t.isBody&&!t.enable)&&this.collideSpriteVsTilesHandler(t,e,i,s,n,!1,!1)},overlapTiles:function(t,e,i,s,n){return!(0===e.length||t.body&&!t.body.enable||t.isBody&&!t.enable)&&this.collideSpriteVsTilesHandler(t,e,i,s,n,!0,!1)},collideSpriteVsTilemapLayer:function(t,e,i,s,n,r){var o=t.isBody?t:t.body;if(!o.enable||o.checkCollision.none||!this.canCollide(o,e))return!1;var a=e.layer,h=o.x-a.tileWidth*e.scaleX,l=o.y-a.tileHeight*e.scaleY,u=o.width+a.tileWidth*e.scaleX,c=o.height+a.tileHeight*e.scaleY,d=r?null:this.tileFilterOptions,f=y(h,l,u,c,d,e.scene.cameras.main,e.layer);return 0!==f.length&&this.collideSpriteVsTilesHandler(t,f,i,s,n,r,!0)},collideSpriteVsTilesHandler:function(t,e,i,s,n,r,o){for(var a,h,l=t.isBody?t:t.body,u={left:0,right:0,top:0,bottom:0},c=!1,f=0;f<e.length;f++){var p=(h=(a=e[f]).tilemapLayer).tileToWorldXY(a.x,a.y);u.left=p.x,u.top=p.y,u.right=u.left+a.width*h.scaleX,u.bottom=u.top+a.height*h.scaleY,R(u,l)&&(!s||s.call(n,t,a))&&b(a,t)&&(r||C(f,l,a,u,h,this.TILE_BIAS,o))&&(this._total++,c=!0,i&&i.call(n,t,a),r&&l.onOverlap?this.emit(d.TILE_OVERLAP,t,a,l):l.onCollide&&this.emit(d.TILE_COLLIDE,t,a,l))}return c},collideGroupVsGroup:function(t,e,i,s,n,r){if(0!==t.getLength()&&0!==e.getLength()&&this.canCollide(t,e))for(var o=t.getChildren(),a=0;a<o.length;a++)this.collideSpriteVsGroup(o[a],e,i,s,n,r)},wrap:function(t,e){t.body?this.wrapObject(t,e):t.getChildren?this.wrapArray(t.getChildren(),e):Array.isArray(t)?this.wrapArray(t,e):this.wrapObject(t,e)},wrapArray:function(t,e){for(var i=0;i<t.length;i++)this.wrapObject(t[i],e)},wrapObject:function(t,e){void 0===e&&(e=0),t.x=L(t.x,this.bounds.left-e,this.bounds.right+e),t.y=L(t.y,this.bounds.top-e,this.bounds.bottom+e)},shutdown:function(){this.tree.clear(),this.staticTree.clear(),this.bodies.clear(),this.staticBodies.clear(),this.colliders.destroy(),this.removeAllListeners()},destroy:function(){this.shutdown(),this.scene=null,this.debugGraphic&&(this.debugGraphic.destroy(),this.debugGraphic=null)}});t.exports=D},1093:t=>{t.exports={setAcceleration:function(t,e){return this.body.acceleration.set(t,e),this},setAccelerationX:function(t){return this.body.acceleration.x=t,this},setAccelerationY:function(t){return this.body.acceleration.y=t,this}}},59023:t=>{t.exports={setAngularVelocity:function(t){return this.body.angularVelocity=t,this},setAngularAcceleration:function(t){return this.body.angularAcceleration=t,this},setAngularDrag:function(t){return this.body.angularDrag=t,this}}},62069:t=>{t.exports={setBounce:function(t,e){return this.body.bounce.set(t,e),this},setBounceX:function(t){return this.body.bounce.x=t,this},setBounceY:function(t){return this.body.bounce.y=t,this},setCollideWorldBounds:function(t,e,i,s){return this.body.setCollideWorldBounds(t,e,i,s),this}}},78389:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(79599),n={setCollisionCategory:function(t){return(this.body?this.body:this).collisionCategory=t,this},willCollideWith:function(t){return 0!==((this.body?this.body:this).collisionMask&t)},addCollidesWith:function(t){var e=this.body?this.body:this;return e.collisionMask=e.collisionMask|t,this},removeCollidesWith:function(t){var e=this.body?this.body:this;return e.collisionMask=e.collisionMask&~t,this},setCollidesWith:function(t){return(this.body?this.body:this).collisionMask=s(t),this},resetCollisionCategory:function(){var t=this.body?this.body:this;return t.collisionCategory=1,t.collisionMask=2147483647,this}};t.exports=n},87118:t=>{t.exports={setDebug:function(t,e,i){return this.debugShowBody=t,this.debugShowVelocity=e,this.debugBodyColor=i,this},setDebugBodyColor:function(t){return this.body.debugBodyColor=t,this},debugShowBody:{get:function(){return this.body.debugShowBody},set:function(t){this.body.debugShowBody=t}},debugShowVelocity:{get:function(){return this.body.debugShowVelocity},set:function(t){this.body.debugShowVelocity=t}},debugBodyColor:{get:function(){return this.body.debugBodyColor},set:function(t){this.body.debugBodyColor=t}}}},52819:t=>{t.exports={setDrag:function(t,e){return this.body.drag.set(t,e),this},setDragX:function(t){return this.body.drag.x=t,this},setDragY:function(t){return this.body.drag.y=t,this},setDamping:function(t){return this.body.useDamping=t,this}}},4074:t=>{t.exports={setDirectControl:function(t){return this.body.setDirectControl(t),this},enableBody:function(t,e,i,s,n){return t&&this.body.reset(e,i),s&&(this.body.gameObject.active=!0),n&&(this.body.gameObject.visible=!0),this.body.enable=!0,this},disableBody:function(t,e){return void 0===t&&(t=!1),void 0===e&&(e=!1),this.body.stop(),this.body.enable=!1,t&&(this.body.gameObject.active=!1),e&&(this.body.gameObject.visible=!1),this},refreshBody:function(){return this.body.updateFromGameObject(),this}}},40831:t=>{t.exports={setFriction:function(t,e){return this.body.friction.set(t,e),this},setFrictionX:function(t){return this.body.friction.x=t,this},setFrictionY:function(t){return this.body.friction.y=t,this}}},26775:t=>{t.exports={setGravity:function(t,e){return this.body.gravity.set(t,e),this},setGravityX:function(t){return this.body.gravity.x=t,this},setGravityY:function(t){return this.body.gravity.y=t,this}}},9437:t=>{t.exports={setImmovable:function(t){return void 0===t&&(t=!0),this.body.immovable=t,this}}},30621:t=>{t.exports={setMass:function(t){return this.body.mass=t,this}}},72441:(t,e,i)=>{var s=i(47956),n=i(96503),r=i(2044),o=i(81491);t.exports=function(t,e,i,a,h,l){var u=s(t,e-a,i-a,2*a,2*a,h,l);if(0===u.length)return u;for(var c=new n(e,i,a),d=new n,f=[],p=0;p<u.length;p++){var g=u[p];g.isCircle?(d.setTo(g.center.x,g.center.y,g.halfWidth),r(c,d)&&f.push(g)):o(c,g)&&f.push(g)}return f}},47956:t=>{t.exports=function(t,e,i,s,n,r,o){void 0===r&&(r=!0),void 0===o&&(o=!1);var a=[],h=[],l=t.treeMinMax;if(l.minX=e,l.minY=i,l.maxX=e+s,l.maxY=i+n,o&&(h=t.staticTree.search(l)),r&&t.useTree)a=t.tree.search(l);else if(r){var u=t.bodies,c={position:{x:e,y:i},left:e,top:i,right:e+s,bottom:i+n,isCircle:!1},d=t.intersects;u.iterate(function(t){d(t,c)&&a.push(t)})}return h.concat(a)}},62121:t=>{t.exports={setPushable:function(t){return void 0===t&&(t=!0),this.body.pushable=t,this}}},29384:t=>{t.exports={setOffset:function(t,e){return this.body.setOffset(t,e),this},setSize:function(t,e,i){return this.body.setSize(t,e,i),this},setBodySize:function(t,e,i){return this.body.setSize(t,e,i),this},setCircle:function(t,e,i){return this.body.setCircle(t,e,i),this}}},15098:t=>{t.exports={setVelocity:function(t,e){return this.body.setVelocity(t,e),this},setVelocityX:function(t){return this.body.setVelocityX(t),this},setVelocityY:function(t){return this.body.setVelocityY(t),this},setMaxVelocity:function(t,e){return this.body.maxVelocity.set(t,e),this}}},92209:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports={Acceleration:i(1093),Angular:i(59023),Bounce:i(62069),Collision:i(78389),Debug:i(87118),Drag:i(52819),Enable:i(4074),Friction:i(40831),Gravity:i(26775),Immovable:i(9437),Mass:i(30621),OverlapCirc:i(72441),OverlapRect:i(47956),Pushable:i(62121),Size:i(29384),Velocity:i(15098)}},37747:t=>{t.exports={DYNAMIC_BODY:0,STATIC_BODY:1,GROUP:2,TILEMAPLAYER:3,FACING_NONE:10,FACING_UP:11,FACING_DOWN:12,FACING_LEFT:13,FACING_RIGHT:14}},20009:t=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports="collide"},36768:t=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports="overlap"},60473:t=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports="pause"},89954:t=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports="resume"},61804:t=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports="tilecollide"},7161:t=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports="tileoverlap"},34689:t=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports="worldbounds"},16006:t=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports="worldstep"},63012:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports={COLLIDE:i(20009),OVERLAP:i(36768),PAUSE:i(60473),RESUME:i(89954),TILE_COLLIDE:i(61804),TILE_OVERLAP:i(7161),WORLD_BOUNDS:i(34689),WORLD_STEP:i(16006)}},27064:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(37747),n=i(79291),r={ArcadePhysics:i(86689),Body:i(37742),Collider:i(79342),Components:i(92209),Events:i(63012),Factory:i(66022),GetCollidesWith:i(79599),GetOverlapX:i(64897),GetOverlapY:i(45170),SeparateX:i(14087),SeparateY:i(89936),Group:i(60758),Image:i(71289),Sprite:i(13759),StaticBody:i(72624),StaticGroup:i(71464),Tilemap:i(55173),World:i(82248)};r=n(!1,r,s),t.exports=r},96602:t=>{t.exports=function(t,e){return t.collisionCallback?!t.collisionCallback.call(t.collisionCallbackContext,e,t):!t.layer.callbacks[t.index]||!t.layer.callbacks[t.index].callback.call(t.layer.callbacks[t.index].callbackContext,e,t)}},36294:t=>{t.exports=function(t,e){e<0?(t.blocked.none=!1,t.blocked.left=!0):e>0&&(t.blocked.none=!1,t.blocked.right=!0),t.position.x-=e,t.updateCenter(),0===t.bounce.x?t.velocity.x=0:t.velocity.x=-t.velocity.x*t.bounce.x}},67013:t=>{t.exports=function(t,e){e<0?(t.blocked.none=!1,t.blocked.up=!0):e>0&&(t.blocked.none=!1,t.blocked.down=!0),t.position.y-=e,t.updateCenter(),0===t.bounce.y?t.velocity.y=0:t.velocity.y=-t.velocity.y*t.bounce.y}},40012:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(21329),n=i(53442),r=i(2483);t.exports=function(t,e,i,o,a,h,l){var u=o.left,c=o.top,d=o.right,f=o.bottom,p=i.faceLeft||i.faceRight,g=i.faceTop||i.faceBottom;if(l||(p=!0,g=!0),!p&&!g)return!1;var m=0,v=0,y=0,x=1;if(e.deltaAbsX()>e.deltaAbsY()?y=-1:e.deltaAbsX()<e.deltaAbsY()&&(x=-1),0!==e.deltaX()&&0!==e.deltaY()&&p&&g&&(y=Math.min(Math.abs(e.position.x-d),Math.abs(e.right-u)),x=Math.min(Math.abs(e.position.y-f),Math.abs(e.bottom-c))),y<x){if(p&&0!==(m=s(e,i,u,d,h,l))&&!r(o,e))return!0;g&&(v=n(e,i,c,f,h,l))}else{if(g&&0!==(v=n(e,i,c,f,h,l))&&!r(o,e))return!0;p&&(m=s(e,i,u,d,h,l))}return 0!==m||0!==v}},21329:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(36294);t.exports=function(t,e,i,n,r,o){var a=0,h=e.faceLeft,l=e.faceRight,u=e.collideLeft,c=e.collideRight;return o||(h=!0,l=!0,u=!0,c=!0),t.deltaX()<0&&c&&t.checkCollision.left?l&&t.x<n&&(a=t.x-n)<-r&&(a=0):t.deltaX()>0&&u&&t.checkCollision.right&&h&&t.right>i&&(a=t.right-i)>r&&(a=0),0!==a&&(t.customSeparateX?t.overlapX=a:s(t,a)),a}},53442:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(67013);t.exports=function(t,e,i,n,r,o){var a=0,h=e.faceTop,l=e.faceBottom,u=e.collideUp,c=e.collideDown;return o||(h=!0,l=!0,u=!0,c=!0),t.deltaY()<0&&c&&t.checkCollision.up?l&&t.y<n&&(a=t.y-n)<-r&&(a=0):t.deltaY()>0&&u&&t.checkCollision.down&&h&&t.bottom>i&&(a=t.bottom-i)>r&&(a=0),0!==a&&(t.customSeparateY?t.overlapY=a:s(t,a)),a}},2483:t=>{t.exports=function(t,e){return!(e.right<=t.left||e.bottom<=t.top||e.position.x>=t.right||e.position.y>=t.bottom)}},55173:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s={ProcessTileCallbacks:i(96602),ProcessTileSeparationX:i(36294),ProcessTileSeparationY:i(67013),SeparateTile:i(40012),TileCheckX:i(21329),TileCheckY:i(53442),TileIntersectsBody:i(2483)};t.exports=s},44563:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports={Arcade:i(27064),Matter:i(3875)}},68174:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(83419),n=i(26099),r=new s({initialize:function(){this.boundsCenter=new n,this.centerDiff=new n},parseBody:function(t){if(!(t=t.hasOwnProperty("body")?t.body:t).hasOwnProperty("bounds")||!t.hasOwnProperty("centerOfMass"))return!1;var e=this.boundsCenter,i=this.centerDiff,s=t.bounds.max.x-t.bounds.min.x,n=t.bounds.max.y-t.bounds.min.y,r=s*t.centerOfMass.x,o=n*t.centerOfMass.y;return e.set(s/2,n/2),i.set(r-e.x,o-e.y),!0},getTopLeft:function(t,e,i){if(void 0===e&&(e=0),void 0===i&&(i=0),this.parseBody(t)){var s=this.boundsCenter,r=this.centerDiff;return new n(e+s.x+r.x,i+s.y+r.y)}return!1},getTopCenter:function(t,e,i){if(void 0===e&&(e=0),void 0===i&&(i=0),this.parseBody(t)){var s=this.boundsCenter,r=this.centerDiff;return new n(e+r.x,i+s.y+r.y)}return!1},getTopRight:function(t,e,i){if(void 0===e&&(e=0),void 0===i&&(i=0),this.parseBody(t)){var s=this.boundsCenter,r=this.centerDiff;return new n(e-(s.x-r.x),i+s.y+r.y)}return!1},getLeftCenter:function(t,e,i){if(void 0===e&&(e=0),void 0===i&&(i=0),this.parseBody(t)){var s=this.boundsCenter,r=this.centerDiff;return new n(e+s.x+r.x,i+r.y)}return!1},getCenter:function(t,e,i){if(void 0===e&&(e=0),void 0===i&&(i=0),this.parseBody(t)){var s=this.centerDiff;return new n(e+s.x,i+s.y)}return!1},getRightCenter:function(t,e,i){if(void 0===e&&(e=0),void 0===i&&(i=0),this.parseBody(t)){var s=this.boundsCenter,r=this.centerDiff;return new n(e-(s.x-r.x),i+r.y)}return!1},getBottomLeft:function(t,e,i){if(void 0===e&&(e=0),void 0===i&&(i=0),this.parseBody(t)){var s=this.boundsCenter,r=this.centerDiff;return new n(e+s.x+r.x,i-(s.y-r.y))}return!1},getBottomCenter:function(t,e,i){if(void 0===e&&(e=0),void 0===i&&(i=0),this.parseBody(t)){var s=this.boundsCenter,r=this.centerDiff;return new n(e+r.x,i-(s.y-r.y))}return!1},getBottomRight:function(t,e,i){if(void 0===e&&(e=0),void 0===i&&(i=0),this.parseBody(t)){var s=this.boundsCenter,r=this.centerDiff;return new n(e-(s.x-r.x),i-(s.y-r.y))}return!1}});t.exports=r},19933:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(6790);s.Body=i(22562),s.Composite=i(69351),s.World=i(4372),s.Collision=i(52284),s.Detector=i(81388),s.Pairs=i(99561),s.Pair=i(4506),s.Query=i(73296),s.Resolver=i(66272),s.Constraint=i(48140),s.Common=i(53402),s.Engine=i(48413),s.Events=i(35810),s.Sleeping=i(53614),s.Plugin=i(73832),s.Bodies=i(66280),s.Composites=i(74116),s.Axes=i(66615),s.Bounds=i(15647),s.Svg=i(74058),s.Vector=i(31725),s.Vertices=i(41598),s.World.add=s.Composite.add,s.World.remove=s.Composite.remove,s.World.addComposite=s.Composite.addComposite,s.World.addBody=s.Composite.addBody,s.World.addConstraint=s.Composite.addConstraint,s.World.clear=s.Composite.clear,t.exports=s},28137:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(66280),n=i(83419),r=i(74116),o=i(48140),a=i(74058),h=i(75803),l=i(23181),u=i(34803),c=i(73834),d=i(19496),f=i(85791),p=i(98713),g=i(41598),m=new n({initialize:function(t){this.world=t,this.scene=t.scene,this.sys=t.scene.sys},rectangle:function(t,e,i,n,r){var o=s.rectangle(t,e,i,n,r);return this.world.add(o),o},trapezoid:function(t,e,i,n,r,o){var a=s.trapezoid(t,e,i,n,r,o);return this.world.add(a),a},circle:function(t,e,i,n,r){var o=s.circle(t,e,i,n,r);return this.world.add(o),o},polygon:function(t,e,i,n,r){var o=s.polygon(t,e,i,n,r);return this.world.add(o),o},fromVertices:function(t,e,i,n,r,o,a){"string"==typeof i&&(i=g.fromPath(i));var h=s.fromVertices(t,e,i,n,r,o,a);return this.world.add(h),h},fromPhysicsEditor:function(t,e,i,s,n){void 0===n&&(n=!0);var r=d.parseBody(t,e,i,s);return n&&!this.world.has(r)&&this.world.add(r),r},fromSVG:function(t,e,i,n,r,o){void 0===n&&(n=1),void 0===r&&(r={}),void 0===o&&(o=!0);for(var h=i.getElementsByTagName("path"),l=[],u=0;u<h.length;u++){var c=a.pathToVertices(h[u],30);1!==n&&g.scale(c,n,n),l.push(c)}var d=s.fromVertices(t,e,l,r);return o&&this.world.add(d),d},fromJSON:function(t,e,i,s,n){void 0===s&&(s={}),void 0===n&&(n=!0);var r=f.parseBody(t,e,i,s);return r&&n&&this.world.add(r),r},imageStack:function(t,e,i,s,n,o,a,h,u){void 0===a&&(a=0),void 0===h&&(h=0),void 0===u&&(u={});var c=this.world,d=this.sys.displayList;u.addToWorld=!1;var f=r.stack(i,s,n,o,a,h,function(i,s){var n=new l(c,i,s,t,e,u);return d.add(n),n.body});return c.add(f),f},stack:function(t,e,i,s,n,o,a){var h=r.stack(t,e,i,s,n,o,a);return this.world.add(h),h},pyramid:function(t,e,i,s,n,o,a){var h=r.pyramid(t,e,i,s,n,o,a);return this.world.add(h),h},chain:function(t,e,i,s,n,o){return r.chain(t,e,i,s,n,o)},mesh:function(t,e,i,s,n){return r.mesh(t,e,i,s,n)},newtonsCradle:function(t,e,i,s,n){var o=r.newtonsCradle(t,e,i,s,n);return this.world.add(o),o},car:function(t,e,i,s,n){var o=r.car(t,e,i,s,n);return this.world.add(o),o},softBody:function(t,e,i,s,n,o,a,h,l,u){var c=r.softBody(t,e,i,s,n,o,a,h,l,u);return this.world.add(c),c},joint:function(t,e,i,s,n){return this.constraint(t,e,i,s,n)},spring:function(t,e,i,s,n){return this.constraint(t,e,i,s,n)},constraint:function(t,e,i,s,n){void 0===s&&(s=1),void 0===n&&(n={}),n.bodyA="body"===t.type?t:t.body,n.bodyB="body"===e.type?e:e.body,isNaN(i)||(n.length=i),n.stiffness=s;var r=o.create(n);return this.world.add(r),r},worldConstraint:function(t,e,i,s){void 0===i&&(i=1),void 0===s&&(s={}),s.bodyB="body"===t.type?t:t.body,isNaN(e)||(s.length=e),s.stiffness=i;var n=o.create(s);return this.world.add(n),n},mouseSpring:function(t){return this.pointerConstraint(t)},pointerConstraint:function(t){void 0===t&&(t={}),t.hasOwnProperty("render")||(t.render={visible:!1});var e=new p(this.scene,this.world,t);return this.world.add(e.constraint),e},image:function(t,e,i,s,n){var r=new l(this.world,t,e,i,s,n);return this.sys.displayList.add(r),r},tileBody:function(t,e){return new c(this.world,t,e)},sprite:function(t,e,i,s,n){var r=new u(this.world,t,e,i,s,n);return this.sys.displayList.add(r),this.sys.updateList.add(r),r},gameObject:function(t,e,i){return h(this.world,t,e,i)},destroy:function(){this.world=null,this.scene=null,this.sys=null}});t.exports=m},75803:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(31884),n=i(95540),r=i(26099);function o(t){return!!t.get&&"function"==typeof t.get||!!t.set&&"function"==typeof t.set}t.exports=function(t,e,i,a){void 0===i&&(i={}),void 0===a&&(a=!0);var h=e.x,l=e.y;if(e.body={temp:!0,position:{x:h,y:l}},[s.Bounce,s.Collision,s.Force,s.Friction,s.Gravity,s.Mass,s.Sensor,s.SetBody,s.Sleep,s.Static,s.Transform,s.Velocity].forEach(function(t){for(var i in t)o(t[i])?Object.defineProperty(e,i,{get:t[i].get,set:t[i].set}):Object.defineProperty(e,i,{value:t[i]})}),e.world=t,e._tempVec2=new r(h,l),i.hasOwnProperty("type")&&"body"===i.type)e.setExistingBody(i,a);else{var u=n(i,"shape",null);u||(u="rectangle"),i.addToWorld=a,e.setBody(u,i)}return e}},23181:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(83419),n=i(31884),r=i(95643),o=i(95540),a=i(88571),h=i(72699),l=i(26099),u=new s({Extends:a,Mixins:[n.Bounce,n.Collision,n.Force,n.Friction,n.Gravity,n.Mass,n.Sensor,n.SetBody,n.Sleep,n.Static,n.Transform,n.Velocity,h],initialize:function(t,e,i,s,n,a){r.call(this,t.scene,"Image"),this._crop=this.resetCropObject(),this.setTexture(s,n),this.setSizeToFrame(),this.setOrigin(),this.world=t,this._tempVec2=new l(e,i);var h=o(a,"shape",null);h?this.setBody(h,a):this.setRectangle(this.width,this.height,a),this.setPosition(e,i),this.initPipeline(),this.initPostPipeline(!0)}});t.exports=u},42045:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(60461),n=i(66615),r=i(66280),o=i(22562),a=i(68174),h=i(15647),l=i(83419),u=i(52284),c=i(53402),d=i(69351),f=i(74116),p=i(48140),g=i(81388),m=i(20339),v=i(28137),y=i(95540),x=i(35154),T=i(46975),w=i(4506),b=i(99561),S=i(37277),E=i(73296),C=i(66272),_=i(44594),A=i(74058),M=i(31725),P=i(41598),R=i(68243);c.setDecomp(i(55973));var I=new l({initialize:function(t){this.scene=t,this.systems=t.sys,this.config=this.getConfig(),this.world,this.add,this.bodyBounds,this.body=o,this.composite=d,this.collision=u,this.detector=g,this.pair=w,this.pairs=b,this.query=E,this.resolver=C,this.constraint=p,this.bodies=r,this.composites=f,this.axes=n,this.bounds=h,this.svg=A,this.vector=M,this.vertices=P,this.verts=P,this._tempVec2=M.create(),C._restingThresh=x(this.config,"restingThresh",4),C._restingThreshTangent=x(this.config,"restingThreshTangent",6),C._positionDampen=x(this.config,"positionDampen",.9),C._positionWarming=x(this.config,"positionWarming",.8),C._frictionNormalMultiplier=x(this.config,"frictionNormalMultiplier",5),t.sys.events.once(_.BOOT,this.boot,this),t.sys.events.on(_.START,this.start,this)},boot:function(){this.world=new R(this.scene,this.config),this.add=new v(this.world),this.bodyBounds=new a,this.systems.events.once(_.DESTROY,this.destroy,this)},start:function(){this.world||(this.world=new R(this.scene,this.config),this.add=new v(this.world));var t=this.systems.events;t.on(_.UPDATE,this.world.update,this.world),t.on(_.POST_UPDATE,this.world.postUpdate,this.world),t.once(_.SHUTDOWN,this.shutdown,this)},getConfig:function(){var t=this.systems.game.config.physics,e=this.systems.settings.physics;return T(y(e,"matter",{}),y(t,"matter",{}))},pause:function(){return this.world.pause()},resume:function(){return this.world.resume()},set60Hz:function(){return this.world.getDelta=this.world.update60Hz,this.world.autoUpdate=!0,this},set30Hz:function(){return this.world.getDelta=this.world.update30Hz,this.world.autoUpdate=!0,this},step:function(t,e){this.world.step(t,e)},containsPoint:function(t,e,i){t=this.getMatterBodies(t);var s=M.create(e,i);return E.point(t,s).length>0},intersectPoint:function(t,e,i){i=this.getMatterBodies(i);var s=M.create(t,e),n=[];return E.point(i,s).forEach(function(t){-1===n.indexOf(t)&&n.push(t)}),n},intersectRect:function(t,e,i,s,n,r){void 0===n&&(n=!1),r=this.getMatterBodies(r);var o={min:{x:t,y:e},max:{x:t+i,y:e+s}},a=[];return E.region(r,o,n).forEach(function(t){-1===a.indexOf(t)&&a.push(t)}),a},intersectRay:function(t,e,i,s,n,r){void 0===n&&(n=1),r=this.getMatterBodies(r);for(var o=[],a=E.ray(r,M.create(t,e),M.create(i,s),n),h=0;h<a.length;h++)o.push(a[h].body);return o},intersectBody:function(t,e){e=this.getMatterBodies(e);for(var i=[],s=E.collides(t,e),n=0;n<s.length;n++){var r=s[n];r.bodyA===t?i.push(r.bodyB):i.push(r.bodyA)}return i},overlap:function(t,e,i,s,n){void 0===i&&(i=null),void 0===s&&(s=null),void 0===n&&(n=i),Array.isArray(t)||(t=[t]),t=this.getMatterBodies(t),e=this.getMatterBodies(e);for(var r=!1,o=0;o<t.length;o++)for(var a=t[o],h=E.collides(a,e),l=0;l<h.length;l++){var u=h[l],c=u.bodyA.id===a.id?u.bodyB:u.bodyA;if(!s||s.call(n,a,c,u))if(r=!0,i)i.call(n,a,c,u);else if(!s)return!0}return r},setCollisionCategory:function(t,e){return(t=this.getMatterBodies(t)).forEach(function(t){t.collisionFilter.category=e}),this},setCollisionGroup:function(t,e){return(t=this.getMatterBodies(t)).forEach(function(t){t.collisionFilter.group=e}),this},setCollidesWith:function(t,e){t=this.getMatterBodies(t);var i=0;if(Array.isArray(e))for(var s=0;s<e.length;s++)i|=e[s];else i=e;return t.forEach(function(t){t.collisionFilter.mask=i}),this},getMatterBodies:function(t){if(!t)return this.world.getAllBodies();Array.isArray(t)||(t=[t]);for(var e=[],i=0;i<t.length;i++){var s=t[i].hasOwnProperty("body")?t[i].body:t[i];e.push(s)}return e},setVelocity:function(t,e,i){t=this.getMatterBodies(t);var s=this._tempVec2;return s.x=e,s.y=i,t.forEach(function(t){o.setVelocity(t,s)}),this},setVelocityX:function(t,e){t=this.getMatterBodies(t);var i=this._tempVec2;return i.x=e,t.forEach(function(t){i.y=t.velocity.y,o.setVelocity(t,i)}),this},setVelocityY:function(t,e){t=this.getMatterBodies(t);var i=this._tempVec2;return i.y=e,t.forEach(function(t){i.x=t.velocity.x,o.setVelocity(t,i)}),this},setAngularVelocity:function(t,e){return(t=this.getMatterBodies(t)).forEach(function(t){o.setAngularVelocity(t,e)}),this},applyForce:function(t,e){t=this.getMatterBodies(t);var i=this._tempVec2;return t.forEach(function(t){i.x=t.position.x,i.y=t.position.y,o.applyForce(t,i,e)}),this},applyForceFromPosition:function(t,e,i,s){t=this.getMatterBodies(t);var n=this._tempVec2;return t.forEach(function(t){void 0===s&&(s=t.angle),n.x=i*Math.cos(s),n.y=i*Math.sin(s),o.applyForce(t,e,n)}),this},applyForceFromAngle:function(t,e,i){t=this.getMatterBodies(t);var s=this._tempVec2;return t.forEach(function(t){void 0===i&&(i=t.angle),s.x=e*Math.cos(i),s.y=e*Math.sin(i),o.applyForce(t,{x:t.position.x,y:t.position.y},s)}),this},getConstraintLength:function(t){var e=t.pointA.x,i=t.pointA.y,s=t.pointB.x,n=t.pointB.y;return t.bodyA&&(e+=t.bodyA.position.x,i+=t.bodyA.position.y),t.bodyB&&(s+=t.bodyB.position.x,n+=t.bodyB.position.y),m(e,i,s,n)},alignBody:function(t,e,i,n){var r;switch(t=t.hasOwnProperty("body")?t.body:t,n){case s.TOP_LEFT:case s.LEFT_TOP:r=this.bodyBounds.getTopLeft(t,e,i);break;case s.TOP_CENTER:r=this.bodyBounds.getTopCenter(t,e,i);break;case s.TOP_RIGHT:case s.RIGHT_TOP:r=this.bodyBounds.getTopRight(t,e,i);break;case s.LEFT_CENTER:r=this.bodyBounds.getLeftCenter(t,e,i);break;case s.CENTER:r=this.bodyBounds.getCenter(t,e,i);break;case s.RIGHT_CENTER:r=this.bodyBounds.getRightCenter(t,e,i);break;case s.LEFT_BOTTOM:case s.BOTTOM_LEFT:r=this.bodyBounds.getBottomLeft(t,e,i);break;case s.BOTTOM_CENTER:r=this.bodyBounds.getBottomCenter(t,e,i);break;case s.BOTTOM_RIGHT:case s.RIGHT_BOTTOM:r=this.bodyBounds.getBottomRight(t,e,i)}return r&&o.setPosition(t,r),this},shutdown:function(){var t=this.systems.events;this.world&&(t.off(_.UPDATE,this.world.update,this.world),t.off(_.POST_UPDATE,this.world.postUpdate,this.world)),t.off(_.SHUTDOWN,this.shutdown,this),this.add&&this.add.destroy(),this.world&&this.world.destroy(),this.add=null,this.world=null},destroy:function(){this.shutdown(),this.scene.sys.events.off(_.START,this.start,this),this.scene=null,this.systems=null}});S.register("MatterPhysics",I,"matterPhysics"),t.exports=I},34803:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(9674),n=i(83419),r=i(31884),o=i(95643),a=i(95540),h=i(72699),l=i(68287),u=i(26099),c=new n({Extends:l,Mixins:[r.Bounce,r.Collision,r.Force,r.Friction,r.Gravity,r.Mass,r.Sensor,r.SetBody,r.Sleep,r.Static,r.Transform,r.Velocity,h],initialize:function(t,e,i,n,r,h){o.call(this,t.scene,"Sprite"),this._crop=this.resetCropObject(),this.anims=new s(this),this.setTexture(n,r),this.setSizeToFrame(),this.setOrigin(),this.world=t,this._tempVec2=new u(e,i);var l=a(h,"shape",null);l?this.setBody(l,h):this.setRectangle(this.width,this.height,h),this.setPosition(e,i),this.initPipeline(),this.initPostPipeline(!0)}});t.exports=c},73834:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(66280),n=i(22562),r=i(83419),o=i(31884),a=i(62644),h=i(50792),l=i(95540),u=i(97022),c=i(41598),d=new r({Extends:h,Mixins:[o.Bounce,o.Collision,o.Friction,o.Gravity,o.Mass,o.Sensor,o.Sleep,o.Static],initialize:function(t,e,i){h.call(this),this.tile=e,this.world=t,e.physics.matterBody&&e.physics.matterBody.destroy(),e.physics.matterBody=this;var s=l(i,"body",null),r=l(i,"addToWorld",!0);if(s)this.setBody(s,r);else{var o=e.getCollisionGroup();l(o,"objects",[]).length>0?this.setFromTileCollision(i):this.setFromTileRectangle(i)}if(e.flipX||e.flipY){var a={x:e.getCenterX(),y:e.getCenterY()},u=e.flipX?-1:1,c=e.flipY?-1:1;n.scale(s,u,c,a)}},setFromTileRectangle:function(t){void 0===t&&(t={}),u(t,"isStatic")||(t.isStatic=!0),u(t,"addToWorld")||(t.addToWorld=!0);var e=this.tile.getBounds(),i=e.x+e.width/2,n=e.y+e.height/2,r=s.rectangle(i,n,e.width,e.height,t);return this.setBody(r,t.addToWorld),this},setFromTileCollision:function(t){void 0===t&&(t={}),u(t,"isStatic")||(t.isStatic=!0),u(t,"addToWorld")||(t.addToWorld=!0);for(var e=this.tile.tilemapLayer.scaleX,i=this.tile.tilemapLayer.scaleY,r=this.tile.getLeft(),o=this.tile.getTop(),h=this.tile.getCollisionGroup(),d=l(h,"objects",[]),f=[],p=0;p<d.length;p++){var g=d[p],m=r+g.x*e,v=o+g.y*i,y=g.width*e,x=g.height*i,T=null;if(g.rectangle)T=s.rectangle(m+y/2,v+x/2,y,x,t);else if(g.ellipse)T=s.circle(m+y/2,v+x/2,y/2,t);else if(g.polygon||g.polyline){var w=(g.polygon?g.polygon:g.polyline).map(function(t){return{x:t.x*e,y:t.y*i}}),b=c.create(w),S=c.centre(b);m+=S.x,v+=S.y,T=s.fromVertices(m,v,b,t)}T&&f.push(T)}if(1===f.length)this.setBody(f[0],t.addToWorld);else if(f.length>1){var E=a(t);E.parts=f,this.setBody(n.create(E),E.addToWorld)}return this},setBody:function(t,e){return void 0===e&&(e=!0),this.body&&this.removeBody(),this.body=t,this.body.gameObject=this,e&&this.world.add(this.body),this},removeBody:function(){return this.body&&(this.world.remove(this.body),this.body.gameObject=void 0,this.body=void 0),this},destroy:function(){this.removeBody(),this.tile.physics.matterBody=void 0,this.removeAllListeners()}});t.exports=d},19496:(t,e,i)=>{
/**
                     * @author       Joachim Grill <joachim@codeandweb.com>
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2018 CodeAndWeb GmbH
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(66280),n=i(22562),r=i(53402),o=i(95540),a=i(41598),h={parseBody:function(t,e,i,s){void 0===s&&(s={});for(var a=o(i,"fixtures",[]),h=[],l=0;l<a.length;l++)for(var u=this.parseFixture(a[l]),c=0;c<u.length;c++)h.push(u[c]);var d=r.clone(i,!0);r.extend(d,s,!0),delete d.fixtures,delete d.type;var f=n.create(d);return n.setParts(f,h),n.setPosition(f,{x:t,y:e}),f},parseFixture:function(t){var e,i=r.extend({},!1,t);if(delete i.circle,delete i.vertices,t.circle){var n=o(t.circle,"x"),a=o(t.circle,"y"),h=o(t.circle,"radius");e=[s.circle(n,a,h,i)]}else t.vertices&&(e=this.parseVertices(t.vertices,i));return e},parseVertices:function(t,e){void 0===e&&(e={});for(var i=[],o=0;o<t.length;o++)a.clockwiseSort(t[o]),i.push(n.create(r.extend({position:a.centre(t[o]),vertices:t[o]},e)));return s.flagCoincidentParts(i)}};t.exports=h},85791:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(66280),n=i(22562),r={parseBody:function(t,e,i,r){var o;void 0===r&&(r={});var a=i.vertices;if(1===a.length)r.vertices=a[0],o=n.create(r),s.flagCoincidentParts(o.parts);else{for(var h=[],l=0;l<a.length;l++){var u=n.create({vertices:a[l]});h.push(u)}s.flagCoincidentParts(h),r.parts=h,o=n.create(r)}return o.label=i.label,n.setPosition(o,{x:t,y:e}),o}};t.exports=r},98713:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(15647),n=i(83419),r=i(69351),o=i(48140),a=i(81388),h=i(1121),l=i(8214),u=i(46975),c=i(53614),d=i(26099),f=i(41598),p=new n({initialize:function(t,e,i){void 0===i&&(i={}),this.scene=t,this.world=e,this.camera=null,this.pointer=null,this.active=!0,this.position=new d,this.body=null,this.part=null,this.constraint=o.create(u(i,{label:"Pointer Constraint",pointA:{x:0,y:0},pointB:{x:0,y:0},length:.01,stiffness:.1,angularStiffness:1,collisionFilter:{category:1,mask:4294967295,group:0}})),this.world.on(h.BEFORE_UPDATE,this.update,this),t.sys.input.on(l.POINTER_DOWN,this.onDown,this),t.sys.input.on(l.POINTER_UP,this.onUp,this)},onDown:function(t){this.pointer||(this.pointer=t,this.camera=t.camera)},onUp:function(t){t===this.pointer&&(this.pointer=null)},getBody:function(t){var e=this.position,i=this.constraint;this.camera.getWorldPoint(t.x,t.y,e);for(var n=r.allBodies(this.world.localWorld),o=0;o<n.length;o++){var l=n[o];if(!l.ignorePointer&&s.contains(l.bounds,e)&&a.canCollide(l.collisionFilter,i.collisionFilter)&&this.hitTestBody(l,e))return this.world.emit(h.DRAG_START,l,this.part,this),!0}return!1},hitTestBody:function(t,e){for(var i=this.constraint,s=t.parts.length,n=s>1?1:0;n<s;n++){var r=t.parts[n];if(f.contains(r.vertices,e))return i.pointA=e,i.pointB={x:e.x-t.position.x,y:e.y-t.position.y},i.bodyB=t,i.angleB=t.angle,c.set(t,!1),this.part=r,this.body=t,!0}return!1},update:function(){var t=this.pointer,e=this.body;if(this.active&&t)if(t.isDown||!e){if(t.isDown){if(!this.camera||!e&&!this.getBody(t))return;e=this.body;var i=this.position,s=this.constraint;this.camera.getWorldPoint(t.x,t.y,i),s.pointA.x=i.x,s.pointA.y=i.y,c.set(e,!1),this.world.emit(h.DRAG,e,this)}}else this.stopDrag();else e&&this.stopDrag()},stopDrag:function(){var t=this.body,e=this.constraint;e.bodyB=null,e.pointB=null,this.pointer=null,this.body=null,this.part=null,t&&this.world.emit(h.DRAG_END,t,this)},destroy:function(){this.world.removeConstraint(this.constraint),this.pointer=null,this.constraint=null,this.body=null,this.part=null,this.world.off(h.BEFORE_UPDATE,this.update),this.scene.sys.input.off(l.POINTER_DOWN,this.onDown,this),this.scene.sys.input.off(l.POINTER_UP,this.onUp,this)}});t.exports=p},68243:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(66280),n=i(22562),r=i(83419),o=i(53402),a=i(69351),h=i(48413),l=i(50792),u=i(1121),c=i(95540),d=i(35154),f=i(22562),p=i(35810),g=i(73834),m=i(4372),v=i(13037),y=i(31725),x=new r({Extends:l,initialize:function(t,e){l.call(this),this.scene=t,this.engine=h.create(e),this.localWorld=this.engine.world;var i=d(e,"gravity",null);i?this.setGravity(i.x,i.y,i.scale):!1===i&&this.setGravity(0,0,0),this.walls={left:null,right:null,top:null,bottom:null},this.enabled=d(e,"enabled",!0),this.getDelta=d(e,"getDelta",this.update60Hz);var s=c(e,"runner",{});c(s,"fps",!1)&&(s.delta=1e3/c(s,"fps",60)),this.runner=v.create(s),this.autoUpdate=d(e,"autoUpdate",!0);var n=d(e,"debug",!1);if(this.drawDebug="object"==typeof n||n,this.debugGraphic,this.debugConfig={showAxes:c(n,"showAxes",!1),showAngleIndicator:c(n,"showAngleIndicator",!1),angleColor:c(n,"angleColor",15208787),showBroadphase:c(n,"showBroadphase",!1),broadphaseColor:c(n,"broadphaseColor",16757760),showBounds:c(n,"showBounds",!1),boundsColor:c(n,"boundsColor",16777215),showVelocity:c(n,"showVelocity",!1),velocityColor:c(n,"velocityColor",44783),showCollisions:c(n,"showCollisions",!1),collisionColor:c(n,"collisionColor",16094476),showSeparations:c(n,"showSeparations",!1),separationColor:c(n,"separationColor",16753920),showBody:c(n,"showBody",!0),showStaticBody:c(n,"showStaticBody",!0),showInternalEdges:c(n,"showInternalEdges",!1),renderFill:c(n,"renderFill",!1),renderLine:c(n,"renderLine",!0),fillColor:c(n,"fillColor",1075465),fillOpacity:c(n,"fillOpacity",1),lineColor:c(n,"lineColor",2678297),lineOpacity:c(n,"lineOpacity",1),lineThickness:c(n,"lineThickness",1),staticFillColor:c(n,"staticFillColor",857979),staticLineColor:c(n,"staticLineColor",1255396),showSleeping:c(n,"showSleeping",!1),staticBodySleepOpacity:c(n,"staticBodySleepOpacity",.7),sleepFillColor:c(n,"sleepFillColor",4605510),sleepLineColor:c(n,"sleepLineColor",10066585),showSensors:c(n,"showSensors",!0),sensorFillColor:c(n,"sensorFillColor",857979),sensorLineColor:c(n,"sensorLineColor",1255396),showPositions:c(n,"showPositions",!0),positionSize:c(n,"positionSize",4),positionColor:c(n,"positionColor",14697178),showJoint:c(n,"showJoint",!0),jointColor:c(n,"jointColor",14737474),jointLineOpacity:c(n,"jointLineOpacity",1),jointLineThickness:c(n,"jointLineThickness",2),pinSize:c(n,"pinSize",4),pinColor:c(n,"pinColor",4382944),springColor:c(n,"springColor",14697184),anchorColor:c(n,"anchorColor",15724527),anchorSize:c(n,"anchorSize",4),showConvexHulls:c(n,"showConvexHulls",!1),hullColor:c(n,"hullColor",14091216)},this.drawDebug&&this.createDebugGraphic(),this.setEventsProxy(),c(e,"setBounds",!1)){var r=e.setBounds;if("boolean"==typeof r)this.setBounds();else{var o=c(r,"x",0),a=c(r,"y",0),u=c(r,"width",t.sys.scale.width),f=c(r,"height",t.sys.scale.height),p=c(r,"thickness",64),g=c(r,"left",!0),m=c(r,"right",!0),y=c(r,"top",!0),x=c(r,"bottom",!0);this.setBounds(o,a,u,f,p,g,m,y,x)}}},setCompositeRenderStyle:function(t){var e,i,s,n=t.bodies,r=t.constraints,o=t.composites;for(e=0;e<n.length;e++)s=(i=n[e]).render,this.setBodyRenderStyle(i,s.lineColor,s.lineOpacity,s.lineThickness,s.fillColor,s.fillOpacity);for(e=0;e<r.length;e++)s=(i=r[e]).render,this.setConstraintRenderStyle(i,s.lineColor,s.lineOpacity,s.lineThickness,s.pinSize,s.anchorColor,s.anchorSize);for(e=0;e<o.length;e++)i=o[e],this.setCompositeRenderStyle(i);return this},setBodyRenderStyle:function(t,e,i,s,n,r){var o=t.render,a=this.debugConfig;return o?(null==e&&(e=t.isStatic?a.staticLineColor:a.lineColor),null==i&&(i=a.lineOpacity),null==s&&(s=a.lineThickness),null==n&&(n=t.isStatic?a.staticFillColor:a.fillColor),null==r&&(r=a.fillOpacity),!1!==e&&(o.lineColor=e),!1!==i&&(o.lineOpacity=i),!1!==s&&(o.lineThickness=s),!1!==n&&(o.fillColor=n),!1!==r&&(o.fillOpacity=r),this):this},setConstraintRenderStyle:function(t,e,i,s,n,r,o){var a=t.render,h=this.debugConfig;if(!a)return this;if(null==e){var l=a.type;"line"===l?e=h.jointColor:"pin"===l?e=h.pinColor:"spring"===l&&(e=h.springColor)}return null==i&&(i=h.jointLineOpacity),null==s&&(s=h.jointLineThickness),null==n&&(n=h.pinSize),null==r&&(r=h.anchorColor),null==o&&(o=h.anchorSize),!1!==e&&(a.lineColor=e),!1!==i&&(a.lineOpacity=i),!1!==s&&(a.lineThickness=s),!1!==n&&(a.pinSize=n),!1!==r&&(a.anchorColor=r),!1!==o&&(a.anchorSize=o),this},setEventsProxy:function(){var t=this,e=this.engine,i=this.localWorld;this.drawDebug&&(p.on(i,"compositeModified",function(e){t.setCompositeRenderStyle(e)}),p.on(i,"beforeAdd",function(e){for(var i=[].concat(e.object),s=0;s<i.length;s++){var n=i[s],r=n.render;"body"===n.type?t.setBodyRenderStyle(n,r.lineColor,r.lineOpacity,r.lineThickness,r.fillColor,r.fillOpacity):"composite"===n.type?t.setCompositeRenderStyle(n):"constraint"===n.type&&t.setConstraintRenderStyle(n,r.lineColor,r.lineOpacity,r.lineThickness,r.pinSize,r.anchorColor,r.anchorSize)}})),p.on(i,"beforeAdd",function(e){t.emit(u.BEFORE_ADD,e)}),p.on(i,"afterAdd",function(e){t.emit(u.AFTER_ADD,e)}),p.on(i,"beforeRemove",function(e){t.emit(u.BEFORE_REMOVE,e)}),p.on(i,"afterRemove",function(e){t.emit(u.AFTER_REMOVE,e)}),p.on(e,"beforeUpdate",function(e){t.emit(u.BEFORE_UPDATE,e)}),p.on(e,"afterUpdate",function(e){t.emit(u.AFTER_UPDATE,e)}),p.on(e,"collisionStart",function(e){var i,s,n=e.pairs;n.length>0&&n.map(function(t){i=t.bodyA,s=t.bodyB,i.gameObject&&i.gameObject.emit("collide",i,s,t),s.gameObject&&s.gameObject.emit("collide",s,i,t),p.trigger(i,"onCollide",{pair:t}),p.trigger(s,"onCollide",{pair:t}),i.onCollideCallback&&i.onCollideCallback(t),s.onCollideCallback&&s.onCollideCallback(t),i.onCollideWith[s.id]&&i.onCollideWith[s.id](s,t),s.onCollideWith[i.id]&&s.onCollideWith[i.id](i,t)}),t.emit(u.COLLISION_START,e,i,s)}),p.on(e,"collisionActive",function(e){var i,s,n=e.pairs;n.length>0&&n.map(function(t){i=t.bodyA,s=t.bodyB,i.gameObject&&i.gameObject.emit("collideActive",i,s,t),s.gameObject&&s.gameObject.emit("collideActive",s,i,t),p.trigger(i,"onCollideActive",{pair:t}),p.trigger(s,"onCollideActive",{pair:t}),i.onCollideActiveCallback&&i.onCollideActiveCallback(t),s.onCollideActiveCallback&&s.onCollideActiveCallback(t)}),t.emit(u.COLLISION_ACTIVE,e,i,s)}),p.on(e,"collisionEnd",function(e){var i,s,n=e.pairs;n.length>0&&n.map(function(t){i=t.bodyA,s=t.bodyB,i.gameObject&&i.gameObject.emit("collideEnd",i,s,t),s.gameObject&&s.gameObject.emit("collideEnd",s,i,t),p.trigger(i,"onCollideEnd",{pair:t}),p.trigger(s,"onCollideEnd",{pair:t}),i.onCollideEndCallback&&i.onCollideEndCallback(t),s.onCollideEndCallback&&s.onCollideEndCallback(t)}),t.emit(u.COLLISION_END,e,i,s)})},setBounds:function(t,e,i,s,n,r,o,a,h){return void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=this.scene.sys.scale.width),void 0===s&&(s=this.scene.sys.scale.height),void 0===n&&(n=64),void 0===r&&(r=!0),void 0===o&&(o=!0),void 0===a&&(a=!0),void 0===h&&(h=!0),this.updateWall(r,"left",t-n,e-n,n,s+2*n),this.updateWall(o,"right",t+i,e-n,n,s+2*n),this.updateWall(a,"top",t,e-n,i,n),this.updateWall(h,"bottom",t,e+s,i,n),this},updateWall:function(t,e,i,s,n,r){var o=this.walls[e];t?(o&&m.remove(this.localWorld,o),i+=n/2,s+=r/2,this.walls[e]=this.create(i,s,n,r,{isStatic:!0,friction:0,frictionStatic:0})):(o&&m.remove(this.localWorld,o),this.walls[e]=null)},createDebugGraphic:function(){var t=this.scene.sys.add.graphics({x:0,y:0});return t.setDepth(Number.MAX_VALUE),this.debugGraphic=t,this.drawDebug=!0,t},disableGravity:function(){return this.localWorld.gravity.x=0,this.localWorld.gravity.y=0,this.localWorld.gravity.scale=0,this},setGravity:function(t,e,i){return void 0===t&&(t=0),void 0===e&&(e=1),void 0===i&&(i=.001),this.localWorld.gravity.x=t,this.localWorld.gravity.y=e,this.localWorld.gravity.scale=i,this},create:function(t,e,i,n,r){var o=s.rectangle(t,e,i,n,r);return m.add(this.localWorld,o),o},add:function(t){return m.add(this.localWorld,t),this},remove:function(t,e){Array.isArray(t)||(t=[t]);for(var i=0;i<t.length;i++){var s=t[i],n=s.body?s.body:s;a.remove(this.localWorld,n,e)}return this},removeConstraint:function(t,e){return a.remove(this.localWorld,t,e),this},convertTilemapLayer:function(t,e){var i=t.layer,s=t.getTilesWithin(0,0,i.width,i.height,{isColliding:!0});return this.convertTiles(s,e),this},convertTiles:function(t,e){if(0===t.length)return this;for(var i=0;i<t.length;i++)new g(this,t[i],e);return this},nextGroup:function(t){return f.nextGroup(t)},nextCategory:function(){return f.nextCategory()},pause:function(){return this.enabled=!1,this.emit(u.PAUSE),this},resume:function(){return this.enabled=!0,this.runner.timeLastTick=o.now(),this.emit(u.RESUME),this},update:function(t){if(this.enabled&&this.autoUpdate){var e=this.engine,i=this.runner,s=o.now(),n=i.delta,r=0,a=t-i.timeLastTick;if((!a||!i.timeLastTick||a>Math.max(v._maxFrameDelta,i.maxFrameTime))&&(a=i.frameDelta||v._frameDeltaFallback),i.frameDeltaSmoothing){i.frameDeltaHistory.push(a),i.frameDeltaHistory=i.frameDeltaHistory.slice(-i.frameDeltaHistorySize);var l=i.frameDeltaHistory.slice(0).sort(),u=i.frameDeltaHistory.slice(l.length*v._smoothingLowerBound,l.length*v._smoothingUpperBound);a=v._mean(u)||a}i.frameDeltaSnapping&&(a=1e3/Math.round(1e3/a)),i.frameDelta=a,i.timeLastTick=t,i.timeBuffer+=i.frameDelta,i.timeBuffer=o.clamp(i.timeBuffer,0,i.frameDelta+n*v._timeBufferMargin),i.lastUpdatesDeferred=0;for(var c=i.maxUpdates||Math.ceil(i.maxFrameTime/n),d=o.now();n>0&&i.timeBuffer>=n*v._timeBufferMargin;){h.update(e,n),i.timeBuffer-=n,r+=1;var f=o.now()-s,p=o.now()-d,g=f+v._elapsedNextEstimate*p/r;if(r>=c||g>i.maxFrameTime){i.lastUpdatesDeferred=Math.round(Math.max(0,i.timeBuffer/n-v._timeBufferMargin));break}}}},step:function(t){h.update(this.engine,t)},update60Hz:function(){return 1e3/60},update30Hz:function(){return 1e3/30},has:function(t){var e=t.hasOwnProperty("body")?t.body:t;return null!==a.get(this.localWorld,e.id,e.type)},getAllBodies:function(){return a.allBodies(this.localWorld)},getAllConstraints:function(){return a.allConstraints(this.localWorld)},getAllComposites:function(){return a.allComposites(this.localWorld)},postUpdate:function(){if(this.drawDebug){var t=this.debugConfig,e=this.engine,i=this.debugGraphic,s=a.allBodies(this.localWorld);this.debugGraphic.clear(),t.showBroadphase&&e.broadphase.controller&&this.renderGrid(e.broadphase,i,t.broadphaseColor,.5),t.showBounds&&this.renderBodyBounds(s,i,t.boundsColor,.5),(t.showBody||t.showStaticBody)&&this.renderBodies(s),t.showJoint&&this.renderJoints(),(t.showAxes||t.showAngleIndicator)&&this.renderBodyAxes(s,i,t.showAxes,t.angleColor,.5),t.showVelocity&&this.renderBodyVelocity(s,i,t.velocityColor,1,2),t.showSeparations&&this.renderSeparations(e.pairs.list,i,t.separationColor),t.showCollisions&&this.renderCollisions(e.pairs.list,i,t.collisionColor)}},renderGrid:function(t,e,i,s){e.lineStyle(1,i,s);for(var n=o.keys(t.buckets),r=0;r<n.length;r++){var a=n[r];if(!(t.buckets[a].length<2)){var h=a.split(/C|R/);e.strokeRect(parseInt(h[1],10)*t.bucketWidth,parseInt(h[2],10)*t.bucketHeight,t.bucketWidth,t.bucketHeight)}}return this},renderSeparations:function(t,e,i){e.lineStyle(1,i,1);for(var s=0;s<t.length;s++){var n=t[s];if(n.isActive){var r=n.collision,o=r.bodyA,a=r.bodyB,h=o.position,l=a.position,u=r.penetration,c=o.isStatic||a.isStatic?1:4;a.isStatic&&(c=0),e.lineBetween(l.x,l.y,l.x-u.x*c,l.y-u.y*c),c=o.isStatic||a.isStatic?1:4,o.isStatic&&(c=0),e.lineBetween(h.x,h.y,h.x-u.x*c,h.y-u.y*c)}}return this},renderCollisions:function(t,e,i){var s,n;for(e.lineStyle(1,i,.5),e.fillStyle(i,1),s=0;s<t.length;s++)if((n=t[s]).isActive)for(var r=0;r<n.contactCount;r++){var o=n.contacts[r].vertex;o&&e.fillRect(o.x-2,o.y-2,5,5)}for(s=0;s<t.length;s++)if((n=t[s]).isActive){var a=n.collision,h=n.contacts;if(n.contactCount>0){var l=h[0].vertex.x,u=h[0].vertex.y;2===n.contactCount&&(l=(h[0].vertex.x+h[1].vertex.x)/2,u=(h[0].vertex.y+h[1].vertex.y)/2),a.bodyB===a.supports[0].body||a.bodyA.isStatic?e.lineBetween(l-8*a.normal.x,u-8*a.normal.y,l,u):e.lineBetween(l+8*a.normal.x,u+8*a.normal.y,l,u)}}return this},renderBodyBounds:function(t,e,i,s){e.lineStyle(1,i,s);for(var n=0;n<t.length;n++){var r=t[n];if(r.render.visible){var o=r.bounds;if(o)e.strokeRect(o.min.x,o.min.y,o.max.x-o.min.x,o.max.y-o.min.y);else for(var a=r.parts,h=a.length>1?1:0;h<a.length;h++){var l=a[h];e.strokeRect(l.bounds.min.x,l.bounds.min.y,l.bounds.max.x-l.bounds.min.x,l.bounds.max.y-l.bounds.min.y)}}}return this},renderBodyAxes:function(t,e,i,s,n){e.lineStyle(1,s,n);for(var r=0;r<t.length;r++){var o,a,h,l=t[r],u=l.parts;if(l.render.visible)if(i)for(a=u.length>1?1:0;a<u.length;a++)for(o=u[a],h=0;h<o.axes.length;h++){var c=o.axes[h];e.lineBetween(o.position.x,o.position.y,o.position.x+20*c.x,o.position.y+20*c.y)}else for(a=u.length>1?1:0;a<u.length;a++)for(o=u[a],h=0;h<o.axes.length;h++)e.lineBetween(o.position.x,o.position.y,(o.vertices[0].x+o.vertices[o.vertices.length-1].x)/2,(o.vertices[0].y+o.vertices[o.vertices.length-1].y)/2)}return this},renderBodyVelocity:function(t,e,i,s,n){e.lineStyle(n,i,s);for(var r=0;r<t.length;r++){var o=t[r];o.render.visible&&e.lineBetween(o.position.x,o.position.y,o.position.x+2*(o.position.x-o.positionPrev.x),o.position.y+2*(o.position.y-o.positionPrev.y))}return this},renderBodies:function(t){for(var e=this.debugGraphic,i=this.debugConfig,s=i.showBody,n=i.showStaticBody,r=i.showSleeping,o=i.showInternalEdges,a=i.showConvexHulls,h=i.renderFill,l=i.renderLine,u=i.staticBodySleepOpacity,c=i.sleepFillColor,d=i.sleepLineColor,f=i.hullColor,p=0;p<t.length;p++){var g=t[p];if(g.render.visible&&(n||!g.isStatic)&&(s||g.isStatic)){var m=g.render.lineColor,v=g.render.lineOpacity,y=g.render.lineThickness,x=g.render.fillColor,T=g.render.fillOpacity;r&&g.isSleeping&&(g.isStatic?(v*=u,T*=u):(m=d,x=c)),h||(x=null),l||(m=null),this.renderBody(g,e,o,m,v,y,x,T);var w=g.parts.length;a&&w>1&&this.renderConvexHull(g,e,f,y)}}},renderBody:function(t,e,i,s,n,r,o,a){void 0===s&&(s=null),void 0===n&&(n=null),void 0===r&&(r=1),void 0===o&&(o=null),void 0===a&&(a=null);for(var h=this.debugConfig,l=h.sensorFillColor,u=h.sensorLineColor,c=t.parts,d=c.length,f=d>1?1:0;f<d;f++){var p=c[f],g=p.render,m=g.opacity;if(g.visible&&0!==m&&(!p.isSensor||h.showSensors)){var v=p.circleRadius;if(e.beginPath(),p.isSensor?(null!==o&&e.fillStyle(l,a*m),null!==s&&e.lineStyle(r,u,n*m)):(null!==o&&e.fillStyle(o,a*m),null!==s&&e.lineStyle(r,s,n*m)),v)e.arc(p.position.x,p.position.y,v,0,2*Math.PI);else{var y=p.vertices,x=y.length;e.moveTo(y[0].x,y[0].y);for(var T=1;T<x;T++){var w=y[T];if(!y[T-1].isInternal||i?e.lineTo(w.x,w.y):e.moveTo(w.x,w.y),T<x&&w.isInternal&&!i){var b=(T+1)%x;e.moveTo(y[b].x,y[b].y)}}e.closePath()}null!==o&&e.fillPath(),null!==s&&e.strokePath()}}if(h.showPositions&&!t.isStatic){var S=t.position.x,E=t.position.y,C=Math.ceil(h.positionSize/2);e.fillStyle(h.positionColor,1),e.fillRect(S-C,E-C,h.positionSize,h.positionSize)}return this},renderConvexHull:function(t,e,i,s){if(void 0===s&&(s=1),t.parts.length>1){var n=t.vertices;e.lineStyle(s,i),e.beginPath(),e.moveTo(n[0].x,n[0].y);for(var r=1;r<n.length;r++)e.lineTo(n[r].x,n[r].y);e.lineTo(n[0].x,n[0].y),e.strokePath()}return this},renderJoints:function(){for(var t=this.debugGraphic,e=a.allConstraints(this.localWorld),i=0;i<e.length;i++){var s=e[i].render,n=s.lineColor,r=s.lineOpacity,o=s.lineThickness,h=s.pinSize,l=s.anchorColor,u=s.anchorSize;this.renderConstraint(e[i],t,n,r,o,h,l,u)}},renderConstraint:function(t,e,i,s,n,r,a,h){var l=t.render;if(!l.visible||!t.pointA||!t.pointB)return this;e.lineStyle(n,i,s);var u,c,d=t.bodyA,f=t.bodyB;if(u=d?y.add(d.position,t.pointA):t.pointA,"pin"===l.type)e.strokeCircle(u.x,u.y,r);else{if(c=f?y.add(f.position,t.pointB):t.pointB,e.beginPath(),e.moveTo(u.x,u.y),"spring"===l.type)for(var p,g=y.sub(c,u),m=y.perp(y.normalise(g)),v=Math.ceil(o.clamp(t.length/5,12,20)),x=1;x<v;x+=1)p=x%2==0?1:-1,e.lineTo(u.x+g.x*(x/v)+m.x*p*4,u.y+g.y*(x/v)+m.y*p*4);e.lineTo(c.x,c.y)}return e.strokePath(),l.anchors&&h>0&&(e.fillStyle(a),e.fillCircle(u.x,u.y,h),e.fillCircle(c.x,c.y,h)),this},resetCollisionIDs:function(){return n._nextCollidingGroupId=1,n._nextNonCollidingGroupId=-1,n._nextCategory=1,this},shutdown:function(){p.off(this.engine),this.removeAllListeners(),m.clear(this.localWorld,!1),h.clear(this.engine),this.drawDebug&&this.debugGraphic.destroy()},destroy:function(){this.shutdown()}});t.exports=x},70410:t=>{t.exports={setBounce:function(t){return this.body.restitution=t,this}}},66968:t=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var e={setCollisionCategory:function(t){return this.body.collisionFilter.category=t,this},setCollisionGroup:function(t){return this.body.collisionFilter.group=t,this},setCollidesWith:function(t){var e=0;if(Array.isArray(t))for(var i=0;i<t.length;i++)e|=t[i];else e=t;return this.body.collisionFilter.mask=e,this},setOnCollide:function(t){return this.body.onCollideCallback=t,this},setOnCollideEnd:function(t){return this.body.onCollideEndCallback=t,this},setOnCollideActive:function(t){return this.body.onCollideActiveCallback=t,this},setOnCollideWith:function(t,e){Array.isArray(t)||(t=[t]);for(var i=0;i<t.length;i++){var s=t[i].hasOwnProperty("body")?t[i].body:t[i];this.body.setOnCollideWith(s,e)}return this}};t.exports=e},51607:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(22562),n={applyForce:function(t){return this._tempVec2.set(this.body.position.x,this.body.position.y),s.applyForce(this.body,this._tempVec2,t),this},applyForceFrom:function(t,e){return s.applyForce(this.body,t,e),this},thrust:function(t){var e=this.body.angle;return this._tempVec2.set(t*Math.cos(e),t*Math.sin(e)),s.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},thrustLeft:function(t){var e=this.body.angle-Math.PI/2;return this._tempVec2.set(t*Math.cos(e),t*Math.sin(e)),s.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},thrustRight:function(t){var e=this.body.angle+Math.PI/2;return this._tempVec2.set(t*Math.cos(e),t*Math.sin(e)),s.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},thrustBack:function(t){var e=this.body.angle-Math.PI;return this._tempVec2.set(t*Math.cos(e),t*Math.sin(e)),s.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this}};t.exports=n},5436:t=>{t.exports={setFriction:function(t,e,i){return this.body.friction=t,void 0!==e&&(this.body.frictionAir=e),void 0!==i&&(this.body.frictionStatic=i),this},setFrictionAir:function(t){return this.body.frictionAir=t,this},setFrictionStatic:function(t){return this.body.frictionStatic=t,this}}},39858:t=>{t.exports={setIgnoreGravity:function(t){return this.body.ignoreGravity=t,this}}},37302:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(22562),n=i(26099),r={setMass:function(t){return s.setMass(this.body,t),this},setDensity:function(t){return s.setDensity(this.body,t),this},centerOfMass:{get:function(){return new n(this.body.centerOfMass.x,this.body.centerOfMass.y)}}};t.exports=r},39132:t=>{t.exports={setSensor:function(t){return this.body.isSensor=t,this},isSensor:function(){return this.body.isSensor}}},57772:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(66280),n=i(22562),r=i(43855),o=i(95540),a=i(19496),h=i(85791),l=i(41598),u={setRectangle:function(t,e,i){return this.setBody({type:"rectangle",width:t,height:e},i)},setCircle:function(t,e){return this.setBody({type:"circle",radius:t},e)},setPolygon:function(t,e,i){return this.setBody({type:"polygon",sides:e,radius:t},i)},setTrapezoid:function(t,e,i,s){return this.setBody({type:"trapezoid",width:t,height:e,slope:i},s)},setExistingBody:function(t,e){void 0===e&&(e=!0),this.body&&this.world.remove(this.body,!0),this.body=t;for(var i=0;i<t.parts.length;i++)t.parts[i].gameObject=this;var s=this;if(t.destroy=function(){s.world.remove(s.body,!0),s.body.gameObject=null},e&&(this.world.has(t)&&this.world.remove(t,!0),this.world.add(t)),this._originComponent){var n=t.render.sprite.xOffset,o=t.render.sprite.yOffset,a=t.centerOfMass.x,h=t.centerOfMass.y;if(r(a,.5)&&r(h,.5))this.setOrigin(n+.5,o+.5);else{var l=t.centerOffset.x,u=t.centerOffset.y;this.setOrigin(n+l/this.displayWidth,o+u/this.displayHeight)}}return this},setBody:function(t,e){if(!t)return this;var i;"string"==typeof t&&(t={type:t});var r=o(t,"type","rectangle"),u=o(t,"x",this._tempVec2.x),c=o(t,"y",this._tempVec2.y),d=o(t,"width",this.width),f=o(t,"height",this.height);switch(r){case"rectangle":i=s.rectangle(u,c,d,f,e);break;case"circle":var p=o(t,"radius",Math.max(d,f)/2),g=o(t,"maxSides",25);i=s.circle(u,c,p,e,g);break;case"trapezoid":var m=o(t,"slope",.5);i=s.trapezoid(u,c,d,f,m,e);break;case"polygon":var v=o(t,"sides",5),y=o(t,"radius",Math.max(d,f)/2);i=s.polygon(u,c,v,y,e);break;case"fromVertices":case"fromVerts":var x=o(t,"verts",null);if(x)if("string"==typeof x&&(x=l.fromPath(x)),this.body&&!this.body.hasOwnProperty("temp"))n.setVertices(this.body,x),i=this.body;else{var T=o(t,"flagInternal",!1),w=o(t,"removeCollinear",.01),b=o(t,"minimumArea",10);i=s.fromVertices(u,c,x,e,T,w,b)}break;case"fromPhysicsEditor":i=a.parseBody(u,c,t,e);break;case"fromPhysicsTracer":i=h.parseBody(u,c,t,e)}return i&&this.setExistingBody(i,t.addToWorld),this}};t.exports=u},38083:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(1121),n=i(53614),r=i(35810),o={setToSleep:function(){return n.set(this.body,!0),this},setAwake:function(){return n.set(this.body,!1),this},setSleepThreshold:function(t){return void 0===t&&(t=60),this.body.sleepThreshold=t,this},setSleepEvents:function(t,e){return this.setSleepStartEvent(t),this.setSleepEndEvent(e),this},setSleepStartEvent:function(t){if(t){var e=this.world;r.on(this.body,"sleepStart",function(t){e.emit(s.SLEEP_START,t,this)})}else r.off(this.body,"sleepStart");return this},setSleepEndEvent:function(t){if(t){var e=this.world;r.on(this.body,"sleepEnd",function(t){e.emit(s.SLEEP_END,t,this)})}else r.off(this.body,"sleepEnd");return this}};t.exports=o},90556:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(22562),n={setStatic:function(t){return s.setStatic(this.body,t),this},isStatic:function(){return this.body.isStatic}};t.exports=n},85436:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(22562),n=i(36383),r=i(86554),o=i(30954),a={x:{get:function(){return this.body.position.x},set:function(t){this._tempVec2.set(t,this.y),s.setPosition(this.body,this._tempVec2)}},y:{get:function(){return this.body.position.y},set:function(t){this._tempVec2.set(this.x,t),s.setPosition(this.body,this._tempVec2)}},scale:{get:function(){return(this._scaleX+this._scaleY)/2},set:function(t){this.setScale(t,t)}},scaleX:{get:function(){return this._scaleX},set:function(t){var e=1/this._scaleX,i=1/this._scaleY;this._scaleX=t,0===this._scaleX?this.renderFlags&=-5:this.renderFlags|=4,s.scale(this.body,e,i),s.scale(this.body,t,this._scaleY)}},scaleY:{get:function(){return this._scaleY},set:function(t){var e=1/this._scaleX,i=1/this._scaleY;this._scaleY=t,0===this._scaleY?this.renderFlags&=-5:this.renderFlags|=4,s.scale(this.body,e,i),s.scale(this.body,this._scaleX,t)}},angle:{get:function(){return o(this.body.angle*n.RAD_TO_DEG)},set:function(t){this.rotation=o(t)*n.DEG_TO_RAD}},rotation:{get:function(){return this.body.angle},set:function(t){this._rotation=r(t),s.setAngle(this.body,this._rotation)}},setPosition:function(t,e){return void 0===t&&(t=0),void 0===e&&(e=t),this._tempVec2.set(t,e),s.setPosition(this.body,this._tempVec2),this},setRotation:function(t){return void 0===t&&(t=0),this._rotation=r(t),s.setAngle(this.body,t),this},setFixedRotation:function(){return s.setInertia(this.body,1/0),this},setAngle:function(t){return void 0===t&&(t=0),this.angle=t,s.setAngle(this.body,this.rotation),this},setScale:function(t,e,i){void 0===t&&(t=1),void 0===e&&(e=t);var n=1/this._scaleX,r=1/this._scaleY;return this._scaleX=t,this._scaleY=e,s.scale(this.body,n,r,i),s.scale(this.body,t,e,i),this}};t.exports=a},42081:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(22562),n={setVelocityX:function(t){return this._tempVec2.set(t,this.body.velocity.y),s.setVelocity(this.body,this._tempVec2),this},setVelocityY:function(t){return this._tempVec2.set(this.body.velocity.x,t),s.setVelocity(this.body,this._tempVec2),this},setVelocity:function(t,e){return this._tempVec2.set(t,e),s.setVelocity(this.body,this._tempVec2),this},getVelocity:function(){return s.getVelocity(this.body)},setAngularVelocity:function(t){return s.setAngularVelocity(this.body,t),this},getAngularVelocity:function(){return s.getAngularVelocity(this.body)},setAngularSpeed:function(t){return s.setAngularSpeed(this.body,t),this},getAngularSpeed:function(){return s.getAngularSpeed(this.body)}};t.exports=n},31884:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports={Bounce:i(70410),Collision:i(66968),Force:i(51607),Friction:i(5436),Gravity:i(39858),Mass:i(37302),Sensor:i(39132),SetBody:i(57772),Sleep:i(38083),Static:i(90556),Transform:i(85436),Velocity:i(42081)}},85608:t=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports="afteradd"},1213:t=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports="afterremove"},25968:t=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports="afterupdate"},67205:t=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports="beforeadd"},39438:t=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports="beforeremove"},44823:t=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports="beforeupdate"},92593:t=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports="collisionactive"},60128:t=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports="collisionend"},76861:t=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports="collisionstart"},92362:t=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports="dragend"},76408:t=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports="drag"},93971:t=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports="dragstart"},5656:t=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports="pause"},47861:t=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports="resume"},79099:t=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports="sleepend"},35906:t=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports="sleepstart"},1121:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports={AFTER_ADD:i(85608),AFTER_REMOVE:i(1213),AFTER_UPDATE:i(25968),BEFORE_ADD:i(67205),BEFORE_REMOVE:i(39438),BEFORE_UPDATE:i(44823),COLLISION_ACTIVE:i(92593),COLLISION_END:i(60128),COLLISION_START:i(76861),DRAG_END:i(92362),DRAG:i(76408),DRAG_START:i(93971),PAUSE:i(5656),RESUME:i(47861),SLEEP_END:i(79099),SLEEP_START:i(35906)}},3875:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports={BodyBounds:i(68174),Components:i(31884),Events:i(1121),Factory:i(28137),MatterGameObject:i(75803),Image:i(23181),Matter:i(19933),MatterPhysics:i(42045),PolyDecomp:i(55973),Sprite:i(34803),TileBody:i(73834),PhysicsEditorParser:i(19496),PhysicsJSONParser:i(85791),PointerConstraint:i(98713),World:i(68243)}},22562:(t,e,i)=>{var s={};t.exports=s;var n=i(41598),r=i(31725),o=i(53614),a=i(53402),h=i(15647),l=i(66615);!function(){s._timeCorrection=!0,s._inertiaScale=4,s._nextCollidingGroupId=1,s._nextNonCollidingGroupId=-1,s._nextCategory=1,s._baseDelta=1e3/60,s.create=function(e){var i={id:a.nextId(),type:"body",label:"Body",parts:[],plugin:{},attractors:e.attractors||[],wrapBounds:null,angle:0,vertices:null,position:{x:0,y:0},force:{x:0,y:0},torque:0,positionImpulse:{x:0,y:0},constraintImpulse:{x:0,y:0,angle:0},totalContacts:0,speed:0,angularSpeed:0,velocity:{x:0,y:0},angularVelocity:0,isSensor:!1,isStatic:!1,isSleeping:!1,motion:0,sleepThreshold:60,density:.001,restitution:0,friction:.1,frictionStatic:.5,frictionAir:.01,collisionFilter:{category:1,mask:4294967295,group:0},slop:.05,timeScale:1,events:null,bounds:null,chamfer:null,circleRadius:0,positionPrev:null,anglePrev:0,parent:null,axes:null,area:0,mass:0,inverseMass:0,inertia:0,deltaTime:1e3/60,inverseInertia:0,_original:null,render:{visible:!0,opacity:1,sprite:{xOffset:0,yOffset:0},fillColor:null,fillOpacity:null,lineColor:null,lineOpacity:null,lineThickness:null},gameObject:null,scale:{x:1,y:1},centerOfMass:{x:0,y:0},centerOffset:{x:0,y:0},gravityScale:{x:1,y:1},ignoreGravity:!1,ignorePointer:!1,onCollideCallback:null,onCollideEndCallback:null,onCollideActiveCallback:null,onCollideWith:{}};!e.hasOwnProperty("position")&&e.hasOwnProperty("vertices")?e.position=n.centre(e.vertices):e.hasOwnProperty("vertices")||(i.vertices=n.fromPath("L 0 0 L 40 0 L 40 40 L 0 40"));var s=a.extend(i,e);return t(s,e),s.setOnCollideWith=function(t,e){return e?this.onCollideWith[t.id]=e:delete this.onCollideWith[t.id],this},s},s.nextGroup=function(t){return t?s._nextNonCollidingGroupId--:s._nextCollidingGroupId++},s.nextCategory=function(){return s._nextCategory=s._nextCategory<<1,s._nextCategory};var t=function(t,e){if(e=e||{},s.set(t,{bounds:t.bounds||h.create(t.vertices),positionPrev:t.positionPrev||r.clone(t.position),anglePrev:t.anglePrev||t.angle,vertices:t.vertices,parts:t.parts||[t],isStatic:t.isStatic,isSleeping:t.isSleeping,parent:t.parent||t}),n.rotate(t.vertices,t.angle,t.position),l.rotate(t.axes,t.angle),h.update(t.bounds,t.vertices,t.velocity),s.set(t,{axes:e.axes||t.axes,area:e.area||t.area,mass:e.mass||t.mass,inertia:e.inertia||t.inertia}),1===t.parts.length){var i=t.bounds,o=t.centerOfMass,a=t.centerOffset,u=i.max.x-i.min.x,c=i.max.y-i.min.y;o.x=-(i.min.x-t.position.x)/u,o.y=-(i.min.y-t.position.y)/c,a.x=u*o.x,a.y=c*o.y}};s.set=function(t,e,i){var n;for(n in"string"==typeof e&&(n=e,(e={})[n]=i),e)if(Object.prototype.hasOwnProperty.call(e,n))switch(i=e[n],n){case"isStatic":s.setStatic(t,i);break;case"isSleeping":o.set(t,i);break;case"mass":s.setMass(t,i);break;case"density":s.setDensity(t,i);break;case"inertia":s.setInertia(t,i);break;case"vertices":s.setVertices(t,i);break;case"position":s.setPosition(t,i);break;case"angle":s.setAngle(t,i);break;case"velocity":s.setVelocity(t,i);break;case"angularVelocity":s.setAngularVelocity(t,i);break;case"speed":s.setSpeed(t,i);break;case"angularSpeed":s.setAngularSpeed(t,i);break;case"parts":s.setParts(t,i);break;case"centre":s.setCentre(t,i);break;default:t[n]=i}},s.setStatic=function(t,e){for(var i=0;i<t.parts.length;i++){var s=t.parts[i];e?(s.isStatic||(s._original={restitution:s.restitution,friction:s.friction,mass:s.mass,inertia:s.inertia,density:s.density,inverseMass:s.inverseMass,inverseInertia:s.inverseInertia}),s.restitution=0,s.friction=1,s.mass=s.inertia=s.density=1/0,s.inverseMass=s.inverseInertia=0,s.positionPrev.x=s.position.x,s.positionPrev.y=s.position.y,s.anglePrev=s.angle,s.angularVelocity=0,s.speed=0,s.angularSpeed=0,s.motion=0):s._original&&(s.restitution=s._original.restitution,s.friction=s._original.friction,s.mass=s._original.mass,s.inertia=s._original.inertia,s.density=s._original.density,s.inverseMass=s._original.inverseMass,s.inverseInertia=s._original.inverseInertia,s._original=null),s.isStatic=e}},s.setMass=function(t,e){var i=t.inertia/(t.mass/6);t.inertia=i*(e/6),t.inverseInertia=1/t.inertia,t.mass=e,t.inverseMass=1/t.mass,t.density=t.mass/t.area},s.setDensity=function(t,e){s.setMass(t,e*t.area),t.density=e},s.setInertia=function(t,e){t.inertia=e,t.inverseInertia=1/t.inertia},s.setVertices=function(t,e){e[0].body===t?t.vertices=e:t.vertices=n.create(e,t),t.axes=l.fromVertices(t.vertices),t.area=n.area(t.vertices),s.setMass(t,t.density*t.area);var i=n.centre(t.vertices);n.translate(t.vertices,i,-1),s.setInertia(t,s._inertiaScale*n.inertia(t.vertices,t.mass)),n.translate(t.vertices,t.position),h.update(t.bounds,t.vertices,t.velocity)},s.setParts=function(t,e,i){var r;for(e=e.slice(0),t.parts.length=0,t.parts.push(t),t.parent=t,r=0;r<e.length;r++){var o=e[r];o!==t&&(o.parent=t,t.parts.push(o))}if(1!==t.parts.length){if(i=void 0===i||i){var a=[];for(r=0;r<e.length;r++)a=a.concat(e[r].vertices);n.clockwiseSort(a);var l=n.hull(a),u=n.centre(l);s.setVertices(t,l),n.translate(t.vertices,u)}var c=s._totalProperties(t),d=c.centre.x,f=c.centre.y,p=t.bounds,g=t.centerOfMass,m=t.centerOffset;h.update(p,t.vertices,t.velocity),g.x=-(p.min.x-d)/(p.max.x-p.min.x),g.y=-(p.min.y-f)/(p.max.y-p.min.y),m.x=d,m.y=f,t.area=c.area,t.parent=t,t.position.x=d,t.position.y=f,t.positionPrev.x=d,t.positionPrev.y=f,s.setMass(t,c.mass),s.setInertia(t,c.inertia),s.setPosition(t,c.centre)}},s.setCentre=function(t,e,i){i?(t.positionPrev.x+=e.x,t.positionPrev.y+=e.y,t.position.x+=e.x,t.position.y+=e.y):(t.positionPrev.x=e.x-(t.position.x-t.positionPrev.x),t.positionPrev.y=e.y-(t.position.y-t.positionPrev.y),t.position.x=e.x,t.position.y=e.y)},s.setPosition=function(t,e,i){var s=r.sub(e,t.position);i?(t.positionPrev.x=t.position.x,t.positionPrev.y=t.position.y,t.velocity.x=s.x,t.velocity.y=s.y,t.speed=r.magnitude(s)):(t.positionPrev.x+=s.x,t.positionPrev.y+=s.y);for(var o=0;o<t.parts.length;o++){var a=t.parts[o];a.position.x+=s.x,a.position.y+=s.y,n.translate(a.vertices,s),h.update(a.bounds,a.vertices,t.velocity)}},s.setAngle=function(t,e,i){var s=e-t.angle;i?(t.anglePrev=t.angle,t.angularVelocity=s,t.angularSpeed=Math.abs(s)):t.anglePrev+=s;for(var o=0;o<t.parts.length;o++){var a=t.parts[o];a.angle+=s,n.rotate(a.vertices,s,t.position),l.rotate(a.axes,s),h.update(a.bounds,a.vertices,t.velocity),o>0&&r.rotateAbout(a.position,s,t.position,a.position)}},s.setVelocity=function(t,e){var i=t.deltaTime/s._baseDelta;t.positionPrev.x=t.position.x-e.x*i,t.positionPrev.y=t.position.y-e.y*i,t.velocity.x=(t.position.x-t.positionPrev.x)/i,t.velocity.y=(t.position.y-t.positionPrev.y)/i,t.speed=r.magnitude(t.velocity)},s.getVelocity=function(t){var e=s._baseDelta/t.deltaTime;return{x:(t.position.x-t.positionPrev.x)*e,y:(t.position.y-t.positionPrev.y)*e}},s.getSpeed=function(t){return r.magnitude(s.getVelocity(t))},s.setSpeed=function(t,e){s.setVelocity(t,r.mult(r.normalise(s.getVelocity(t)),e))},s.setAngularVelocity=function(t,e){var i=t.deltaTime/s._baseDelta;t.anglePrev=t.angle-e*i,t.angularVelocity=(t.angle-t.anglePrev)/i,t.angularSpeed=Math.abs(t.angularVelocity)},s.getAngularVelocity=function(t){return(t.angle-t.anglePrev)*s._baseDelta/t.deltaTime},s.getAngularSpeed=function(t){return Math.abs(s.getAngularVelocity(t))},s.setAngularSpeed=function(t,e){s.setAngularVelocity(t,a.sign(s.getAngularVelocity(t))*e)},s.translate=function(t,e,i){s.setPosition(t,r.add(t.position,e),i)},s.rotate=function(t,e,i,n){if(i){var r=Math.cos(e),o=Math.sin(e),a=t.position.x-i.x,h=t.position.y-i.y;s.setPosition(t,{x:i.x+(a*r-h*o),y:i.y+(a*o+h*r)},n),s.setAngle(t,t.angle+e,n)}else s.setAngle(t,t.angle+e,n)},s.scale=function(t,e,i,r){var o=0,a=0;r=r||t.position;for(var u=t.inertia===1/0,c=0;c<t.parts.length;c++){var d=t.parts[c];d.scale.x=e,d.scale.y=i,n.scale(d.vertices,e,i,r),d.axes=l.fromVertices(d.vertices),d.area=n.area(d.vertices),s.setMass(d,t.density*d.area),n.translate(d.vertices,{x:-d.position.x,y:-d.position.y}),s.setInertia(d,s._inertiaScale*n.inertia(d.vertices,d.mass)),n.translate(d.vertices,{x:d.position.x,y:d.position.y}),c>0&&(o+=d.area,a+=d.inertia),d.position.x=r.x+(d.position.x-r.x)*e,d.position.y=r.y+(d.position.y-r.y)*i,h.update(d.bounds,d.vertices,t.velocity)}t.parts.length>1&&(t.area=o,t.isStatic||(s.setMass(t,t.density*o),s.setInertia(t,a))),t.circleRadius&&(e===i?t.circleRadius*=e:t.circleRadius=null),u&&s.setInertia(t,1/0)},s.update=function(t,e){var i=(e=(void 0!==e?e:1e3/60)*t.timeScale)*e,o=s._timeCorrection?e/(t.deltaTime||e):1,u=1-t.frictionAir*(e/a._baseDelta),c=(t.position.x-t.positionPrev.x)*o,d=(t.position.y-t.positionPrev.y)*o;t.velocity.x=c*u+t.force.x/t.mass*i,t.velocity.y=d*u+t.force.y/t.mass*i,t.positionPrev.x=t.position.x,t.positionPrev.y=t.position.y,t.position.x+=t.velocity.x,t.position.y+=t.velocity.y,t.deltaTime=e,t.angularVelocity=(t.angle-t.anglePrev)*u*o+t.torque/t.inertia*i,t.anglePrev=t.angle,t.angle+=t.angularVelocity,t.speed=r.magnitude(t.velocity),t.angularSpeed=Math.abs(t.angularVelocity);for(var f=0;f<t.parts.length;f++){var p=t.parts[f];n.translate(p.vertices,t.velocity),f>0&&(p.position.x+=t.velocity.x,p.position.y+=t.velocity.y),0!==t.angularVelocity&&(n.rotate(p.vertices,t.angularVelocity,t.position),l.rotate(p.axes,t.angularVelocity),f>0&&r.rotateAbout(p.position,t.angularVelocity,t.position,p.position)),h.update(p.bounds,p.vertices,t.velocity)}},s.updateVelocities=function(t){var e=s._baseDelta/t.deltaTime,i=t.velocity;i.x=(t.position.x-t.positionPrev.x)*e,i.y=(t.position.y-t.positionPrev.y)*e,t.speed=Math.sqrt(i.x*i.x+i.y*i.y),t.angularVelocity=(t.angle-t.anglePrev)*e,t.angularSpeed=Math.abs(t.angularVelocity)},s.applyForce=function(t,e,i){var s=e.x-t.position.x,n=e.y-t.position.y;t.force.x+=i.x,t.force.y+=i.y,t.torque+=s*i.y-n*i.x},s._totalProperties=function(t){for(var e={mass:0,area:0,inertia:0,centre:{x:0,y:0}},i=1===t.parts.length?0:1;i<t.parts.length;i++){var s=t.parts[i],n=s.mass!==1/0?s.mass:1;e.mass+=n,e.area+=s.area,e.inertia+=s.inertia,e.centre=r.add(e.centre,r.mult(s.position,n))}return e.centre=r.div(e.centre,e.mass),e},s.wrap=function(t,e){var i=h.wrap(t.bounds,e);return i&&s.translate(t,i),i}}()},69351:(t,e,i)=>{var s={};t.exports=s;var n=i(35810),r=i(53402),o=i(15647),a=i(22562);s.create=function(t){return r.extend({id:r.nextId(),type:"composite",parent:null,isModified:!1,bodies:[],constraints:[],composites:[],label:"Composite",plugin:{},wrapBounds:null,cache:{allBodies:null,allConstraints:null,allComposites:null}},t)},s.setModified=function(t,e,i,r){if(n.trigger(t,"compositeModified",t),t.isModified=e,e&&t.cache&&(t.cache.allBodies=null,t.cache.allConstraints=null,t.cache.allComposites=null),i&&t.parent&&s.setModified(t.parent,e,i,r),r)for(var o=0;o<t.composites.length;o++){var a=t.composites[o];s.setModified(a,e,i,r)}},s.add=function(t,e){var i=[].concat(e);n.trigger(t,"beforeAdd",{object:e});for(var o=0;o<i.length;o++){var a=i[o];switch(a.type){case"body":if(a.parent!==a){r.warn("Composite.add: skipped adding a compound body part (you must add its parent instead)");break}s.addBody(t,a);break;case"constraint":s.addConstraint(t,a);break;case"composite":s.addComposite(t,a);break;case"mouseConstraint":s.addConstraint(t,a.constraint)}}return n.trigger(t,"afterAdd",{object:e}),t},s.remove=function(t,e,i){var r=[].concat(e);n.trigger(t,"beforeRemove",{object:e});for(var o=0;o<r.length;o++){var a=r[o];switch(a.type){case"body":s.removeBody(t,a,i);break;case"constraint":s.removeConstraint(t,a,i);break;case"composite":s.removeComposite(t,a,i);break;case"mouseConstraint":s.removeConstraint(t,a.constraint)}}return n.trigger(t,"afterRemove",{object:e}),t},s.addComposite=function(t,e){return t.composites.push(e),e.parent=t,s.setModified(t,!0,!0,!1),t},s.removeComposite=function(t,e,i){var n=r.indexOf(t.composites,e);if(-1!==n){var o=s.allBodies(e);s.removeCompositeAt(t,n);for(var a=0;a<o.length;a++)o[a].sleepCounter=0}if(i)for(a=0;a<t.composites.length;a++)s.removeComposite(t.composites[a],e,!0);return t},s.removeCompositeAt=function(t,e){return t.composites.splice(e,1),s.setModified(t,!0,!0,!1),t},s.addBody=function(t,e){return t.bodies.push(e),s.setModified(t,!0,!0,!1),t},s.removeBody=function(t,e,i){var n=r.indexOf(t.bodies,e);if(-1!==n&&(s.removeBodyAt(t,n),e.sleepCounter=0),i)for(var o=0;o<t.composites.length;o++)s.removeBody(t.composites[o],e,!0);return t},s.removeBodyAt=function(t,e){return t.bodies.splice(e,1),s.setModified(t,!0,!0,!1),t},s.addConstraint=function(t,e){return t.constraints.push(e),s.setModified(t,!0,!0,!1),t},s.removeConstraint=function(t,e,i){var n=r.indexOf(t.constraints,e);if(-1!==n&&s.removeConstraintAt(t,n),i)for(var o=0;o<t.composites.length;o++)s.removeConstraint(t.composites[o],e,!0);return t},s.removeConstraintAt=function(t,e){return t.constraints.splice(e,1),s.setModified(t,!0,!0,!1),t},s.clear=function(t,e,i){if(i)for(var n=0;n<t.composites.length;n++)s.clear(t.composites[n],e,!0);return e?t.bodies=t.bodies.filter(function(t){return t.isStatic}):t.bodies.length=0,t.constraints.length=0,t.composites.length=0,s.setModified(t,!0,!0,!1),t},s.allBodies=function(t){if(t.cache&&t.cache.allBodies)return t.cache.allBodies;for(var e=[].concat(t.bodies),i=0;i<t.composites.length;i++)e=e.concat(s.allBodies(t.composites[i]));return t.cache&&(t.cache.allBodies=e),e},s.allConstraints=function(t){if(t.cache&&t.cache.allConstraints)return t.cache.allConstraints;for(var e=[].concat(t.constraints),i=0;i<t.composites.length;i++)e=e.concat(s.allConstraints(t.composites[i]));return t.cache&&(t.cache.allConstraints=e),e},s.allComposites=function(t){if(t.cache&&t.cache.allComposites)return t.cache.allComposites;for(var e=[].concat(t.composites),i=0;i<t.composites.length;i++)e=e.concat(s.allComposites(t.composites[i]));return t.cache&&(t.cache.allComposites=e),e},s.get=function(t,e,i){var n,r;switch(i){case"body":n=s.allBodies(t);break;case"constraint":n=s.allConstraints(t);break;case"composite":n=s.allComposites(t).concat(t)}return n?0===(r=n.filter(function(t){return t.id.toString()===e.toString()})).length?null:r[0]:null},s.move=function(t,e,i){return s.remove(t,e),s.add(i,e),t},s.rebase=function(t){for(var e=s.allBodies(t).concat(s.allConstraints(t)).concat(s.allComposites(t)),i=0;i<e.length;i++)e[i].id=r.nextId();return t},s.translate=function(t,e,i){for(var n=i?s.allBodies(t):t.bodies,r=0;r<n.length;r++)a.translate(n[r],e);return t},s.rotate=function(t,e,i,n){for(var r=Math.cos(e),o=Math.sin(e),h=n?s.allBodies(t):t.bodies,l=0;l<h.length;l++){var u=h[l],c=u.position.x-i.x,d=u.position.y-i.y;a.setPosition(u,{x:i.x+(c*r-d*o),y:i.y+(c*o+d*r)}),a.rotate(u,e)}return t},s.scale=function(t,e,i,n,r){for(var o=r?s.allBodies(t):t.bodies,h=0;h<o.length;h++){var l=o[h],u=l.position.x-n.x,c=l.position.y-n.y;a.setPosition(l,{x:n.x+u*e,y:n.y+c*i}),a.scale(l,e,i)}return t},s.bounds=function(t){for(var e=s.allBodies(t),i=[],n=0;n<e.length;n+=1){var r=e[n];i.push(r.bounds.min,r.bounds.max)}return o.create(i)},s.wrap=function(t,e){var i=o.wrap(s.bounds(t),e);return i&&s.translate(t,i),i}},4372:(t,e,i)=>{var s={};t.exports=s;var n=i(69351);s.create=n.create,s.add=n.add,s.remove=n.remove,s.clear=n.clear,s.addComposite=n.addComposite,s.addBody=n.addBody,s.addConstraint=n.addConstraint},52284:(t,e,i)=>{var s={};t.exports=s;var n,r,o,a=i(41598),h=i(4506);n=[],r={overlap:0,axis:null},o={overlap:0,axis:null},s.create=function(t,e){return{pair:null,collided:!1,bodyA:t,bodyB:e,parentA:t.parent,parentB:e.parent,depth:0,normal:{x:0,y:0},tangent:{x:0,y:0},penetration:{x:0,y:0},supports:[null,null],supportCount:0}},s.collides=function(t,e,i){if(s._overlapAxes(r,t.vertices,e.vertices,t.axes),r.overlap<=0)return null;if(s._overlapAxes(o,e.vertices,t.vertices,e.axes),o.overlap<=0)return null;var n,l,u=i&&i.table[h.id(t,e)];u?n=u.collision:((n=s.create(t,e)).collided=!0,n.bodyA=t.id<e.id?t:e,n.bodyB=t.id<e.id?e:t,n.parentA=n.bodyA.parent,n.parentB=n.bodyB.parent),t=n.bodyA,e=n.bodyB,l=r.overlap<o.overlap?r:o;var c=n.normal,d=n.tangent,f=n.penetration,p=n.supports,g=l.overlap,m=l.axis,v=m.x,y=m.y;v*(e.position.x-t.position.x)+y*(e.position.y-t.position.y)>=0&&(v=-v,y=-y),c.x=v,c.y=y,d.x=-y,d.y=v,f.x=v*g,f.y=y*g,n.depth=g;var x=s._findSupports(t,e,c,1),T=0;if(a.contains(t.vertices,x[0])&&(p[T++]=x[0]),a.contains(t.vertices,x[1])&&(p[T++]=x[1]),T<2){var w=s._findSupports(e,t,c,-1);a.contains(e.vertices,w[0])&&(p[T++]=w[0]),T<2&&a.contains(e.vertices,w[1])&&(p[T++]=w[1])}return 0===T&&(p[T++]=x[0]),n.supportCount=T,n},s._overlapAxes=function(t,e,i,s){var n,r,o,a,h,l,u=e.length,c=i.length,d=e[0].x,f=e[0].y,p=i[0].x,g=i[0].y,m=s.length,v=Number.MAX_VALUE,y=0;for(h=0;h<m;h++){var x=s[h],T=x.x,w=x.y,b=d*T+f*w,S=p*T+g*w,E=b,C=S;for(l=1;l<u;l+=1)(a=e[l].x*T+e[l].y*w)>E?E=a:a<b&&(b=a);for(l=1;l<c;l+=1)(a=i[l].x*T+i[l].y*w)>C?C=a:a<S&&(S=a);if((n=(r=E-S)<(o=C-b)?r:o)<v&&(v=n,y=h,n<=0))break}t.axis=s[y],t.overlap=v},s._findSupports=function(t,e,i,s){var r,o,a,h=e.vertices,l=h.length,u=t.position.x,c=t.position.y,d=i.x*s,f=i.y*s,p=h[0],g=p,m=d*(u-g.x)+f*(c-g.y);for(a=1;a<l;a+=1)(o=d*(u-(g=h[a]).x)+f*(c-g.y))<m&&(m=o,p=g);return m=d*(u-(r=h[(l+p.index-1)%l]).x)+f*(c-r.y),d*(u-(g=h[(p.index+1)%l]).x)+f*(c-g.y)<m?(n[0]=p,n[1]=g,n):(n[0]=p,n[1]=r,n)}},43424:t=>{var e={};t.exports=e,e.create=function(t){return{vertex:t,normalImpulse:0,tangentImpulse:0}}},81388:(t,e,i)=>{var s={};t.exports=s;var n=i(53402),r=i(52284);s.create=function(t){return n.extend({bodies:[],collisions:[],pairs:null},t)},s.setBodies=function(t,e){t.bodies=e.slice(0)},s.clear=function(t){t.bodies=[],t.collisions=[]},s.collisions=function(t){var e,i,n=t.pairs,o=t.bodies,a=o.length,h=s.canCollide,l=r.collides,u=t.collisions,c=0;for(o.sort(s._compareBoundsX),e=0;e<a;e++){var d=o[e],f=d.bounds,p=d.bounds.max.x,g=d.bounds.max.y,m=d.bounds.min.y,v=d.isStatic||d.isSleeping,y=d.parts.length,x=1===y;for(i=e+1;i<a;i++){var T=o[i];if((M=T.bounds).min.x>p)break;if(!(g<M.min.y||m>M.max.y)&&(!v||!T.isStatic&&!T.isSleeping)&&h(d.collisionFilter,T.collisionFilter)){var w=T.parts.length;if(x&&1===w)(_=l(d,T,n))&&(u[c++]=_);else for(var b=w>1?1:0,S=y>1?1:0;S<y;S++)for(var E=d.parts[S],C=(f=E.bounds,b);C<w;C++){var _,A=T.parts[C],M=A.bounds;f.min.x>M.max.x||f.max.x<M.min.x||f.max.y<M.min.y||f.min.y>M.max.y||(_=l(E,A,n))&&(u[c++]=_)}}}}return u.length!==c&&(u.length=c),u},s.canCollide=function(t,e){return t.group===e.group&&0!==t.group?t.group>0:0!==(t.mask&e.category)&&0!==(e.mask&t.category)},s._compareBoundsX=function(t,e){return t.bounds.min.x-e.bounds.min.x}},4506:(t,e,i)=>{var s={};t.exports=s;var n=i(43424);s.create=function(t,e){var i=t.bodyA,r=t.bodyB,o={id:s.id(i,r),bodyA:i,bodyB:r,collision:t,contacts:[n.create(),n.create()],contactCount:0,separation:0,isActive:!0,isSensor:i.isSensor||r.isSensor,timeCreated:e,timeUpdated:e,inverseMass:0,friction:0,frictionStatic:0,restitution:0,slop:0};return s.update(o,t,e),o},s.update=function(t,e,i){var s=e.supports,n=e.supportCount,r=t.contacts,o=e.parentA,a=e.parentB;t.isActive=!0,t.timeUpdated=i,t.collision=e,t.separation=e.depth,t.inverseMass=o.inverseMass+a.inverseMass,t.friction=o.friction<a.friction?o.friction:a.friction,t.frictionStatic=o.frictionStatic>a.frictionStatic?o.frictionStatic:a.frictionStatic,t.restitution=o.restitution>a.restitution?o.restitution:a.restitution,t.slop=o.slop>a.slop?o.slop:a.slop,t.contactCount=n,e.pair=t;var h=s[0],l=r[0],u=s[1],c=r[1];c.vertex!==h&&l.vertex!==u||(r[1]=l,r[0]=l=c,c=r[1]),l.vertex=h,c.vertex=u},s.setActive=function(t,e,i){e?(t.isActive=!0,t.timeUpdated=i):(t.isActive=!1,t.contactCount=0)},s.id=function(t,e){return t.id<e.id?t.id.toString(36)+":"+e.id.toString(36):e.id.toString(36)+":"+t.id.toString(36)}},99561:(t,e,i)=>{var s={};t.exports=s;var n=i(4506),r=i(53402);s.create=function(t){return r.extend({table:{},list:[],collisionStart:[],collisionActive:[],collisionEnd:[]},t)},s.update=function(t,e,i){var s,r,o,a=n.update,h=n.create,l=n.setActive,u=t.table,c=t.list,d=c.length,f=d,p=t.collisionStart,g=t.collisionEnd,m=t.collisionActive,v=e.length,y=0,x=0,T=0;for(o=0;o<v;o++)(r=(s=e[o]).pair)?(r.isActive&&(m[T++]=r),a(r,s,i)):(u[(r=h(s,i)).id]=r,p[y++]=r,c[f++]=r);for(f=0,d=c.length,o=0;o<d;o++)(r=c[o]).timeUpdated>=i?c[f++]=r:(l(r,!1,i),r.collision.bodyA.sleepCounter>0&&r.collision.bodyB.sleepCounter>0?c[f++]=r:(g[x++]=r,delete u[r.id]));c.length!==f&&(c.length=f),p.length!==y&&(p.length=y),g.length!==x&&(g.length=x),m.length!==T&&(m.length=T)},s.clear=function(t){return t.table={},t.list.length=0,t.collisionStart.length=0,t.collisionActive.length=0,t.collisionEnd.length=0,t}},73296:(t,e,i)=>{var s={};t.exports=s;var n=i(31725),r=i(52284),o=i(15647),a=i(66280),h=i(41598);s.collides=function(t,e){for(var i=[],s=e.length,n=t.bounds,a=r.collides,h=o.overlaps,l=0;l<s;l++){var u=e[l],c=u.parts.length,d=1===c?0:1;if(t!==u&&h(u.bounds,n))for(var f=d;f<c;f++){var p=u.parts[f];if(h(p.bounds,n)){var g=a(p,t);if(g){i.push(g);break}}}}return i},s.ray=function(t,e,i,r){r=r||1e-100;for(var o=n.angle(e,i),h=n.magnitude(n.sub(e,i)),l=.5*(i.x+e.x),u=.5*(i.y+e.y),c=a.rectangle(l,u,h,r,{angle:o}),d=s.collides(c,t),f=0;f<d.length;f+=1){var p=d[f];p.body=p.bodyB=p.bodyA}return d},s.region=function(t,e,i){for(var s=[],n=0;n<t.length;n++){var r=t[n],a=o.overlaps(r.bounds,e);(a&&!i||!a&&i)&&s.push(r)}return s},s.point=function(t,e){for(var i=[],s=0;s<t.length;s++){var n=t[s];if(o.contains(n.bounds,e))for(var r=1===n.parts.length?0:1;r<n.parts.length;r++){var a=n.parts[r];if(o.contains(a.bounds,e)&&h.contains(a.vertices,e)){i.push(n);break}}}return i}},66272:(t,e,i)=>{var s={};t.exports=s;var n=i(41598),r=i(53402),o=i(15647);s._restingThresh=2,s._restingThreshTangent=Math.sqrt(6),s._positionDampen=.9,s._positionWarming=.8,s._frictionNormalMultiplier=5,s._frictionMaxStatic=Number.MAX_VALUE,s.preSolvePosition=function(t){var e,i,s,n=t.length;for(e=0;e<n;e++)(i=t[e]).isActive&&(s=i.contactCount,i.collision.parentA.totalContacts+=s,i.collision.parentB.totalContacts+=s)},s.solvePosition=function(t,e,i){var n,o,a,h,l,u,c,d,f=s._positionDampen*(i||1),p=r.clamp(e/r._baseDelta,0,1),g=t.length;for(n=0;n<g;n++)(o=t[n]).isActive&&!o.isSensor&&(h=(a=o.collision).parentA,l=a.parentB,u=a.normal,o.separation=a.depth+u.x*(l.positionImpulse.x-h.positionImpulse.x)+u.y*(l.positionImpulse.y-h.positionImpulse.y));for(n=0;n<g;n++)(o=t[n]).isActive&&!o.isSensor&&(h=(a=o.collision).parentA,l=a.parentB,u=a.normal,d=o.separation-o.slop*p,(h.isStatic||l.isStatic)&&(d*=2),h.isStatic||h.isSleeping||(c=f/h.totalContacts,h.positionImpulse.x+=u.x*d*c,h.positionImpulse.y+=u.y*d*c),l.isStatic||l.isSleeping||(c=f/l.totalContacts,l.positionImpulse.x-=u.x*d*c,l.positionImpulse.y-=u.y*d*c))},s.postSolvePosition=function(t){for(var e=s._positionWarming,i=t.length,r=n.translate,a=o.update,h=0;h<i;h++){var l=t[h],u=l.positionImpulse,c=u.x,d=u.y,f=l.velocity;if(l.totalContacts=0,0!==c||0!==d){for(var p=0;p<l.parts.length;p++){var g=l.parts[p];r(g.vertices,u),a(g.bounds,g.vertices,f),g.position.x+=c,g.position.y+=d}l.positionPrev.x+=c,l.positionPrev.y+=d,c*f.x+d*f.y<0?(u.x=0,u.y=0):(u.x*=e,u.y*=e)}}},s.preSolveVelocity=function(t){var e,i,s=t.length;for(e=0;e<s;e++){var n=t[e];if(n.isActive&&!n.isSensor){var r=n.contacts,o=n.contactCount,a=n.collision,h=a.parentA,l=a.parentB,u=a.normal,c=a.tangent;for(i=0;i<o;i++){var d=r[i],f=d.vertex,p=d.normalImpulse,g=d.tangentImpulse;if(0!==p||0!==g){var m=u.x*p+c.x*g,v=u.y*p+c.y*g;h.isStatic||h.isSleeping||(h.positionPrev.x+=m*h.inverseMass,h.positionPrev.y+=v*h.inverseMass,h.anglePrev+=h.inverseInertia*((f.x-h.position.x)*v-(f.y-h.position.y)*m)),l.isStatic||l.isSleeping||(l.positionPrev.x-=m*l.inverseMass,l.positionPrev.y-=v*l.inverseMass,l.anglePrev-=l.inverseInertia*((f.x-l.position.x)*v-(f.y-l.position.y)*m))}}}}},s.solveVelocity=function(t,e){var i,n,o,a,h=e/r._baseDelta,l=h*h*h,u=-s._restingThresh*h,c=s._restingThreshTangent,d=s._frictionNormalMultiplier*h,f=s._frictionMaxStatic,p=t.length;for(o=0;o<p;o++){var g=t[o];if(g.isActive&&!g.isSensor){var m=g.collision,v=m.parentA,y=m.parentB,x=m.normal.x,T=m.normal.y,w=m.tangent.x,b=m.tangent.y,S=g.inverseMass,E=g.friction*g.frictionStatic*d,C=g.contacts,_=g.contactCount,A=1/_,M=v.position.x-v.positionPrev.x,P=v.position.y-v.positionPrev.y,R=v.angle-v.anglePrev,I=y.position.x-y.positionPrev.x,O=y.position.y-y.positionPrev.y,L=y.angle-y.anglePrev;for(a=0;a<_;a++){var D=C[a],k=D.vertex,F=k.x-v.position.x,B=k.y-v.position.y,N=k.x-y.position.x,z=k.y-y.position.y,U=M-B*R-(I-z*L),V=P+F*R-(O+N*L),G=x*U+T*V,X=w*U+b*V,Y=g.separation+G,H=Math.min(Y,1),W=(H=Y<0?0:H)*E;X<-W||X>W?(n=X>0?X:-X,(i=g.friction*(X>0?1:-1)*l)<-n?i=-n:i>n&&(i=n)):(i=X,n=f);var j=F*T-B*x,q=N*T-z*x,K=A/(S+v.inverseInertia*j*j+y.inverseInertia*q*q),$=(1+g.restitution)*G*K;if(i*=K,G<u)D.normalImpulse=0;else{var Z=D.normalImpulse;D.normalImpulse+=$,D.normalImpulse>0&&(D.normalImpulse=0),$=D.normalImpulse-Z}if(X<-c||X>c)D.tangentImpulse=0;else{var J=D.tangentImpulse;D.tangentImpulse+=i,D.tangentImpulse<-n&&(D.tangentImpulse=-n),D.tangentImpulse>n&&(D.tangentImpulse=n),i=D.tangentImpulse-J}var Q=x*$+w*i,tt=T*$+b*i;v.isStatic||v.isSleeping||(v.positionPrev.x+=Q*v.inverseMass,v.positionPrev.y+=tt*v.inverseMass,v.anglePrev+=(F*tt-B*Q)*v.inverseInertia),y.isStatic||y.isSleeping||(y.positionPrev.x-=Q*y.inverseMass,y.positionPrev.y-=tt*y.inverseMass,y.anglePrev-=(N*tt-z*Q)*y.inverseInertia)}}}}},48140:(t,e,i)=>{var s={};t.exports=s;var n=i(41598),r=i(31725),o=i(53614),a=i(15647),h=i(66615),l=i(53402);s._warming=.4,s._torqueDampen=1,s._minLength=1e-6,s.create=function(t){var e=t;e.bodyA&&!e.pointA&&(e.pointA={x:0,y:0}),e.bodyB&&!e.pointB&&(e.pointB={x:0,y:0});var i=e.bodyA?r.add(e.bodyA.position,e.pointA):e.pointA,s=e.bodyB?r.add(e.bodyB.position,e.pointB):e.pointB,n=r.magnitude(r.sub(i,s));e.length=void 0!==e.length?e.length:n,e.id=e.id||l.nextId(),e.label=e.label||"Constraint",e.type="constraint",e.stiffness=e.stiffness||(e.length>0?1:.7),e.damping=e.damping||0,e.angularStiffness=e.angularStiffness||0,e.angleA=e.bodyA?e.bodyA.angle:e.angleA,e.angleB=e.bodyB?e.bodyB.angle:e.angleB,e.plugin={};var o={visible:!0,type:"line",anchors:!0,lineColor:null,lineOpacity:null,lineThickness:null,pinSize:null,anchorColor:null,anchorSize:null};return 0===e.length&&e.stiffness>.1?(o.type="pin",o.anchors=!1):e.stiffness<.9&&(o.type="spring"),e.render=l.extend(o,e.render),e},s.preSolveAll=function(t){for(var e=0;e<t.length;e+=1){var i=t[e],s=i.constraintImpulse;i.isStatic||0===s.x&&0===s.y&&0===s.angle||(i.position.x+=s.x,i.position.y+=s.y,i.angle+=s.angle)}},s.solveAll=function(t,e){for(var i=l.clamp(e/l._baseDelta,0,1),n=0;n<t.length;n+=1){var r=t[n],o=!r.bodyA||r.bodyA&&r.bodyA.isStatic,a=!r.bodyB||r.bodyB&&r.bodyB.isStatic;(o||a)&&s.solve(t[n],i)}for(n=0;n<t.length;n+=1)o=!(r=t[n]).bodyA||r.bodyA&&r.bodyA.isStatic,a=!r.bodyB||r.bodyB&&r.bodyB.isStatic,o||a||s.solve(t[n],i)},s.solve=function(t,e){var i=t.bodyA,n=t.bodyB,o=t.pointA,a=t.pointB;if(i||n){i&&!i.isStatic&&(r.rotate(o,i.angle-t.angleA,o),t.angleA=i.angle),n&&!n.isStatic&&(r.rotate(a,n.angle-t.angleB,a),t.angleB=n.angle);var h=o,l=a;if(i&&(h=r.add(i.position,o)),n&&(l=r.add(n.position,a)),h&&l){var u=r.sub(h,l),c=r.magnitude(u);c<s._minLength&&(c=s._minLength);var d,f,p,g,m,v=(c-t.length)/c,y=t.stiffness>=1||0===t.length?t.stiffness*e:t.stiffness*e*e,x=t.damping*e,T=r.mult(u,v*y),w=(i?i.inverseMass:0)+(n?n.inverseMass:0),b=w+((i?i.inverseInertia:0)+(n?n.inverseInertia:0));if(x>0){var S=r.create();p=r.div(u,c),m=r.sub(n&&r.sub(n.position,n.positionPrev)||S,i&&r.sub(i.position,i.positionPrev)||S),g=r.dot(p,m)}i&&!i.isStatic&&(f=i.inverseMass/w,i.constraintImpulse.x-=T.x*f,i.constraintImpulse.y-=T.y*f,i.position.x-=T.x*f,i.position.y-=T.y*f,x>0&&(i.positionPrev.x-=x*p.x*g*f,i.positionPrev.y-=x*p.y*g*f),d=r.cross(o,T)/b*s._torqueDampen*i.inverseInertia*(1-t.angularStiffness),i.constraintImpulse.angle-=d,i.angle-=d),n&&!n.isStatic&&(f=n.inverseMass/w,n.constraintImpulse.x+=T.x*f,n.constraintImpulse.y+=T.y*f,n.position.x+=T.x*f,n.position.y+=T.y*f,x>0&&(n.positionPrev.x+=x*p.x*g*f,n.positionPrev.y+=x*p.y*g*f),d=r.cross(a,T)/b*s._torqueDampen*n.inverseInertia*(1-t.angularStiffness),n.constraintImpulse.angle+=d,n.angle+=d)}}},s.postSolveAll=function(t){for(var e=0;e<t.length;e++){var i=t[e],l=i.constraintImpulse;if(!(i.isStatic||0===l.x&&0===l.y&&0===l.angle)){o.set(i,!1);for(var u=0;u<i.parts.length;u++){var c=i.parts[u];n.translate(c.vertices,l),u>0&&(c.position.x+=l.x,c.position.y+=l.y),0!==l.angle&&(n.rotate(c.vertices,l.angle,i.position),h.rotate(c.axes,l.angle),u>0&&r.rotateAbout(c.position,l.angle,i.position,c.position)),a.update(c.bounds,c.vertices,i.velocity)}l.angle*=s._warming,l.x*=s._warming,l.y*=s._warming}}},s.pointAWorld=function(t){return{x:(t.bodyA?t.bodyA.position.x:0)+(t.pointA?t.pointA.x:0),y:(t.bodyA?t.bodyA.position.y:0)+(t.pointA?t.pointA.y:0)}},s.pointBWorld=function(t){return{x:(t.bodyB?t.bodyB.position.x:0)+(t.pointB?t.pointB.x:0),y:(t.bodyB?t.bodyB.position.y:0)+(t.pointB?t.pointB.y:0)}},s.currentLength=function(t){var e=(t.bodyA?t.bodyA.position.x:0)+(t.pointA?t.pointA.x:0),i=(t.bodyA?t.bodyA.position.y:0)+(t.pointA?t.pointA.y:0),s=e-((t.bodyB?t.bodyB.position.x:0)+(t.pointB?t.pointB.x:0)),n=i-((t.bodyB?t.bodyB.position.y:0)+(t.pointB?t.pointB.y:0));return Math.sqrt(s*s+n*n)}},53402:(t,e,i)=>{var s={};t.exports=s,function(){s._baseDelta=1e3/60,s._nextId=0,s._seed=0,s._nowStartTime=+new Date,s._warnedOnce={},s._decomp=null,s.extend=function(t,e){var i,n;"boolean"==typeof e?(i=2,n=e):(i=1,n=!0);for(var r=i;r<arguments.length;r++){var o=arguments[r];if(o)for(var a in o)n&&o[a]&&o[a].constructor===Object?t[a]&&t[a].constructor!==Object?t[a]=o[a]:(t[a]=t[a]||{},s.extend(t[a],n,o[a])):t[a]=o[a]}return t},s.clone=function(t,e){return s.extend({},e,t)},s.keys=function(t){if(Object.keys)return Object.keys(t);var e=[];for(var i in t)e.push(i);return e},s.values=function(t){var e=[];if(Object.keys){for(var i=Object.keys(t),s=0;s<i.length;s++)e.push(t[i[s]]);return e}for(var n in t)e.push(t[n]);return e},s.get=function(t,e,i,s){e=e.split(".").slice(i,s);for(var n=0;n<e.length;n+=1)t=t[e[n]];return t},s.set=function(t,e,i,n,r){var o=e.split(".").slice(n,r);return s.get(t,e,0,-1)[o[o.length-1]]=i,i},s.shuffle=function(t){for(var e=t.length-1;e>0;e--){var i=Math.floor(s.random()*(e+1)),n=t[e];t[e]=t[i],t[i]=n}return t},s.choose=function(t){return t[Math.floor(s.random()*t.length)]},s.isElement=function(t){return"undefined"!=typeof HTMLElement?t instanceof HTMLElement:!!(t&&t.nodeType&&t.nodeName)},s.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)},s.isFunction=function(t){return"function"==typeof t},s.isPlainObject=function(t){return"object"==typeof t&&t.constructor===Object},s.isString=function(t){return"[object String]"===toString.call(t)},s.clamp=function(t,e,i){return t<e?e:t>i?i:t},s.sign=function(t){return t<0?-1:1},s.now=function(){if("undefined"!=typeof window&&window.performance){if(window.performance.now)return window.performance.now();if(window.performance.webkitNow)return window.performance.webkitNow()}return Date.now?Date.now():new Date-s._nowStartTime},s.random=function(e,i){return i=void 0!==i?i:1,(e=void 0!==e?e:0)+t()*(i-e)};var t=function(){return s._seed=(9301*s._seed+49297)%233280,s._seed/233280};s.colorToNumber=function(t){return 3==(t=t.replace("#","")).length&&(t=t.charAt(0)+t.charAt(0)+t.charAt(1)+t.charAt(1)+t.charAt(2)+t.charAt(2)),parseInt(t,16)},s.logLevel=1,s.log=function(){console&&s.logLevel>0&&s.logLevel},s.info=function(){console&&s.logLevel>0&&s.logLevel},s.warn=function(){console&&s.logLevel>0&&s.logLevel},s.warnOnce=function(){var t=Array.prototype.slice.call(arguments).join(" ");s._warnedOnce[t]||(s.warn(t),s._warnedOnce[t]=!0)},s.deprecated=function(t,e,i){t[e]=s.chain(function(){s.warnOnce(" deprecated ",i)},t[e])},s.nextId=function(){return s._nextId++},s.indexOf=function(t,e){if(t.indexOf)return t.indexOf(e);for(var i=0;i<t.length;i++)if(t[i]===e)return i;return-1},s.map=function(t,e){if(t.map)return t.map(e);for(var i=[],s=0;s<t.length;s+=1)i.push(e(t[s]));return i},s.topologicalSort=function(t){var e=[],i=[],n=[];for(var r in t)i[r]||n[r]||s._topologicalSort(r,i,n,t,e);return e},s._topologicalSort=function(t,e,i,n,r){var o=n[t]||[];i[t]=!0;for(var a=0;a<o.length;a+=1){var h=o[a];i[h]||e[h]||s._topologicalSort(h,e,i,n,r)}i[t]=!1,e[t]=!0,r.push(t)},s.chain=function(){for(var t=[],e=0;e<arguments.length;e+=1){var i=arguments[e];i._chained?t.push.apply(t,i._chained):t.push(i)}var s=function(){for(var e,i=new Array(arguments.length),s=0,n=arguments.length;s<n;s++)i[s]=arguments[s];for(s=0;s<t.length;s+=1){var r=t[s].apply(e,i);void 0!==r&&(e=r)}return e};return s._chained=t,s},s.chainPathBefore=function(t,e,i){return s.set(t,e,s.chain(i,s.get(t,e)))},s.chainPathAfter=function(t,e,i){return s.set(t,e,s.chain(s.get(t,e),i))},s.setDecomp=function(t){s._decomp=t},s.getDecomp=function(){var t=s._decomp;try{t||"undefined"==typeof window||(t=window.decomp),t||void 0===i.g||(t=i.g.decomp)}catch(e){t=null}return t}}()},48413:(t,e,i)=>{var s={};t.exports=s;var n=i(53614),r=i(66272),o=i(81388),a=i(99561),h=i(35810),l=i(69351),u=i(48140),c=i(53402),d=i(22562);s._deltaMax=1e3/60,s.create=function(t){t=t||{};var e=c.extend({positionIterations:6,velocityIterations:4,constraintIterations:2,enableSleeping:!1,events:[],plugin:{},gravity:{x:0,y:1,scale:.001},timing:{timestamp:0,timeScale:1,lastDelta:0,lastElapsed:0,lastUpdatesPerFrame:0}},t);return e.world=t.world||l.create({label:"World"}),e.pairs=t.pairs||a.create(),e.detector=t.detector||o.create(),e.detector.pairs=e.pairs,e.grid={buckets:[]},e.world.gravity=e.gravity,e.broadphase=e.grid,e.metrics={},e},s.update=function(t,e){var i,d=c.now(),f=t.world,p=t.detector,g=t.pairs,m=t.timing,v=m.timestamp;e>s._deltaMax&&c.warnOnce("Matter.Engine.update: delta argument is recommended to be less than or equal to",s._deltaMax.toFixed(3),"ms."),e=void 0!==e?e:c._baseDelta,e*=m.timeScale,m.timestamp+=e,m.lastDelta=e;var y={timestamp:m.timestamp,delta:e};h.trigger(t,"beforeUpdate",y);var x=l.allBodies(f),T=l.allConstraints(f),w=l.allComposites(f);for(f.isModified&&(o.setBodies(p,x),l.setModified(f,!1,!1,!0)),t.enableSleeping&&n.update(x,e),s._bodiesApplyGravity(x,t.gravity),s.wrap(x,w),s.attractors(x),e>0&&s._bodiesUpdate(x,e),h.trigger(t,"beforeSolve",y),u.preSolveAll(x),i=0;i<t.constraintIterations;i++)u.solveAll(T,e);u.postSolveAll(x);var b=o.collisions(p);a.update(g,b,v),t.enableSleeping&&n.afterCollisions(g.list),g.collisionStart.length>0&&h.trigger(t,"collisionStart",{pairs:g.collisionStart,timestamp:m.timestamp,delta:e});var S=c.clamp(20/t.positionIterations,0,1);for(r.preSolvePosition(g.list),i=0;i<t.positionIterations;i++)r.solvePosition(g.list,e,S);for(r.postSolvePosition(x),u.preSolveAll(x),i=0;i<t.constraintIterations;i++)u.solveAll(T,e);for(u.postSolveAll(x),r.preSolveVelocity(g.list),i=0;i<t.velocityIterations;i++)r.solveVelocity(g.list,e);return s._bodiesUpdateVelocities(x),g.collisionActive.length>0&&h.trigger(t,"collisionActive",{pairs:g.collisionActive,timestamp:m.timestamp,delta:e}),g.collisionEnd.length>0&&h.trigger(t,"collisionEnd",{pairs:g.collisionEnd,timestamp:m.timestamp,delta:e}),s._bodiesClearForces(x),h.trigger(t,"afterUpdate",y),t.timing.lastElapsed=c.now()-d,t},s.merge=function(t,e){if(c.extend(t,e),e.world){t.world=e.world,s.clear(t);for(var i=l.allBodies(t.world),r=0;r<i.length;r++){var o=i[r];n.set(o,!1),o.id=c.nextId()}}},s.clear=function(t){a.clear(t.pairs),o.clear(t.detector)},s._bodiesClearForces=function(t){for(var e=t.length,i=0;i<e;i++){var s=t[i];s.force.x=0,s.force.y=0,s.torque=0}},s._bodiesApplyGravity=function(t,e){var i=void 0!==e.scale?e.scale:.001,s=t.length;if((0!==e.x||0!==e.y)&&0!==i)for(var n=0;n<s;n++){var r=t[n];r.ignoreGravity||r.isStatic||r.isSleeping||(r.force.y+=r.mass*e.y*i,r.force.x+=r.mass*e.x*i)}},s._bodiesUpdate=function(t,e){for(var i=t.length,s=0;s<i;s++){var n=t[s];n.isStatic||n.isSleeping||d.update(n,e)}},s._bodiesUpdateVelocities=function(t){for(var e=t.length,i=0;i<e;i++)d.updateVelocities(t[i])},s.wrap=function(t,e){for(var i=0;i<t.length;i+=1){var s=t[i];null!==s.wrapBounds&&d.wrap(s,s.wrapBounds)}for(i=0;i<e.length;i+=1){var n=e[i];null!==n.wrapBounds&&l.wrap(n,n.wrapBounds)}},s.attractors=function(t){for(var e=0;e<t.length;e++){var i=t[e],s=i.attractors;if(s&&s.length>0)for(var n=0;n<t.length;n++){var r=t[n];if(e!==n)for(var o=0;o<s.length;o++){var a=s[o],h=a;c.isFunction(a)&&(h=a(i,r)),h&&d.applyForce(r,r.position,h)}}}}},35810:(t,e,i)=>{var s={};t.exports=s;var n=i(53402);s.on=function(t,e,i){for(var s,n=e.split(" "),r=0;r<n.length;r++)s=n[r],t.events=t.events||{},t.events[s]=t.events[s]||[],t.events[s].push(i);return i},s.off=function(t,e,i){if(e){"function"==typeof e&&(i=e,e=n.keys(t.events).join(" "));for(var s=e.split(" "),r=0;r<s.length;r++){var o=t.events[s[r]],a=[];if(i&&o)for(var h=0;h<o.length;h++)o[h]!==i&&a.push(o[h]);t.events[s[r]]=a}}else t.events={}},s.trigger=function(t,e,i){var s,r,o,a,h=t.events;if(h&&n.keys(h).length>0){i||(i={}),s=e.split(" ");for(var l=0;l<s.length;l++)if(o=h[r=s[l]]){(a=n.clone(i,!1)).name=r,a.source=t;for(var u=0;u<o.length;u++)o[u].apply(t,[a])}}}},6790:(t,e,i)=>{var s={};t.exports=s;var n=i(73832),r=i(53402);s.name="matter-js",s.version="0.20.0",s.uses=[],s.used=[],s.use=function(){n.use(s,Array.prototype.slice.call(arguments))},s.before=function(t,e){return t=t.replace(/^Matter./,""),r.chainPathBefore(s,t,e)},s.after=function(t,e){return t=t.replace(/^Matter./,""),r.chainPathAfter(s,t,e)}},73832:(t,e,i)=>{var s={};t.exports=s;var n=i(53402);s._registry={},s.register=function(t){if(s.isPlugin(t)||n.warn("Plugin.register:",s.toString(t),"does not implement all required fields."),t.name in s._registry){var e=s._registry[t.name],i=s.versionParse(t.version).number,r=s.versionParse(e.version).number;i>r?(n.warn("Plugin.register:",s.toString(e),"was upgraded to",s.toString(t)),s._registry[t.name]=t):i<r?n.warn("Plugin.register:",s.toString(e),"can not be downgraded to",s.toString(t)):t!==e&&n.warn("Plugin.register:",s.toString(t),"is already registered to different plugin object")}else s._registry[t.name]=t;return t},s.resolve=function(t){return s._registry[s.dependencyParse(t).name]},s.toString=function(t){return"string"==typeof t?t:(t.name||"anonymous")+"@"+(t.version||t.range||"0.0.0")},s.isPlugin=function(t){return t&&t.name&&t.version&&t.install},s.isUsed=function(t,e){return t.used.indexOf(e)>-1},s.isFor=function(t,e){var i=t.for&&s.dependencyParse(t.for);return!t.for||e.name===i.name&&s.versionSatisfies(e.version,i.range)},s.use=function(t,e){if(t.uses=(t.uses||[]).concat(e||[]),0!==t.uses.length){for(var i=s.dependencies(t),r=n.topologicalSort(i),o=[],a=0;a<r.length;a+=1)if(r[a]!==t.name){var h=s.resolve(r[a]);h?s.isUsed(t,h.name)||(s.isFor(h,t)||(n.warn("Plugin.use:",s.toString(h),"is for",h.for,"but installed on",s.toString(t)+"."),h._warned=!0),h.install?h.install(t):(n.warn("Plugin.use:",s.toString(h),"does not specify an install function."),h._warned=!0),h._warned?(o.push(" "+s.toString(h)),delete h._warned):o.push(" "+s.toString(h)),t.used.push(h.name)):o.push(" "+r[a])}o.length>0&&!h.silent&&n.info(o.join("  "))}else n.warn("Plugin.use:",s.toString(t),"does not specify any dependencies to install.")},s.dependencies=function(t,e){var i=s.dependencyParse(t),r=i.name;if(!(r in(e=e||{}))){t=s.resolve(t)||t,e[r]=n.map(t.uses||[],function(e){s.isPlugin(e)&&s.register(e);var r=s.dependencyParse(e),o=s.resolve(e);return o&&!s.versionSatisfies(o.version,r.range)?(n.warn("Plugin.dependencies:",s.toString(o),"does not satisfy",s.toString(r),"used by",s.toString(i)+"."),o._warned=!0,t._warned=!0):o||(n.warn("Plugin.dependencies:",s.toString(e),"used by",s.toString(i),"could not be resolved."),t._warned=!0),r.name});for(var o=0;o<e[r].length;o+=1)s.dependencies(e[r][o],e);return e}},s.dependencyParse=function(t){return n.isString(t)?(/^[\w-]+(@(\*|[\^~]?\d+\.\d+\.\d+(-[0-9A-Za-z-+]+)?))?$/.test(t)||n.warn("Plugin.dependencyParse:",t,"is not a valid dependency string."),{name:t.split("@")[0],range:t.split("@")[1]||"*"}):{name:t.name,range:t.range||t.version}},s.versionParse=function(t){var e=/^(\*)|(\^|~|>=|>)?\s*((\d+)\.(\d+)\.(\d+))(-[0-9A-Za-z-+]+)?$/;e.test(t)||n.warn("Plugin.versionParse:",t,"is not a valid version or range.");var i=e.exec(t),s=Number(i[4]),r=Number(i[5]),o=Number(i[6]);return{isRange:Boolean(i[1]||i[2]),version:i[3],range:t,operator:i[1]||i[2]||"",major:s,minor:r,patch:o,parts:[s,r,o],prerelease:i[7],number:1e8*s+1e4*r+o}},s.versionSatisfies=function(t,e){e=e||"*";var i=s.versionParse(e),n=s.versionParse(t);if(i.isRange){if("*"===i.operator||"*"===t)return!0;if(">"===i.operator)return n.number>i.number;if(">="===i.operator)return n.number>=i.number;if("~"===i.operator)return n.major===i.major&&n.minor===i.minor&&n.patch>=i.patch;if("^"===i.operator)return i.major>0?n.major===i.major&&n.number>=i.number:i.minor>0?n.minor===i.minor&&n.patch>=i.patch:n.patch===i.patch}return t===e||"*"===t}},13037:(t,e,i)=>{var s={};t.exports=s;var n=i(35810),r=i(48413),o=i(53402);!function(){s._maxFrameDelta=1e3/15,s._frameDeltaFallback=1e3/60,s._timeBufferMargin=1.5,s._elapsedNextEstimate=1,s._smoothingLowerBound=.1,s._smoothingUpperBound=.9,s.create=function(t){var e=o.extend({delta:1e3/60,frameDelta:null,frameDeltaSmoothing:!0,frameDeltaSnapping:!0,frameDeltaHistory:[],frameDeltaHistorySize:100,frameRequestId:null,timeBuffer:0,timeLastTick:null,maxUpdates:null,maxFrameTime:1e3/30,lastUpdatesDeferred:0,enabled:!0},t);return e.fps=0,e},s.run=function(t,e){return t.timeBuffer=s._frameDeltaFallback,function i(n){t.frameRequestId=s._onNextFrame(t,i),n&&t.enabled&&s.tick(t,e,n)}(),t},s.tick=function(e,i,a){var h=o.now(),l=e.delta,u=0,c=a-e.timeLastTick;if((!c||!e.timeLastTick||c>Math.max(s._maxFrameDelta,e.maxFrameTime))&&(c=e.frameDelta||s._frameDeltaFallback),e.frameDeltaSmoothing){e.frameDeltaHistory.push(c),e.frameDeltaHistory=e.frameDeltaHistory.slice(-e.frameDeltaHistorySize);var d=e.frameDeltaHistory.slice(0).sort(),f=e.frameDeltaHistory.slice(d.length*s._smoothingLowerBound,d.length*s._smoothingUpperBound);c=t(f)||c}e.frameDeltaSnapping&&(c=1e3/Math.round(1e3/c)),e.frameDelta=c,e.timeLastTick=a,e.timeBuffer+=e.frameDelta,e.timeBuffer=o.clamp(e.timeBuffer,0,e.frameDelta+l*s._timeBufferMargin),e.lastUpdatesDeferred=0;var p=e.maxUpdates||Math.ceil(e.maxFrameTime/l),g={timestamp:i.timing.timestamp};n.trigger(e,"beforeTick",g),n.trigger(e,"tick",g);for(var m=o.now();l>0&&e.timeBuffer>=l*s._timeBufferMargin;){n.trigger(e,"beforeUpdate",g),r.update(i,l),n.trigger(e,"afterUpdate",g),e.timeBuffer-=l,u+=1;var v=o.now()-h,y=o.now()-m,x=v+s._elapsedNextEstimate*y/u;if(u>=p||x>e.maxFrameTime){e.lastUpdatesDeferred=Math.round(Math.max(0,e.timeBuffer/l-s._timeBufferMargin));break}}i.timing.lastUpdatesPerFrame=u,n.trigger(e,"afterTick",g),e.frameDeltaHistory.length>=100&&(e.lastUpdatesDeferred&&Math.round(e.frameDelta/l)>p?o.warnOnce("Matter.Runner: runner reached runner.maxUpdates, see docs."):e.lastUpdatesDeferred&&o.warnOnce("Matter.Runner: runner reached runner.maxFrameTime, see docs."),void 0!==e.isFixed&&o.warnOnce("Matter.Runner: runner.isFixed is now redundant, see docs."),(e.deltaMin||e.deltaMax)&&o.warnOnce("Matter.Runner: runner.deltaMin and runner.deltaMax were removed, see docs."),0!==e.fps&&o.warnOnce("Matter.Runner: runner.fps was replaced by runner.delta, see docs."))},s.stop=function(t){s._cancelNextFrame(t)},s._onNextFrame=function(t,e){if("undefined"==typeof window||!window.requestAnimationFrame)throw new Error("Matter.Runner: missing required global window.requestAnimationFrame.");return t.frameRequestId=window.requestAnimationFrame(e),t.frameRequestId},s._cancelNextFrame=function(t){if("undefined"==typeof window||!window.cancelAnimationFrame)throw new Error("Matter.Runner: missing required global window.cancelAnimationFrame.");window.cancelAnimationFrame(t.frameRequestId)};var t=function(t){for(var e=0,i=t.length,s=0;s<i;s+=1)e+=t[s];return e/i||0};s._mean=t}()},53614:(t,e,i)=>{var s={};t.exports=s;var n=i(22562),r=i(35810),o=i(53402);s._motionWakeThreshold=.18,s._motionSleepThreshold=.08,s._minBias=.9,s.update=function(t,e){for(var i=e/o._baseDelta,r=s._motionSleepThreshold,a=0;a<t.length;a++){var h=t[a],l=n.getSpeed(h),u=n.getAngularSpeed(h),c=l*l+u*u;if(0===h.force.x&&0===h.force.y){var d=Math.min(h.motion,c),f=Math.max(h.motion,c);h.motion=s._minBias*d+(1-s._minBias)*f,h.sleepThreshold>0&&h.motion<r?(h.sleepCounter+=1,h.sleepCounter>=h.sleepThreshold/i&&s.set(h,!0)):h.sleepCounter>0&&(h.sleepCounter-=1)}else s.set(h,!1)}},s.afterCollisions=function(t){for(var e=s._motionSleepThreshold,i=0;i<t.length;i++){var n=t[i];if(n.isActive){var r=n.collision,o=r.bodyA.parent,a=r.bodyB.parent;if(!(o.isSleeping&&a.isSleeping||o.isStatic||a.isStatic)&&(o.isSleeping||a.isSleeping)){var h=o.isSleeping&&!o.isStatic?o:a,l=h===o?a:o;!h.isStatic&&l.motion>e&&s.set(h,!1)}}}},s.set=function(t,e){var i=t.isSleeping;e?(t.isSleeping=!0,t.sleepCounter=t.sleepThreshold,t.positionImpulse.x=0,t.positionImpulse.y=0,t.positionPrev.x=t.position.x,t.positionPrev.y=t.position.y,t.anglePrev=t.angle,t.speed=0,t.angularSpeed=0,t.motion=0,i||r.trigger(t,"sleepStart")):(t.isSleeping=!1,t.sleepCounter=0,i&&r.trigger(t,"sleepEnd"))}},66280:(t,e,i)=>{var s={};t.exports=s;var n=i(41598),r=i(53402),o=i(22562),a=i(15647),h=i(31725);s.rectangle=function(t,e,i,s,a){a=a||{};var h={label:"Rectangle Body",position:{x:t,y:e},vertices:n.fromPath("L 0 0 L "+i+" 0 L "+i+" "+s+" L 0 "+s)};if(a.chamfer){var l=a.chamfer;h.vertices=n.chamfer(h.vertices,l.radius,l.quality,l.qualityMin,l.qualityMax),delete a.chamfer}return o.create(r.extend({},h,a))},s.trapezoid=function(t,e,i,s,a,h){h=h||{},a>=1&&r.warn("Bodies.trapezoid: slope parameter must be < 1.");var l,u=i*(a*=.5),c=u+(1-2*a)*i,d=c+u;l=a<.5?"L 0 0 L "+u+" "+-s+" L "+c+" "+-s+" L "+d+" 0":"L 0 0 L "+c+" "+-s+" L "+d+" 0";var f={label:"Trapezoid Body",position:{x:t,y:e},vertices:n.fromPath(l)};if(h.chamfer){var p=h.chamfer;f.vertices=n.chamfer(f.vertices,p.radius,p.quality,p.qualityMin,p.qualityMax),delete h.chamfer}return o.create(r.extend({},f,h))},s.circle=function(t,e,i,n,o){n=n||{};var a={label:"Circle Body",circleRadius:i};o=o||25;var h=Math.ceil(Math.max(10,Math.min(o,i)));return h%2==1&&(h+=1),s.polygon(t,e,h,i,r.extend({},a,n))},s.polygon=function(t,e,i,a,h){if(h=h||{},i<3)return s.circle(t,e,a,h);for(var l=2*Math.PI/i,u="",c=.5*l,d=0;d<i;d+=1){var f=c+d*l,p=Math.cos(f)*a,g=Math.sin(f)*a;u+="L "+p.toFixed(3)+" "+g.toFixed(3)+" "}var m={label:"Polygon Body",position:{x:t,y:e},vertices:n.fromPath(u)};if(h.chamfer){var v=h.chamfer;m.vertices=n.chamfer(m.vertices,v.radius,v.quality,v.qualityMin,v.qualityMax),delete h.chamfer}return o.create(r.extend({},m,h))},s.fromVertices=function(t,e,i,s,l,u,c,d){var f,p,g,m,v,y,x,T,w,b,S=r.getDecomp();for(f=Boolean(S&&S.quickDecomp),s=s||{},g=[],l=void 0!==l&&l,u=void 0!==u?u:.01,c=void 0!==c?c:10,d=void 0!==d?d:.01,r.isArray(i[0])||(i=[i]),w=0;w<i.length;w+=1)if(v=i[w],!(m=n.isConvex(v))&&!f&&r.warnOnce("Bodies.fromVertices: Install the 'poly-decomp' library and use Common.setDecomp or provide 'decomp' as a global to decompose concave vertices."),m||!f)v=m?n.clockwiseSort(v):n.hull(v),g.push({position:{x:t,y:e},vertices:v});else{var E=v.map(function(t){return[t.x,t.y]});S.makeCCW(E),!1!==u&&S.removeCollinearPoints(E,u),!1!==d&&S.removeDuplicatePoints&&S.removeDuplicatePoints(E,d);var C=S.quickDecomp(E);for(y=0;y<C.length;y++){var _=C[y].map(function(t){return{x:t[0],y:t[1]}});c>0&&n.area(_)<c||g.push({position:n.centre(_),vertices:_})}}for(y=0;y<g.length;y++)g[y]=o.create(r.extend(g[y],s));if(l)for(y=0;y<g.length;y++){var A=g[y];for(x=y+1;x<g.length;x++){var M=g[x];if(a.overlaps(A.bounds,M.bounds)){var P=A.vertices,R=M.vertices;for(T=0;T<A.vertices.length;T++)for(b=0;b<M.vertices.length;b++){var I=h.magnitudeSquared(h.sub(P[(T+1)%P.length],R[b])),O=h.magnitudeSquared(h.sub(P[T],R[(b+1)%R.length]));I<5&&O<5&&(P[T].isInternal=!0,R[b].isInternal=!0)}}}}return g.length>1?(p=o.create(r.extend({parts:g.slice(0)},s)),o.setPosition(p,{x:t,y:e}),p):g[0]},s.flagCoincidentParts=function(t,e){void 0===e&&(e=5);for(var i=0;i<t.length;i++)for(var s=t[i],n=i+1;n<t.length;n++){var r=t[n];if(a.overlaps(s.bounds,r.bounds))for(var o=s.vertices,l=r.vertices,u=0;u<s.vertices.length;u++)for(var c=0;c<r.vertices.length;c++){var d=h.magnitudeSquared(h.sub(o[(u+1)%o.length],l[c])),f=h.magnitudeSquared(h.sub(o[u],l[(c+1)%l.length]));d<e&&f<e&&(o[u].isInternal=!0,l[c].isInternal=!0)}}return t}},74116:(t,e,i)=>{var s={};t.exports=s;var n=i(69351),r=i(48140),o=i(53402),a=i(22562),h=i(66280);s.stack=function(t,e,i,s,r,o,h){for(var l,u=n.create({label:"Stack"}),c=t,d=e,f=0,p=0;p<s;p++){for(var g=0,m=0;m<i;m++){var v=h(c,d,m,p,l,f);if(v){var y=v.bounds.max.y-v.bounds.min.y,x=v.bounds.max.x-v.bounds.min.x;y>g&&(g=y),a.translate(v,{x:.5*x,y:.5*y}),c=v.bounds.max.x+r,n.addBody(u,v),l=v,f+=1}else c+=r}d+=g+o,c=t}return u},s.chain=function(t,e,i,s,a,h){for(var l=t.bodies,u=1;u<l.length;u++){var c=l[u-1],d=l[u],f=c.bounds.max.y-c.bounds.min.y,p=c.bounds.max.x-c.bounds.min.x,g=d.bounds.max.y-d.bounds.min.y,m={bodyA:c,pointA:{x:p*e,y:f*i},bodyB:d,pointB:{x:(d.bounds.max.x-d.bounds.min.x)*s,y:g*a}},v=o.extend(m,h);n.addConstraint(t,r.create(v))}return t.label+=" Chain",t},s.mesh=function(t,e,i,s,a){var h,l,u,c,d,f=t.bodies;for(h=0;h<i;h++){for(l=1;l<e;l++)u=f[l-1+h*e],c=f[l+h*e],n.addConstraint(t,r.create(o.extend({bodyA:u,bodyB:c},a)));if(h>0)for(l=0;l<e;l++)u=f[l+(h-1)*e],c=f[l+h*e],n.addConstraint(t,r.create(o.extend({bodyA:u,bodyB:c},a))),s&&l>0&&(d=f[l-1+(h-1)*e],n.addConstraint(t,r.create(o.extend({bodyA:d,bodyB:c},a)))),s&&l<e-1&&(d=f[l+1+(h-1)*e],n.addConstraint(t,r.create(o.extend({bodyA:d,bodyB:c},a))))}return t.label+=" Mesh",t},s.pyramid=function(t,e,i,n,r,o,h){return s.stack(t,e,i,n,r,o,function(e,s,o,l,u,c){var d=Math.min(n,Math.ceil(i/2)),f=u?u.bounds.max.x-u.bounds.min.x:0;if(!(l>d||o<(l=d-l)||o>i-1-l))return 1===c&&a.translate(u,{x:(o+(i%2==1?1:-1))*f,y:0}),h(t+(u?o*f:0)+o*r,s,o,l,u,c)})},s.newtonsCradle=function(t,e,i,s,o){for(var a=n.create({label:"Newtons Cradle"}),l=0;l<i;l++){var u=h.circle(t+l*(1.9*s),e+o,s,{inertia:1/0,restitution:1,friction:0,frictionAir:1e-4,slop:1}),c=r.create({pointA:{x:t+l*(1.9*s),y:e},bodyB:u});n.addBody(a,u),n.addConstraint(a,c)}return a},s.car=function(t,e,i,s,o){var l=a.nextGroup(!0),u=.5*-i+20,c=.5*i-20,d=n.create({label:"Car"}),f=h.rectangle(t,e,i,s,{collisionFilter:{group:l},chamfer:{radius:.5*s},density:2e-4}),p=h.circle(t+u,e+0,o,{collisionFilter:{group:l},friction:.8}),g=h.circle(t+c,e+0,o,{collisionFilter:{group:l},friction:.8}),m=r.create({bodyB:f,pointB:{x:u,y:0},bodyA:p,stiffness:1,length:0}),v=r.create({bodyB:f,pointB:{x:c,y:0},bodyA:g,stiffness:1,length:0});return n.addBody(d,f),n.addBody(d,p),n.addBody(d,g),n.addConstraint(d,m),n.addConstraint(d,v),d},s.softBody=function(t,e,i,n,r,a,l,u,c,d){c=o.extend({inertia:1/0},c),d=o.extend({stiffness:.2,render:{type:"line",anchors:!1}},d);var f=s.stack(t,e,i,n,r,a,function(t,e){return h.circle(t,e,u,c)});return s.mesh(f,i,n,l,d),f.label="Soft Body",f}},66615:(t,e,i)=>{var s={};t.exports=s;var n=i(31725),r=i(53402);s.fromVertices=function(t){for(var e={},i=0;i<t.length;i++){var s=(i+1)%t.length,o=n.normalise({x:t[s].y-t[i].y,y:t[i].x-t[s].x}),a=0===o.y?1/0:o.x/o.y;e[a=a.toFixed(3).toString()]=o}return r.values(e)},s.rotate=function(t,e){if(0!==e)for(var i=Math.cos(e),s=Math.sin(e),n=0;n<t.length;n++){var r,o=t[n];r=o.x*i-o.y*s,o.y=o.x*s+o.y*i,o.x=r}}},15647:t=>{var e={};t.exports=e,e.create=function(t){var i={min:{x:0,y:0},max:{x:0,y:0}};return t&&e.update(i,t),i},e.update=function(t,e,i){t.min.x=1/0,t.max.x=-1/0,t.min.y=1/0,t.max.y=-1/0;for(var s=0;s<e.length;s++){var n=e[s];n.x>t.max.x&&(t.max.x=n.x),n.x<t.min.x&&(t.min.x=n.x),n.y>t.max.y&&(t.max.y=n.y),n.y<t.min.y&&(t.min.y=n.y)}i&&(i.x>0?t.max.x+=i.x:t.min.x+=i.x,i.y>0?t.max.y+=i.y:t.min.y+=i.y)},e.contains=function(t,e){return e.x>=t.min.x&&e.x<=t.max.x&&e.y>=t.min.y&&e.y<=t.max.y},e.overlaps=function(t,e){return t.min.x<=e.max.x&&t.max.x>=e.min.x&&t.max.y>=e.min.y&&t.min.y<=e.max.y},e.translate=function(t,e){t.min.x+=e.x,t.max.x+=e.x,t.min.y+=e.y,t.max.y+=e.y},e.shift=function(t,e){var i=t.max.x-t.min.x,s=t.max.y-t.min.y;t.min.x=e.x,t.max.x=e.x+i,t.min.y=e.y,t.max.y=e.y+s},e.wrap=function(t,e,i){var s=null,n=null;if(void 0!==e.min.x&&void 0!==e.max.x&&(t.min.x>e.max.x?s=e.min.x-t.max.x:t.max.x<e.min.x&&(s=e.max.x-t.min.x)),void 0!==e.min.y&&void 0!==e.max.y&&(t.min.y>e.max.y?n=e.min.y-t.max.y:t.max.y<e.min.y&&(n=e.max.y-t.min.y)),null!==s||null!==n)return{x:s||0,y:n||0}}},74058:(t,e,i)=>{var s={};t.exports=s,i(15647);var n=i(53402);s.pathToVertices=function(t,e){"undefined"==typeof window||"SVGPathSeg"in window||n.warn("Svg.pathToVertices: SVGPathSeg not defined, a polyfill is required.");var i,r,o,a,h,l,u,c,d,f,p,g=[],m=0,v=0,y=0;e=e||15;var x=function(t,e,i){var s=i%2==1&&i>1;if(!d||t!=d.x||e!=d.y){d&&s?(f=d.x,p=d.y):(f=0,p=0);var n={x:f+t,y:p+e};!s&&d||(d=n),g.push(n),v=f+t,y=p+e}},T=function(t){var e=t.pathSegTypeAsLetter.toUpperCase();if("Z"!==e){switch(e){case"M":case"L":case"T":case"C":case"S":case"Q":v=t.x,y=t.y;break;case"H":v=t.x;break;case"V":y=t.y}x(v,y,t.pathSegType)}};for(s._svgPathToAbsolute(t),o=t.getTotalLength(),l=[],i=0;i<t.pathSegList.numberOfItems;i+=1)l.push(t.pathSegList.getItem(i));for(u=l.concat();m<o;){if((h=l[t.getPathSegAtLength(m)])!=c){for(;u.length&&u[0]!=h;)T(u.shift());c=h}switch(h.pathSegTypeAsLetter.toUpperCase()){case"C":case"T":case"S":case"Q":case"A":a=t.getPointAtLength(m),x(a.x,a.y,0)}m+=e}for(i=0,r=u.length;i<r;++i)T(u[i]);return g},s._svgPathToAbsolute=function(t){for(var e,i,s,n,r,o,a=t.pathSegList,h=0,l=0,u=a.numberOfItems,c=0;c<u;++c){var d=a.getItem(c),f=d.pathSegTypeAsLetter;if(/[MLHVCSQTA]/.test(f))"x"in d&&(h=d.x),"y"in d&&(l=d.y);else switch("x1"in d&&(s=h+d.x1),"x2"in d&&(r=h+d.x2),"y1"in d&&(n=l+d.y1),"y2"in d&&(o=l+d.y2),"x"in d&&(h+=d.x),"y"in d&&(l+=d.y),f){case"m":a.replaceItem(t.createSVGPathSegMovetoAbs(h,l),c);break;case"l":a.replaceItem(t.createSVGPathSegLinetoAbs(h,l),c);break;case"h":a.replaceItem(t.createSVGPathSegLinetoHorizontalAbs(h),c);break;case"v":a.replaceItem(t.createSVGPathSegLinetoVerticalAbs(l),c);break;case"c":a.replaceItem(t.createSVGPathSegCurvetoCubicAbs(h,l,s,n,r,o),c);break;case"s":a.replaceItem(t.createSVGPathSegCurvetoCubicSmoothAbs(h,l,r,o),c);break;case"q":a.replaceItem(t.createSVGPathSegCurvetoQuadraticAbs(h,l,s,n),c);break;case"t":a.replaceItem(t.createSVGPathSegCurvetoQuadraticSmoothAbs(h,l),c);break;case"a":a.replaceItem(t.createSVGPathSegArcAbs(h,l,d.r1,d.r2,d.angle,d.largeArcFlag,d.sweepFlag),c);break;case"z":case"Z":h=e,l=i}"M"!=f&&"m"!=f||(e=h,i=l)}}},31725:t=>{var e={};t.exports=e,e.create=function(t,e){return{x:t||0,y:e||0}},e.clone=function(t){return{x:t.x,y:t.y}},e.magnitude=function(t){return Math.sqrt(t.x*t.x+t.y*t.y)},e.magnitudeSquared=function(t){return t.x*t.x+t.y*t.y},e.rotate=function(t,e,i){var s=Math.cos(e),n=Math.sin(e);i||(i={});var r=t.x*s-t.y*n;return i.y=t.x*n+t.y*s,i.x=r,i},e.rotateAbout=function(t,e,i,s){var n=Math.cos(e),r=Math.sin(e);s||(s={});var o=i.x+((t.x-i.x)*n-(t.y-i.y)*r);return s.y=i.y+((t.x-i.x)*r+(t.y-i.y)*n),s.x=o,s},e.normalise=function(t){var i=e.magnitude(t);return 0===i?{x:0,y:0}:{x:t.x/i,y:t.y/i}},e.dot=function(t,e){return t.x*e.x+t.y*e.y},e.cross=function(t,e){return t.x*e.y-t.y*e.x},e.cross3=function(t,e,i){return(e.x-t.x)*(i.y-t.y)-(e.y-t.y)*(i.x-t.x)},e.add=function(t,e,i){return i||(i={}),i.x=t.x+e.x,i.y=t.y+e.y,i},e.sub=function(t,e,i){return i||(i={}),i.x=t.x-e.x,i.y=t.y-e.y,i},e.mult=function(t,e){return{x:t.x*e,y:t.y*e}},e.div=function(t,e){return{x:t.x/e,y:t.y/e}},e.perp=function(t,e){return{x:(e=!0===e?-1:1)*-t.y,y:e*t.x}},e.neg=function(t){return{x:-t.x,y:-t.y}},e.angle=function(t,e){return Math.atan2(e.y-t.y,e.x-t.x)},e._temp=[e.create(),e.create(),e.create(),e.create(),e.create(),e.create()]},41598:(t,e,i)=>{var s={};t.exports=s;var n=i(31725),r=i(53402);s.create=function(t,e){for(var i=[],s=0;s<t.length;s++){var n=t[s],r={x:n.x,y:n.y,index:s,body:e,isInternal:!1};i.push(r)}return i},s.fromPath=function(t,e){var i=[];return t.replace(/L?\s*([-\d.e]+)[\s,]*([-\d.e]+)*/gi,function(t,e,s){i.push({x:parseFloat(e),y:parseFloat(s)})}),s.create(i,e)},s.centre=function(t){for(var e,i,r,o=s.area(t,!0),a={x:0,y:0},h=0;h<t.length;h++)r=(h+1)%t.length,e=n.cross(t[h],t[r]),i=n.mult(n.add(t[h],t[r]),e),a=n.add(a,i);return n.div(a,6*o)},s.mean=function(t){for(var e={x:0,y:0},i=0;i<t.length;i++)e.x+=t[i].x,e.y+=t[i].y;return n.div(e,t.length)},s.area=function(t,e){for(var i=0,s=t.length-1,n=0;n<t.length;n++)i+=(t[s].x-t[n].x)*(t[s].y+t[n].y),s=n;return e?i/2:Math.abs(i)/2},s.inertia=function(t,e){for(var i,s,r=0,o=0,a=t,h=0;h<a.length;h++)s=(h+1)%a.length,r+=(i=Math.abs(n.cross(a[s],a[h])))*(n.dot(a[s],a[s])+n.dot(a[s],a[h])+n.dot(a[h],a[h])),o+=i;return e/6*(r/o)},s.translate=function(t,e,i){i=void 0!==i?i:1;var s,n=t.length,r=e.x*i,o=e.y*i;for(s=0;s<n;s++)t[s].x+=r,t[s].y+=o;return t},s.rotate=function(t,e,i){if(0!==e){var s,n,r,o,a=Math.cos(e),h=Math.sin(e),l=i.x,u=i.y,c=t.length;for(o=0;o<c;o++)n=(s=t[o]).x-l,r=s.y-u,s.x=l+(n*a-r*h),s.y=u+(n*h+r*a);return t}},s.contains=function(t,e){for(var i,s=e.x,n=e.y,r=t.length,o=t[r-1],a=0;a<r;a++){if(i=t[a],(s-o.x)*(i.y-o.y)+(n-o.y)*(o.x-i.x)>0)return!1;o=i}return!0},s.scale=function(t,e,i,r){if(1===e&&1===i)return t;var o,a;r=r||s.centre(t);for(var h=0;h<t.length;h++)o=t[h],a=n.sub(o,r),t[h].x=r.x+a.x*e,t[h].y=r.y+a.y*i;return t},s.chamfer=function(t,e,i,s,o){e="number"==typeof e?[e]:e||[8],i=void 0!==i?i:-1,s=s||2,o=o||14;for(var a=[],h=0;h<t.length;h++){var l=t[h-1>=0?h-1:t.length-1],u=t[h],c=t[(h+1)%t.length],d=e[h<e.length?h:e.length-1];if(0!==d){var f=n.normalise({x:u.y-l.y,y:l.x-u.x}),p=n.normalise({x:c.y-u.y,y:u.x-c.x}),g=Math.sqrt(2*Math.pow(d,2)),m=n.mult(r.clone(f),d),v=n.normalise(n.mult(n.add(f,p),.5)),y=n.sub(u,n.mult(v,g)),x=i;-1===i&&(x=1.75*Math.pow(d,.32)),(x=r.clamp(x,s,o))%2==1&&(x+=1);for(var T=Math.acos(n.dot(f,p))/x,w=0;w<x;w++)a.push(n.add(n.rotate(m,T*w),y))}else a.push(u)}return a},s.clockwiseSort=function(t){var e=s.mean(t);return t.sort(function(t,i){return n.angle(e,t)-n.angle(e,i)}),t},s.isConvex=function(t){var e,i,s,n,r=0,o=t.length;if(o<3)return null;for(e=0;e<o;e++)if(s=(e+2)%o,n=(t[i=(e+1)%o].x-t[e].x)*(t[s].y-t[i].y),(n-=(t[i].y-t[e].y)*(t[s].x-t[i].x))<0?r|=1:n>0&&(r|=2),3===r)return!1;return 0!==r||null},s.hull=function(t){var e,i,s=[],r=[];for((t=t.slice(0)).sort(function(t,e){var i=t.x-e.x;return 0!==i?i:t.y-e.y}),i=0;i<t.length;i+=1){for(e=t[i];r.length>=2&&n.cross3(r[r.length-2],r[r.length-1],e)<=0;)r.pop();r.push(e)}for(i=t.length-1;i>=0;i-=1){for(e=t[i];s.length>=2&&n.cross3(s[s.length-2],s[s.length-1],e)<=0;)s.pop();s.push(e)}return s.pop(),r.pop(),s.concat(r)}},55973:t=>{function e(t,e,i){i=i||0;var s,n,r,o,a,h,l,u=[0,0];return s=t[1][1]-t[0][1],n=t[0][0]-t[1][0],r=s*t[0][0]+n*t[0][1],o=e[1][1]-e[0][1],a=e[0][0]-e[1][0],h=o*e[0][0]+a*e[0][1],S(l=s*a-o*n,0,i)||(u[0]=(a*r-n*h)/l,u[1]=(s*h-o*r)/l),u}function i(t,e,i,s){var n=e[0]-t[0],r=e[1]-t[1],o=s[0]-i[0],a=s[1]-i[1];if(o*r-a*n===0)return!1;var h=(n*(i[1]-t[1])+r*(t[0]-i[0]))/(o*r-a*n),l=(o*(t[1]-i[1])+a*(i[0]-t[0]))/(a*n-o*r);return h>=0&&h<=1&&l>=0&&l<=1}function s(t,e,i){return(e[0]-t[0])*(i[1]-t[1])-(i[0]-t[0])*(e[1]-t[1])}function n(t,e,i){return s(t,e,i)>0}function r(t,e,i){return s(t,e,i)>=0}function o(t,e,i){return s(t,e,i)<0}function a(t,e,i){return s(t,e,i)<=0}
/**
                     * @author       Stefan Hedman <schteppe@gmail.com> (http://steffe.se)
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports={decomp:function(t){var e=T(t);return e.length>0?w(t,e):[t]},quickDecomp:function t(e,i,s,h,l,u,g){u=u||100,g=g||0,l=l||25,i=void 0!==i?i:[],s=s||[],h=h||[];var m=[0,0],v=[0,0],x=[0,0],T=0,w=0,S=0,E=0,C=0,_=0,A=0,M=[],P=[],R=e,I=e;if(I.length<3)return i;if(++g>u)return i;for(var O=0;O<e.length;++O)if(p(R,O)){s.push(R[O]),T=w=Number.MAX_VALUE;for(var L=0;L<e.length;++L)n(d(R,O-1),d(R,O),d(R,L))&&a(d(R,O-1),d(R,O),d(R,L-1))&&(x=b(d(R,O-1),d(R,O),d(R,L),d(R,L-1)),o(d(R,O+1),d(R,O),x)&&(S=c(R[O],x))<w&&(w=S,v=x,_=L)),n(d(R,O+1),d(R,O),d(R,L+1))&&a(d(R,O+1),d(R,O),d(R,L))&&(x=b(d(R,O+1),d(R,O),d(R,L),d(R,L+1)),n(d(R,O-1),d(R,O),x)&&(S=c(R[O],x))<T&&(T=S,m=x,C=L));if(_===(C+1)%e.length)x[0]=(v[0]+m[0])/2,x[1]=(v[1]+m[1])/2,h.push(x),O<C?(f(M,R,O,C+1),M.push(x),P.push(x),0!==_&&f(P,R,_,R.length),f(P,R,0,O+1)):(0!==O&&f(M,R,O,R.length),f(M,R,0,C+1),M.push(x),P.push(x),f(P,R,_,O+1));else{if(_>C&&(C+=e.length),E=Number.MAX_VALUE,C<_)return i;for(L=_;L<=C;++L)r(d(R,O-1),d(R,O),d(R,L))&&a(d(R,O+1),d(R,O),d(R,L))&&(S=c(d(R,O),d(R,L)))<E&&y(R,O,L)&&(E=S,A=L%e.length);O<A?(f(M,R,O,A+1),0!==A&&f(P,R,A,I.length),f(P,R,0,O+1)):(0!==O&&f(M,R,O,I.length),f(M,R,0,A+1),f(P,R,A,O+1))}return M.length<P.length?(t(M,i,s,h,l,u,g),t(P,i,s,h,l,u,g)):(t(P,i,s,h,l,u,g),t(M,i,s,h,l,u,g)),i}return i.push(e),i},isSimple:function(t){var e,s=t;for(e=0;e<s.length-1;e++)for(var n=0;n<e-1;n++)if(i(s[e],s[e+1],s[n],s[n+1]))return!1;for(e=1;e<s.length-2;e++)if(i(s[0],s[s.length-1],s[e],s[e+1]))return!1;return!0},removeCollinearPoints:function(t,e){for(var i=0,s=t.length-1;t.length>3&&s>=0;--s)u(d(t,s-1),d(t,s),d(t,s+1),e)&&(t.splice(s%t.length,1),i++);return i},removeDuplicatePoints:function(t,e){for(var i=t.length-1;i>=1;--i)for(var s=t[i],n=i-1;n>=0;--n)E(s,t[n],e)&&t.splice(i,1)},makeCCW:function(t){for(var e=0,i=t,s=1;s<t.length;++s)(i[s][1]<i[e][1]||i[s][1]===i[e][1]&&i[s][0]>i[e][0])&&(e=s);return!n(d(t,e-1),d(t,e),d(t,e+1))&&(function(t){for(var e=[],i=t.length,s=0;s!==i;s++)e.push(t.pop());for(s=0;s!==i;s++)t[s]=e[s]}(t),!0)}};var h=[],l=[];function u(t,e,i,n){if(n){var r=h,o=l;r[0]=e[0]-t[0],r[1]=e[1]-t[1],o[0]=i[0]-e[0],o[1]=i[1]-e[1];var a=r[0]*o[0]+r[1]*o[1],u=Math.sqrt(r[0]*r[0]+r[1]*r[1]),c=Math.sqrt(o[0]*o[0]+o[1]*o[1]);return Math.acos(a/(u*c))<n}return 0===s(t,e,i)}function c(t,e){var i=e[0]-t[0],s=e[1]-t[1];return i*i+s*s}function d(t,e){var i=t.length;return t[e<0?e%i+i:e%i]}function f(t,e,i,s){for(var n=i;n<s;n++)t.push(e[n])}function p(t,e){return o(d(t,e-1),d(t,e),d(t,e+1))}var g=[],m=[];function v(t,i,s){var n,o,h=g,l=m;if(r(d(t,i+1),d(t,i),d(t,s))&&a(d(t,i-1),d(t,i),d(t,s)))return!1;o=c(d(t,i),d(t,s));for(var u=0;u!==t.length;++u)if((u+1)%t.length!==i&&u!==i&&r(d(t,i),d(t,s),d(t,u+1))&&a(d(t,i),d(t,s),d(t,u))&&(h[0]=d(t,i),h[1]=d(t,s),l[0]=d(t,u),l[1]=d(t,u+1),n=e(h,l),c(d(t,i),n)<o))return!1;return!0}function y(t,e,s){for(var n=0;n!==t.length;++n)if(n!==e&&n!==s&&(n+1)%t.length!==e&&(n+1)%t.length!==s&&i(d(t,e),d(t,s),d(t,n),d(t,n+1)))return!1;return!0}function x(t,e,i,s){var n=s||[];if(function(t){t.length=0}(n),e<i)for(var r=e;r<=i;r++)n.push(t[r]);else{for(r=0;r<=i;r++)n.push(t[r]);for(r=e;r<t.length;r++)n.push(t[r])}return n}function T(t){for(var e=[],i=[],s=[],n=[],r=Number.MAX_VALUE,o=0;o<t.length;++o)if(p(t,o))for(var a=0;a<t.length;++a)if(v(t,o,a)){i=T(x(t,o,a,n)),s=T(x(t,a,o,n));for(var h=0;h<s.length;h++)i.push(s[h]);i.length<r&&(e=i,r=i.length,e.push([d(t,o),d(t,a)]))}return e}function w(t,e){if(0===e.length)return[t];if(e instanceof Array&&e.length&&e[0]instanceof Array&&2===e[0].length&&e[0][0]instanceof Array){for(var i=[t],s=0;s<e.length;s++)for(var n=e[s],r=0;r<i.length;r++){var o=w(i[r],n);if(o){i.splice(r,1),i.push(o[0],o[1]);break}}return i}return n=e,s=t.indexOf(n[0]),r=t.indexOf(n[1]),-1!==s&&-1!==r&&[x(t,s,r),x(t,r,s)]}function b(t,e,i,s,n){n=n||0;var r=e[1]-t[1],o=t[0]-e[0],a=r*t[0]+o*t[1],h=s[1]-i[1],l=i[0]-s[0],u=h*i[0]+l*i[1],c=r*l-h*o;return S(c,0,n)?[0,0]:[(l*a-o*u)/c,(r*u-h*a)/c]}function S(t,e,i){return i=i||0,Math.abs(t-e)<=i}function E(t,e,i){return S(t[0],e[0],i)&&S(t[1],e[1],i)}},52018:(t,e,i)=>{
/**
                    * @author       Richard Davey <rich@phaser.io>
                    * @copyright    2013-2025 Phaser Studio Inc.
                    * @license      {@link https://github.com/photonstorm/phaser3-plugin-template/blob/master/LICENSE|MIT License}
                    */
var s=new(i(83419))({initialize:function(t){this.pluginManager=t,this.game=t.game},init:function(){},start:function(){},stop:function(){},destroy:function(){this.pluginManager=null,this.game=null,this.scene=null,this.systems=null}});t.exports=s},42363:t=>{t.exports={Global:["game","anims","cache","plugins","registry","scale","sound","textures","renderer"],CoreScene:["EventEmitter","CameraManager","GameObjectCreator","GameObjectFactory","ScenePlugin","DisplayList","UpdateList"],DefaultScene:["Clock","DataManagerPlugin","InputPlugin","Loader","TweenManager","LightsPlugin"]}},37277:t=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var e={},i={},s={register:function(t,i,s,n){void 0===n&&(n=!1),e[t]={plugin:i,mapping:s,custom:n}},registerCustom:function(t,e,s,n){i[t]={plugin:e,mapping:s,data:n}},hasCore:function(t){return e.hasOwnProperty(t)},hasCustom:function(t){return i.hasOwnProperty(t)},getCore:function(t){return e[t]},getCustom:function(t){return i[t]},getCustomClass:function(t){return i.hasOwnProperty(t)?i[t].plugin:null},remove:function(t){e.hasOwnProperty(t)&&delete e[t]},removeCustom:function(t){i.hasOwnProperty(t)&&delete i[t]},destroyCorePlugins:function(){for(var t in e)e.hasOwnProperty(t)&&delete e[t]},destroyCustomPlugins:function(){for(var t in i)i.hasOwnProperty(t)&&delete i[t]}};t.exports=s},77332:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(83419),n=i(8443),r=i(50792),o=i(74099),a=i(44603),h=i(39429),l=i(95540),u=i(37277),c=i(72905),d=i(8054),f=new s({Extends:r,initialize:function(t){r.call(this),this.game=t,this.plugins=[],this.scenePlugins=[],this._pendingGlobal=[],this._pendingScene=[],t.isBooted||t.config.renderType===d.HEADLESS?this.boot():t.events.once(n.BOOT,this.boot,this)},boot:function(){var t,e,i,s,r,o,a,h=this.game.config,u=h.installGlobalPlugins;for(u=u.concat(this._pendingGlobal),t=0;t<u.length;t++)e=u[t],i=l(e,"key",null),s=l(e,"plugin",null),r=l(e,"start",!1),o=l(e,"mapping",null),a=l(e,"data",null),i&&s&&this.install(i,s,r,o,a);for(u=(u=h.installScenePlugins).concat(this._pendingScene),t=0;t<u.length;t++)e=u[t],i=l(e,"key",null),s=l(e,"plugin",null),o=l(e,"mapping",null),i&&s&&this.installScenePlugin(i,s,o);this._pendingGlobal=[],this._pendingScene=[],this.game.events.once(n.DESTROY,this.destroy,this)},addToScene:function(t,e,i){var s,n,r,o=this.game,a=t.scene,h=t.settings.map,l=t.settings.isBooted;for(s=0;s<e.length;s++)o[n=e[s]]?(t[n]=o[n],h.hasOwnProperty(n)&&(a[h[n]]=t[n])):"game"===n&&h.hasOwnProperty(n)&&(a[h[n]]=o);for(var c=0;c<i.length;c++)for(r=i[c],s=0;s<r.length;s++)if(n=r[s],u.hasCore(n)){var d=u.getCore(n),f=d.mapping,p=new d.plugin(a,this,f);t[f]=p,d.custom?a[f]=p:h.hasOwnProperty(f)&&(a[h[f]]=p),l&&p.boot()}for(r=this.plugins,s=0;s<r.length;s++){var g=r[s];g.mapping&&(a[g.mapping]=g.plugin)}},getDefaultScenePlugins:function(){var t=this.game.config.defaultPlugins;return t=t.concat(this.scenePlugins)},installScenePlugin:function(t,e,i,s,n){if(void 0===n&&(n=!1),"function"==typeof e){if(u.hasCore(t)||u.register(t,e,i,!0),-1===this.scenePlugins.indexOf(t))this.scenePlugins.push(t);else if(!n&&u.hasCore(t))return;if(s){var r=new e(s,this,t);s.sys[t]=r,i&&""!==i&&(s[i]=r),r.boot()}}},install:function(t,e,i,s,n){if(void 0===i&&(i=!1),void 0===s&&(s=null),void 0===n&&(n=null),"function"!=typeof e)return null;if(u.hasCustom(t))return null;if(null!==s&&(i=!0),this.game.isBooted){if(u.registerCustom(t,e,s,n),i)return this.start(t)}else this._pendingGlobal.push({key:t,plugin:e,start:i,mapping:s,data:n});return null},getIndex:function(t){for(var e=this.plugins,i=0;i<e.length;i++)if(e[i].key===t)return i;return-1},getEntry:function(t){var e=this.getIndex(t);if(-1!==e)return this.plugins[e]},isActive:function(t){var e=this.getEntry(t);return e&&e.active},start:function(t,e){void 0===e&&(e=t);var i=this.getEntry(e);return i&&!i.active?(i.active=!0,i.plugin.start()):i||(i=this.createEntry(t,e)),i?i.plugin:null},createEntry:function(t,e){var i=u.getCustom(t);if(i){var s=new i.plugin(this);i={key:e,plugin:s,active:!0,mapping:i.mapping,data:i.data},this.plugins.push(i),s.init(i.data),s.start()}return i},stop:function(t){var e=this.getEntry(t);return e&&e.active&&(e.active=!1,e.plugin.stop()),this},get:function(t,e){void 0===e&&(e=!0);var i=this.getEntry(t);if(i)return i.plugin;var s=this.getClass(t);return s&&e?(i=this.createEntry(t,t))?i.plugin:null:s||null},getClass:function(t){return u.getCustomClass(t)},removeGlobalPlugin:function(t){var e=this.getEntry(t);e&&c(this.plugins,e),u.removeCustom(t)},removeScenePlugin:function(t){c(this.scenePlugins,t),u.remove(t)},registerGameObject:function(t,e,i){return e&&h.register(t,e),i&&a.register(t,i),this},removeGameObject:function(t,e,i){return void 0===e&&(e=!0),void 0===i&&(i=!0),e&&h.remove(t),i&&a.remove(t),this},registerFileType:function(t,e,i){o.register(t,e),i&&i.sys.load&&(i.sys.load[t]=e)},destroy:function(){for(var t=0;t<this.plugins.length;t++)this.plugins[t].plugin.destroy();u.destroyCustomPlugins(),this.game.noReturn&&u.destroyCorePlugins(),this.game=null,this.plugins=[],this.scenePlugins=[]}});t.exports=f},45145:(t,e,i)=>{
/**
                    * @author       Richard Davey <rich@phaser.io>
                    * @copyright    2013-2025 Phaser Studio Inc.
                    * @license      {@link https://github.com/photonstorm/phaser3-plugin-template/blob/master/LICENSE|MIT License}
                    */
var s=i(52018),n=i(83419),r=i(44594),o=new n({Extends:s,initialize:function(t,e,i){s.call(this,e),this.scene=t,this.systems=t.sys,this.pluginKey=i,t.sys.events.once(r.BOOT,this.boot,this)},boot:function(){},destroy:function(){this.pluginManager=null,this.game=null,this.scene=null,this.systems=null}});t.exports=o},18922:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports={BasePlugin:i(52018),DefaultPlugins:i(42363),PluginCache:i(37277),PluginManager:i(77332),ScenePlugin:i(45145)}},63595:()=>{"undefined"!=typeof HTMLVideoElement&&!("requestVideoFrameCallback"in HTMLVideoElement.prototype)&&"getVideoPlaybackQuality"in HTMLVideoElement.prototype&&(HTMLVideoElement.prototype._rvfcpolyfillmap={},HTMLVideoElement.prototype.requestVideoFrameCallback=function(t){const e=performance.now(),i=this.getVideoPlaybackQuality(),s=this.mozPresentedFrames||this.mozPaintedFrames||i.totalVideoFrames-i.droppedVideoFrames,n=(r,o)=>{const a=this.getVideoPlaybackQuality(),h=this.mozPresentedFrames||this.mozPaintedFrames||a.totalVideoFrames-a.droppedVideoFrames;if(h>s){const s=this.mozFrameDelay||a.totalFrameDelay-i.totalFrameDelay||0,n=o-r;t(o,{presentationTime:o+1e3*s,expectedDisplayTime:o+n,width:this.videoWidth,height:this.videoHeight,mediaTime:Math.max(0,this.currentTime||0)+n/1e3,presentedFrames:h,processingDuration:s}),delete this._rvfcpolyfillmap[e]}else this._rvfcpolyfillmap[e]=requestAnimationFrame(t=>n(o,t))};return this._rvfcpolyfillmap[e]=requestAnimationFrame(t=>n(e,t)),e},HTMLVideoElement.prototype.cancelVideoFrameCallback=function(t){cancelAnimationFrame(this._rvfcpolyfillmap[t]),delete this._rvfcpolyfillmap[t]})},10312:t=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports={SKIP_CHECK:-1,NORMAL:0,ADD:1,MULTIPLY:2,SCREEN:3,OVERLAY:4,DARKEN:5,LIGHTEN:6,COLOR_DODGE:7,COLOR_BURN:8,HARD_LIGHT:9,SOFT_LIGHT:10,DIFFERENCE:11,EXCLUSION:12,HUE:13,SATURATION:14,COLOR:15,LUMINOSITY:16,ERASE:17,SOURCE_IN:18,SOURCE_OUT:19,SOURCE_ATOP:20,DESTINATION_OVER:21,DESTINATION_IN:22,DESTINATION_OUT:23,DESTINATION_ATOP:24,LIGHTER:25,COPY:26,XOR:27}},29795:t=>{t.exports={DEFAULT:0,LINEAR:0,NEAREST:1}},68627:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @author       Felipe Alfonso <@bitnenfer>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(19715),n=i(32880),r=i(83419),o=i(8054),a=i(50792),h=i(92503),l=i(56373),u=i(97480),c=i(69442),d=i(8443),f=i(61340),p=new r({Extends:a,initialize:function(t){a.call(this);var e=t.config;this.config={clearBeforeRender:e.clearBeforeRender,backgroundColor:e.backgroundColor,antialias:e.antialias,roundPixels:e.roundPixels,transparent:e.transparent},this.game=t,this.type=o.CANVAS,this.drawCount=0,this.width=0,this.height=0,this.gameCanvas=t.canvas;var i={alpha:e.transparent,desynchronized:e.desynchronized,willReadFrequently:!1};this.gameContext=e.context?e.context:this.gameCanvas.getContext("2d",i),this.currentContext=this.gameContext,this.antialias=e.antialias,this.blendModes=l(),this.snapshotState={x:0,y:0,width:1,height:1,getPixel:!1,callback:null,type:"image/png",encoder:.92},this._tempMatrix1=new f,this._tempMatrix2=new f,this._tempMatrix3=new f,this.isBooted=!1,this.init()},init:function(){var t=this.game;t.events.once(d.BOOT,function(){var t=this.config;if(!t.transparent){var e=this.gameContext,i=this.gameCanvas;e.fillStyle=t.backgroundColor.rgba,e.fillRect(0,0,i.width,i.height)}},this),t.textures.once(c.READY,this.boot,this)},boot:function(){var t=this.game,e=t.scale.baseSize;this.width=e.width,this.height=e.height,this.isBooted=!0,t.scale.on(u.RESIZE,this.onResize,this),this.resize(e.width,e.height)},onResize:function(t,e){e.width===this.width&&e.height===this.height||this.resize(e.width,e.height)},resize:function(t,e){this.width=t,this.height=e,this.emit(h.RESIZE,t,e)},resetTransform:function(){this.currentContext.setTransform(1,0,0,1,0,0)},setBlendMode:function(t){return this.currentContext.globalCompositeOperation=t,this},setContext:function(t){return this.currentContext=t||this.gameContext,this},setAlpha:function(t){return this.currentContext.globalAlpha=t,this},preRender:function(){var t=this.gameContext,e=this.config,i=this.width,s=this.height;t.globalAlpha=1,t.globalCompositeOperation="source-over",t.setTransform(1,0,0,1,0,0),this.emit(h.PRE_RENDER_CLEAR),e.clearBeforeRender&&(t.clearRect(0,0,i,s),e.transparent||(t.fillStyle=e.backgroundColor.rgba,t.fillRect(0,0,i,s))),t.save(),this.drawCount=0,this.emit(h.PRE_RENDER)},render:function(t,e,i){var n=e.length;this.emit(h.RENDER,t,i);var r=i.x,o=i.y,a=i.width,l=i.height,u=i.renderToTexture?i.context:t.sys.context;u.save(),this.game.scene.customViewports&&(u.beginPath(),u.rect(r,o,a,l),u.clip()),i.emit(s.PRE_RENDER,i),this.currentContext=u;var c=i.mask;c&&c.preRenderCanvas(this,null,i._maskCamera),i.transparent||(u.fillStyle=i.backgroundColor.rgba,u.fillRect(r,o,a,l)),u.globalAlpha=i.alpha,u.globalCompositeOperation="source-over",this.drawCount+=n,i.renderToTexture&&i.emit(s.PRE_RENDER,i),i.matrix.copyToContext(u);for(var d=0;d<n;d++){var f=e[d];f.mask&&f.mask.preRenderCanvas(this,f,i),f.renderCanvas(this,f,i),f.mask&&f.mask.postRenderCanvas(this,f,i)}u.setTransform(1,0,0,1,0,0),u.globalCompositeOperation="source-over",u.globalAlpha=1,i.flashEffect.postRenderCanvas(u),i.fadeEffect.postRenderCanvas(u),i.dirty=!1,c&&c.postRenderCanvas(this),u.restore(),i.renderToTexture&&(i.emit(s.POST_RENDER,i),i.renderToGame&&t.sys.context.drawImage(i.canvas,r,o)),i.emit(s.POST_RENDER,i)},postRender:function(){this.gameContext.restore(),this.emit(h.POST_RENDER);var t=this.snapshotState;t.callback&&(n(this.gameCanvas,t),t.callback=null)},snapshotCanvas:function(t,e,i,s,r,o,a,h,l){void 0===i&&(i=!1),this.snapshotArea(s,r,o,a,e,h,l);var u=this.snapshotState;return u.getPixel=i,n(t,u),u.callback=null,this},snapshot:function(t,e,i){return this.snapshotArea(0,0,this.gameCanvas.width,this.gameCanvas.height,t,e,i)},snapshotArea:function(t,e,i,s,n,r,o){var a=this.snapshotState;return a.callback=n,a.type=r,a.encoder=o,a.getPixel=!1,a.x=t,a.y=e,a.width=Math.min(i,this.gameCanvas.width),a.height=Math.min(s,this.gameCanvas.height),this},snapshotPixel:function(t,e,i){return this.snapshotArea(t,e,1,1,i),this.snapshotState.getPixel=!0,this},batchSprite:function(t,e,i,s){var n=i.alpha*t.alpha;if(0!==n){var r=this.currentContext,o=this._tempMatrix1,a=this._tempMatrix2,h=e.canvasData,l=h.x,u=h.y,c=e.cutWidth,d=e.cutHeight,f=e.customPivot,p=e.source.resolution,g=t.displayOriginX,m=t.displayOriginY,v=-g+e.x,y=-m+e.y;if(t.isCropped){var x=t._crop;x.flipX===t.flipX&&x.flipY===t.flipY||e.updateCropUVs(x,t.flipX,t.flipY),c=x.cw,d=x.ch,l=x.cx,u=x.cy,v=-g+x.x,y=-m+x.y,t.flipX&&(v>=0?v=-(v+c):v<0&&(v=Math.abs(v)-c)),t.flipY&&(y>=0?y=-(y+d):y<0&&(y=Math.abs(y)-d))}var T=1,w=1;t.flipX&&(f||(v+=-e.realWidth+2*g),T=-1),t.flipY&&(f||(y+=-e.realHeight+2*m),w=-1);var b=t.x,S=t.y;if(i.roundPixels&&(b=Math.floor(b),S=Math.floor(S)),a.applyITRS(b,S,t.rotation,t.scaleX*T,t.scaleY*w),o.copyFrom(i.matrix),s?(o.multiplyWithOffset(s,-i.scrollX*t.scrollFactorX,-i.scrollY*t.scrollFactorY),a.e=b,a.f=S):(a.e-=i.scrollX*t.scrollFactorX,a.f-=i.scrollY*t.scrollFactorY),o.multiply(a),i.renderRoundPixels&&(o.e=Math.floor(o.e+.5),o.f=Math.floor(o.f+.5)),r.save(),o.setToContext(r),r.globalCompositeOperation=this.blendModes[t.blendMode],r.globalAlpha=n,r.imageSmoothingEnabled=!e.source.scaleMode,t.mask&&t.mask.preRenderCanvas(this,t,i),c>0&&d>0){var E=c/p,C=d/p;i.roundPixels&&(v=Math.floor(v+.5),y=Math.floor(y+.5),E+=.5,C+=.5),r.drawImage(e.source.image,l,u,c,d,v,y,E,C)}t.mask&&t.mask.postRenderCanvas(this,t,i),r.restore()}},destroy:function(){this.removeAllListeners(),this.game=null,this.gameCanvas=null,this.gameContext=null}});t.exports=p},55830:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports={CanvasRenderer:i(68627),GetBlendModes:i(56373),SetTransform:i(20926)}},56373:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(10312),n=i(89289);t.exports=function(){var t=[],e=n.supportNewBlendModes,i="source-over";return t[s.NORMAL]=i,t[s.ADD]="lighter",t[s.MULTIPLY]=e?"multiply":i,t[s.SCREEN]=e?"screen":i,t[s.OVERLAY]=e?"overlay":i,t[s.DARKEN]=e?"darken":i,t[s.LIGHTEN]=e?"lighten":i,t[s.COLOR_DODGE]=e?"color-dodge":i,t[s.COLOR_BURN]=e?"color-burn":i,t[s.HARD_LIGHT]=e?"hard-light":i,t[s.SOFT_LIGHT]=e?"soft-light":i,t[s.DIFFERENCE]=e?"difference":i,t[s.EXCLUSION]=e?"exclusion":i,t[s.HUE]=e?"hue":i,t[s.SATURATION]=e?"saturation":i,t[s.COLOR]=e?"color":i,t[s.LUMINOSITY]=e?"luminosity":i,t[s.ERASE]="destination-out",t[s.SOURCE_IN]="source-in",t[s.SOURCE_OUT]="source-out",t[s.SOURCE_ATOP]="source-atop",t[s.DESTINATION_OVER]="destination-over",t[s.DESTINATION_IN]="destination-in",t[s.DESTINATION_OUT]="destination-out",t[s.DESTINATION_ATOP]="destination-atop",t[s.LIGHTER]="lighter",t[s.COPY]="copy",t[s.XOR]="xor",t}},20926:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(91296);t.exports=function(t,e,i,n,r){var o=n.alpha*i.alpha;if(o<=0)return!1;var a=s(i,n,r).calc;return e.globalCompositeOperation=t.blendModes[i.blendMode],e.globalAlpha=o,e.save(),a.setToContext(e),e.imageSmoothingEnabled=i.frame?!i.frame.source.scaleMode:t.antialias,!0}},63899:t=>{
/**
                     * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports="losewebgl"},6119:t=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports="postrender"},48070:t=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports="prerender"},15640:t=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports="render"},8912:t=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports="resize"},87124:t=>{
/**
                     * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports="restorewebgl"},92503:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports={LOSE_WEBGL:i(63899),POST_RENDER:i(6119),PRE_RENDER:i(48070),RENDER:i(15640),RESIZE:i(8912),RESTORE_WEBGL:i(87124)}},36909:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports={Events:i(92503),Snapshot:i(89966)},t.exports.Canvas=i(55830),t.exports.WebGL=i(4159)},32880:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(27919),n=i(40987),r=i(95540);t.exports=function(t,e){var i=r(e,"callback"),o=r(e,"type","image/png"),a=r(e,"encoder",.92),h=Math.abs(Math.round(r(e,"x",0))),l=Math.abs(Math.round(r(e,"y",0))),u=Math.floor(r(e,"width",t.width)),c=Math.floor(r(e,"height",t.height));if(r(e,"getPixel",!1)){var d=t.getContext("2d",{willReadFrequently:!1}).getImageData(h,l,1,1).data;i.call(null,new n(d[0],d[1],d[2],d[3]))}else if(0!==h||0!==l||u!==t.width||c!==t.height){var f=s.createWebGL(this,u,c),p=f.getContext("2d",{willReadFrequently:!0});u>0&&c>0&&p.drawImage(t,h,l,u,c,0,0,u,c);var g=new Image;g.onerror=function(){i.call(null),s.remove(f)},g.onload=function(){i.call(null,g),s.remove(f)},g.src=f.toDataURL(o,a)}else{var m=new Image;m.onerror=function(){i.call(null)},m.onload=function(){i.call(null,m)},m.src=t.toDataURL(o,a)}}},88815:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(27919),n=i(40987),r=i(95540);t.exports=function(t,e){var i=t,o=r(e,"callback"),a=r(e,"type","image/png"),h=r(e,"encoder",.92),l=Math.abs(Math.round(r(e,"x",0))),u=Math.abs(Math.round(r(e,"y",0))),c=r(e,"getPixel",!1),d=r(e,"isFramebuffer",!1),f=d?r(e,"bufferWidth",1):i.drawingBufferWidth,p=d?r(e,"bufferHeight",1):i.drawingBufferHeight;if(c){var g=new Uint8Array(4),m=d?u:p-u;i.readPixels(l,m,1,1,i.RGBA,i.UNSIGNED_BYTE,g),o.call(null,new n(g[0],g[1],g[2],g[3]))}else{var v=Math.floor(r(e,"width",f)),y=Math.floor(r(e,"height",p)),x=v*y*4,T=new Uint8Array(x);i.readPixels(l,p-u-y,v,y,i.RGBA,i.UNSIGNED_BYTE,T);for(var w=s.createWebGL(this,v,y),b=w.getContext("2d",{willReadFrequently:!0}),S=b.getImageData(0,0,v,y),E=S.data,C=0;C<y;C++)for(var _=0;_<v;_++){var A=4*((y-C-1)*v+_),M=d?x-4*(C*v+(v-_)):4*(C*v+_);E[M+0]=T[A+0],E[M+1]=T[A+1],E[M+2]=T[A+2],E[M+3]=T[A+3]}b.putImageData(S,0,0);var P=new Image;P.onerror=function(){o.call(null),s.remove(w)},P.onload=function(){o.call(null,P),s.remove(w)},P.src=w.toDataURL(a,h)}}},89966:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports={Canvas:i(32880),WebGL:i(88815)}},7530:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(83419),n=i(36060),r=i(90330),o=i(82264),a=i(95540),h=i(32302),l=i(63448),u=i(31302),c=i(58918),d=i(14811),f=i(92651),p=i(96569),g=i(56527),m=i(57516),v=i(43439),y=i(81041),x=i(12385),T=i(7589),w=i(95428),b=i(72905),S=new s({initialize:function(t){this.game=t.game,this.renderer=t,this.classes=new r([[n.UTILITY_PIPELINE,T],[n.MULTI_PIPELINE,m],[n.BITMAPMASK_PIPELINE,u],[n.SINGLE_PIPELINE,x],[n.ROPE_PIPELINE,y],[n.LIGHT_PIPELINE,p],[n.POINTLIGHT_PIPELINE,v],[n.MOBILE_PIPELINE,g]]),this.postPipelineClasses=new r,this.pipelines=new r,this.postPipelineInstances=[],this.default=null,this.current=null,this.previous=null,this.MULTI_PIPELINE=null,this.BITMAPMASK_PIPELINE=null,this.UTILITY_PIPELINE=null,this.MOBILE_PIPELINE=null,this.FX_PIPELINE=null,this.fullFrame1,this.fullFrame2,this.halfFrame1,this.halfFrame2,this.renderTargets=[],this.maxDimension=0,this.frameInc=32,this.targetIndex=0},boot:function(t,e,i){var s=this.renderer,r=this.renderTargets;this.frameInc=Math.floor(a(t,"frameInc",32));var l,u,p=s.width,g=s.height,m=this.game.config.disablePreFX;if(this.game.config.disablePostFX||this.postPipelineClasses.setAll([[String(d.BARREL),c.Barrel],[String(d.BLOOM),c.Bloom],[String(d.BLUR),c.Blur],[String(d.BOKEH),c.Bokeh],[String(d.CIRCLE),c.Circle],[String(d.COLOR_MATRIX),c.ColorMatrix],[String(d.DISPLACEMENT),c.Displacement],[String(d.GLOW),c.Glow],[String(d.GRADIENT),c.Gradient],[String(d.PIXELATE),c.Pixelate],[String(d.SHADOW),c.Shadow],[String(d.SHINE),c.Shine],[String(d.VIGNETTE),c.Vignette],[String(d.WIPE),c.Wipe]]),!m){this.classes.set(n.FX_PIPELINE,f);for(var v=Math.min(p,g),y=Math.ceil(v/this.frameInc),x=1;x<y;x++){var T=x*this.frameInc;r.push(new h(s,T,T)),r.push(new h(s,T,T)),r.push(new h(s,T,T)),this.maxDimension=T}r.push(new h(s,p,g,1,0,!0,!0)),r.push(new h(s,p,g,1,0,!0,!0)),r.push(new h(s,p,g,1,0,!0,!0))}var w=this,b=this.game;if(this.classes.each(function(t,e){l=w.add(t,new e({game:b})),t===n.UTILITY_PIPELINE&&(w.UTILITY_PIPELINE=l,w.fullFrame1=l.fullFrame1,w.fullFrame2=l.fullFrame2,w.halfFrame1=l.halfFrame1,w.halfFrame2=l.halfFrame2)}),this.MULTI_PIPELINE=this.get(n.MULTI_PIPELINE),this.BITMAPMASK_PIPELINE=this.get(n.BITMAPMASK_PIPELINE),this.MOBILE_PIPELINE=this.get(n.MOBILE_PIPELINE),m||(this.FX_PIPELINE=this.get(n.FX_PIPELINE)),t)for(u in t){var S=t[u];(l=new S(b)).name=u,l.isPostFX?this.postPipelineClasses.set(u,S):this.has(u)||(this.classes.set(u,S),this.add(u,l))}this.default=this.get(e),i&&!o.os.desktop&&(this.default=this.MOBILE_PIPELINE)},setDefaultPipeline:function(t){var e=this.get(t);return e&&(this.default=e),e},add:function(t,e){if(!e.isPostFX){var i=this.pipelines,s=this.renderer;return i.has(t)||(e.name=t,e.manager=this,i.set(t,e)),e.hasBooted||e.boot(),0===s.width||0===s.height||e.isPreFX||e.resize(s.width,s.height),e}},addPostPipeline:function(t,e){this.postPipelineClasses.has(t)||this.postPipelineClasses.set(t,e)},flush:function(){this.current&&this.current.flush()},has:function(t){var e=this.pipelines;return"string"==typeof t?e.has(t):!!e.contains(t)},get:function(t){var e=this.pipelines;return"string"==typeof t?e.get(t):e.contains(t)?t:void 0},getPostPipeline:function(t,e,i){var s,n=this.postPipelineClasses,r="",o=typeof t;if("string"===o||"number"===o?(s=n.get(t),r=t):"function"===o?(n.contains(t)&&(s=t),r=t.name):"object"===o&&(s=n.get(t.name),r=t.name),s){var a=new s(this.game,i);return a.name=r,e&&(a.gameObject=e),this.postPipelineInstances.push(a),a}},removePostPipeline:function(t){b(this.postPipelineInstances,t)},remove:function(t,e,i){void 0===e&&(e=!0),void 0===i&&(i=!0),this.pipelines.delete(t),e&&this.classes.delete(t),i&&this.postPipelineClasses.delete(t)},set:function(t,e,i){if(!t.isPostFX)return this.isCurrent(t,i)||(this.flush(),this.current&&this.current.unbind(),this.current=t,t.bind(i)),t.updateProjectionMatrix(),t.onBind(e),t},preBatch:function(t){if(t.hasPostPipeline){this.flush();for(var e=t.postPipelines,i=e.length-1;i>=0;i--){var s=e[i];s.active&&s.preBatch(t)}}},postBatch:function(t){if(t.hasPostPipeline){this.flush();for(var e=t.postPipelines,i=0;i<e.length;i++){var s=e[i];s.active&&s.postBatch(t)}}},preBatchCamera:function(t){if(t.hasPostPipeline){this.flush();for(var e=t.postPipelines,i=e.length-1;i>=0;i--){var s=e[i];s.active&&s.preBatch(t)}}},postBatchCamera:function(t){if(t.hasPostPipeline){this.flush();for(var e=t.postPipelines,i=0;i<e.length;i++){var s=e[i];s.active&&s.postBatch(t)}}},isCurrent:function(t,e){var i=this.renderer,s=this.current;return s&&!e&&(e=s.currentShader),!(s!==t||e.program!==i.currentProgram)},copyFrame:function(t,e,i,s,n){return this.setUtility(this.UTILITY_PIPELINE.copyShader).copyFrame(t,e,i,s,n),this},copyToGame:function(t){return this.setUtility(this.UTILITY_PIPELINE.copyShader).copyToGame(t),this},drawFrame:function(t,e,i,s){return this.setUtility(this.UTILITY_PIPELINE.colorMatrixShader).drawFrame(t,e,i,s),this},blendFrames:function(t,e,i,s,n){return this.setUtility(this.UTILITY_PIPELINE.linearShader).blendFrames(t,e,i,s,n),this},blendFramesAdditive:function(t,e,i,s,n){return this.setUtility(this.UTILITY_PIPELINE.addShader).blendFramesAdditive(t,e,i,s,n),this},clearFrame:function(t,e){return this.UTILITY_PIPELINE.clearFrame(t,e),this},blitFrame:function(t,e,i,s,n,r){return this.setUtility(this.UTILITY_PIPELINE.copyShader).blitFrame(t,e,i,s,n,r),this},copyFrameRect:function(t,e,i,s,n,r,o,a){return this.UTILITY_PIPELINE.copyFrameRect(t,e,i,s,n,r,o,a),this},forceZero:function(){return this.current&&this.current.forceZero},setMulti:function(){return this.set(this.MULTI_PIPELINE)},setUtility:function(t){return this.UTILITY_PIPELINE.bind(t)},setFX:function(){return this.set(this.FX_PIPELINE)},restoreContext:function(){this.rebind(),this.pipelines.each(function(t,e){e.restoreContext()}),w(this.postPipelineInstances,function(t){t.restoreContext()})},rebind:function(t){void 0===t&&this.previous&&(t=this.previous);var e=this.renderer,i=e.gl;i.disable(i.DEPTH_TEST),i.disable(i.CULL_FACE),e.hasActiveStencilMask()?i.clear(i.DEPTH_BUFFER_BIT):(i.disable(i.STENCIL_TEST),i.clear(i.DEPTH_BUFFER_BIT|i.STENCIL_BUFFER_BIT)),i.viewport(0,0,e.width,e.height),e.currentProgram=null,e.setBlendMode(0,!0);var s=e.vaoExtension;s&&s.bindVertexArrayOES(null);var n=this.pipelines.entries;for(var r in n)n[r].glReset=!0;t&&(this.current=t,t.rebind())},clear:function(){var t=this.renderer;this.flush(),this.current?(this.current.unbind(),this.previous=this.current,this.current=null):this.previous=null,t.currentProgram=null,t.setBlendMode(0,!0);var e=t.vaoExtension;e&&e.bindVertexArrayOES(null)},getRenderTarget:function(t){var e=this.renderTargets;if(t>this.maxDimension)return this.targetIndex=e.length-3,e[this.targetIndex];var i=3*(l(t,this.frameInc,0,!0)-1);return this.targetIndex=i,e[i]},getSwapRenderTarget:function(){return this.renderTargets[this.targetIndex+1]},getAltSwapRenderTarget:function(){return this.renderTargets[this.targetIndex+2]},destroy:function(){this.flush(),this.classes.clear(),this.postPipelineClasses.clear(),this.pipelines.clear(),this.renderer=null,this.game=null,this.classes=null,this.postPipelineClasses=null,this.pipelines=null,this.default=null,this.current=null,this.previous=null}});t.exports=S},32302:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(83419),n=i(92503),r=new s({initialize:function(t,e,i,s,r,o,a,h,l){void 0===s&&(s=1),void 0===r&&(r=0),void 0===o&&(o=!0),void 0===a&&(a=!1),void 0===h&&(h=!0),void 0===l&&(l=!0),this.renderer=t,this.framebuffer=null,this.texture=null,this.width=0,this.height=0,this.scale=s,this.minFilter=r,this.autoClear=o,this.autoResize=!0,this.hasDepthBuffer=h,this.forceClamp=l,this.init(e,i),a?this.renderer.on(n.RESIZE,this.resize,this):this.autoResize=!1},init:function(t,e){var i=this.renderer;this.texture=i.createTextureFromSource(null,t,e,this.minFilter,this.forceClamp),this.framebuffer=i.createFramebuffer(t,e,this.texture,this.hasDepthBuffer),this.width=t,this.height=e},setAutoResize:function(t){return t&&!this.autoResize?(this.renderer.on(n.RESIZE,this.resize,this),this.autoResize=!0):!t&&this.autoResize&&(this.renderer.off(n.RESIZE,this.resize,this),this.autoResize=!1),this},resize:function(t,e){if(this.autoResize&&this.willResize(t,e)){var i=this.renderer;i.deleteFramebuffer(this.framebuffer),i.deleteTexture(this.texture),this.texture=i.createTextureFromSource(null,t,e,this.minFilter,this.forceClamp),this.framebuffer=i.createFramebuffer(t,e,this.texture,this.hasDepthBuffer),this.width=t,this.height=e}return this},willResize:function(t,e){return"number"==typeof t&&"number"==typeof e&&(t=Math.round(t*this.scale),e=Math.round(e*this.scale),t=Math.max(t,1),e=Math.max(e,1),t!==this.width||e!==this.height)},bind:function(t,e,i){void 0===t&&(t=!1);var s=this.renderer;if(t&&s.flush(),e&&i&&this.resize(e,i),s.pushFramebuffer(this.framebuffer,!1,!1),t&&this.adjustViewport(),this.autoClear){var n=this.renderer.gl;n.clearColor(0,0,0,0),n.clear(n.COLOR_BUFFER_BIT)}s.clearStencilMask()},adjustViewport:function(){var t=this.renderer.gl;t.viewport(0,0,this.width,this.height),t.disable(t.SCISSOR_TEST)},clear:function(t,e,i,s){var n=this.renderer,r=n.gl;n.pushFramebuffer(this.framebuffer),void 0!==t&&void 0!==e&&void 0!==i&&void 0!==s?(r.enable(r.SCISSOR_TEST),r.scissor(t,e,i,s)):r.disable(r.SCISSOR_TEST),r.clearColor(0,0,0,0),r.clear(r.COLOR_BUFFER_BIT),n.popFramebuffer(),n.resetScissor()},unbind:function(t){void 0===t&&(t=!1);var e=this.renderer;return t&&e.flush(),e.popFramebuffer()},destroy:function(){var t=this.renderer;t.off(n.RESIZE,this.resize,this),t.deleteFramebuffer(this.framebuffer),t.deleteTexture(this.texture),this.renderer=null,this.framebuffer=null,this.texture=null}});t.exports=r},70554:t=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @author       Felipe Alfonso <@bitnenfer>
                     * @author       Matthew Groves <@doormat>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports={getTintFromFloats:function(t,e,i,s){return((255*s&255)<<24|(255*t&255)<<16|(255*e&255)<<8|255*i&255)>>>0},getTintAppendFloatAlpha:function(t,e){return((255*e&255)<<24|t)>>>0},getTintAppendFloatAlphaAndSwap:function(t,e){return((255*e&255)<<24|(255&t)<<16|(t>>8&255)<<8|t>>16&255)>>>0},getFloatsFromUintRGB:function(t){return[(t>>16&255)/255,(t>>8&255)/255,(255&t)/255]},checkShaderMax:function(t,e){var i=Math.min(16,t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS));return e&&-1!==e?Math.min(i,e):i},parseFragmentShaderMaxTextures:function(t,e){if(!t)return"";for(var i="",s=0;s<e;s++)s>0&&(i+="\n\telse "),s<e-1&&(i+="if (outTexId < "+s+".5)"),i+="\n\t{",i+="\n\t\ttexture = texture2D(uMainSampler["+s+"], outTexCoord);",i+="\n\t}";return(t=t.replace(/%count%/gi,e.toString())).replace(/%forloop%/gi,i)},setGlowQuality:function(t,e,i,s){return void 0===i&&(i=e.config.glowFXQuality),void 0===s&&(s=e.config.glowFXDistance),t=(t=t.replace(/__SIZE__/gi,(1/i/s).toFixed(7))).replace(/__DIST__/gi,s.toFixed(0)+".0")}}},29100:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(83419),n=i(62644),r=i(50792),o=i(77085),a=i(95540),h=i(37867),l=i(92503),u=i(32302),c=i(70554),d=i(38683),f=new s({Extends:r,initialize:function(t){r.call(this);var e=t.game,i=e.renderer,s=i.gl;this.name=a(t,"name","WebGLPipeline"),this.game=e,this.renderer=i,this.manager,this.gl=s,this.view=e.canvas,this.width=0,this.height=0,this.vertexCount=0,this.vertexCapacity=0,this.vertexData,this.vertexBuffer,this.activeBuffer,this.topology=a(t,"topology",s.TRIANGLES),this.bytes,this.vertexViewF32,this.vertexViewU32,this.active=!0,this.forceZero=a(t,"forceZero",!1),this.hasBooted=!1,this.isPostFX=!1,this.isPreFX=!1,this.renderTargets=[],this.currentRenderTarget,this.shaders=[],this.currentShader,this.projectionMatrix,this.projectionWidth=0,this.projectionHeight=0,this.config=t,this.glReset=!1,this.batch=[],this.currentBatch=null,this.currentTexture=null,this.currentUnit=0,this.activeTextures=[],this.resizeUniform=a(t,"resizeUniform","")},boot:function(){var t,e=this.gl,i=this.config,s=this.renderer;this.isPostFX||(this.projectionMatrix=(new h).identity());var n=this.renderTargets,r=a(i,"renderTarget",!1);"boolean"==typeof r&&r&&(r=1);var c=s.width,d=s.height;if("number"==typeof r)for(t=0;t<r;t++)n.push(new u(s,c,d,1,0,!0));else if(Array.isArray(r))for(t=0;t<r.length;t++){var f=a(r[t],"scale",1),p=a(r[t],"minFilter",0),g=a(r[t],"autoClear",1),m=a(r[t],"autoResize",!1),v=a(r[t],"width",null),y=a(r[t],"height",v);v?n.push(new u(s,v,y,1,p,g,m)):n.push(new u(s,c,d,f,p,g,m))}n.length&&(this.currentRenderTarget=n[0]),this.setShadersFromConfig(i);var x=this.shaders,T=0;for(t=0;t<x.length;t++)x[t].vertexSize>T&&(T=x[t].vertexSize);var w=a(i,"batchSize",s.config.batchSize);this.vertexCapacity=6*w;var b=new ArrayBuffer(this.vertexCapacity*T);this.vertexData=b,this.bytes=new Uint8Array(b),this.vertexViewF32=new Float32Array(b),this.vertexViewU32=new Uint32Array(b);var S=a(i,"vertices",null);for(S?(this.vertexViewF32.set(S),this.vertexBuffer=s.createVertexBuffer(b,e.STATIC_DRAW)):this.vertexBuffer=s.createVertexBuffer(b.byteLength,e.DYNAMIC_DRAW),this.setVertexBuffer(),t=x.length-1;t>=0;t--)x[t].rebind();this.hasBooted=!0,s.on(l.RESIZE,this.resize,this),s.on(l.PRE_RENDER,this.onPreRender,this),s.on(l.RENDER,this.onRender,this),s.on(l.POST_RENDER,this.onPostRender,this),this.emit(o.BOOT,this),this.onBoot()},onBoot:function(){},onResize:function(){},setShader:function(t,e,i){var s=this.renderer;return t===this.currentShader&&s.currentProgram===this.currentShader.program||(this.flush(),this.setVertexBuffer(i)&&!e&&(e=!0),t.bind(e,!1),this.currentShader=t),this},getShaderByName:function(t){for(var e=this.shaders,i=0;i<e.length;i++)if(e[i].name===t)return e[i]},setShadersFromConfig:function(t){var e,i=this.shaders,s=this.renderer;for(e=0;e<i.length;e++)i[e].destroy();var r="vertShader",o="fragShader",h="attributes",l=a(t,r,null),u=c.parseFragmentShaderMaxTextures(a(t,o,null),s.maxTextures),f=a(t,h,null),p=a(t,"shaders",[]),g=p.length;if(0===g)l&&u&&(this.shaders=[new d(this,"default",l,u,n(f))]);else{var m=[];for(e=0;e<g;e++){var v,y,x,T,w=p[e];if("string"==typeof w?(v="default",y=l,x=c.parseFragmentShaderMaxTextures(w,s.maxTextures),T=f):(v=a(w,"name","default"),y=a(w,r,l),x=c.parseFragmentShaderMaxTextures(a(w,o,u),s.maxTextures),T=a(w,h,f)),"default"===v){var b=x.split("\n")[0].trim();b.indexOf("#define SHADER_NAME")>-1&&(v=b.substring(20))}y&&x&&m.push(new d(this,v,y,x,n(T)))}this.shaders=m}return 0===this.shaders.length||(this.currentShader=this.shaders[0]),this},createBatch:function(t){return this.currentBatch={start:this.vertexCount,count:0,texture:[t],unit:0,maxUnit:0},this.currentUnit=0,this.currentTexture=t,this.batch.push(this.currentBatch),0},addTextureToBatch:function(t){var e=this.currentBatch;e&&(e.texture.push(t),e.unit++,e.maxUnit++)},pushBatch:function(t){if(!this.currentBatch||this.forceZero&&t!==this.currentTexture)return this.createBatch(t);if(t===this.currentTexture)return this.currentUnit;var e=this.currentBatch,i=e.texture.indexOf(t);return-1===i?e.texture.length===this.renderer.maxTextures?this.createBatch(t):(e.unit++,e.maxUnit++,e.texture.push(t),this.currentUnit=e.unit,this.currentTexture=t,e.unit):(this.currentUnit=i,this.currentTexture=t,i)},setGameObject:function(t,e){return void 0===e&&(e=t.frame),this.pushBatch(e.source.glTexture)},shouldFlush:function(t){return void 0===t&&(t=0),this.vertexCount+t>this.vertexCapacity},vertexAvailable:function(){return this.vertexCapacity-this.vertexCount},resize:function(t,e){t===this.width&&e===this.height||this.flush(),this.width=t,this.height=e;for(var i=this.renderTargets,s=0;s<i.length;s++)i[s].resize(t,e);return this.setProjectionMatrix(t,e),this.resizeUniform&&this.set2f(this.resizeUniform,t,e),this.emit(o.RESIZE,t,e,this),this.onResize(t,e),this},setProjectionMatrix:function(t,e){var i=this.projectionMatrix;if(!i)return this;this.projectionWidth=t,this.projectionHeight=e,i.ortho(0,t,e,0,-1e3,1e3);for(var s=this.shaders,n="uProjectionMatrix",r=0;r<s.length;r++){var o=s[r];o.hasUniform(n)&&(o.resetUniform(n),o.setMatrix4fv(n,!1,i.val,o))}return this},flipProjectionMatrix:function(t){void 0===t&&(t=!0);var e=this.projectionMatrix;if(!e)return this;var i=this.projectionWidth,s=this.projectionHeight;t?e.ortho(0,i,0,s,-1e3,1e3):e.ortho(0,i,s,0,-1e3,1e3),this.setMatrix4fv("uProjectionMatrix",!1,e.val)},updateProjectionMatrix:function(){if(this.projectionMatrix){var t=this.renderer.projectionWidth,e=this.renderer.projectionHeight;this.projectionWidth===t&&this.projectionHeight===e||this.setProjectionMatrix(t,e)}},bind:function(t){if(void 0===t&&(t=this.currentShader),this.glReset)return this.rebind(t);var e=!1,i=this.gl;return i.getParameter(i.ARRAY_BUFFER_BINDING)!==this.vertexBuffer&&(i.bindBuffer(i.ARRAY_BUFFER,this.vertexBuffer.webGLBuffer),this.activeBuffer=this.vertexBuffer,e=!0),t.bind(e),this.currentShader=t,this.activeTextures.length=0,this.emit(o.BIND,this,t),this.onActive(t),this},rebind:function(t){this.activeBuffer=null,this.setVertexBuffer();for(var e=this.shaders,i=e.length-1;i>=0;i--){var s=e[i].rebind();t&&s!==t||(this.currentShader=s)}return this.activeTextures.length=0,this.emit(o.REBIND,this.currentShader),this.onActive(this.currentShader),this.onRebind(),this.glReset=!1,this},restoreContext:function(){var t=this.shaders,e=!!this.vertexBuffer;this.activeBuffer=null,this.activeTextures.length=0,this.batch.length=0,this.currentBatch=null,this.currentTexture=null,this.currentUnit=0,e&&this.setVertexBuffer();for(var i=0;i<t.length;i++){var s=t[i];s.syncUniforms(),e&&s.rebind()}},setVertexBuffer:function(t){if(void 0===t&&(t=this.vertexBuffer),t!==this.activeBuffer){var e=this.gl;return this.gl.bindBuffer(e.ARRAY_BUFFER,t.webGLBuffer),this.activeBuffer=t,!0}return!1},preBatch:function(t){return this.currentRenderTarget&&this.currentRenderTarget.bind(),this.onPreBatch(t),this},postBatch:function(t){return this.onDraw(this.currentRenderTarget),this.onPostBatch(t),this},onDraw:function(){},unbind:function(){this.currentRenderTarget&&this.currentRenderTarget.unbind()},flush:function(t){if(void 0===t&&(t=!1),this.vertexCount>0){this.emit(o.BEFORE_FLUSH,this,t),this.onBeforeFlush(t);var e=this.gl,i=this.vertexCount,s=this.currentShader.vertexSize,n=this.topology;if(this.active){var r,a,h;this.setVertexBuffer(),i===this.vertexCapacity?e.bufferData(e.ARRAY_BUFFER,this.vertexData,e.DYNAMIC_DRAW):e.bufferSubData(e.ARRAY_BUFFER,0,this.bytes.subarray(0,i*s));var l=this.batch,u=this.activeTextures;if(this.forceZero)for(u[0]||e.activeTexture(e.TEXTURE0),r=0;r<l.length;r++)h=(a=l[r]).texture[0],u[0]!==h&&(e.bindTexture(e.TEXTURE_2D,h.webGLTexture),u[0]=h),e.drawArrays(n,a.start,a.count);else for(r=0;r<l.length;r++){a=l[r];for(var c=0;c<=a.maxUnit;c++)h=a.texture[c],u[c]!==h&&(e.activeTexture(e.TEXTURE0+c),e.bindTexture(e.TEXTURE_2D,h.webGLTexture),u[c]=h);e.drawArrays(n,a.start,a.count)}}this.vertexCount=0,this.batch.length=0,this.currentBatch=null,this.currentTexture=null,this.currentUnit=0,this.emit(o.AFTER_FLUSH,this,t),this.onAfterFlush(t)}return this},onActive:function(){},onBind:function(){},onRebind:function(){},onBatch:function(){},onPreBatch:function(){},onPostBatch:function(){},onPreRender:function(){},onRender:function(){},onPostRender:function(){},onBeforeFlush:function(){},onAfterFlush:function(){},batchVert:function(t,e,i,s,n,r,o){var a=this.vertexViewF32,h=this.vertexViewU32,l=this.vertexCount*this.currentShader.vertexComponentCount-1;a[++l]=t,a[++l]=e,a[++l]=i,a[++l]=s,a[++l]=n,a[++l]=r,h[++l]=o,this.vertexCount++,this.currentBatch.count=this.vertexCount-this.currentBatch.start},batchQuad:function(t,e,i,s,n,r,o,a,h,l,u,c,d,f,p,g,m,v,y,x){void 0===x&&(x=this.currentUnit);var T=!1;this.shouldFlush(6)&&(this.flush(),T=!0),this.currentBatch||(x=this.setTexture2D(y));var w=this.vertexViewF32,b=this.vertexViewU32,S=this.vertexCount*this.currentShader.vertexComponentCount-1;return w[++S]=e,w[++S]=i,w[++S]=l,w[++S]=u,w[++S]=x,w[++S]=v,b[++S]=f,w[++S]=s,w[++S]=n,w[++S]=l,w[++S]=d,w[++S]=x,w[++S]=v,b[++S]=g,w[++S]=r,w[++S]=o,w[++S]=c,w[++S]=d,w[++S]=x,w[++S]=v,b[++S]=m,w[++S]=e,w[++S]=i,w[++S]=l,w[++S]=u,w[++S]=x,w[++S]=v,b[++S]=f,w[++S]=r,w[++S]=o,w[++S]=c,w[++S]=d,w[++S]=x,w[++S]=v,b[++S]=m,w[++S]=a,w[++S]=h,w[++S]=c,w[++S]=u,w[++S]=x,w[++S]=v,b[++S]=p,this.vertexCount+=6,this.currentBatch.count=this.vertexCount-this.currentBatch.start,this.onBatch(t),T},batchTri:function(t,e,i,s,n,r,o,a,h,l,u,c,d,f,p,g,m){void 0===m&&(m=this.currentUnit);var v=!1;this.shouldFlush(3)&&(this.flush(),v=!0),this.currentBatch||(m=this.setTexture2D(g));var y=this.vertexViewF32,x=this.vertexViewU32,T=this.vertexCount*this.currentShader.vertexComponentCount-1;return y[++T]=e,y[++T]=i,y[++T]=a,y[++T]=h,y[++T]=m,y[++T]=p,x[++T]=c,y[++T]=s,y[++T]=n,y[++T]=a,y[++T]=u,y[++T]=m,y[++T]=p,x[++T]=d,y[++T]=r,y[++T]=o,y[++T]=l,y[++T]=u,y[++T]=m,y[++T]=p,x[++T]=f,this.vertexCount+=3,this.currentBatch.count=this.vertexCount-this.currentBatch.start,this.onBatch(t),v},drawFillRect:function(t,e,i,s,n,r,o,a){void 0===o&&(o=this.renderer.whiteTexture),void 0===a&&(a=!0),t=Math.floor(t),e=Math.floor(e);var h=Math.floor(t+i),l=Math.floor(e+s),u=this.setTexture2D(o),d=c.getTintAppendFloatAlphaAndSwap(n,r),f=0,p=1;a&&(f=1,p=0),this.batchQuad(null,t,e,t,l,h,l,h,e,0,f,1,p,d,d,d,d,0,o,u)},setTexture2D:function(t){return void 0===t&&(t=this.renderer.whiteTexture),this.pushBatch(t)},bindTexture:function(t,e){void 0===e&&(e=0);var i=this.gl;return i.activeTexture(i.TEXTURE0+e),i.bindTexture(i.TEXTURE_2D,t.webGLTexture),this},bindRenderTarget:function(t,e){return this.bindTexture(t.texture,e)},setTime:function(t,e){return this.set1f(t,this.game.loop.getDuration(),e),this},setBoolean:function(t,e,i){return void 0===i&&(i=this.currentShader),i.setBoolean(t,e),this},set1f:function(t,e,i){return void 0===i&&(i=this.currentShader),i.set1f(t,e),this},set2f:function(t,e,i,s){return void 0===s&&(s=this.currentShader),s.set2f(t,e,i),this},set3f:function(t,e,i,s,n){return void 0===n&&(n=this.currentShader),n.set3f(t,e,i,s),this},set4f:function(t,e,i,s,n,r){return void 0===r&&(r=this.currentShader),r.set4f(t,e,i,s,n),this},set1fv:function(t,e,i){return void 0===i&&(i=this.currentShader),i.set1fv(t,e),this},set2fv:function(t,e,i){return void 0===i&&(i=this.currentShader),i.set2fv(t,e),this},set3fv:function(t,e,i){return void 0===i&&(i=this.currentShader),i.set3fv(t,e),this},set4fv:function(t,e,i){return void 0===i&&(i=this.currentShader),i.set4fv(t,e),this},set1iv:function(t,e,i){return void 0===i&&(i=this.currentShader),i.set1iv(t,e),this},set2iv:function(t,e,i){return void 0===i&&(i=this.currentShader),i.set2iv(t,e),this},set3iv:function(t,e,i){return void 0===i&&(i=this.currentShader),i.set3iv(t,e),this},set4iv:function(t,e,i){return void 0===i&&(i=this.currentShader),i.set4iv(t,e),this},set1i:function(t,e,i){return void 0===i&&(i=this.currentShader),i.set1i(t,e),this},set2i:function(t,e,i,s){return void 0===s&&(s=this.currentShader),s.set2i(t,e,i),this},set3i:function(t,e,i,s,n){return void 0===n&&(n=this.currentShader),n.set3i(t,e,i,s),this},set4i:function(t,e,i,s,n,r){return void 0===r&&(r=this.currentShader),r.set4i(t,e,i,s,n),this},setMatrix2fv:function(t,e,i,s){return void 0===s&&(s=this.currentShader),s.setMatrix2fv(t,e,i),this},setMatrix3fv:function(t,e,i,s){return void 0===s&&(s=this.currentShader),s.setMatrix3fv(t,e,i),this},setMatrix4fv:function(t,e,i,s){return void 0===s&&(s=this.currentShader),s.setMatrix4fv(t,e,i),this},destroy:function(){var t;this.emit(o.DESTROY,this);var e=this.shaders;for(t=0;t<e.length;t++)e[t].destroy();var i=this.renderTargets;for(t=0;t<i.length;t++)i[t].destroy();var s=this.renderer;return s.deleteBuffer(this.vertexBuffer),s.off(l.RESIZE,this.resize,this),s.off(l.PRE_RENDER,this.onPreRender,this),s.off(l.RENDER,this.onRender,this),s.off(l.POST_RENDER,this.onPostRender,this),this.removeAllListeners(),this.game=null,this.renderer=null,this.manager=null,this.gl=null,this.view=null,this.shaders=null,this.renderTargets=null,this.bytes=null,this.vertexViewF32=null,this.vertexViewU32=null,this.vertexData=null,this.vertexBuffer=null,this.currentShader=null,this.currentRenderTarget=null,this.activeTextures=null,this}});t.exports=f},74797:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @author       Felipe Alfonso <@bitnenfer>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(95428),n=i(72905),r=i(19715),o=i(83419),a=i(8054),h=i(50792),l=i(92503),u=i(50030),c=i(37867),d=i(29747),f=i(7530),p=i(32302),g=i(97480),m=i(69442),v=i(70554),y=i(88815),x=i(26128),T=i(1482),w=i(82751),b=i(84387),S=i(93567),E=i(57183),C=new o({Extends:h,initialize:function(t){h.call(this);var e=t.config,i={alpha:e.transparent,desynchronized:e.desynchronized,depth:!0,antialias:e.antialiasGL,premultipliedAlpha:e.premultipliedAlpha,stencil:!0,failIfMajorPerformanceCaveat:e.failIfMajorPerformanceCaveat,powerPreference:e.powerPreference,preserveDrawingBuffer:e.preserveDrawingBuffer,willReadFrequently:!1};this.config={clearBeforeRender:e.clearBeforeRender,antialias:e.antialias,backgroundColor:e.backgroundColor,contextCreation:i,roundPixels:e.roundPixels,maxTextures:e.maxTextures,maxTextureSize:e.maxTextureSize,batchSize:e.batchSize,maxLights:e.maxLights,mipmapFilter:e.mipmapFilter},this.game=t,this.type=a.WEBGL,this.pipelines=null,this.width=0,this.height=0,this.canvas=t.canvas,this.blendModes=[],this.contextLost=!1,this.snapshotState={x:0,y:0,width:1,height:1,getPixel:!1,callback:null,type:"image/png",encoder:.92,isFramebuffer:!1,bufferWidth:0,bufferHeight:0},this.maxTextures=0,this.textureIndexes,this.glBufferWrappers=[],this.glProgramWrappers=[],this.glTextureWrappers=[],this.glFramebufferWrappers=[],this.glAttribLocationWrappers=[],this.glUniformLocationWrappers=[],this.currentFramebuffer=null,this.fboStack=[],this.currentProgram=null,this.currentBlendMode=1/0,this.currentScissorEnabled=!1,this.currentScissor=null,this.scissorStack=[],this.contextLostHandler=d,this.contextRestoredHandler=d,this.previousContextLostHandler=d,this.previousContextRestoredHandler=d,this.gl=null,this.supportedExtensions=null,this.instancedArraysExtension=null,this.vaoExtension=null,this.extensions={},this.glFormats,this.compression,this.drawingBufferHeight=0,this.blankTexture=null,this.normalTexture=null,this.whiteTexture=null,this.maskCount=0,this.maskStack=[],this.currentMask={mask:null,camera:null},this.currentCameraMask={mask:null,camera:null},this.glFuncMap=null,this.currentType="",this.newType=!1,this.nextTypeMatch=!1,this.finalType=!1,this.mipmapFilter=null,this.defaultScissor=[0,0,0,0],this.isBooted=!1,this.renderTarget=null,this.projectionMatrix,this.projectionWidth=0,this.projectionHeight=0,this.maskSource=null,this.maskTarget=null,this.spector=null,this._debugCapture=!1,this.init(this.config)},init:function(t){var e,i=this.game,s=this.canvas,n=t.backgroundColor;if(!(e=i.config.context?i.config.context:s.getContext("webgl",t.contextCreation)||s.getContext("experimental-webgl",t.contextCreation))||e.isContextLost())throw this.contextLost=!0,new Error("WebGL unsupported");this.gl=e,this.setExtensions(),this.setContextHandlers(),i.context=e;for(var r=0;r<=27;r++)this.blendModes.push({func:[e.ONE,e.ONE_MINUS_SRC_ALPHA],equation:e.FUNC_ADD});return this.blendModes[1].func=[e.ONE,e.DST_ALPHA],this.blendModes[2].func=[e.DST_COLOR,e.ONE_MINUS_SRC_ALPHA],this.blendModes[3].func=[e.ONE,e.ONE_MINUS_SRC_COLOR],this.blendModes[17]={func:[e.ZERO,e.ONE_MINUS_SRC_ALPHA],equation:e.FUNC_REVERSE_SUBTRACT},this.glFormats=[e.BYTE,e.SHORT,e.UNSIGNED_BYTE,e.UNSIGNED_SHORT,e.FLOAT],this.glFuncMap={mat2:{func:e.uniformMatrix2fv,length:1,matrix:!0},mat3:{func:e.uniformMatrix3fv,length:1,matrix:!0},mat4:{func:e.uniformMatrix4fv,length:1,matrix:!0},"1f":{func:e.uniform1f,length:1},"1fv":{func:e.uniform1fv,length:1},"1i":{func:e.uniform1i,length:1},"1iv":{func:e.uniform1iv,length:1},"2f":{func:e.uniform2f,length:2},"2fv":{func:e.uniform2fv,length:1},"2i":{func:e.uniform2i,length:2},"2iv":{func:e.uniform2iv,length:1},"3f":{func:e.uniform3f,length:3},"3fv":{func:e.uniform3fv,length:1},"3i":{func:e.uniform3i,length:3},"3iv":{func:e.uniform3iv,length:1},"4f":{func:e.uniform4f,length:4},"4fv":{func:e.uniform4fv,length:1},"4i":{func:e.uniform4i,length:4},"4iv":{func:e.uniform4iv,length:1}},t.maxTextures&&-1!==t.maxTextures||(t.maxTextures=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS)),t.maxTextureSize||(t.maxTextureSize=e.getParameter(e.MAX_TEXTURE_SIZE)),this.compression=this.getCompressedTextures(),e.disable(e.DEPTH_TEST),e.disable(e.CULL_FACE),e.enable(e.BLEND),e.clearColor(n.redGL,n.greenGL,n.blueGL,n.alphaGL),e.clear(e.COLOR_BUFFER_BIT),-1!==["NEAREST","LINEAR","NEAREST_MIPMAP_NEAREST","LINEAR_MIPMAP_NEAREST","NEAREST_MIPMAP_LINEAR","LINEAR_MIPMAP_LINEAR"].indexOf(t.mipmapFilter)&&(this.mipmapFilter=e[t.mipmapFilter]),this.maxTextures=v.checkShaderMax(e,t.maxTextures),this.textureIndexes=[],this.createTemporaryTextures(),this.pipelines=new f(this),this.setBlendMode(a.BlendModes.NORMAL),this.projectionMatrix=(new c).identity(),i.textures.once(m.READY,this.boot,this),this},boot:function(){var t=this.game,e=this.pipelines,i=t.scale.baseSize,s=i.width,n=i.height;this.width=s,this.height=n,this.isBooted=!0,this.renderTarget=new p(this,s,n,1,0,!0,!0),this.maskTarget=new p(this,s,n,1,0,!0,!0),this.maskSource=new p(this,s,n,1,0,!0,!0);var r=t.config;e.boot(r.pipeline,r.defaultPipeline,r.autoMobilePipeline),this.blankTexture=t.textures.getFrame("__DEFAULT").glTexture,this.normalTexture=t.textures.getFrame("__NORMAL").glTexture,this.whiteTexture=t.textures.getFrame("__WHITE").glTexture;var o=this.gl;o.bindFramebuffer(o.FRAMEBUFFER,null),o.enable(o.SCISSOR_TEST),t.scale.on(g.RESIZE,this.onResize,this),this.resize(s,n)},setExtensions:function(){var t=this.gl,e=t.getSupportedExtensions();this.supportedExtensions=e;var i="ANGLE_instanced_arrays";this.instancedArraysExtension=e.indexOf(i)>-1?t.getExtension(i):null;var s="OES_vertex_array_object";this.vaoExtension=e.indexOf(s)>-1?t.getExtension(s):null},setContextHandlers:function(t,e){this.previousContextLostHandler&&this.canvas.removeEventListener("webglcontextlost",this.previousContextLostHandler,!1),this.previousContextRestoredHandler&&this.canvas.removeEventListener("webglcontextlost",this.previousContextRestoredHandler,!1),this.contextLostHandler="function"==typeof t?t.bind(this):this.dispatchContextLost.bind(this),this.contextRestoredHandler="function"==typeof e?e.bind(this):this.dispatchContextRestored.bind(this),this.canvas.addEventListener("webglcontextlost",this.contextLostHandler,!1),this.canvas.addEventListener("webglcontextrestored",this.contextRestoredHandler,!1),this.previousContextLostHandler=this.contextLostHandler,this.previousContextRestoredHandler=this.contextRestoredHandler},dispatchContextLost:function(t){this.contextLost=!0,console,this.emit(l.LOSE_WEBGL,this),t.preventDefault()},dispatchContextRestored:function(t){var e=this.gl;if(e.isContextLost())console;else{this.currentProgram=null,this.currentFramebuffer=null,this.setBlendMode(a.BlendModes.NORMAL),e.disable(e.BLEND),e.disable(e.DEPTH_TEST),e.enable(e.CULL_FACE),this.compression=this.getCompressedTextures();var i=function(t){t.createResource()};s(this.glTextureWrappers,i),s(this.glBufferWrappers,i),s(this.glFramebufferWrappers,i),s(this.glProgramWrappers,i),s(this.glAttribLocationWrappers,i),s(this.glUniformLocationWrappers,i),this.createTemporaryTextures(),this.pipelines.restoreContext(),this.resize(this.game.scale.baseSize.width,this.game.scale.baseSize.height),this.setExtensions(),this.contextLost=!1,console,this.emit(l.RESTORE_WEBGL,this),t.preventDefault()}},createTemporaryTextures:function(){for(var t=this.gl,e=0;e<this.maxTextures;e++){var i=t.createTexture();t.activeTexture(t.TEXTURE0+e),t.bindTexture(t.TEXTURE_2D,i),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,new Uint8Array([0,0,255,255])),this.textureIndexes.push(e)}},captureFrame:function(t,e){},captureNextFrame:function(){},getFps:function(){},log:function(){},startCapture:function(t,e,i){},stopCapture:function(){},onCapture:function(t){},onResize:function(t,e){e.width===this.width&&e.height===this.height||this.resize(e.width,e.height)},beginCapture:function(t,e){void 0===t&&(t=this.width),void 0===e&&(e=this.height),this.renderTarget.bind(!0,t,e),this.setProjectionMatrix(t,e)},endCapture:function(){return this.renderTarget.unbind(!0),this.resetProjectionMatrix(),this.renderTarget},resize:function(t,e){var i=this.gl;return this.width=t,this.height=e,this.setProjectionMatrix(t,e),i.viewport(0,0,t,e),this.drawingBufferHeight=i.drawingBufferHeight,i.scissor(0,i.drawingBufferHeight-e,t,e),this.defaultScissor[2]=t,this.defaultScissor[3]=e,this.emit(l.RESIZE,t,e),this},getCompressedTextures:function(){var t="WEBGL_compressed_texture_",e="WEBKIT_"+t,i=function(i,s){var n=i.getExtension(t+s)||i.getExtension(e+s)||i.getExtension("EXT_texture_compression_"+s);if(n){var r={};for(var o in n)r[n[o]]=o;return r}},s=this.gl;return{ETC:i(s,"etc"),ETC1:i(s,"etc1"),ATC:i(s,"atc"),ASTC:i(s,"astc"),BPTC:i(s,"bptc"),RGTC:i(s,"rgtc"),PVRTC:i(s,"pvrtc"),S3TC:i(s,"s3tc"),S3TCSRGB:i(s,"s3tc_srgb"),IMG:!0}},getCompressedTextureName:function(t,e){var i=this.compression[t.toUpperCase()];if(e in i)return i[e]},supportsCompressedTexture:function(t,e){var i=this.compression[t.toUpperCase()];return!!i&&(!e||e in i)},getAspectRatio:function(){return this.width/this.height},setProjectionMatrix:function(t,e){return t===this.projectionWidth&&e===this.projectionHeight||(this.projectionWidth=t,this.projectionHeight=e,this.projectionMatrix.ortho(0,t,e,0,-1e3,1e3)),this},resetProjectionMatrix:function(){return this.setProjectionMatrix(this.width,this.height)},hasExtension:function(t){return!!this.supportedExtensions&&this.supportedExtensions.indexOf(t)},getExtension:function(t){return this.hasExtension(t)?(t in this.extensions||(this.extensions[t]=this.gl.getExtension(t)),this.extensions[t]):null},flush:function(){this.pipelines.flush()},pushScissor:function(t,e,i,s,n){void 0===n&&(n=this.drawingBufferHeight);var r=[t,e,i,s];return this.scissorStack.push(r),this.setScissor(t,e,i,s,n),this.currentScissor=r,r},setScissor:function(t,e,i,s,n){void 0===n&&(n=this.drawingBufferHeight);var r=this.gl,o=this.currentScissor,a=i>0&&s>0;if(o&&a){var h=o[0],l=o[1],u=o[2],c=o[3];a=h!==t||l!==e||u!==i||c!==s}a&&(this.flush(),r.scissor(t,n-e-s,i,s))},resetScissor:function(){var t=this.gl;t.enable(t.SCISSOR_TEST);var e=this.currentScissor;if(e){var i=e[0],s=e[1],n=e[2],r=e[3];n>0&&r>0&&t.scissor(i,this.drawingBufferHeight-s-r,n,r)}},popScissor:function(){var t=this.scissorStack;t.pop();var e=t[t.length-1];e&&this.setScissor(e[0],e[1],e[2],e[3]),this.currentScissor=e},hasActiveStencilMask:function(){var t=this.currentMask.mask,e=this.currentCameraMask.mask;return t&&t.isStencil||e&&e.isStencil},resetViewport:function(){var t=this.gl;t.viewport(0,0,this.width,this.height),this.drawingBufferHeight=t.drawingBufferHeight},setBlendMode:function(t,e){void 0===e&&(e=!1);var i=this.gl,s=this.blendModes[t];return!!(e||t!==a.BlendModes.SKIP_CHECK&&this.currentBlendMode!==t)&&(this.flush(),i.enable(i.BLEND),i.blendEquation(s.equation),s.func.length>2?i.blendFuncSeparate(s.func[0],s.func[1],s.func[2],s.func[3]):i.blendFunc(s.func[0],s.func[1]),this.currentBlendMode=t,!0)},addBlendMode:function(t,e){return this.blendModes.push({func:t,equation:e})-1},updateBlendMode:function(t,e,i){return this.blendModes[t]&&(this.blendModes[t].func=e,i&&(this.blendModes[t].equation=i)),this},removeBlendMode:function(t){return t>17&&this.blendModes[t]&&this.blendModes.splice(t,1),this},pushFramebuffer:function(t,e,i,s,n){return t===this.currentFramebuffer?this:(this.fboStack.push(t),this.setFramebuffer(t,e,i,s,n))},setFramebuffer:function(t,e,i,s,n){if(void 0===e&&(e=!1),void 0===i&&(i=!0),void 0===s&&(s=null),void 0===n&&(n=!1),t===this.currentFramebuffer)return this;var r=this.gl,o=this.width,a=this.height;return t&&t.renderTexture&&i?(o=t.renderTexture.width,a=t.renderTexture.height):this.flush(),t?r.bindFramebuffer(r.FRAMEBUFFER,t.webGLFramebuffer):r.bindFramebuffer(r.FRAMEBUFFER,null),i&&r.viewport(0,0,o,a),s&&r.framebufferTexture2D(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0,r.TEXTURE_2D,s.webGLTexture,0),n&&(r.clearColor(0,0,0,0),r.clear(r.COLOR_BUFFER_BIT)),e&&(t?(this.drawingBufferHeight=a,this.pushScissor(0,0,o,a)):(this.drawingBufferHeight=this.height,this.popScissor())),this.currentFramebuffer=t,this},popFramebuffer:function(t,e){void 0===t&&(t=!1),void 0===e&&(e=!0);var i=this.fboStack;i.pop();var s=i[i.length-1];return s||(s=null),this.setFramebuffer(s,t,e),s},restoreFramebuffer:function(t,e){void 0===t&&(t=!1),void 0===e&&(e=!0);var i=this.fboStack,s=i[i.length-1];s||(s=null),this.currentFramebuffer=null,this.setFramebuffer(s,t,e)},setProgram:function(t){return t!==this.currentProgram&&(this.flush(),this.gl.useProgram(t.webGLProgram),this.currentProgram=t,!0)},resetProgram:function(){return this.gl.useProgram(this.currentProgram.webGLProgramWrapper),this},createTextureFromSource:function(t,e,i,s,n){void 0===n&&(n=!1);var r=this.gl,o=r.NEAREST,h=r.NEAREST,l=r.CLAMP_TO_EDGE;e=t?t.width:e,i=t?t.height:i;var c=u(e,i);if(c&&!n&&(l=r.REPEAT),s===a.ScaleModes.LINEAR&&this.config.antialias){var d=t&&t.compressed,f=!d&&c||d&&t.mipmaps.length>1;o=this.mipmapFilter&&f?this.mipmapFilter:r.LINEAR,h=r.LINEAR}return t||"number"!=typeof e||"number"!=typeof i?this.createTexture2D(0,o,h,l,l,r.RGBA,t):this.createTexture2D(0,o,h,l,l,r.RGBA,null,e,i)},createTexture2D:function(t,e,i,s,n,r,o,a,h,l,u,c){"number"!=typeof a&&(a=o?o.width:1),"number"!=typeof h&&(h=o?o.height:1);var d=new w(this.gl,t,e,i,s,n,r,o,a,h,l,u,c);return this.glTextureWrappers.push(d),d},createFramebuffer:function(t,e,i,s){this.currentFramebuffer=null;var n=new b(this.gl,t,e,i,s);return this.glFramebufferWrappers.push(n),n},beginBitmapMask:function(t,e){this.gl&&(this.flush(),this.maskTarget.bind(!0),this.currentCameraMask.mask!==t&&(this.currentMask.mask=t,this.currentMask.camera=e))},drawBitmapMask:function(t,e,i){this.flush(),this.maskSource.bind(),this.setBlendMode(0,!0),t.renderWebGL(this,t,e),this.maskSource.unbind(!0),this.maskTarget.unbind();var s=this.gl,n=this.getCurrentStencilMask();n?(s.enable(s.STENCIL_TEST),n.mask.applyStencil(this,n.camera,!0)):this.currentMask.mask=null,this.pipelines.set(i),s.activeTexture(s.TEXTURE0),s.bindTexture(s.TEXTURE_2D,this.maskTarget.texture.webGLTexture),s.activeTexture(s.TEXTURE1),s.bindTexture(s.TEXTURE_2D,this.maskSource.texture.webGLTexture)},createProgram:function(t,e){var i=new T(this.gl,t,e);return this.glProgramWrappers.push(i),i},createVertexBuffer:function(t,e){var i=this.gl,s=new x(i,t,i.ARRAY_BUFFER,e);return this.glBufferWrappers.push(s),s},createAttribLocation:function(t,e){var i=new S(this.gl,t,e);return this.glAttribLocationWrappers.push(i),i},createUniformLocation:function(t,e){var i=new E(this.gl,t,e);return this.glUniformLocationWrappers.push(i),i},createIndexBuffer:function(t,e){var i=this.gl,s=new x(i,t,i.ELEMENT_ARRAY_BUFFER,e);return this.glBufferWrappers.push(s),s},deleteTexture:function(t){if(t)return n(this.glTextureWrappers,t),t.destroy(),this},deleteFramebuffer:function(t){return t?(n(this.fboStack,t),n(this.glFramebufferWrappers,t),t.destroy(),this):this},deleteProgram:function(t){return t&&(n(this.glProgramWrappers,t),t.destroy()),this},deleteAttribLocation:function(t){return t&&(n(this.glAttribLocationWrappers,t),t.destroy()),this},deleteUniformLocation:function(t){return t&&(n(this.glUniformLocationWrappers,t),t.destroy()),this},deleteBuffer:function(t){return t?(n(this.glBufferWrappers,t),t.destroy(),this):this},preRenderCamera:function(t){var e=t.x,i=t.y,s=t.width,n=t.height,o=t.backgroundColor;t.emit(r.PRE_RENDER,t),this.pipelines.preBatchCamera(t),this.pushScissor(e,i,s,n),t.mask&&(this.currentCameraMask.mask=t.mask,this.currentCameraMask.camera=t._maskCamera,t.mask.preRenderWebGL(this,t,t._maskCamera)),o.alphaGL>0&&this.pipelines.setMulti().drawFillRect(e,i,s,n,v.getTintFromFloats(o.blueGL,o.greenGL,o.redGL,1),o.alphaGL)},getCurrentStencilMask:function(){var t=null,e=this.maskStack,i=this.currentCameraMask;return e.length>0?t=e[e.length-1]:i.mask&&i.mask.isStencil&&(t=i),t},postRenderCamera:function(t){var e=t.flashEffect,i=t.fadeEffect;if(e.isRunning||i.isRunning||i.isComplete){var s=this.pipelines.setMulti();e.postRenderWebGL(s,v.getTintFromFloats),i.postRenderWebGL(s,v.getTintFromFloats)}t.dirty=!1,this.popScissor(),t.mask&&(this.currentCameraMask.mask=null,t.mask.postRenderWebGL(this,t._maskCamera)),this.pipelines.postBatchCamera(t),t.emit(r.POST_RENDER,t)},preRender:function(){if(!this.contextLost){var t=this.gl;if(t.bindFramebuffer(t.FRAMEBUFFER,null),this.emit(l.PRE_RENDER_CLEAR),this.config.clearBeforeRender){var e=this.config.backgroundColor;t.clearColor(e.redGL,e.greenGL,e.blueGL,e.alphaGL),t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT|t.STENCIL_BUFFER_BIT)}t.enable(t.SCISSOR_TEST),this.currentScissor=this.defaultScissor,this.scissorStack.length=0,this.scissorStack.push(this.currentScissor),this.game.scene.customViewports&&t.scissor(0,this.drawingBufferHeight-this.height,this.width,this.height),this.currentMask.mask=null,this.currentCameraMask.mask=null,this.maskStack.length=0,this.emit(l.PRE_RENDER)}},render:function(t,e,i){if(!this.contextLost){var s=e.length;if(this.emit(l.RENDER,t,i),this.preRenderCamera(i),0===s)return this.setBlendMode(a.BlendModes.NORMAL),void this.postRenderCamera(i);this.currentType="";for(var n=this.currentMask,r=0;r<s;r++){this.finalType=r===s-1;var o=e[r],h=o.mask;(n=this.currentMask).mask&&n.mask!==h&&n.mask.postRenderWebGL(this,n.camera),h&&n.mask!==h&&h.preRenderWebGL(this,o,i),o.blendMode!==this.currentBlendMode&&this.setBlendMode(o.blendMode);var u=o.type;u!==this.currentType&&(this.newType=!0,this.currentType=u),this.finalType?this.nextTypeMatch=!1:this.nextTypeMatch=e[r+1].type===this.currentType,o.renderWebGL(this,o,i),this.newType=!1}(n=this.currentMask).mask&&n.mask.postRenderWebGL(this,n.camera),this.setBlendMode(a.BlendModes.NORMAL),this.postRenderCamera(i)}},postRender:function(){if(!this.contextLost){this.flush(),this.emit(l.POST_RENDER);var t=this.snapshotState;t.callback&&(y(this.gl,t),t.callback=null)}},clearStencilMask:function(){this.gl.disable(this.gl.STENCIL_TEST)},restoreStencilMask:function(){var t=this.gl,e=this.getCurrentStencilMask();if(e){var i=e.mask;t.enable(t.STENCIL_TEST),i.invertAlpha?t.stencilFunc(t.NOTEQUAL,i.level,255):t.stencilFunc(t.EQUAL,i.level,255)}},snapshot:function(t,e,i){return this.snapshotArea(0,0,this.gl.drawingBufferWidth,this.gl.drawingBufferHeight,t,e,i)},snapshotArea:function(t,e,i,s,n,r,o){var a=this.snapshotState;return a.callback=n,a.type=r,a.encoder=o,a.getPixel=!1,a.x=t,a.y=e,a.width=i,a.height=s,this},snapshotPixel:function(t,e,i){return this.snapshotArea(t,e,1,1,i),this.snapshotState.getPixel=!0,this},snapshotFramebuffer:function(t,e,i,s,n,r,o,a,h,l,u){void 0===n&&(n=!1),void 0===r&&(r=0),void 0===o&&(o=0),void 0===a&&(a=e),void 0===h&&(h=i),"pixel"===l&&(n=!0,l="image/png");var c=this.currentFramebuffer;this.snapshotArea(r,o,a,h,s,l,u);var d=this.snapshotState;return d.getPixel=n,d.isFramebuffer=!0,d.bufferWidth=e,d.bufferHeight=i,d.width=Math.min(d.width,e),d.height=Math.min(d.height,i),this.setFramebuffer(t),y(this.gl,d),this.setFramebuffer(c),d.callback=null,d.isFramebuffer=!1,this},canvasToTexture:function(t,e,i,s){void 0===i&&(i=!1),void 0===s&&(s=!1);var n=this.gl,r=n.NEAREST,o=n.NEAREST,a=t.width,h=t.height,l=n.CLAMP_TO_EDGE,c=u(a,h);return!i&&c&&(l=n.REPEAT),this.config.antialias&&(r=c&&this.mipmapFilter?this.mipmapFilter:n.LINEAR,o=n.LINEAR),e?(e.update(t,a,h,s,l,l,r,o,e.format),e):this.createTexture2D(0,r,o,l,l,n.RGBA,t,a,h,!0,!1,s)},createCanvasTexture:function(t,e,i){return void 0===e&&(e=!1),void 0===i&&(i=!1),this.canvasToTexture(t,null,e,i)},updateCanvasTexture:function(t,e,i,s){return void 0===i&&(i=!1),void 0===s&&(s=!1),this.canvasToTexture(t,e,s,i)},videoToTexture:function(t,e,i,s){void 0===i&&(i=!1),void 0===s&&(s=!1);var n=this.gl,r=n.NEAREST,o=n.NEAREST,a=t.videoWidth,h=t.videoHeight,l=n.CLAMP_TO_EDGE,c=u(a,h);return!i&&c&&(l=n.REPEAT),this.config.antialias&&(r=c&&this.mipmapFilter?this.mipmapFilter:n.LINEAR,o=n.LINEAR),e?(e.update(t,a,h,s,l,l,r,o,e.format),e):this.createTexture2D(0,r,o,l,l,n.RGBA,t,a,h,!0,!0,s)},createVideoTexture:function(t,e,i){return void 0===e&&(e=!1),void 0===i&&(i=!1),this.videoToTexture(t,null,e,i)},updateVideoTexture:function(t,e,i,s){return void 0===i&&(i=!1),void 0===s&&(s=!1),this.videoToTexture(t,e,s,i)},createUint8ArrayTexture:function(t,e,i){var s=this.gl,n=s.NEAREST,r=s.NEAREST,o=s.CLAMP_TO_EDGE;return u(e,i)&&(o=s.REPEAT),this.createTexture2D(0,n,r,o,o,s.RGBA,t,e,i)},setTextureFilter:function(t,e){var i=this.gl,s=0===e?i.LINEAR:i.NEAREST;i.activeTexture(i.TEXTURE0);var n=i.getParameter(i.TEXTURE_BINDING_2D);return i.bindTexture(i.TEXTURE_2D,t.webGLTexture),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MIN_FILTER,s),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MAG_FILTER,s),t.minFilter=s,t.magFilter=s,n&&i.bindTexture(i.TEXTURE_2D,n),this},getMaxTextureSize:function(){return this.config.maxTextureSize},destroy:function(){this.canvas.removeEventListener("webglcontextlost",this.contextLostHandler,!1),this.canvas.removeEventListener("webglcontextrestored",this.contextRestoredHandler,!1);var t=function(t){t.destroy()};s(this.glAttribLocationWrappers,t),s(this.glBufferWrappers,t),s(this.glFramebufferWrappers,t),s(this.glProgramWrappers,t),s(this.glTextureWrappers,t),s(this.glUniformLocationWrappers,t),this.maskTarget.destroy(),this.maskSource.destroy(),this.pipelines.destroy(),this.removeAllListeners(),this.fboStack=[],this.maskStack=[],this.extensions={},this.textureIndexes=[],this.gl=null,this.game=null,this.canvas=null,this.contextLost=!0,this.currentMask=null,this.currentCameraMask=null}});t.exports=C},38683:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(83419),n=i(95428),r=i(95540),o=i(14500),a=new s({initialize:function(t,e,i,s,n){this.pipeline=t,this.name=e,this.renderer=t.renderer,this.gl=this.renderer.gl,this.fragSrc=s,this.vertSrc=i,this.program=this.renderer.createProgram(i,s),this.attributes,this.vertexComponentCount=0,this.vertexSize=0,this.uniforms={},this.createAttributes(n),this.createUniforms()},createAttributes:function(t){var e=0,i=0,s=[];this.vertexComponentCount=0;for(var n=0;n<t.length;n++){var a=t[n],h=a.name,l=r(a,"size",1),u=r(a,"type",o.FLOAT),c=u.enum,d=u.size,f=!!a.normalized;s.push({name:h,size:l,type:c,normalized:f,offset:i,enabled:!1,location:-1}),4===d?e+=l:e++,i+=l*d}this.vertexSize=i,this.vertexComponentCount=e,this.attributes=s},bind:function(t,e){return void 0===t&&(t=!1),void 0===e&&(e=!1),e&&this.pipeline.flush(),this.renderer.setProgram(this.program),t&&this.setAttribPointers(),this},rebind:function(){return this.renderer.setProgram(this.program),this.setAttribPointers(!0),this},setAttribPointers:function(t){void 0===t&&(t=!1);for(var e=this.gl,i=this.renderer,s=this.vertexSize,n=this.attributes,r=this.program,o=0;o<n.length;o++){var a=n[o],h=a.size,l=a.type,u=a.offset,c=a.enabled,d=a.location,f=!!a.normalized;if(t){-1!==d&&i.deleteAttribLocation(d);var p=this.renderer.createAttribLocation(r,a.name);p.webGLAttribLocation>=0?(e.enableVertexAttribArray(p.webGLAttribLocation),e.vertexAttribPointer(p.webGLAttribLocation,h,l,f,s,u),a.enabled=!0,a.location=p):-1!==p.webGLAttribLocation&&e.disableVertexAttribArray(p.webGLAttribLocation)}else c?e.vertexAttribPointer(d.webGLAttribLocation,h,l,f,s,u):!c&&-1!==d&&d.webGLAttribLocation>-1&&(e.disableVertexAttribArray(d.webGLAttribLocation),a.location=-1)}return this},createUniforms:function(){var t,e,i,s=this.gl,n=this.program,r=this.uniforms,o=s.getProgramParameter(n.webGLProgram,s.ACTIVE_UNIFORMS);for(t=0;t<o;t++){var a=s.getActiveUniform(n.webGLProgram,t);if(a){e=a.name,null!==(i=this.renderer.createUniformLocation(n,e))&&(r[e]={name:e,location:i,setter:null,value1:null,value2:null,value3:null,value4:null});var h=e.indexOf("[");h>0&&(e=e.substr(0,h),r.hasOwnProperty(e)||null!==(i=this.renderer.createUniformLocation(n,e))&&(r[e]={name:e,location:i,setter:null,value1:null,value2:null,value3:null,value4:null}))}}return this},syncUniforms:function(){var t=this.gl;for(var e in this.renderer.setProgram(this.program),this.uniforms){var i=this.uniforms[e];i.setter&&i.setter.call(t,i.location.webGLUniformLocation,i.value1,i.value2,i.value3,i.value4)}},hasUniform:function(t){return this.uniforms.hasOwnProperty(t)},resetUniform:function(t){var e=this.uniforms[t];return e&&(e.value1=null,e.value2=null,e.value3=null,e.value4=null),this},setUniform1:function(t,e,i,s){var n=this.uniforms[e];return n?((s||n.value1!==i)&&(n.setter||(n.setter=t),n.value1=i,this.renderer.setProgram(this.program),t.call(this.gl,n.location.webGLUniformLocation,i),this.pipeline.currentShader=this),this):this},setUniform2:function(t,e,i,s,n){var r=this.uniforms[e];return r?((n||r.value1!==i||r.value2!==s)&&(r.setter||(r.setter=t),r.value1=i,r.value2=s,this.renderer.setProgram(this.program),t.call(this.gl,r.location.webGLUniformLocation,i,s),this.pipeline.currentShader=this),this):this},setUniform3:function(t,e,i,s,n,r){var o=this.uniforms[e];return o?((r||o.value1!==i||o.value2!==s||o.value3!==n)&&(o.setter||(o.setter=t),o.value1=i,o.value2=s,o.value3=n,this.renderer.setProgram(this.program),t.call(this.gl,o.location.webGLUniformLocation,i,s,n),this.pipeline.currentShader=this),this):this},setUniform4:function(t,e,i,s,n,r,o){var a=this.uniforms[e];return a?((o||a.value1!==i||a.value2!==s||a.value3!==n||a.value4!==r)&&(a.setter||(a.setter=t),a.value1=i,a.value2=s,a.value3=n,a.value4=r,this.renderer.setProgram(this.program),t.call(this.gl,a.location.webGLUniformLocation,i,s,n,r),this.pipeline.currentShader=this),this):this},setBoolean:function(t,e){return this.setUniform1(this.gl.uniform1i,t,Number(e))},set1f:function(t,e){return this.setUniform1(this.gl.uniform1f,t,e)},set2f:function(t,e,i){return this.setUniform2(this.gl.uniform2f,t,e,i)},set3f:function(t,e,i,s){return this.setUniform3(this.gl.uniform3f,t,e,i,s)},set4f:function(t,e,i,s,n){return this.setUniform4(this.gl.uniform4f,t,e,i,s,n)},set1fv:function(t,e){return this.setUniform1(this.gl.uniform1fv,t,e,!0)},set2fv:function(t,e){return this.setUniform1(this.gl.uniform2fv,t,e,!0)},set3fv:function(t,e){return this.setUniform1(this.gl.uniform3fv,t,e,!0)},set4fv:function(t,e){return this.setUniform1(this.gl.uniform4fv,t,e,!0)},set1iv:function(t,e){return this.setUniform1(this.gl.uniform1iv,t,e,!0)},set2iv:function(t,e){return this.setUniform1(this.gl.uniform2iv,t,e,!0)},set3iv:function(t,e){return this.setUniform1(this.gl.uniform3iv,t,e,!0)},set4iv:function(t,e){return this.setUniform1(this.gl.uniform4iv,t,e,!0)},set1i:function(t,e){return this.setUniform1(this.gl.uniform1i,t,e)},set2i:function(t,e,i){return this.setUniform2(this.gl.uniform2i,t,e,i)},set3i:function(t,e,i,s){return this.setUniform3(this.gl.uniform3i,t,e,i,s)},set4i:function(t,e,i,s,n){return this.setUniform4(this.gl.uniform4i,t,e,i,s,n)},setMatrix2fv:function(t,e,i){return this.setUniform2(this.gl.uniformMatrix2fv,t,e,i,!0)},setMatrix3fv:function(t,e,i){return this.setUniform2(this.gl.uniformMatrix3fv,t,e,i,!0)},setMatrix4fv:function(t,e,i){return this.setUniform2(this.gl.uniformMatrix4fv,t,e,i,!0)},createProgram:function(t,e){return void 0===t&&(t=this.vertSrc),void 0===e&&(e=this.fragSrc),this.program&&this.renderer.deleteProgram(this.program),this.vertSrc=t,this.fragSrc=e,this.program=this.renderer.createProgram(t,e),this.createUniforms(),this.rebind()},destroy:function(){var t=this.renderer;n(this.uniforms,function(e){t.deleteUniformLocation(e.location)}),this.uniforms=null,n(this.attributes,function(e){t.deleteAttribLocation(e.location)}),this.attributes=null,t.deleteProgram(this.program),this.pipeline=null,this.renderer=null,this.gl=null,this.program=null}});t.exports=a},14500:t=>{t.exports={BYTE:{enum:5120,size:1},UNSIGNED_BYTE:{enum:5121,size:1},SHORT:{enum:5122,size:2},UNSIGNED_SHORT:{enum:5123,size:2},INT:{enum:5124,size:4},UNSIGNED_INT:{enum:5125,size:4},FLOAT:{enum:5126,size:4}}},4159:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(14500),n=i(79291),r={PipelineManager:i(7530),Pipelines:i(96615),RenderTarget:i(32302),Utils:i(70554),WebGLPipeline:i(29100),WebGLRenderer:i(74797),WebGLShader:i(38683),Wrappers:i(9503)};r=n(!1,r,s),t.exports=r},31302:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @author       Felipe Alfonso <@bitnenfer>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(83419),n=i(95540),r=i(78908),o=i(85191),a=i(14500),h=i(29100),l=new s({Extends:h,initialize:function(t){t.fragShader=n(t,"fragShader",r),t.vertShader=n(t,"vertShader",o),t.batchSize=n(t,"batchSize",1),t.vertices=n(t,"vertices",[-1,1,-1,-7,7,1]),t.attributes=n(t,"attributes",[{name:"inPosition",size:2,type:a.FLOAT}]),h.call(this,t)},boot:function(){h.prototype.boot.call(this),this.set1i("uMainSampler",0),this.set1i("uMaskSampler",1)},resize:function(t,e){h.prototype.resize.call(this,t,e),this.set2f("uResolution",t,e)},beginMask:function(t,e,i){this.renderer.beginBitmapMask(t,i)},endMask:function(t,e,i){var s=this.gl,n=this.renderer,r=t.bitmapMask;r&&s&&(n.drawBitmapMask(r,e,this),i&&this.set2f("uResolution",i.width,i.height),this.set1i("uInvertMaskAlpha",t.invertAlpha),s.drawArrays(this.topology,0,3),i&&this.set2f("uResolution",this.width,this.height),s.bindTexture(s.TEXTURE_2D,null))}});t.exports=l},92651:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(83419),n=i(58918),r=i(14811),o=i(95540),a=i(43558),h=i(89350),l=i(70554),u=new s({Extends:a,initialize:function(t){t.shaders=[l.setGlowQuality(h.FXGlowFrag,t.game),h.FXShadowFrag,h.FXPixelateFrag,h.FXVignetteFrag,h.FXShineFrag,h.FXBlurLowFrag,h.FXBlurMedFrag,h.FXBlurHighFrag,h.FXGradientFrag,h.FXBloomFrag,h.ColorMatrixFrag,h.FXCircleFrag,h.FXBarrelFrag,h.FXDisplacementFrag,h.FXWipeFrag,h.FXBokehFrag],a.call(this,t);var e=this.game;this.glow=new n.Glow(e),this.shadow=new n.Shadow(e),this.pixelate=new n.Pixelate(e),this.vignette=new n.Vignette(e),this.shine=new n.Shine(e),this.gradient=new n.Gradient(e),this.circle=new n.Circle(e),this.barrel=new n.Barrel(e),this.wipe=new n.Wipe(e),this.bokeh=new n.Bokeh(e);var i=[];i[r.GLOW]=this.onGlow,i[r.SHADOW]=this.onShadow,i[r.PIXELATE]=this.onPixelate,i[r.VIGNETTE]=this.onVignette,i[r.SHINE]=this.onShine,i[r.BLUR]=this.onBlur,i[r.GRADIENT]=this.onGradient,i[r.BLOOM]=this.onBloom,i[r.COLOR_MATRIX]=this.onColorMatrix,i[r.CIRCLE]=this.onCircle,i[r.BARREL]=this.onBarrel,i[r.DISPLACEMENT]=this.onDisplacement,i[r.WIPE]=this.onWipe,i[r.BOKEH]=this.onBokeh,this.fxHandlers=i,this.source,this.target,this.swap},onDraw:function(t,e,i){this.source=t,this.target=e,this.swap=i;var s=t.width,n=t.height,r=this.tempSprite,o=this.fxHandlers;if(r&&r.preFX)for(var a=r.preFX.list,h=0;h<a.length;h++){var l=a[h];l.active&&o[l.type].call(this,l,s,n)}this.drawToGame(this.source)},runDraw:function(){var t=this.source,e=this.target;this.copy(t,e),this.source=e,this.target=t},onGlow:function(t,e,i){var s=this.shaders[r.GLOW];this.setShader(s),this.glow.onPreRender(t,s,e,i),this.runDraw()},onShadow:function(t){var e=this.shaders[r.SHADOW];this.setShader(e),this.shadow.onPreRender(t,e),this.runDraw()},onPixelate:function(t,e,i){var s=this.shaders[r.PIXELATE];this.setShader(s),this.pixelate.onPreRender(t,s,e,i),this.runDraw()},onVignette:function(t){var e=this.shaders[r.VIGNETTE];this.setShader(e),this.vignette.onPreRender(t,e),this.runDraw()},onShine:function(t,e,i){var s=this.shaders[r.SHINE];this.setShader(s),this.shine.onPreRender(t,s,e,i),this.runDraw()},onBlur:function(t,e,i){var s=o(t,"quality"),n=this.shaders[r.BLUR+s];this.setShader(n),this.set1i("uMainSampler",0),this.set2f("resolution",e,i),this.set1f("strength",o(t,"strength")),this.set3fv("color",o(t,"glcolor"));for(var a=o(t,"x"),h=o(t,"y"),l=o(t,"steps"),u=0;u<l;u++)this.set2f("offset",a,0),this.runDraw(),this.set2f("offset",0,h),this.runDraw()},onGradient:function(t){var e=this.shaders[r.GRADIENT];this.setShader(e),this.gradient.onPreRender(t,e),this.runDraw()},onBloom:function(t,e,i){var s=this.shaders[r.BLOOM];this.copySprite(this.source,this.swap),this.setShader(s),this.set1i("uMainSampler",0),this.set1f("strength",o(t,"blurStrength")),this.set3fv("color",o(t,"glcolor"));for(var n=2/e*o(t,"offsetX"),a=2/i*o(t,"offsetY"),h=o(t,"steps"),l=0;l<h;l++)this.set2f("offset",n,0),this.runDraw(),this.set2f("offset",0,a),this.runDraw();this.blendFrames(this.swap,this.source,this.target,o(t,"strength")),this.copySprite(this.target,this.source)},onColorMatrix:function(t){this.setShader(this.colorMatrixShader),this.set1fv("uColorMatrix",t.getData()),this.set1f("uAlpha",t.alpha),this.runDraw()},onCircle:function(t,e,i){var s=this.shaders[r.CIRCLE];this.setShader(s),this.circle.onPreRender(t,s,e,i),this.runDraw()},onBarrel:function(t){var e=this.shaders[r.BARREL];this.setShader(e),this.barrel.onPreRender(t,e),this.runDraw()},onDisplacement:function(t){this.setShader(this.shaders[r.DISPLACEMENT]),this.set1i("uDisplacementSampler",1),this.set2f("amount",t.x,t.y),this.bindTexture(t.glTexture,1),this.runDraw()},onWipe:function(t){var e=this.shaders[r.WIPE];this.setShader(e),this.wipe.onPreRender(t,e),this.runDraw()},onBokeh:function(t,e,i){var s=this.shaders[r.BOKEH];this.setShader(s),this.bokeh.onPreRender(t,s,e,i),this.runDraw()},destroy:function(){return this.glow.destroy(),this.shadow.destroy(),this.pixelate.destroy(),this.vignette.destroy(),this.shine.destroy(),this.gradient.destroy(),this.circle.destroy(),this.barrel.destroy(),this.wipe.destroy(),this.bokeh.destroy(),this.fxHandlers=null,this.source=null,this.target=null,this.swap=null,a.prototype.destroy.call(this),this}});t.exports=u},96569:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @author       Felipe Alfonso <@bitnenfer>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(83419),n=i(95540),r=i(31063),o=i(57516),a=i(61340),h=i(26099),l=i(29100),u=new s({Extends:o,initialize:function(t){var e=n(t,"fragShader",r);t.fragShader=e.replace("%LIGHT_COUNT%",t.game.renderer.config.maxLights),o.call(this,t),this.inverseRotationMatrix=new Float32Array([1,0,0,0,1,0,0,0,1]),this.currentNormalMap,this.lightsActive=!0,this.tempVec2=new h,this._tempMatrix=new a,this._tempMatrix2=new a},boot:function(){l.prototype.boot.call(this)},onRender:function(t,e){var i=t.sys.lights;if(this.lightsActive=!1,i&&i.active){var s,n=i.getLights(e),r=n.length;this.lightsActive=!0;var o=this.renderer.height,a=e.matrix,h=this.tempVec2;for(this.set1i("uMainSampler",0),this.set1i("uNormSampler",1),this.set2f("uResolution",this.width/2,this.height/2),this.set4f("uCamera",e.x,e.y,e.rotation,e.zoom),this.set3f("uAmbientLightColor",i.ambientColor.r,i.ambientColor.g,i.ambientColor.b),this.set1i("uLightCount",r),s=0;s<r;s++){var l=n[s].light,u=l.color,c="uLights["+s+"].";a.transformPoint(l.x,l.y,h),this.set2f(c+"position",h.x-e.scrollX*l.scrollFactorX*e.zoom,o-(h.y-e.scrollY*l.scrollFactorY*e.zoom)),this.set3f(c+"color",u.r,u.g,u.b),this.set1f(c+"intensity",l.intensity),this.set1f(c+"radius",l.radius)}this.currentNormalMapRotation=null}},setNormalMapRotation:function(t){if(t!==this.currentNormalMapRotation||0===this.vertexCount){this.vertexCount>0&&this.flush();var e=this.inverseRotationMatrix;if(t){var i=-t,s=Math.cos(i),n=Math.sin(i);e[1]=n,e[3]=-n,e[0]=e[4]=s}else e[0]=e[4]=1,e[1]=e[3]=0;this.setMatrix3fv("uInverseRotationMatrix",!1,e),this.currentNormalMapRotation=t}},setTexture2D:function(t,e){var i=this.renderer;void 0===t&&(t=i.whiteTexture);var s=this.getNormalMap(e);this.isNewNormalMap(t,s)&&(this.flush(),this.createBatch(t),this.addTextureToBatch(s),this.currentNormalMap=s);var n=0;return e&&e.parentContainer?n=e.getWorldTransformMatrix(this._tempMatrix,this._tempMatrix2).rotationNormalized:e&&(n=e.rotation),null===this.currentBatch&&(this.createBatch(t),this.addTextureToBatch(s)),this.setNormalMapRotation(n),0},setGameObject:function(t,e){void 0===e&&(e=t.frame);var i=e.glTexture,s=this.getNormalMap(t);if(this.isNewNormalMap(i,s)&&(this.flush(),this.createBatch(i),this.addTextureToBatch(s),this.currentNormalMap=s),t.parentContainer){var n=t.getWorldTransformMatrix(this._tempMatrix,this._tempMatrix2);this.setNormalMapRotation(n.rotationNormalized)}else this.setNormalMapRotation(t.rotation);return null===this.currentBatch&&(this.createBatch(i),this.addTextureToBatch(s)),0},isNewNormalMap:function(t,e){return this.currentTexture!==t||this.currentNormalMap!==e},getNormalMap:function(t){var e;return t?(t.displayTexture?e=t.displayTexture.dataSource[t.displayFrame.sourceIndex]:t.texture?e=t.texture.dataSource[t.frame.sourceIndex]:t.tileset&&(e=Array.isArray(t.tileset)?t.tileset[0].image.dataSource[0]:t.tileset.image.dataSource[0]),e?e.glTexture:this.renderer.normalTexture):this.renderer.normalTexture},batchSprite:function(t,e,i){this.lightsActive&&o.prototype.batchSprite.call(this,t,e,i)},batchTexture:function(t,e,i,s,n,r,a,h,l,u,c,d,f,p,g,m,v,y,x,T,w,b,S,E,C,_,A,M,P,R,I,O){this.lightsActive&&o.prototype.batchTexture.call(this,t,e,i,s,n,r,a,h,l,u,c,d,f,p,g,m,v,y,x,T,w,b,S,E,C,_,A,M,P,R,I,O)},batchTextureFrame:function(t,e,i,s,n,r,a){this.lightsActive&&o.prototype.batchTextureFrame.call(this,t,e,i,s,n,r,a)}});t.exports=u},56527:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(83419),n=i(95540),r=i(57516),o=i(45561),a=i(60722),h=i(14500),l=i(29100),u=new s({Extends:r,initialize:function(t){t.fragShader=n(t,"fragShader",o),t.vertShader=n(t,"vertShader",a),t.attributes=n(t,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2},{name:"inTexId"},{name:"inTintEffect"},{name:"inTint",size:4,type:h.UNSIGNED_BYTE,normalized:!0}]),t.forceZero=!0,t.resizeUniform="uResolution",r.call(this,t)},boot:function(){l.prototype.boot.call(this);var t=this.renderer;this.set1i("uMainSampler",0),this.set2f("uResolution",t.width,t.height)}});t.exports=u},57516:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @author       Felipe Alfonso <@bitnenfer>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(83419),n=i(94811),r=i(95540),o=i(98840),a=i(44667),h=i(61340),l=i(70554),u=i(14500),c=i(29100),d=new s({Extends:c,initialize:function(t){var e=t.game.renderer,i=r(t,"fragShader",o);t.fragShader=l.parseFragmentShaderMaxTextures(i,e.maxTextures),t.vertShader=r(t,"vertShader",a),t.attributes=r(t,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2},{name:"inTexId"},{name:"inTintEffect"},{name:"inTint",size:4,type:u.UNSIGNED_BYTE,normalized:!0}]),t.resizeUniform="uResolution",c.call(this,t),this._tempMatrix1=new h,this._tempMatrix2=new h,this._tempMatrix3=new h,this.calcMatrix=new h,this.tempTriangle=[{x:0,y:0,width:0},{x:0,y:0,width:0},{x:0,y:0,width:0},{x:0,y:0,width:0}],this.strokeTint={TL:0,TR:0,BL:0,BR:0},this.fillTint={TL:0,TR:0,BL:0,BR:0},this.currentFrame={u0:0,v0:0,u1:1,v1:1},this.firstQuad=[0,0,0,0,0],this.prevQuad=[0,0,0,0,0],this.polygonCache=[]},boot:function(){c.prototype.boot.call(this);var t=this.renderer;this.set1iv("uMainSampler",t.textureIndexes),this.set2f("uResolution",t.width,t.height)},batchSprite:function(t,e,i){this.manager.set(this,t);var s=this._tempMatrix1,n=this._tempMatrix2,r=this._tempMatrix3,o=t.frame,a=o.glTexture,h=o.u0,u=o.v0,c=o.u1,d=o.v1,f=o.x,p=o.y,g=o.cutWidth,m=o.cutHeight,v=o.customPivot,y=t.displayOriginX,x=t.displayOriginY,T=-y+f,w=-x+p;if(t.isCropped){var b=t._crop;b.flipX===t.flipX&&b.flipY===t.flipY||o.updateCropUVs(b,t.flipX,t.flipY),h=b.u0,u=b.v0,c=b.u1,d=b.v1,g=b.width,m=b.height,T=-y+(f=b.x),w=-x+(p=b.y)}var S=1,E=1;t.flipX&&(v||(T+=-o.realWidth+2*y),S=-1),t.flipY&&(v||(w+=-o.realHeight+2*x),E=-1);var C=t.x,_=t.y;e.roundPixels&&(C=Math.floor(C),_=Math.floor(_)),n.applyITRS(C,_,t.rotation,t.scaleX*S,t.scaleY*E),s.copyFrom(e.matrix),i?(s.multiplyWithOffset(i,-e.scrollX*t.scrollFactorX,-e.scrollY*t.scrollFactorY),n.e=C,n.f=_):(n.e-=e.scrollX*t.scrollFactorX,n.f-=e.scrollY*t.scrollFactorY),s.multiply(n,r);var A=r.setQuad(T,w,T+g,w+m,e.renderRoundPixels),M=l.getTintAppendFloatAlpha,P=e.alpha,R=M(t.tintTopLeft,P*t._alphaTL),I=M(t.tintTopRight,P*t._alphaTR),O=M(t.tintBottomLeft,P*t._alphaBL),L=M(t.tintBottomRight,P*t._alphaBR);this.shouldFlush(6)&&this.flush();var D=this.setGameObject(t,o);this.manager.preBatch(t),this.batchQuad(t,A[0],A[1],A[2],A[3],A[4],A[5],A[6],A[7],h,u,c,d,R,I,O,L,t.tintFill,a,D),this.manager.postBatch(t)},batchTexture:function(t,e,i,s,n,r,o,a,h,l,u,c,d,f,p,g,m,v,y,x,T,w,b,S,E,C,_,A,M,P,R,I,O){void 0===O&&(O=!1),this.manager.set(this,t);var L=this._tempMatrix1,D=this._tempMatrix2,k=this._tempMatrix3,F=v/i+_,B=y/s+A,N=(v+x)/i+_,z=(y+T)/s+A,U=o,V=a,G=-g,X=-m;if(t.isCropped){var Y=t._crop,H=Y.width,W=Y.height;U=H,V=W,o=H,a=W;var j=v=Y.x,q=y=Y.y;c&&(j=x-Y.x-H),d&&(q=T-Y.y-W),F=j/i+_,B=q/s+A,N=(j+H)/i+_,z=(q+W)/s+A,G=-g+v,X=-m+y}c&&(U*=-1,G+=o),(d^=!R&&e.isRenderTexture?1:0)&&(V*=-1,X+=a),M.roundPixels&&(n=Math.floor(n),r=Math.floor(r)),D.applyITRS(n,r,u,h,l),L.copyFrom(M.matrix),P?(L.multiplyWithOffset(P,-M.scrollX*f,-M.scrollY*p),D.e=n,D.f=r):(D.e-=M.scrollX*f,D.f-=M.scrollY*p),L.multiply(D,k);var K=k.setQuad(G,X,G+U,X+V,M.renderRoundPixels);null==I&&(I=this.setTexture2D(e)),t&&!O&&this.manager.preBatch(t),this.batchQuad(t,K[0],K[1],K[2],K[3],K[4],K[5],K[6],K[7],F,B,N,z,w,b,S,E,C,e,I),t&&!O&&this.manager.postBatch(t)},batchTextureFrame:function(t,e,i,s,n,r,o){this.manager.set(this);var a=this._tempMatrix1.copyFrom(r),h=this._tempMatrix2;o?a.multiply(o,h):h=a;var u=h.setQuad(e,i,e+t.width,i+t.height),c=this.setTexture2D(t.source.glTexture);s=l.getTintAppendFloatAlpha(s,n),this.batchQuad(null,u[0],u[1],u[2],u[3],u[4],u[5],u[6],u[7],t.u0,t.v0,t.u1,t.v1,s,s,s,s,0,t.glTexture,c)},batchFillRect:function(t,e,i,s,n,r){this.renderer.pipelines.set(this);var o=this.calcMatrix;r&&r.multiply(n,o);var a=o.setQuad(t,e,t+i,e+s),h=this.fillTint;this.batchQuad(null,a[0],a[1],a[2],a[3],a[4],a[5],a[6],a[7],0,0,1,1,h.TL,h.TR,h.BL,h.BR,2)},batchFillTriangle:function(t,e,i,s,n,r,o,a){this.renderer.pipelines.set(this);var h=this.calcMatrix;a&&a.multiply(o,h);var l=h.getX(t,e),u=h.getY(t,e),c=h.getX(i,s),d=h.getY(i,s),f=h.getX(n,r),p=h.getY(n,r),g=this.fillTint;this.batchTri(null,l,u,c,d,f,p,0,0,1,1,g.TL,g.TR,g.BL,2)},batchStrokeTriangle:function(t,e,i,s,n,r,o,a,h){var l=this.tempTriangle;l[0].x=t,l[0].y=e,l[0].width=o,l[1].x=i,l[1].y=s,l[1].width=o,l[2].x=n,l[2].y=r,l[2].width=o,l[3].x=t,l[3].y=e,l[3].width=o,this.batchStrokePath(l,o,!1,a,h)},batchFillPath:function(t,e,i){this.renderer.pipelines.set(this);var s=this.calcMatrix;i&&i.multiply(e,s);for(var r,o,a=t.length,h=this.polygonCache,l=this.fillTint.TL,u=this.fillTint.TR,c=this.fillTint.BL,d=0;d<a;++d)o=t[d],h.push(o.x,o.y);a=(r=n(h)).length;for(var f=0;f<a;f+=3){var p=2*r[f+0],g=2*r[f+1],m=2*r[f+2],v=h[p+0],y=h[p+1],x=h[g+0],T=h[g+1],w=h[m+0],b=h[m+1],S=s.getX(v,y),E=s.getY(v,y),C=s.getX(x,T),_=s.getY(x,T),A=s.getX(w,b),M=s.getY(w,b);this.batchTri(null,S,E,C,_,A,M,0,0,1,1,l,u,c,2)}h.length=0},batchStrokePath:function(t,e,i,s,n){this.renderer.pipelines.set(this),this.prevQuad[4]=0,this.firstQuad[4]=0;for(var r=t.length-1,o=0;o<r;o++){var a=t[o],h=t[o+1];this.batchLine(a.x,a.y,h.x,h.y,a.width/2,h.width/2,e,o,!i&&o===r-1,s,n)}},batchLine:function(t,e,i,s,n,r,o,a,h,l,u){this.renderer.pipelines.set(this);var c=this.calcMatrix;u&&u.multiply(l,c);var d=i-t,f=s-e,p=Math.sqrt(d*d+f*f);if(0!==p){var g=n*(s-e)/p,m=n*(t-i)/p,v=r*(s-e)/p,y=r*(t-i)/p,x=i-v,T=s-y,w=t-g,b=e-m,S=i+v,E=s+y,C=t+g,_=e+m,A=c.getX(x,T),M=c.getY(x,T),P=c.getX(w,b),R=c.getY(w,b),I=c.getX(S,E),O=c.getY(S,E),L=c.getX(C,_),D=c.getY(C,_),k=this.strokeTint,F=k.TL,B=k.TR,N=k.BL,z=k.BR;if(this.batchQuad(null,L,D,P,R,A,M,I,O,0,0,1,1,F,B,N,z,2),!(o<=2)){var U=this.prevQuad,V=this.firstQuad;a>0&&U[4]?this.batchQuad(null,L,D,P,R,U[0],U[1],U[2],U[3],0,0,1,1,F,B,N,z,2):(V[0]=L,V[1]=D,V[2]=P,V[3]=R,V[4]=1),h&&V[4]?this.batchQuad(null,A,M,I,O,V[0],V[1],V[2],V[3],0,0,1,1,F,B,N,z,2):(U[0]=A,U[1]=M,U[2]=I,U[3]=O,U[4]=1)}}},destroy:function(){return this._tempMatrix1.destroy(),this._tempMatrix2.destroy(),this._tempMatrix3.destroy(),this._tempMatrix1=null,this._tempMatrix1=null,this._tempMatrix1=null,c.prototype.destroy.call(this),this}});t.exports=d},43439:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(83419),n=i(95540),r=i(4127),o=i(89924),a=i(29100),h=new s({Extends:a,initialize:function(t){t.vertShader=n(t,"vertShader",o),t.fragShader=n(t,"fragShader",r),t.attributes=n(t,"attributes",[{name:"inPosition",size:2},{name:"inLightPosition",size:2},{name:"inLightRadius"},{name:"inLightAttenuation"},{name:"inLightColor",size:4}]),a.call(this,t)},onRender:function(t,e){this.set2f("uResolution",this.width,this.height),this.set1f("uCameraZoom",e.zoom)},batchPointLight:function(t,e,i,s,n,r,o,a,h,l,u,c){var d=t.color,f=t.intensity,p=t.radius,g=t.attenuation,m=d.r*f,v=d.g*f,y=d.b*f,x=e.alpha*t.alpha;this.shouldFlush(6)&&this.flush(),this.currentBatch||this.setTexture2D(),this.batchLightVert(i,s,u,c,p,g,m,v,y,x),this.batchLightVert(n,r,u,c,p,g,m,v,y,x),this.batchLightVert(o,a,u,c,p,g,m,v,y,x),this.batchLightVert(i,s,u,c,p,g,m,v,y,x),this.batchLightVert(o,a,u,c,p,g,m,v,y,x),this.batchLightVert(h,l,u,c,p,g,m,v,y,x),this.currentBatch.count=this.vertexCount-this.currentBatch.start},batchLightVert:function(t,e,i,s,n,r,o,a,h,l){var u=this.vertexViewF32,c=this.vertexCount*this.currentShader.vertexComponentCount-1;u[++c]=t,u[++c]=e,u[++c]=i,u[++c]=s,u[++c]=n,u[++c]=r,u[++c]=o,u[++c]=a,u[++c]=h,u[++c]=l,this.vertexCount++}});t.exports=h},84057:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(83419),n=i(89422),r=i(95540),o=i(27681),a=i(49627),h=i(29100),l=new s({Extends:h,initialize:function(t){t.renderTarget=r(t,"renderTarget",1),t.fragShader=r(t,"fragShader",o),t.vertShader=r(t,"vertShader",a),t.attributes=r(t,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2}]),t.batchSize=1,t.vertices=[-1,-1,0,0,-1,1,0,1,1,1,1,1,-1,-1,0,0,1,1,1,1,1,-1,1,0],h.call(this,t),this.isPostFX=!0,this.gameObject,this.controller,this.colorMatrix=new n,this.fullFrame1,this.fullFrame2,this.halfFrame1,this.halfFrame2,this.renderer.isBooted&&(this.manager=this.renderer.pipelines)},bootFX:function(){h.prototype.boot.call(this);var t=this.manager.UTILITY_PIPELINE;this.fullFrame1=t.fullFrame1,this.fullFrame2=t.fullFrame2,this.halfFrame1=t.halfFrame1,this.halfFrame2=t.halfFrame2;var e=this.renderer;this.set1i("uMainSampler",0),this.set2f("uResolution",e.width,e.height);for(var i=this.renderTargets,s=0;s<i.length;s++)i[s].autoResize=!0},postBatch:function(t){return this.hasBooted||(this.bootFX(),this.currentRenderTarget&&this.currentRenderTarget.bind()),this.onDraw(this.currentRenderTarget),this.onPostBatch(t),this},onDraw:function(t){this.bindAndDraw(t)},getController:function(t){return void 0!==t?t:this.controller?this.controller:this},copySprite:function(t,e,i){void 0===i&&(i=!1);var s=this.gl;s.activeTexture(s.TEXTURE0),s.bindTexture(s.TEXTURE_2D,t.texture.webGLTexture);var n=s.getParameter(s.FRAMEBUFFER_BINDING);s.bindFramebuffer(s.FRAMEBUFFER,e.framebuffer.webGLFramebuffer),s.framebufferTexture2D(s.FRAMEBUFFER,s.COLOR_ATTACHMENT0,s.TEXTURE_2D,e.texture.webGLTexture,0),s.clearColor(0,0,0,0),s.clear(s.COLOR_BUFFER_BIT),s.bufferData(s.ARRAY_BUFFER,this.vertexData,s.STATIC_DRAW),s.drawArrays(s.TRIANGLES,0,6),i&&(s.bindTexture(s.TEXTURE_2D,null),s.bindFramebuffer(s.FRAMEBUFFER,n))},copyFrame:function(t,e,i,s,n){this.manager.copyFrame(t,e,i,s,n)},copyToGame:function(t){this.manager.copyToGame(t)},drawFrame:function(t,e,i){this.manager.drawFrame(t,e,i,this.colorMatrix)},blendFrames:function(t,e,i,s,n){this.manager.blendFrames(t,e,i,s,n)},blendFramesAdditive:function(t,e,i,s,n){this.manager.blendFramesAdditive(t,e,i,s,n)},clearFrame:function(t,e){this.manager.clearFrame(t,e)},blitFrame:function(t,e,i,s,n,r){this.manager.blitFrame(t,e,i,s,n,r)},copyFrameRect:function(t,e,i,s,n,r,o,a){this.manager.copyFrameRect(t,e,i,s,n,r,o,a)},bindAndDraw:function(t,e,i,s,n){void 0===i&&(i=!0),void 0===s&&(s=!0);var r=this.gl,o=this.renderer;this.bind(n),this.set1i("uMainSampler",0),e?(r.viewport(0,0,e.width,e.height),r.bindFramebuffer(r.FRAMEBUFFER,e.framebuffer.webGLFramebuffer),r.framebufferTexture2D(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0,r.TEXTURE_2D,e.texture.webGLTexture,0),i&&(s?r.clearColor(0,0,0,0):r.clearColor(0,0,0,1),r.clear(r.COLOR_BUFFER_BIT))):(o.popFramebuffer(!1,!1),o.currentFramebuffer||r.viewport(0,0,o.width,o.height)),o.restoreStencilMask(),r.activeTexture(r.TEXTURE0),r.bindTexture(r.TEXTURE_2D,t.texture.webGLTexture),r.bufferData(r.ARRAY_BUFFER,this.vertexData,r.STATIC_DRAW),r.drawArrays(r.TRIANGLES,0,6),e&&(r.bindTexture(r.TEXTURE_2D,null),r.bindFramebuffer(r.FRAMEBUFFER,o.currentFramebuffer.webGLFramebuffer))},destroy:function(){return this.controller&&this.controller.destroy(),this.gameObject=null,this.controller=null,this.colorMatrix=null,this.fullFrame1=null,this.fullFrame2=null,this.halfFrame1=null,this.halfFrame2=null,this.manager.removePostPipeline(this),h.prototype.destroy.call(this),this}});t.exports=l},43558:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(10312),n=i(67502),r=i(83419),o=i(96293),a=i(95540),h=i(57516),l=i(27681),u=i(87841),c=i(32302),d=i(45561),f=i(60722),p=i(29100),g=new r({Extends:h,initialize:function(t){var e=a(t,"fragShader",l),i=a(t,"vertShader",f),s=a(t,"drawShader",l),n=[{name:"DrawSprite",fragShader:d,vertShader:f},{name:"CopySprite",fragShader:e,vertShader:i},{name:"DrawGame",fragShader:s,vertShader:f},{name:"ColorMatrix",fragShader:o}],r=a(t,"shaders",[]);t.shaders=n.concat(r),t.vertShader||(t.vertShader=i),t.batchSize=1,h.call(this,t),this.isPreFX=!0,this.customMainSampler=null,this.drawSpriteShader,this.copyShader,this.gameShader,this.colorMatrixShader,this.quadVertexData,this.quadVertexBuffer,this.quadVertexViewF32,this.spriteBounds=new u,this.targetBounds=new u,this.fsTarget,this.tempSprite,this.renderer.isBooted&&(this.manager=this.renderer.pipelines,this.boot())},boot:function(){p.prototype.boot.call(this);var t=this.shaders,e=this.renderer;this.drawSpriteShader=t[0],this.copyShader=t[1],this.gameShader=t[2],this.colorMatrixShader=t[3],this.fsTarget=new c(e,e.width,e.height,1,0,!0,!0),this.renderTargets=this.manager.renderTargets.concat(this.fsTarget);var i=new ArrayBuffer(168);this.quadVertexData=i,this.quadVertexViewF32=new Float32Array(i),this.quadVertexBuffer=e.createVertexBuffer(i,this.gl.STATIC_DRAW),this.onResize(e.width,e.height),this.currentShader=this.copyShader,this.set2f("uResolution",e.width,e.height)},onResize:function(t,e){var i=this.quadVertexViewF32;i[1]=e,i[22]=e,i[14]=t,i[28]=t,i[35]=t,i[36]=e},batchQuad:function(t,e,i,s,r,o,a,h,l,u,c,d,f,p,g,m,v,y,x){var T=Math.min(e,s,o,h),w=Math.min(i,r,a,l),b=Math.max(e,s,o,h)-T,S=Math.max(i,r,a,l)-w,E=this.spriteBounds.setTo(T,w,b,S),C=t?t.preFX.padding:0,_=b+2*C,A=S+2*C,M=Math.abs(Math.max(_,A)),P=this.manager.getRenderTarget(M),R=this.targetBounds.setTo(0,0,P.width,P.height);n(R,Math.round(E.centerX),Math.round(E.centerY)),this.tempSprite=t;var I=this.gl,O=this.renderer;O.clearStencilMask(),this.setShader(this.drawSpriteShader),this.set1i("uMainSampler",0),this.set2f("uResolution",O.width,O.height),this.flipProjectionMatrix(!0),t&&(this.onDrawSprite(t,P),t.preFX.onFX(this));var L=this.fsTarget;return this.flush(),I.viewport(0,0,O.width,O.height),I.bindFramebuffer(I.FRAMEBUFFER,L.framebuffer.webGLFramebuffer),I.framebufferTexture2D(I.FRAMEBUFFER,I.COLOR_ATTACHMENT0,I.TEXTURE_2D,L.texture.webGLTexture,0),I.clearColor(0,0,0,0),I.clear(I.COLOR_BUFFER_BIT),this.setTexture2D(x),this.batchVert(e,i,u,c,0,y,p),this.batchVert(s,r,u,f,0,y,m),this.batchVert(o,a,d,f,0,y,v),this.batchVert(e,i,u,c,0,y,p),this.batchVert(o,a,d,f,0,y,v),this.batchVert(h,l,d,c,0,y,g),this.flush(),this.flipProjectionMatrix(!1),I.activeTexture(I.TEXTURE0),I.bindTexture(I.TEXTURE_2D,P.texture.webGLTexture),I.copyTexSubImage2D(I.TEXTURE_2D,0,0,0,R.x,R.y,R.width,R.height),I.bindFramebuffer(I.FRAMEBUFFER,null),I.bindTexture(I.TEXTURE_2D,null),this.onBatch(t),this.currentShader=this.copyShader,this.onDraw(P,this.manager.getSwapRenderTarget(),this.manager.getAltSwapRenderTarget()),!0},onDrawSprite:function(){},onCopySprite:function(){},copySprite:function(t,e,i,n,r,o,a){void 0===i&&(i=!0),void 0===n&&(n=!0),void 0===r&&(r=!1),void 0===a&&(a=this.copyShader);var h=this.gl,l=this.tempSprite;o&&(a=this.colorMatrixShader),this.currentShader=a;var u=this.setVertexBuffer(this.quadVertexBuffer);a.bind(u,!1);var c=this.renderer;if(this.set1i("uMainSampler",0),this.set2f("uResolution",c.width,c.height),l.preFX.onFXCopy(this),this.onCopySprite(t,e,l),o&&(this.set1fv("uColorMatrix",o.getData()),this.set1f("uAlpha",o.alpha)),h.activeTexture(h.TEXTURE0),h.bindTexture(h.TEXTURE_2D,t.texture.webGLTexture),t.height>e.height)h.viewport(0,0,t.width,t.height),this.setTargetUVs(t,e);else{var d=e.height-t.height;h.viewport(0,d,t.width,t.height),this.resetUVs()}if(h.bindFramebuffer(h.FRAMEBUFFER,e.framebuffer.webGLFramebuffer),h.framebufferTexture2D(h.FRAMEBUFFER,h.COLOR_ATTACHMENT0,h.TEXTURE_2D,e.texture.webGLTexture,0),i&&(h.clearColor(0,0,0,Number(!n)),h.clear(h.COLOR_BUFFER_BIT)),r){var f=this.renderer.currentBlendMode;this.renderer.setBlendMode(s.ERASE)}h.bufferData(h.ARRAY_BUFFER,this.quadVertexData,h.STATIC_DRAW),h.drawArrays(h.TRIANGLES,0,6),r&&this.renderer.setBlendMode(f),h.bindFramebuffer(h.FRAMEBUFFER,null)},copy:function(t,e){var i=this.gl;this.set1i("uMainSampler",0),i.activeTexture(i.TEXTURE0),i.bindTexture(i.TEXTURE_2D,t.texture.webGLTexture),i.viewport(0,0,t.width,t.height),this.setUVs(0,0,0,1,1,1,1,0),i.bindFramebuffer(i.FRAMEBUFFER,e.framebuffer.webGLFramebuffer),i.framebufferTexture2D(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0,i.TEXTURE_2D,e.texture.webGLTexture,0),i.clearColor(0,0,0,0),i.clear(i.COLOR_BUFFER_BIT),i.bufferData(i.ARRAY_BUFFER,this.quadVertexData,i.STATIC_DRAW),i.drawArrays(i.TRIANGLES,0,6),i.bindFramebuffer(i.FRAMEBUFFER,null)},blendFrames:function(t,e,i,s,n){this.manager.blendFrames(t,e,i,s,n)},blendFramesAdditive:function(t,e,i,s,n){this.manager.blendFramesAdditive(t,e,i,s,n)},drawToGame:function(t){this.currentShader=null,this.setShader(this.copyShader),this.bindAndDraw(t)},copyToGame:function(t){this.currentShader=null,this.setShader(this.gameShader),this.bindAndDraw(t)},bindAndDraw:function(t){var e=this.gl,i=this.renderer;this.set1i("uMainSampler",0),this.customMainSampler?this.setTexture2D(this.customMainSampler):this.setTexture2D(t.texture);var s=this._tempMatrix1.loadIdentity(),n=this.targetBounds.x,r=this.targetBounds.y,o=n+t.width,a=r+t.height,h=s.getX(n,r),l=s.getX(n,a),u=s.getX(o,a),c=s.getX(o,r),d=s.getY(n,r),f=s.getY(n,a),p=s.getY(o,a),g=s.getY(o,r),m=16777215;this.batchVert(h,d,0,0,0,0,m),this.batchVert(l,f,0,1,0,0,m),this.batchVert(u,p,1,1,0,0,m),this.batchVert(h,d,0,0,0,0,m),this.batchVert(u,p,1,1,0,0,m),this.batchVert(c,g,1,0,0,0,m),i.restoreFramebuffer(!1,!0),i.currentFramebuffer||e.viewport(0,0,i.width,i.height),i.restoreStencilMask(),this.flush(),this.tempSprite=null},onDraw:function(t){this.drawToGame(t)},setUVs:function(t,e,i,s,n,r,o,a){var h=this.quadVertexViewF32;h[2]=t,h[3]=e,h[9]=i,h[10]=s,h[16]=n,h[17]=r,h[23]=t,h[24]=e,h[30]=n,h[31]=r,h[37]=o,h[38]=a},setTargetUVs:function(t,e){var i=e.height/t.height;i=i>.5?.5-(i-.5):.5-i+.5,this.setUVs(0,i,0,1+i,1,1+i,1,i)},resetUVs:function(){this.setUVs(0,0,0,1,1,1,1,0)},destroy:function(){return this.renderer.deleteBuffer(this.quadVertexBuffer),this.drawSpriteShader=null,this.copyShader=null,this.gameShader=null,this.colorMatrixShader=null,this.quadVertexData=null,this.quadVertexBuffer=null,this.quadVertexViewF32=null,this.fsTarget=null,this.tempSprite=null,h.prototype.destroy.call(this),this}});t.exports=g},81041:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(83419),n=i(95540),r=i(57516),o=new s({Extends:r,initialize:function(t){t.topology=5,t.batchSize=n(t,"batchSize",256),r.call(this,t)}});t.exports=o},12385:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(83419),n=i(95540),r=i(57516),o=i(45561),a=i(60722),h=i(29100),l=new s({Extends:r,initialize:function(t){t.fragShader=n(t,"fragShader",o),t.vertShader=n(t,"vertShader",a),t.forceZero=!0,r.call(this,t)},boot:function(){h.prototype.boot.call(this);var t=this.renderer;this.set1i("uMainSampler",0),this.set2f("uResolution",t.width,t.height)}});t.exports=l},7589:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(35407),n=i(10312),r=i(83419),o=i(89422),a=i(96293),h=i(36682),l=i(95540),u=i(48247),c=i(49627),d=i(29100),f=new r({Extends:d,initialize:function(t){t.renderTarget=l(t,"renderTarget",[{scale:1,autoResize:!0},{scale:1,autoResize:!0},{scale:.5,autoResize:!0},{scale:.5,autoResize:!0}]),t.vertShader=l(t,"vertShader",c),t.shaders=l(t,"shaders",[{name:"Copy",fragShader:h},{name:"AddBlend",fragShader:s},{name:"LinearBlend",fragShader:u},{name:"ColorMatrix",fragShader:a}]),t.attributes=l(t,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2}]),t.vertices=[-1,-1,0,0,-1,1,0,1,1,1,1,1,-1,-1,0,0,1,1,1,1,1,-1,1,0],t.batchSize=1,d.call(this,t),this.colorMatrix=new o,this.copyShader,this.addShader,this.linearShader,this.colorMatrixShader,this.fullFrame1,this.fullFrame2,this.halfFrame1,this.halfFrame2},boot:function(){d.prototype.boot.call(this);var t=this.shaders,e=this.renderTargets;this.copyShader=t[0],this.addShader=t[1],this.linearShader=t[2],this.colorMatrixShader=t[3],this.fullFrame1=e[0],this.fullFrame2=e[1],this.halfFrame1=e[2],this.halfFrame2=e[3]},copyFrame:function(t,e,i,s,n){void 0===i&&(i=1),void 0===s&&(s=!0),void 0===n&&(n=!0);var r=this.gl;this.setShader(this.copyShader),this.set1i("uMainSampler",0),this.set1f("uBrightness",i),r.activeTexture(r.TEXTURE0),r.bindTexture(r.TEXTURE_2D,t.texture.webGLTexture),e?(r.viewport(0,0,e.width,e.height),r.bindFramebuffer(r.FRAMEBUFFER,e.framebuffer.webGLFramebuffer),r.framebufferTexture2D(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0,r.TEXTURE_2D,e.texture.webGLTexture,0)):r.viewport(0,0,t.width,t.height),s&&(n?r.clearColor(0,0,0,0):r.clearColor(0,0,0,1),r.clear(r.COLOR_BUFFER_BIT)),r.bufferData(r.ARRAY_BUFFER,this.vertexData,r.STATIC_DRAW),r.drawArrays(r.TRIANGLES,0,6),r.bindFramebuffer(r.FRAMEBUFFER,null),r.bindTexture(r.TEXTURE_2D,null)},blitFrame:function(t,e,i,s,r,o,a){void 0===i&&(i=1),void 0===s&&(s=!0),void 0===r&&(r=!0),void 0===o&&(o=!1),void 0===a&&(a=!1);var h=this.gl;if(this.setShader(this.copyShader),this.set1i("uMainSampler",0),this.set1f("uBrightness",i),h.activeTexture(h.TEXTURE0),h.bindTexture(h.TEXTURE_2D,t.texture.webGLTexture),t.height>e.height)h.viewport(0,0,t.width,t.height),this.setTargetUVs(t,e);else{var l=e.height-t.height;h.viewport(0,l,t.width,t.height)}if(h.bindFramebuffer(h.FRAMEBUFFER,e.framebuffer.webGLFramebuffer),h.framebufferTexture2D(h.FRAMEBUFFER,h.COLOR_ATTACHMENT0,h.TEXTURE_2D,e.texture.webGLTexture,0),s&&(r?h.clearColor(0,0,0,0):h.clearColor(0,0,0,1),h.clear(h.COLOR_BUFFER_BIT)),o){var u=this.renderer.currentBlendMode;this.renderer.setBlendMode(n.ERASE)}a&&this.flipY(),h.bufferData(h.ARRAY_BUFFER,this.vertexData,h.STATIC_DRAW),h.drawArrays(h.TRIANGLES,0,6),o&&this.renderer.setBlendMode(u),h.bindFramebuffer(h.FRAMEBUFFER,null),h.bindTexture(h.TEXTURE_2D,null),this.resetUVs()},copyFrameRect:function(t,e,i,s,n,r,o,a){void 0===o&&(o=!0),void 0===a&&(a=!0);var h=this.gl;h.bindFramebuffer(h.FRAMEBUFFER,t.framebuffer.webGLFramebuffer),h.framebufferTexture2D(h.FRAMEBUFFER,h.COLOR_ATTACHMENT0,h.TEXTURE_2D,t.texture.webGLTexture,0),o&&(a?h.clearColor(0,0,0,0):h.clearColor(0,0,0,1),h.clear(h.COLOR_BUFFER_BIT)),h.activeTexture(h.TEXTURE0),h.bindTexture(h.TEXTURE_2D,e.texture.webGLTexture),h.copyTexSubImage2D(h.TEXTURE_2D,0,0,0,i,s,n,r),h.bindFramebuffer(h.FRAMEBUFFER,null),h.bindTexture(h.TEXTURE_2D,null)},copyToGame:function(t){var e=this.gl;this.setShader(this.copyShader),this.set1i("uMainSampler",0),this.set1f("uBrightness",1),this.renderer.popFramebuffer(),e.activeTexture(e.TEXTURE0),e.bindTexture(e.TEXTURE_2D,t.texture.webGLTexture),e.bufferData(e.ARRAY_BUFFER,this.vertexData,e.STATIC_DRAW),e.drawArrays(e.TRIANGLES,0,6)},drawFrame:function(t,e,i,s){void 0===i&&(i=!0),void 0===s&&(s=this.colorMatrix);var n=this.gl;this.setShader(this.colorMatrixShader),this.set1i("uMainSampler",0),this.set1fv("uColorMatrix",s.getData()),this.set1f("uAlpha",s.alpha),n.activeTexture(n.TEXTURE0),n.bindTexture(n.TEXTURE_2D,t.texture.webGLTexture),e?(n.viewport(0,0,e.width,e.height),n.bindFramebuffer(n.FRAMEBUFFER,e.framebuffer.webGLFramebuffer),n.framebufferTexture2D(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,e.texture.webGLTexture,0)):n.viewport(0,0,t.width,t.height),i?n.clearColor(0,0,0,0):n.clearColor(0,0,0,1),n.clear(n.COLOR_BUFFER_BIT),n.bufferData(n.ARRAY_BUFFER,this.vertexData,n.STATIC_DRAW),n.drawArrays(n.TRIANGLES,0,6),n.bindFramebuffer(n.FRAMEBUFFER,null),n.bindTexture(n.TEXTURE_2D,null)},blendFrames:function(t,e,i,s,n,r){void 0===s&&(s=1),void 0===n&&(n=!0),void 0===r&&(r=this.linearShader);var o=this.gl;this.setShader(r),this.set1i("uMainSampler1",0),this.set1i("uMainSampler2",1),this.set1f("uStrength",s),o.activeTexture(o.TEXTURE0),o.bindTexture(o.TEXTURE_2D,t.texture.webGLTexture),o.activeTexture(o.TEXTURE1),o.bindTexture(o.TEXTURE_2D,e.texture.webGLTexture),i?(o.bindFramebuffer(o.FRAMEBUFFER,i.framebuffer.webGLFramebuffer),o.framebufferTexture2D(o.FRAMEBUFFER,o.COLOR_ATTACHMENT0,o.TEXTURE_2D,i.texture.webGLTexture,0),o.viewport(0,0,i.width,i.height)):o.viewport(0,0,t.width,t.height),n?o.clearColor(0,0,0,0):o.clearColor(0,0,0,1),o.clear(o.COLOR_BUFFER_BIT),o.bufferData(o.ARRAY_BUFFER,this.vertexData,o.STATIC_DRAW),o.drawArrays(o.TRIANGLES,0,6),o.bindFramebuffer(o.FRAMEBUFFER,null),o.bindTexture(o.TEXTURE_2D,null)},blendFramesAdditive:function(t,e,i,s,n){this.blendFrames(t,e,i,s,n,this.addShader)},clearFrame:function(t,e){void 0===e&&(e=!0);var i=this.gl;i.viewport(0,0,t.width,t.height),i.bindFramebuffer(i.FRAMEBUFFER,t.framebuffer.webGLFramebuffer),e?i.clearColor(0,0,0,0):i.clearColor(0,0,0,1),i.clear(i.COLOR_BUFFER_BIT);var s=this.renderer.currentFramebuffer;i.bindFramebuffer(i.FRAMEBUFFER,s.webGLFramebuffer)},setUVs:function(t,e,i,s,n,r,o,a){var h=this.vertexViewF32;h[2]=t,h[3]=e,h[6]=i,h[7]=s,h[10]=n,h[11]=r,h[14]=t,h[15]=e,h[18]=n,h[19]=r,h[22]=o,h[23]=a},setTargetUVs:function(t,e){var i=e.height/t.height;i=i>.5?.5-(i-.5):.5-i+.5,this.setUVs(0,i,0,1+i,1,1+i,1,i)},flipX:function(){this.setUVs(1,0,1,1,0,1,0,0)},flipY:function(){this.setUVs(0,1,0,0,1,0,1,1)},resetUVs:function(){this.setUVs(0,0,0,1,1,1,1,0)}});t.exports=f},36060:t=>{t.exports={BITMAPMASK_PIPELINE:"BitmapMaskPipeline",LIGHT_PIPELINE:"Light2D",POINTLIGHT_PIPELINE:"PointLightPipeline",SINGLE_PIPELINE:"SinglePipeline",MULTI_PIPELINE:"MultiPipeline",ROPE_PIPELINE:"RopePipeline",GRAPHICS_PIPELINE:"GraphicsPipeline",POSTFX_PIPELINE:"PostFXPipeline",UTILITY_PIPELINE:"UtilityPipeline",MOBILE_PIPELINE:"MobilePipeline",FX_PIPELINE:"FxPipeline"}},84817:t=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports="pipelineafterflush"},36712:t=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports="pipelinebeforeflush"},40285:t=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports="pipelinebind"},65918:t=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports="pipelineboot"},92852:t=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports="pipelinedestroy"},56072:t=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports="pipelinerebind"},57566:t=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports="pipelineresize"},77085:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports={AFTER_FLUSH:i(84817),BEFORE_FLUSH:i(36712),BIND:i(40285),BOOT:i(65918),DESTROY:i(92852),REBIND:i(56072),RESIZE:i(57566)}},54812:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(83419),n=i(99155),r=i(84057),o=new s({Extends:r,initialize:function(t){r.call(this,{game:t,fragShader:n}),this.amount=1},onPreRender:function(t,e){t=this.getController(t),this.set1f("amount",t.amount,e)}});t.exports=o},67329:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(83419),n=i(24400),r=i(84057),o=new s({Extends:r,initialize:function(t){r.call(this,{game:t,fragShader:n}),this.steps=4,this.offsetX=1,this.offsetY=1,this.blurStrength=1,this.strength=1,this.glcolor=[1,1,1]},onPreRender:function(t){t=this.getController(t),this.set1f("strength",t.blurStrength),this.set3fv("color",t.glcolor)},onDraw:function(t){var e=this.getController(),i=this.fullFrame1,s=this.fullFrame2;this.copyFrame(t,s);for(var n=2/t.width*e.offsetX,r=2/t.height*e.offsetY,o=0;o<e.steps;o++)this.set2f("offset",n,0),this.copySprite(t,i),this.set2f("offset",0,r),this.copySprite(i,t);this.blendFrames(s,t,i,e.strength),this.copyToGame(i)}});t.exports=o},8861:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(83419),n=i(41514),r=i(51078),o=i(94328),a=i(84057),h=new s({Extends:a,initialize:function(t){a.call(this,{game:t,shaders:[{name:"Gaussian5",fragShader:n},{name:"Gaussian9",fragShader:r},{name:"Gaussian13",fragShader:o}]}),this.activeShader=this.shaders[0],this.x=2,this.y=2,this.steps=4,this.strength=1,this.glcolor=[1,1,1]},setQualityLow:function(){return this.activeShader=this.shaders[0],this},setQualityMedium:function(){return this.activeShader=this.shaders[1],this},setQualityHigh:function(){return this.activeShader=this.shaders[2],this},onDraw:function(t){var e=this.getController(),i=this.gl,s=this.fullFrame1,n=i.getParameter(i.FRAMEBUFFER_BINDING);this.bind(this.shaders[e.quality]),i.activeTexture(i.TEXTURE0),i.viewport(0,0,t.width,t.height),this.set1i("uMainSampler",0),this.set2f("resolution",t.width,t.height),this.set1f("strength",e.strength),this.set3fv("color",e.glcolor);for(var r=0;r<e.steps;r++)this.set2f("offset",e.x,0),this.copySprite(t,s),this.set2f("offset",0,e.y),this.copySprite(s,t);i.bindFramebuffer(i.FRAMEBUFFER,n),i.bindTexture(i.TEXTURE_2D,null),this.copyToGame(t)}});t.exports=h},51051:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(83419),n=i(90610),r=i(84057),o=new s({Extends:r,initialize:function(t){r.call(this,{game:t,fragShader:n}),this.isTiltShift=!1,this.strength=1,this.blurX=1,this.blurY=1,this.radius=.5,this.amount=1,this.contrast=.2},onPreRender:function(t,e,i,s){t=this.getController(t),this.set1f("radius",t.radius,e),this.set1f("amount",t.amount,e),this.set1f("contrast",t.contrast,e),this.set1f("strength",t.strength,e),this.set2f("blur",t.blurX,t.blurY,e),this.setBoolean("isTiltShift",t.isTiltShift,e),i&&s&&this.set2f("resolution",i,s,e)},onDraw:function(t){this.set2f("resolution",t.width,t.height),this.bindAndDraw(t)}});t.exports=o},89428:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(83419),n=i(91899),r=i(84057),o=new s({Extends:r,initialize:function(t){r.call(this,{game:t,fragShader:n}),this.scale=1,this.feather=.005,this.thickness=8,this.glcolor=[1,.2,.7],this.glcolor2=[1,0,0,.4]},onPreRender:function(t,e,i,s){t=this.getController(t),this.set1f("scale",t.scale,e),this.set1f("feather",t.feather,e),this.set1f("thickness",t.thickness,e),this.set3fv("color",t.glcolor,e),this.set4fv("backgroundColor",t.glcolor2,e),i&&s&&this.set2f("resolution",i,s,e)},onDraw:function(t){this.set2f("resolution",t.width,t.height),this.bindAndDraw(t)}});t.exports=o},88904:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(83419),n=i(84057),r=new s({Extends:n,initialize:function(t){n.call(this,{game:t})},onDraw:function(t){var e=this.fullFrame1;this.controller?this.manager.drawFrame(t,e,!0,this.controller):this.drawFrame(t,e),this.copyToGame(e)}});t.exports=r},63563:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(83419),n=i(47838),r=i(84057),o=new s({Extends:r,initialize:function(t){r.call(this,{game:t,fragShader:n}),this.x=.005,this.y=.005,this.glTexture},onBoot:function(){this.setTexture("__WHITE")},setTexture:function(t){var e=this.game.textures.getFrame(t);e&&(this.glTexture=e.glTexture)},onDraw:function(t){var e=this.getController(),i=this.fullFrame1;this.bind(),this.set1i("uMainSampler",0),this.set1i("uDisplacementSampler",1),this.set2f("amount",e.x,e.y),this.bindTexture(e.glTexture,1),this.copySprite(t,i),this.copyToGame(i)}});t.exports=o},94045:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(83419),n=i(95540),r=i(98656),o=i(84057),a=i(70554),h=new s({Extends:o,initialize:function(t,e){var i=n(e,"quality",.1),s=n(e,"distance",10);o.call(this,{game:t,fragShader:a.setGlowQuality(r,t,i,s)}),this.outerStrength=4,this.innerStrength=0,this.knockout=!1,this.glcolor=[1,1,1,1]},onPreRender:function(t,e,i,s){t=this.getController(t),this.set1f("outerStrength",t.outerStrength,e),this.set1f("innerStrength",t.innerStrength,e),this.set4fv("glowColor",t.glcolor,e),this.setBoolean("knockout",t.knockout,e),i&&s&&this.set2f("resolution",i,s,e)},onDraw:function(t){this.set2f("resolution",t.width,t.height),this.bindAndDraw(t)}});t.exports=h},74088:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(83419),n=i(70463),r=i(84057),o=new s({Extends:r,initialize:function(t){r.call(this,{game:t,fragShader:n}),this.alpha=.2,this.size=0,this.fromX=0,this.fromY=0,this.toX=0,this.toY=1,this.glcolor1=[255,0,0],this.glcolor2=[0,255,0]},onPreRender:function(t,e){t=this.getController(t),this.set1f("alpha",t.alpha,e),this.set1i("size",t.size,e),this.set3fv("color1",t.glcolor1,e),this.set3fv("color2",t.glcolor2,e),this.set2f("positionFrom",t.fromX,t.fromY,e),this.set2f("positionTo",t.toX,t.toY,e)}});t.exports=o},99636:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(83419),n=i(50831),r=i(84057),o=new s({Extends:r,initialize:function(t){r.call(this,{game:t,fragShader:n}),this.amount=1},onPreRender:function(t,e,i,s){t=this.getController(t),this.set1f("amount",t.amount,e),i&&s&&this.set2f("resolution",i,s,e)},onDraw:function(t){this.set2f("resolution",t.width,t.height),this.bindAndDraw(t)}});t.exports=o},34700:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(83419),n=i(92595),r=i(84057),o=new s({Extends:r,initialize:function(t){r.call(this,{game:t,fragShader:n}),this.x=0,this.y=0,this.decay=.1,this.power=1,this.glcolor=[0,0,0,1],this.samples=6,this.intensity=1},onPreRender:function(t,e){var i=(t=this.getController(t)).samples;this.set1i("samples",i,e),this.set1f("intensity",t.intensity,e),this.set1f("decay",t.decay,e),this.set1f("power",t.power/i,e),this.set2f("lightPosition",t.x,t.y,e),this.set4fv("color",t.glcolor,e)}});t.exports=o},91157:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(83419),n=i(72464),r=i(84057),o=new s({Extends:r,initialize:function(t){r.call(this,{game:t,fragShader:n}),this.speed=.5,this.lineWidth=.5,this.gradient=3,this.reveal=!1},onPreRender:function(t,e,i,s){t=this.getController(t),this.setTime("time",e),this.set1f("speed",t.speed,e),this.set1f("lineWidth",t.lineWidth,e),this.set1f("gradient",t.gradient,e),this.setBoolean("reveal",t.reveal,e),i&&s&&this.set2f("resolution",i,s,e)},onDraw:function(t){this.set2f("resolution",t.width,t.height),this.bindAndDraw(t)}});t.exports=o},27797:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(83419),n=i(39249),r=i(84057),o=new s({Extends:r,initialize:function(t){r.call(this,{game:t,fragShader:n}),this.x=.5,this.y=.5,this.radius=.5,this.strength=.5},onPreRender:function(t,e){t=this.getController(t),this.set1f("radius",t.radius,e),this.set1f("strength",t.strength,e),this.set2f("position",t.x,t.y,e)}});t.exports=o},67603:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(83419),n=i(2878),r=i(84057),o=new s({Extends:r,initialize:function(t){r.call(this,{game:t,fragShader:n}),this.progress=0,this.wipeWidth=.1,this.direction=0,this.axis=0,this.reveal=!1},onPreRender:function(t,e){var i=(t=this.getController(t)).progress,s=t.wipeWidth,n=t.direction,r=t.axis;this.set4f("config",i,s,n,r,e),this.setBoolean("reveal",t.reveal,e)}});t.exports=o},58918:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s={Barrel:i(54812),Bloom:i(67329),Blur:i(8861),Bokeh:i(51051),Circle:i(89428),ColorMatrix:i(88904),Displacement:i(63563),Glow:i(94045),Gradient:i(74088),Pixelate:i(99636),Shadow:i(34700),Shine:i(91157),Vignette:i(27797),Wipe:i(67603)};t.exports=s},96615:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(36060),n=i(79291),r={FX:i(58918),BitmapMaskPipeline:i(31302),Events:i(77085),FXPipeline:i(92651),LightPipeline:i(96569),MobilePipeline:i(56527),MultiPipeline:i(57516),PointLightPipeline:i(43439),PostFXPipeline:i(84057),PreFXPipeline:i(43558),RopePipeline:i(81041),SinglePipeline:i(12385),UtilityPipeline:i(7589)};r=n(!1,r,s),t.exports=r},35407:t=>{t.exports=["#define SHADER_NAME PHASER_ADD_BLEND_FS","precision mediump float;","uniform sampler2D uMainSampler1;","uniform sampler2D uMainSampler2;","uniform float uStrength;","varying vec2 outTexCoord;","void main ()","{","    vec4 frame1 = texture2D(uMainSampler1, outTexCoord);","    vec4 frame2 = texture2D(uMainSampler2, outTexCoord);","    gl_FragColor = frame1 + frame2 * uStrength;","}"].join("\n")},78908:t=>{t.exports=["#define SHADER_NAME PHASER_BITMAP_MASK_FS","precision mediump float;","uniform vec2 uResolution;","uniform sampler2D uMainSampler;","uniform sampler2D uMaskSampler;","uniform bool uInvertMaskAlpha;","void main ()","{","    vec2 uv = gl_FragCoord.xy / uResolution;","    vec4 mainColor = texture2D(uMainSampler, uv);","    vec4 maskColor = texture2D(uMaskSampler, uv);","    if (!uInvertMaskAlpha)","    {","        mainColor *= maskColor.a;","    }","    else","    {","        mainColor *= (1.0 - maskColor.a);","    }","    gl_FragColor = mainColor;","}"].join("\n")},85191:t=>{t.exports=["#define SHADER_NAME PHASER_BITMAP_MASK_VS","precision mediump float;","attribute vec2 inPosition;","void main ()","{","    gl_Position = vec4(inPosition, 0.0, 1.0);","}"].join("\n")},96293:t=>{t.exports=["#define SHADER_NAME PHASER_COLORMATRIX_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform float uColorMatrix[20];","uniform float uAlpha;","varying vec2 outTexCoord;","void main ()","{","    vec4 c = texture2D(uMainSampler, outTexCoord);","    if (uAlpha == 0.0)","    {","        gl_FragColor = c;","        return;","    }","    if (c.a > 0.0)","    {","        c.rgb /= c.a;","    }","    vec4 result;","    result.r = (uColorMatrix[0] * c.r) + (uColorMatrix[1] * c.g) + (uColorMatrix[2] * c.b) + (uColorMatrix[3] * c.a) + uColorMatrix[4];","    result.g = (uColorMatrix[5] * c.r) + (uColorMatrix[6] * c.g) + (uColorMatrix[7] * c.b) + (uColorMatrix[8] * c.a) + uColorMatrix[9];","    result.b = (uColorMatrix[10] * c.r) + (uColorMatrix[11] * c.g) + (uColorMatrix[12] * c.b) + (uColorMatrix[13] * c.a) + uColorMatrix[14];","    result.a = (uColorMatrix[15] * c.r) + (uColorMatrix[16] * c.g) + (uColorMatrix[17] * c.b) + (uColorMatrix[18] * c.a) + uColorMatrix[19];","    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);","    rgb *= result.a;","    gl_FragColor = vec4(rgb, result.a);","}"].join("\n")},36682:t=>{t.exports=["#define SHADER_NAME PHASER_COPY_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform float uBrightness;","varying vec2 outTexCoord;","void main ()","{","    gl_FragColor = texture2D(uMainSampler, outTexCoord) * uBrightness;","}"].join("\n")},99155:t=>{t.exports=["#define SHADER_NAME BARREL_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform float amount;","varying vec2 outTexCoord;","vec2 Distort(vec2 p)","{","    float theta  = atan(p.y, p.x);","    float radius = length(p);","    radius = pow(radius, amount);","    p.x = radius * cos(theta);","    p.y = radius * sin(theta);","    return 0.5 * (p + 1.0);","}","void main()","{","    vec2 xy = 2.0 * outTexCoord - 1.0;","    vec2 texCoord = outTexCoord;","    if (length(xy) < 1.0)","    {","        texCoord = Distort(xy);","    }","    gl_FragColor = texture2D(uMainSampler, texCoord);","}"].join("\n")},24400:t=>{t.exports=["#define SHADER_NAME BLOOM_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 offset;","uniform float strength;","uniform vec3 color;","varying vec2 outTexCoord;","void main ()","{","    vec4 sum = texture2D(uMainSampler, outTexCoord) * 0.204164 * strength;","    sum = sum + texture2D(uMainSampler, outTexCoord + offset * 1.407333) * 0.304005;","    sum = sum + texture2D(uMainSampler, outTexCoord - offset * 1.407333) * 0.304005;","    sum = sum + texture2D(uMainSampler, outTexCoord + offset * 3.294215) * 0.093913;","    gl_FragColor = (sum + texture2D(uMainSampler, outTexCoord - offset * 3.294215) * 0.093913) * vec4(color, 1);","}"].join("\n")},94328:t=>{t.exports=["#define SHADER_NAME BLUR_HIGH_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform vec2 offset;","uniform float strength;","uniform vec3 color;","varying vec2 outTexCoord;","void main ()","{","    vec2 uv = outTexCoord;","    vec4 col = vec4(0.0);","    vec2 off1 = vec2(1.411764705882353) * offset * strength;","    vec2 off2 = vec2(3.2941176470588234) * offset * strength;","    vec2 off3 = vec2(5.176470588235294) * offset * strength;","    col += texture2D(uMainSampler, uv) * 0.1964825501511404;","    col += texture2D(uMainSampler, uv + (off1 / resolution)) * 0.2969069646728344;","    col += texture2D(uMainSampler, uv - (off1 / resolution)) * 0.2969069646728344;","    col += texture2D(uMainSampler, uv + (off2 / resolution)) * 0.09447039785044732;","    col += texture2D(uMainSampler, uv - (off2 / resolution)) * 0.09447039785044732;","    col += texture2D(uMainSampler, uv + (off3 / resolution)) * 0.010381362401148057;","    col += texture2D(uMainSampler, uv - (off3 / resolution)) * 0.010381362401148057;","    gl_FragColor = col * vec4(color, 1.0);","}"].join("\n")},41514:t=>{t.exports=["#define SHADER_NAME BLUR_LOW_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform vec2 offset;","uniform float strength;","uniform vec3 color;","varying vec2 outTexCoord;","void main ()","{","    vec2 uv = outTexCoord;","    vec4 col = vec4(0.0);","    vec2 offset = vec2(1.333) * offset * strength;","    col += texture2D(uMainSampler, uv) * 0.29411764705882354;","    col += texture2D(uMainSampler, uv + (offset / resolution)) * 0.35294117647058826;","    col += texture2D(uMainSampler, uv - (offset / resolution)) * 0.35294117647058826;","    gl_FragColor = col * vec4(color, 1.0);","}"].join("\n")},51078:t=>{t.exports=["#define SHADER_NAME BLUR_MED_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform vec2 offset;","uniform float strength;","uniform vec3 color;","varying vec2 outTexCoord;","void main ()","{","    vec2 uv = outTexCoord;","    vec4 col = vec4(0.0);","    vec2 off1 = vec2(1.3846153846) * offset * strength;","    vec2 off2 = vec2(3.2307692308) * offset * strength;","    col += texture2D(uMainSampler, uv) * 0.2270270270;","    col += texture2D(uMainSampler, uv + (off1 / resolution)) * 0.3162162162;","    col += texture2D(uMainSampler, uv - (off1 / resolution)) * 0.3162162162;","    col += texture2D(uMainSampler, uv + (off2 / resolution)) * 0.0702702703;","    col += texture2D(uMainSampler, uv - (off2 / resolution)) * 0.0702702703;","    gl_FragColor = col * vec4(color, 1.0);","}"].join("\n")},90610:t=>{t.exports=["#define SHADER_NAME BOKEH_FS","precision mediump float;","#define ITERATIONS 100.0","#define ONEOVER_ITR 1.0 / ITERATIONS","#define PI 3.141596","#define GOLDEN_ANGLE 2.39996323","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform float radius;","uniform float amount;","uniform float contrast;","uniform bool isTiltShift;","uniform float strength;","uniform vec2 blur;","varying vec2 outTexCoord;","vec2 Sample (in float theta, inout float r)","{","    r += 1.0 / r;","    return (r - 1.0) * vec2(cos(theta), sin(theta)) * 0.06;","}","vec3 Bokeh (sampler2D tex, vec2 uv, float radius)","{","    vec3 acc = vec3(0.0);","    vec3 div = vec3(0.0);","    vec2 pixel = vec2(resolution.y / resolution.x, 1.0) * radius * .025;","    float r = 1.0;","    for (float j = 0.0; j < GOLDEN_ANGLE * ITERATIONS; j += GOLDEN_ANGLE)","    {","        vec3 col = texture2D(tex, uv + pixel * Sample(j, r)).xyz;","        col = contrast > 0.0 ? col * col * (1.0 + contrast) : col;","        vec3 bokeh = vec3(0.5) + pow(col, vec3(10.0)) * amount;","        acc += col * bokeh;","        div += bokeh;","    }","    return acc / div;","}","void main ()","{","    float shift = 1.0;","    if (isTiltShift)","    {","        vec2 uv = vec2(gl_FragCoord.xy / resolution + vec2(-0.5, -0.5)) * 2.0;","        float centerStrength = 1.0;","        shift = length(uv * blur * strength) * centerStrength;","    }","    gl_FragColor = vec4(Bokeh(uMainSampler, outTexCoord * vec2(1.0, 1.0), radius * shift), 0.0);","}"].join("\n")},91899:t=>{t.exports=["#define SHADER_NAME CIRCLE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform vec3 color;","uniform vec4 backgroundColor;","uniform float thickness;","uniform float scale;","uniform float feather;","varying vec2 outTexCoord;","void main ()","{","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec2 position = (gl_FragCoord.xy / resolution.xy) * 2.0 - 1.0;","    float aspectRatio = resolution.x / resolution.y;","    position.x *= aspectRatio;","    float grad = length(position);","    float outer = aspectRatio;","    float inner = outer - (thickness * 2.0 / resolution.y);","    if (aspectRatio >= 1.0)","    {","        float f = 2.0 + (resolution.y / resolution.x);","        outer = 1.0;","        inner = 1.0 - (thickness * f / resolution.x);","    }","    outer *= scale;","    inner *= scale;","    float circle = smoothstep(outer, outer - 0.01, grad);","    float ring = circle - smoothstep(inner, inner - feather, grad);","    texture = mix(backgroundColor * backgroundColor.a, texture, texture.a);","    texture = (texture * (circle - ring));","    gl_FragColor = vec4(texture.rgb + (ring * color), texture.a);","}"].join("\n")},47838:t=>{t.exports=["#define SHADER_NAME DISPLACEMENT_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform sampler2D uDisplacementSampler;","uniform vec2 amount;","varying vec2 outTexCoord;","void main ()","{","    vec2 disp = (-vec2(0.5, 0.5) + texture2D(uDisplacementSampler, outTexCoord).rr) * amount;","    gl_FragColor = texture2D(uMainSampler, outTexCoord + disp).rgba;","}"].join("\n")},98656:t=>{t.exports=["#define SHADER_NAME GLOW_FS","precision mediump float;","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","uniform float outerStrength;","uniform float innerStrength;","uniform vec2 resolution;","uniform vec4 glowColor;","uniform bool knockout;","const float PI = 3.14159265358979323846264;","const float DIST = __DIST__;","const float SIZE = min(__SIZE__, PI * 2.0);","const float STEP = ceil(PI * 2.0 / SIZE);","const float MAX_ALPHA = STEP * DIST * (DIST + 1.0) / 2.0;","void main ()","{","    vec2 px = vec2(1.0 / resolution.x, 1.0 / resolution.y);","    float totalAlpha = 0.0;","    vec2 direction;","    vec2 displaced;","    vec4 color;","    for (float angle = 0.0; angle < PI * 2.0; angle += SIZE)","    {","        direction = vec2(cos(angle), sin(angle)) * px;","        for (float curDistance = 0.0; curDistance < DIST; curDistance++)","        {","            displaced = outTexCoord + direction * (curDistance + 1.0);","            color = texture2D(uMainSampler, displaced);","            totalAlpha += (DIST - curDistance) * color.a;","        }","    }","    color = texture2D(uMainSampler, outTexCoord);","    float alphaRatio = (totalAlpha / MAX_ALPHA);","    float innerGlowAlpha = (1.0 - alphaRatio) * innerStrength * color.a;","    float innerGlowStrength = min(1.0, innerGlowAlpha);","    vec4 innerColor = mix(color, glowColor, innerGlowStrength);","    float outerGlowAlpha = alphaRatio * outerStrength * (1.0 - color.a);","    float outerGlowStrength = min(1.0 - innerColor.a, outerGlowAlpha);","    vec4 outerGlowColor = outerGlowStrength * glowColor.rgba;","    if (knockout)","    {","        float resultAlpha = outerGlowAlpha + innerGlowAlpha;","        gl_FragColor = vec4(glowColor.rgb * resultAlpha, resultAlpha);","    }","    else","    {","        gl_FragColor = innerColor + outerGlowColor;","    }","}"].join("\n")},70463:t=>{t.exports=["#define SHADER_NAME GRADIENT_FS","#define SRGB_TO_LINEAR(c) pow((c), vec3(2.2))","#define LINEAR_TO_SRGB(c) pow((c), vec3(1.0 / 2.2))","#define SRGB(r, g, b) SRGB_TO_LINEAR(vec3(float(r), float(g), float(b)) / 255.0)","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 positionFrom;","uniform vec2 positionTo;","uniform vec3 color1;","uniform vec3 color2;","uniform float alpha;","uniform int size;","varying vec2 outTexCoord;","float gradientNoise(in vec2 uv)","{","    const vec3 magic = vec3(0.06711056, 0.00583715, 52.9829189);","    return fract(magic.z * fract(dot(uv, magic.xy)));","}","float stepped (in float s, in float scale, in int steps)","{","    return steps > 0 ? floor( s / ((1.0 * scale) / float(steps))) * 1.0 / float(steps - 1) : s;","}","void main ()","{","    vec2 a = positionFrom;","    vec2 b = positionTo;","    vec2 ba = b - a;","    float d = dot(outTexCoord - a, ba) / dot(ba, ba);","    float t = size > 0 ? stepped(d, 1.0, size) : d;","    t = smoothstep(0.0, 1.0, clamp(t, 0.0, 1.0));","    vec3 color = mix(SRGB(color1.r, color1.g, color1.b), SRGB(color2.r, color2.g, color2.b), t);","    color = LINEAR_TO_SRGB(color);","    color += (1.0 / 255.0) * gradientNoise(outTexCoord) - (0.5 / 255.0);","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    gl_FragColor = vec4(mix(color.rgb, texture.rgb, alpha), 1.0) * texture.a;","}"].join("\n")},50831:t=>{t.exports=["#define SHADER_NAME PIXELATE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform float amount;","varying vec2 outTexCoord;","void main ()","{","    float pixelSize = floor(2.0 + amount);","    vec2 center = pixelSize * floor(outTexCoord * resolution / pixelSize) + pixelSize * vec2(0.5, 0.5);","    vec2 corner1 = center + pixelSize * vec2(-0.5, -0.5);","    vec2 corner2 = center + pixelSize * vec2(+0.5, -0.5);","    vec2 corner3 = center + pixelSize * vec2(+0.5, +0.5);","    vec2 corner4 = center + pixelSize * vec2(-0.5, +0.5);","    vec4 pixel = 0.4 * texture2D(uMainSampler, center / resolution);","    pixel += 0.15 * texture2D(uMainSampler, corner1 / resolution);","    pixel += 0.15 * texture2D(uMainSampler, corner2 / resolution);","    pixel += 0.15 * texture2D(uMainSampler, corner3 / resolution);","    pixel += 0.15 * texture2D(uMainSampler, corner4 / resolution);","    gl_FragColor = pixel;","}"].join("\n")},92595:t=>{t.exports=["#define SHADER_NAME SHADOW_FS","precision mediump float;","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","uniform vec2 lightPosition;","uniform vec4 color;","uniform float decay;","uniform float power;","uniform float intensity;","uniform int samples;","const int MAX = 12;","void main ()","{","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec2 pc = (lightPosition - outTexCoord) * intensity;","    float shadow = 0.0;","    float limit = max(float(MAX), float(samples));","    for (int i = 0; i < MAX; ++i)","    {","        if (i >= samples)","        {","            break;","        }","        shadow += texture2D(uMainSampler, outTexCoord + float(i) * decay / limit * pc).a * power;","    }","    float mask = 1.0 - texture.a;","    gl_FragColor = mix(texture, color, shadow * mask);","}"].join("\n")},72464:t=>{t.exports=["#define SHADER_NAME SHINE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform bool reveal;","uniform float speed;","uniform float time;","uniform float lineWidth;","uniform float gradient;","varying vec2 outTexCoord;","void main ()","{","\tvec2 uv = gl_FragCoord.xy / resolution.xy;","    vec4 tex = texture2D(uMainSampler, outTexCoord);","    vec4 col1 = vec4(0.3, 0.0, 0.0, 1.0);","    vec4 col2 = vec4(0.85, 0.85, 0.85, 1.0);","    uv.x = uv.x - mod(time * speed, 2.0) + 0.5;","    float y = uv.x * gradient;","    float s = smoothstep(y - lineWidth, y, uv.y) - smoothstep(y, y + lineWidth, uv.y);","    gl_FragColor = (((s * col1) + (s * col2)) * tex);","    if (!reveal)","    {","        gl_FragColor += tex;","    }","}"].join("\n")},39249:t=>{t.exports=["#define SHADER_NAME VIGNETTE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform float radius;","uniform float strength;","uniform vec2 position;","varying vec2 outTexCoord;","void main ()","{","    vec4 col = vec4(1.0);","    float d = length(outTexCoord - position);","    if (d <= radius)","    {","        float g = d / radius;","        g = sin(g * 3.14 * strength);","    \tcol = vec4(g * g * g);","    }","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    gl_FragColor = texture * (1.0 - col);","}"].join("\n")},2878:t=>{t.exports=["#define SHADER_NAME WIPE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec4 config;","uniform bool reveal;","varying vec2 outTexCoord;","void main ()","{","    vec2 uv = outTexCoord;","    vec4 color0;","    vec4 color1;","    if (reveal)","    {","        color0 = vec4(0);","        color1 = texture2D(uMainSampler, uv);","    }","    else","    {","        color0 = texture2D(uMainSampler, uv);","        color1 = vec4(0);","    }","    float distance = config.x;","    float width = config.y;","    float direction = config.z;","    float axis = uv.x;","    if (config.w == 1.0)","    {","        axis = uv.y;","    }","    float adjust = mix(width, -width, distance);","    float value = smoothstep(distance - width, distance + width, abs(direction - axis) + adjust);","    gl_FragColor = mix(color1, color0, value);","}"].join("\n")},31063:t=>{t.exports=["#define SHADER_NAME PHASER_LIGHT_FS","precision mediump float;","struct Light","{","    vec2 position;","    vec3 color;","    float intensity;","    float radius;","};","const int kMaxLights = %LIGHT_COUNT%;","uniform vec4 uCamera; /* x, y, rotation, zoom */","uniform vec2 uResolution;","uniform sampler2D uMainSampler;","uniform sampler2D uNormSampler;","uniform vec3 uAmbientLightColor;","uniform Light uLights[kMaxLights];","uniform mat3 uInverseRotationMatrix;","uniform int uLightCount;","varying vec2 outTexCoord;","varying float outTexId;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    vec3 finalColor = vec3(0.0, 0.0, 0.0);","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec4 color = texture * texel;","    if (outTintEffect == 1.0)","    {","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        color = texel;","    }","    vec3 normalMap = texture2D(uNormSampler, outTexCoord).rgb;","    vec3 normal = normalize(uInverseRotationMatrix * vec3(normalMap * 2.0 - 1.0));","    vec2 res = vec2(min(uResolution.x, uResolution.y)) * uCamera.w;","    for (int index = 0; index < kMaxLights; ++index)","    {","        if (index < uLightCount)","        {","            Light light = uLights[index];","            vec3 lightDir = vec3((light.position.xy / res) - (gl_FragCoord.xy / res), 0.1);","            vec3 lightNormal = normalize(lightDir);","            float distToSurf = length(lightDir) * uCamera.w;","            float diffuseFactor = max(dot(normal, lightNormal), 0.0);","            float radius = (light.radius / res.x * uCamera.w) * uCamera.w;","            float attenuation = clamp(1.0 - distToSurf * distToSurf / (radius * radius), 0.0, 1.0);","            vec3 diffuse = light.color * diffuseFactor;","            finalColor += (attenuation * diffuse) * light.intensity;","        }","    }","    vec4 colorOutput = vec4(uAmbientLightColor + finalColor, 1.0);","    gl_FragColor = color * vec4(colorOutput.rgb * colorOutput.a, colorOutput.a);","}"].join("\n")},48247:t=>{t.exports=["#define SHADER_NAME PHASER_LINEAR_BLEND_FS","precision mediump float;","uniform sampler2D uMainSampler1;","uniform sampler2D uMainSampler2;","uniform float uStrength;","varying vec2 outTexCoord;","void main ()","{","    vec4 frame1 = texture2D(uMainSampler1, outTexCoord);","    vec4 frame2 = texture2D(uMainSampler2, outTexCoord);","    gl_FragColor = mix(frame1, frame2 * uStrength, 0.5);","}"].join("\n")},41214:t=>{t.exports=["#define SHADER_NAME PHASER_MESH_FS","precision mediump float;","uniform vec3 uLightPosition;","uniform vec3 uLightAmbient;","uniform vec3 uLightDiffuse;","uniform vec3 uLightSpecular;","uniform vec3 uFogColor;","uniform float uFogNear;","uniform float uFogFar;","uniform vec3 uMaterialAmbient;","uniform vec3 uMaterialDiffuse;","uniform vec3 uMaterialSpecular;","uniform float uMaterialShine;","uniform vec3 uCameraPosition;","uniform sampler2D uTexture;","varying vec2 vTextureCoord;","varying vec3 vNormal;","varying vec3 vPosition;","void main (void)","{","    vec4 color = texture2D(uTexture, vTextureCoord);","    vec3 ambient = uLightAmbient * uMaterialAmbient;","    vec3 norm = normalize(vNormal);","    vec3 lightDir = normalize(uLightPosition - vPosition);","    float diff = max(dot(norm, lightDir), 0.0);","    vec3 diffuse = uLightDiffuse * (diff * uMaterialDiffuse);","    vec3 viewDir = normalize(uCameraPosition - vPosition);","    vec3 reflectDir = reflect(-lightDir, norm);","    float spec = pow(max(dot(viewDir, reflectDir), 0.0), uMaterialShine);","    vec3 specular = uLightSpecular * (spec * uMaterialSpecular);","    vec3 result = (ambient + diffuse + specular) * color.rgb;","    float depth = gl_FragCoord.z / gl_FragCoord.w;","    float fogFactor = smoothstep(uFogNear, uFogFar, depth);","    gl_FragColor.rgb = mix(result.rgb, uFogColor, fogFactor);","    gl_FragColor.a = color.a;","}"].join("\n")},39653:t=>{t.exports=["#define SHADER_NAME PHASER_MESH_VS","precision mediump float;","attribute vec3 aVertexPosition;","attribute vec3 aVertexNormal;","attribute vec2 aTextureCoord;","uniform mat4 uViewProjectionMatrix;","uniform mat4 uModelMatrix;","uniform mat4 uNormalMatrix;","varying vec2 vTextureCoord;","varying vec3 vNormal;","varying vec3 vPosition;","void main ()","{","    vTextureCoord = aTextureCoord;","    vPosition = vec3(uModelMatrix * vec4(aVertexPosition, 1.0));","    vNormal = vec3(uNormalMatrix * vec4(aVertexNormal, 1.0));","    gl_Position = uViewProjectionMatrix * uModelMatrix * vec4(aVertexPosition, 1.0);","}"].join("\n")},62143:t=>{t.exports=["#define SHADER_NAME PHASER_MOBILE_FS","#ifdef GL_FRAGMENT_PRECISION_HIGH","precision highp float;","#else","precision mediump float;","#endif","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec4 color = texture * texel;","    if (outTintEffect == 1.0)","    {","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        color = texel;","    }","    gl_FragColor = color;","}"].join("\n")},47940:t=>{t.exports=["#define SHADER_NAME PHASER_MOBILE_VS","precision mediump float;","uniform mat4 uProjectionMatrix;","uniform vec2 uResolution;","attribute vec2 inPosition;","attribute vec2 inTexCoord;","attribute float inTexId;","attribute float inTintEffect;","attribute vec4 inTint;","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","    outTexCoord = inTexCoord;","    outTint = inTint;","    outTintEffect = inTintEffect;","}"].join("\n")},98840:t=>{t.exports=["#define SHADER_NAME PHASER_MULTI_FS","#ifdef GL_FRAGMENT_PRECISION_HIGH","precision highp float;","#else","precision mediump float;","#endif","uniform sampler2D uMainSampler[%count%];","varying vec2 outTexCoord;","varying float outTexId;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    vec4 texture;","    %forloop%","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","    vec4 color = texture * texel;","    if (outTintEffect == 1.0)","    {","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        color = texel;","    }","    gl_FragColor = color;","}"].join("\n")},44667:t=>{t.exports=["#define SHADER_NAME PHASER_MULTI_VS","precision mediump float;","uniform mat4 uProjectionMatrix;","uniform vec2 uResolution;","attribute vec2 inPosition;","attribute vec2 inTexCoord;","attribute float inTexId;","attribute float inTintEffect;","attribute vec4 inTint;","varying vec2 outTexCoord;","varying float outTexId;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","    outTexCoord = inTexCoord;","    outTexId = inTexId;","    outTint = inTint;","    outTintEffect = inTintEffect;","}"].join("\n")},4127:t=>{t.exports=["#define SHADER_NAME PHASER_POINTLIGHT_FS","precision mediump float;","uniform vec2 uResolution;","uniform float uCameraZoom;","varying vec4 lightPosition;","varying vec4 lightColor;","varying float lightRadius;","varying float lightAttenuation;","void main ()","{","    vec2 center = (lightPosition.xy + 1.0) * (uResolution.xy * 0.5);","    float distToSurf = length(center - gl_FragCoord.xy);","    float radius = 1.0 - distToSurf / (lightRadius * uCameraZoom);","    float intensity = smoothstep(0.0, 1.0, radius * lightAttenuation);","    vec4 color = vec4(intensity, intensity, intensity, 0.0) * lightColor;","    gl_FragColor = vec4(color.rgb * lightColor.a, color.a);","}"].join("\n")},89924:t=>{t.exports=["#define SHADER_NAME PHASER_POINTLIGHT_VS","precision mediump float;","uniform mat4 uProjectionMatrix;","attribute vec2 inPosition;","attribute vec2 inLightPosition;","attribute vec4 inLightColor;","attribute float inLightRadius;","attribute float inLightAttenuation;","varying vec4 lightPosition;","varying vec4 lightColor;","varying float lightRadius;","varying float lightAttenuation;","void main ()","{","    lightColor = inLightColor;","    lightRadius = inLightRadius;","    lightAttenuation = inLightAttenuation;","    lightPosition = uProjectionMatrix * vec4(inLightPosition, 1.0, 1.0);","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","}"].join("\n")},27681:t=>{t.exports=["#define SHADER_NAME PHASER_POSTFX_FS","precision mediump float;","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","void main ()","{","    gl_FragColor = texture2D(uMainSampler, outTexCoord);","}"].join("\n")},49627:t=>{t.exports=["#define SHADER_NAME PHASER_QUAD_VS","precision mediump float;","attribute vec2 inPosition;","attribute vec2 inTexCoord;","varying vec2 outFragCoord;","varying vec2 outTexCoord;","void main ()","{","    outFragCoord = inPosition.xy * 0.5 + 0.5;","    outTexCoord = inTexCoord;","    gl_Position = vec4(inPosition, 0, 1);","}"].join("\n")},45561:t=>{t.exports=["#define SHADER_NAME PHASER_SINGLE_FS","#ifdef GL_FRAGMENT_PRECISION_HIGH","precision highp float;","#else","precision mediump float;","#endif","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","    vec4 color = texture * texel;","    if (outTintEffect == 1.0)","    {","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        color = texel;","    }","    gl_FragColor = color;","}"].join("\n")},60722:t=>{t.exports=["#define SHADER_NAME PHASER_SINGLE_VS","precision mediump float;","uniform mat4 uProjectionMatrix;","uniform vec2 uResolution;","attribute vec2 inPosition;","attribute vec2 inTexCoord;","attribute float inTexId;","attribute float inTintEffect;","attribute vec4 inTint;","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","    outTexCoord = inTexCoord;","    outTint = inTint;","    outTintEffect = inTintEffect;","}"].join("\n")},89350:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@photonstorm.com>
                     * @copyright    2013-2023 Photon Storm Ltd.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports={AddBlendFrag:i(35407),BitmapMaskFrag:i(78908),BitmapMaskVert:i(85191),ColorMatrixFrag:i(96293),CopyFrag:i(36682),FXBarrelFrag:i(99155),FXBloomFrag:i(24400),FXBlurHighFrag:i(94328),FXBlurLowFrag:i(41514),FXBlurMedFrag:i(51078),FXBokehFrag:i(90610),FXCircleFrag:i(91899),FXDisplacementFrag:i(47838),FXGlowFrag:i(98656),FXGradientFrag:i(70463),FXPixelateFrag:i(50831),FXShadowFrag:i(92595),FXShineFrag:i(72464),FXVignetteFrag:i(39249),FXWipeFrag:i(2878),LightFrag:i(31063),LinearBlendFrag:i(48247),MeshFrag:i(41214),MeshVert:i(39653),MobileFrag:i(62143),MobileVert:i(47940),MultiFrag:i(98840),MultiVert:i(44667),PointLightFrag:i(4127),PointLightVert:i(89924),PostFXFrag:i(27681),QuadVert:i(49627),SingleFrag:i(45561),SingleVert:i(60722)}},93567:(t,e,i)=>{
/**
                     * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=new(i(83419))({initialize:function(t,e,i){this.webGLAttribLocation=-1,this.gl=t,this.program=e,this.name=i,this.createResource()},createResource:function(){if(null!==this.program.webGLProgram){var t=this.gl;t.isContextLost()||(this.webGLAttribLocation=t.getAttribLocation(this.program.webGLProgram,this.name))}else this.webGLAttribLocation=-1},destroy:function(){this.gl=null,this.program=null,this.name=null,this.webGLAttribLocation=-1}});t.exports=s},26128:(t,e,i)=>{
/**
                     * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=new(i(83419))({initialize:function(t,e,i,s){this.webGLBuffer=null,this.gl=t,this.initialDataOrSize=e,this.bufferType=i,this.bufferUsage=s,this.createResource()},createResource:function(){if(null!==this.initialDataOrSize){var t=this.gl;if(!t.isContextLost()){var e=this.bufferType,i=t.createBuffer();this.webGLBuffer=i,t.bindBuffer(e,this.webGLBuffer),t.bufferData(e,this.initialDataOrSize,this.bufferUsage),t.bindBuffer(e,null)}}},destroy:function(){var t=this.gl;t.isContextLost()||t.deleteBuffer(this.webGLBuffer),this.webGLBuffer=null,this.initialDataOrSize=null,this.gl=null}});t.exports=s},84387:(t,e,i)=>{
/**
                     * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(83419),n={36054:"Incomplete Attachment",36055:"Missing Attachment",36057:"Incomplete Dimensions",36061:"Framebuffer Unsupported"},r=new s({initialize:function(t,e,i,s,n){this.webGLFramebuffer=null,this.gl=t,this.width=e,this.height=i,this.renderTexture=s,this.addDepthStencilBuffer=!!n,this.createResource()},createResource:function(){var t=this.gl;if(!t.isContextLost()){var e,i=this.renderTexture,s=t.createFramebuffer();if(this.webGLFramebuffer=s,t.bindFramebuffer(t.FRAMEBUFFER,s),i.isRenderTexture=!0,i.isAlphaPremultiplied=!1,t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,i.webGLTexture,0),(e=t.checkFramebufferStatus(t.FRAMEBUFFER))!==t.FRAMEBUFFER_COMPLETE)throw new Error("Framebuffer status: "+(n[e]||e));if(this.addDepthStencilBuffer){var r=t.createRenderbuffer();t.bindRenderbuffer(t.RENDERBUFFER,r),t.renderbufferStorage(t.RENDERBUFFER,t.DEPTH_STENCIL,this.width,this.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.RENDERBUFFER,r)}t.bindFramebuffer(t.FRAMEBUFFER,null)}},destroy:function(){if(null!==this.webGLFramebuffer){var t=this.gl;if(!t.isContextLost()){t.bindFramebuffer(t.FRAMEBUFFER,this.webGLFramebuffer);var e=t.getFramebufferAttachmentParameter(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME);null!==e&&(t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,null,0),t.deleteTexture(e));var i=t.getFramebufferAttachmentParameter(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME);null!==i&&t.deleteRenderbuffer(i),t.bindFramebuffer(t.FRAMEBUFFER,null),t.deleteFramebuffer(this.webGLFramebuffer)}this.renderTexture=null,this.webGLFramebuffer=null,this.gl=null}}});t.exports=r},1482:(t,e,i)=>{
/**
                     * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=new(i(83419))({initialize:function(t,e,i){this.webGLProgram=null,this.gl=t,this.vertexSource=e,this.fragmentSource=i,this.createResource()},createResource:function(){var t=this.gl;if(!t.isContextLost()){var e=t.createProgram(),i=t.createShader(t.VERTEX_SHADER),s=t.createShader(t.FRAGMENT_SHADER);t.shaderSource(i,this.vertexSource),t.shaderSource(s,this.fragmentSource),t.compileShader(i),t.compileShader(s);var n="Shader failed:\n";if(!t.getShaderParameter(i,t.COMPILE_STATUS))throw new Error("Vertex "+n+t.getShaderInfoLog(i));if(!t.getShaderParameter(s,t.COMPILE_STATUS))throw new Error("Fragment "+n+t.getShaderInfoLog(s));if(t.attachShader(e,i),t.attachShader(e,s),t.linkProgram(e),!t.getProgramParameter(e,t.LINK_STATUS))throw new Error("Link "+n+t.getProgramInfoLog(e));t.useProgram(e),this.webGLProgram=e}},destroy:function(){this.webGLProgram&&(this.gl.isContextLost()||this.gl.deleteProgram(this.webGLProgram),this.webGLProgram=null,this.gl=null)}});t.exports=s},82751:(t,e,i)=>{
/**
                     * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(83419),n=i(50030),r=new s({initialize:function(t,e,i,s,n,r,o,a,h,l,u,c,d){this.webGLTexture=null,this.isRenderTexture=!1,this.gl=t,this.mipLevel=e,this.minFilter=i,this.magFilter=s,this.wrapT=n,this.wrapS=r,this.format=o,this.pixels=a,this.width=h,this.height=l,this.pma=null==u||u,this.forceSize=!!c,this.flipY=!!d,this.__SPECTOR_Metadata={},this.createResource()},createResource:function(){var t=this.gl;if(!t.isContextLost())if(this.pixels instanceof r)this.webGLTexture=this.pixels.webGLTexture;else{var e=t.createTexture();e.__SPECTOR_Metadata=this.__SPECTOR_Metadata,this.webGLTexture=e,this._processTexture()}},update:function(t,e,i,s,n,r,o,a,h){0!==e&&0!==i&&(this.pixels=t,this.width=e,this.height=i,this.flipY=s,this.wrapS=n,this.wrapT=r,this.minFilter=o,this.magFilter=a,this.format=h,this.gl.isContextLost()||this._processTexture())},_processTexture:function(){var t=this.gl;t.activeTexture(t.TEXTURE0);var e=t.getParameter(t.TEXTURE_BINDING_2D);t.bindTexture(t.TEXTURE_2D,this.webGLTexture),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,this.minFilter),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,this.magFilter),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,this.wrapS),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,this.wrapT),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,this.pma),t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,this.flipY);var i=this.pixels,s=this.mipLevel,r=this.width,o=this.height,a=this.format,h=!1;if(null==i)t.texImage2D(t.TEXTURE_2D,s,a,r,o,0,a,t.UNSIGNED_BYTE,null),h=n(r,o);else if(i.compressed){r=i.width,o=i.height,h=i.generateMipmap;for(var l=0;l<i.mipmaps.length;l++)t.compressedTexImage2D(t.TEXTURE_2D,l,i.internalFormat,i.mipmaps[l].width,i.mipmaps[l].height,0,i.mipmaps[l].data)}else i instanceof Uint8Array?(t.texImage2D(t.TEXTURE_2D,s,a,r,o,0,a,t.UNSIGNED_BYTE,i),h=n(r,o)):(this.forceSize||(r=i.width,o=i.height),t.texImage2D(t.TEXTURE_2D,s,a,a,t.UNSIGNED_BYTE,i),h=n(r,o));h&&t.generateMipmap(t.TEXTURE_2D),e?t.bindTexture(t.TEXTURE_2D,e):t.bindTexture(t.TEXTURE_2D,null)},spectorMetadata:{get:function(){return this.__SPECTOR_Metadata},set:function(t){this.__SPECTOR_Metadata=t,this.gl.isContextLost()||(this.webGLTexture.__SPECTOR_Metadata=t)}},destroy:function(){null!==this.webGLTexture&&(this.gl.isContextLost()||this.pixels instanceof r||this.gl.deleteTexture(this.webGLTexture),this.pixels=null,this.webGLTexture=null,this.gl=null)}});t.exports=r},57183:(t,e,i)=>{
/**
                     * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=new(i(83419))({initialize:function(t,e,i){this.webGLUniformLocation=null,this.gl=t,this.program=e,this.name=i,this.createResource()},createResource:function(){if(null!==this.program.webGLProgram){var t=this.gl;t.isContextLost()||(this.webGLUniformLocation=t.getUniformLocation(this.program.webGLProgram,this.name))}else this.webGLUniformLocation=null},destroy:function(){this.gl=null,this.program=null,this.name=null,this.webGLUniformLocation=null}});t.exports=s},9503:(t,e,i)=>{
/**
                     * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s={WebGLAttribLocationWrapper:i(93567),WebGLBufferWrapper:i(26128),WebGLProgramWrapper:i(1482),WebGLTextureWrapper:i(82751),WebGLFramebufferWrapper:i(84387),WebGLUniformLocationWrapper:i(57183)};t.exports=s},76531:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(13560),n=i(83419),r=i(45319),o=i(50792),a=i(97480),h=i(8443),l=i(57811),u=i(74403),c=i(45818),d=i(29747),f=i(87841),p=i(86555),g=i(56583),m=i(26099),v=i(38058),y=new n({Extends:o,initialize:function(t){o.call(this),this.game=t,this.canvas,this.canvasBounds=new f,this.parent=null,this.parentIsWindow=!1,this.parentSize=new p,this.gameSize=new p,this.baseSize=new p,this.displaySize=new p,this.scaleMode=s.SCALE_MODE.NONE,this.zoom=1,this._resetZoom=!1,this.displayScale=new m(1,1),this.autoRound=!1,this.autoCenter=s.CENTER.NO_CENTER,this.orientation=s.ORIENTATION.LANDSCAPE,this.fullscreen,this.fullscreenTarget=null,this._createdFullscreenTarget=!1,this.dirty=!1,this.resizeInterval=500,this._lastCheck=0,this._checkOrientation=!1,this.domlisteners={orientationChange:d,windowResize:d,fullScreenChange:d,fullScreenError:d}},preBoot:function(){this.parseConfig(this.game.config),this.game.events.once(h.BOOT,this.boot,this)},boot:function(){var t=this.game;this.canvas=t.canvas,this.fullscreen=t.device.fullscreen;var e=this.scaleMode;e!==s.SCALE_MODE.RESIZE&&e!==s.SCALE_MODE.EXPAND&&this.displaySize.setAspectMode(e),e===s.SCALE_MODE.NONE?this.resize(this.width,this.height):(this.getParentBounds(),this.parentSize.width>0&&this.parentSize.height>0&&this.displaySize.setParent(this.parentSize),this.refresh()),t.events.on(h.PRE_STEP,this.step,this),t.events.once(h.READY,this.refresh,this),t.events.once(h.DESTROY,this.destroy,this),this.startListeners()},parseConfig:function(t){this.getParent(t),this.getParentBounds();var e=t.width,i=t.height,n=t.scaleMode,r=t.zoom,o=t.autoRound;if("string"==typeof e)if("%"!==e.substr(-1))e=parseInt(e,10);else{var a=this.parentSize.width;0===a&&(a=window.innerWidth);var h=parseInt(e,10)/100;e=Math.floor(a*h)}if("string"==typeof i)if("%"!==i.substr(-1))i=parseInt(i,10);else{var l=this.parentSize.height;0===l&&(l=window.innerHeight);var u=parseInt(i,10)/100;i=Math.floor(l*u)}this.scaleMode=n,this.autoRound=o,this.autoCenter=t.autoCenter,this.resizeInterval=t.resizeInterval,o&&(e=Math.floor(e),i=Math.floor(i)),this.gameSize.setSize(e,i),r===s.ZOOM.MAX_ZOOM&&(r=this.getMaxZoom()),this.zoom=r,1!==r&&(this._resetZoom=!0),this.baseSize.setSize(e,i),o&&(this.baseSize.width=Math.floor(this.baseSize.width),this.baseSize.height=Math.floor(this.baseSize.height)),t.minWidth>0&&this.displaySize.setMin(t.minWidth*r,t.minHeight*r),t.maxWidth>0&&this.displaySize.setMax(t.maxWidth*r,t.maxHeight*r),this.displaySize.setSize(e,i),(t.snapWidth>0||t.snapHeight>0)&&this.displaySize.setSnap(t.snapWidth,t.snapHeight),this.orientation=c(e,i)},getParent:function(t){var e=t.parent;if(null!==e){if(this.parent=u(e),this.parentIsWindow=this.parent===document.body,t.expandParent&&t.scaleMode!==s.SCALE_MODE.NONE){var i=this.parent.getBoundingClientRect();(this.parentIsWindow||0===i.height)&&(document.documentElement.style.height="100%",document.body.style.height="100%",i=this.parent.getBoundingClientRect(),this.parentIsWindow||0!==i.height||(this.parent.style.overflow="hidden",this.parent.style.width="100%",this.parent.style.height="100%"))}t.fullscreenTarget&&!this.fullscreenTarget&&(this.fullscreenTarget=u(t.fullscreenTarget))}},getParentBounds:function(){if(!this.parent)return!1;var t=this.parentSize,e=this.parent.getBoundingClientRect();this.parentIsWindow&&this.game.device.os.iOS&&(e.height=l(!0));var i=e.width,s=e.height;if(t.width!==i||t.height!==s)return t.setSize(i,s),!0;if(this.canvas){var n=this.canvasBounds,r=this.canvas.getBoundingClientRect();if(r.x!==n.x||r.y!==n.y)return!0}return!1},lockOrientation:function(t){var e=screen.lockOrientation||screen.mozLockOrientation||screen.msLockOrientation;return!!e&&e.call(screen,t)},setParentSize:function(t,e){return this.parentSize.setSize(t,e),this.refresh()},setGameSize:function(t,e){var i=this.autoRound;i&&(t=Math.floor(t),e=Math.floor(e));var s=this.width,n=this.height;return this.gameSize.resize(t,e),this.baseSize.resize(t,e),i&&(this.baseSize.width=Math.floor(this.baseSize.width),this.baseSize.height=Math.floor(this.baseSize.height)),this.displaySize.setAspectRatio(t/e),this.canvas.width=this.baseSize.width,this.canvas.height=this.baseSize.height,this.refresh(s,n)},resize:function(t,e){var i=this.zoom,s=this.autoRound;s&&(t=Math.floor(t),e=Math.floor(e));var n=this.width,r=this.height;this.gameSize.resize(t,e),this.baseSize.resize(t,e),s&&(this.baseSize.width=Math.floor(this.baseSize.width),this.baseSize.height=Math.floor(this.baseSize.height)),this.displaySize.setSize(t*i,e*i),this.canvas.width=this.baseSize.width,this.canvas.height=this.baseSize.height;var o=this.canvas.style,a=t*i,h=e*i;return s&&(a=Math.floor(a),h=Math.floor(h)),a===t&&h===e||(o.width=a+"px",o.height=h+"px"),this.refresh(n,r)},setZoom:function(t){return this.zoom=t,this._resetZoom=!0,this.refresh()},setMaxZoom:function(){return this.zoom=this.getMaxZoom(),this._resetZoom=!0,this.refresh()},setSnap:function(t,e){return void 0===t&&(t=0),void 0===e&&(e=t),this.displaySize.setSnap(t,e),this.refresh()},refresh:function(t,e){void 0===t&&(t=this.width),void 0===e&&(e=this.height),this.updateScale(),this.updateBounds(),this.updateOrientation(),this.displayScale.set(this.baseSize.width/this.canvasBounds.width,this.baseSize.height/this.canvasBounds.height);var i=this.game.domContainer;if(i){this.baseSize.setCSS(i);var s=this.canvas.style,n=i.style;n.transform="scale("+this.displaySize.width/this.baseSize.width+","+this.displaySize.height/this.baseSize.height+")",n.marginLeft=s.marginLeft,n.marginTop=s.marginTop}return this.emit(a.RESIZE,this.gameSize,this.baseSize,this.displaySize,t,e),this},updateOrientation:function(){if(this._checkOrientation){this._checkOrientation=!1;var t=c(this.width,this.height);t!==this.orientation&&(this.orientation=t,this.emit(a.ORIENTATION_CHANGE,t))}},updateScale:function(){var t,e,i=this.canvas.style,n=this.gameSize.width,o=this.gameSize.height,a=this.zoom,h=this.autoRound;if(this.scaleMode===s.SCALE_MODE.NONE)this.displaySize.setSize(n*a,o*a),t=this.displaySize.width,e=this.displaySize.height,h&&(t=Math.floor(t),e=Math.floor(e)),this._resetZoom&&(i.width=t+"px",i.height=e+"px",this._resetZoom=!1);else if(this.scaleMode===s.SCALE_MODE.RESIZE)this.displaySize.setSize(this.parentSize.width,this.parentSize.height),this.gameSize.setSize(this.displaySize.width,this.displaySize.height),this.baseSize.setSize(this.displaySize.width,this.displaySize.height),t=this.displaySize.width,e=this.displaySize.height,h&&(t=Math.floor(t),e=Math.floor(e)),this.canvas.width=t,this.canvas.height=e;else if(this.scaleMode===s.SCALE_MODE.EXPAND){var l,u,c=this.game.config.width,d=this.game.config.height,f=this.parentSize.width,p=this.parentSize.height,g=f/c,m=p/d;g<m?(l=c,u=0!==g?p/g:d):(l=0!==m?f/m:c,u=d);var v=r(l,this.displaySize.minWidth,this.displaySize.maxWidth),y=r(u,this.displaySize.minHeight,this.displaySize.maxHeight);this.baseSize.setSize(v,y),this.gameSize.setSize(v,y),h&&(v=Math.floor(v),y=Math.floor(y)),this.canvas.width=v,this.canvas.height=y;var x=f*(v/l),T=p*(y/u);this.displaySize.setSize(x,T),t=this.displaySize.width,e=this.displaySize.height,h&&(t=Math.floor(t),e=Math.floor(e)),i.width=t+"px",i.height=e+"px"}else this.displaySize.setSize(this.parentSize.width,this.parentSize.height),t=this.displaySize.width,e=this.displaySize.height,h&&(t=Math.floor(t),e=Math.floor(e)),i.width=t+"px",i.height=e+"px";this.getParentBounds(),this.updateCenter()},getMaxZoom:function(){var t=g(this.parentSize.width,this.gameSize.width,0,!0),e=g(this.parentSize.height,this.gameSize.height,0,!0);return Math.max(Math.min(t,e),1)},updateCenter:function(){var t=this.autoCenter;if(t!==s.CENTER.NO_CENTER){var e=this.canvas,i=e.style,n=e.getBoundingClientRect(),r=n.width,o=n.height,a=Math.floor((this.parentSize.width-r)/2),h=Math.floor((this.parentSize.height-o)/2);t===s.CENTER.CENTER_HORIZONTALLY?h=0:t===s.CENTER.CENTER_VERTICALLY&&(a=0),i.marginLeft=a+"px",i.marginTop=h+"px"}},updateBounds:function(){var t=this.canvasBounds,e=this.canvas.getBoundingClientRect();t.x=e.left+(window.pageXOffset||0)-(document.documentElement.clientLeft||0),t.y=e.top+(window.pageYOffset||0)-(document.documentElement.clientTop||0),t.width=e.width,t.height=e.height},transformX:function(t){return(t-this.canvasBounds.left)*this.displayScale.x},transformY:function(t){return(t-this.canvasBounds.top)*this.displayScale.y},startFullscreen:function(t){void 0===t&&(t={navigationUI:"hide"});var e=this.fullscreen;if(e.available){if(!e.active){var i=this.getFullscreenTarget();e.keyboard?i[e.request](Element.ALLOW_KEYBOARD_INPUT):i[e.request](t)}}else this.emit(a.FULLSCREEN_UNSUPPORTED)},fullscreenSuccessHandler:function(){this.getParentBounds(),this.refresh(),this.emit(a.ENTER_FULLSCREEN)},fullscreenErrorHandler:function(t){this.removeFullscreenTarget(),this.emit(a.FULLSCREEN_FAILED,t)},getFullscreenTarget:function(){if(!this.fullscreenTarget){var t=document.createElement("div");t.style.margin="0",t.style.padding="0",t.style.width="100%",t.style.height="100%",this.fullscreenTarget=t,this._createdFullscreenTarget=!0}return this._createdFullscreenTarget&&(this.canvas.parentNode.insertBefore(this.fullscreenTarget,this.canvas),this.fullscreenTarget.appendChild(this.canvas)),this.fullscreenTarget},removeFullscreenTarget:function(){if(this._createdFullscreenTarget){var t=this.fullscreenTarget;if(t&&t.parentNode){var e=t.parentNode;e.insertBefore(this.canvas,t),e.removeChild(t)}}},stopFullscreen:function(){var t=this.fullscreen;if(!t.available)return this.emit(a.FULLSCREEN_UNSUPPORTED),!1;t.active&&document[t.cancel](),this.removeFullscreenTarget()},leaveFullScreenSuccessHandler:function(){this.getParentBounds(),this.emit(a.LEAVE_FULLSCREEN),this.refresh()},toggleFullscreen:function(t){this.fullscreen.active?this.stopFullscreen():this.startFullscreen(t)},startListeners:function(){var t=this,e=this.domlisteners;e.orientationChange=function(){t.updateBounds(),t._checkOrientation=!0,t.dirty=!0,t.refresh()},e.windowResize=function(){t.updateBounds(),t.dirty=!0},screen.orientation&&screen.orientation.addEventListener?screen.orientation.addEventListener("change",e.orientationChange,!1):window.addEventListener("orientationchange",e.orientationChange,!1),window.addEventListener("resize",e.windowResize,!1),this.fullscreen.available&&(e.fullScreenChange=function(e){return t.onFullScreenChange(e)},e.fullScreenError=function(e){return t.onFullScreenError(e)},["webkit","moz",""].forEach(function(t){document.addEventListener(t+"fullscreenchange",e.fullScreenChange,!1),document.addEventListener(t+"fullscreenerror",e.fullScreenError,!1)}),document.addEventListener("MSFullscreenChange",e.fullScreenChange,!1),document.addEventListener("MSFullscreenError",e.fullScreenError,!1))},onFullScreenChange:function(){document.fullscreenElement||document.webkitFullscreenElement||document.msFullscreenElement||document.mozFullScreenElement?this.fullscreenSuccessHandler():(this.stopFullscreen(),this.leaveFullScreenSuccessHandler())},onFullScreenError:function(){this.removeFullscreenTarget()},getViewPort:function(t,e){t instanceof v||(e=t,t=void 0),void 0===e&&(e=new f);var i,s,n=this.baseSize,r=this.parentSize,o=this.canvasBounds,a=this.displayScale,h=o.x>=0?0:-o.x*a.x,l=o.y>=0?0:-o.y*a.y;return i=r.width>=o.width?n.width:n.width-(o.width-r.width)*a.x,s=r.height>=o.height?n.height:n.height-(o.height-r.height)*a.y,e.setTo(h,l,i,s),t&&(e.width/=t.zoomX,e.height/=t.zoomY,e.centerX=t.centerX+t.scrollX,e.centerY=t.centerY+t.scrollY),e},step:function(t,e){this.parent&&(this._lastCheck+=e,(this.dirty||this._lastCheck>this.resizeInterval)&&(this.getParentBounds()&&this.refresh(),this.dirty=!1,this._lastCheck=0))},stopListeners:function(){var t=this.domlisteners;screen.orientation&&screen.orientation.addEventListener?screen.orientation.removeEventListener("change",t.orientationChange,!1):window.removeEventListener("orientationchange",t.orientationChange,!1),window.removeEventListener("resize",t.windowResize,!1),["webkit","moz",""].forEach(function(e){document.removeEventListener(e+"fullscreenchange",t.fullScreenChange,!1),document.removeEventListener(e+"fullscreenerror",t.fullScreenError,!1)}),document.removeEventListener("MSFullscreenChange",t.fullScreenChange,!1),document.removeEventListener("MSFullscreenError",t.fullScreenError,!1)},destroy:function(){this.removeAllListeners(),this.stopListeners(),this.game=null,this.canvas=null,this.canvasBounds=null,this.parent=null,this.fullscreenTarget=null,this.parentSize.destroy(),this.gameSize.destroy(),this.baseSize.destroy(),this.displaySize.destroy()},isFullscreen:{get:function(){return this.fullscreen.active}},width:{get:function(){return this.gameSize.width}},height:{get:function(){return this.gameSize.height}},isPortrait:{get:function(){return this.orientation===s.ORIENTATION.PORTRAIT}},isLandscape:{get:function(){return this.orientation===s.ORIENTATION.LANDSCAPE}},isGamePortrait:{get:function(){return this.height>this.width}},isGameLandscape:{get:function(){return this.width>this.height}}});t.exports=y},64743:t=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports={NO_CENTER:0,CENTER_BOTH:1,CENTER_HORIZONTALLY:2,CENTER_VERTICALLY:3}},39218:t=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports={LANDSCAPE:"landscape-primary",LANDSCAPE_SECONDARY:"landscape-secondary",PORTRAIT:"portrait-primary",PORTRAIT_SECONDARY:"portrait-secondary"}},81050:t=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports={NONE:0,WIDTH_CONTROLS_HEIGHT:1,HEIGHT_CONTROLS_WIDTH:2,FIT:3,ENVELOP:4,RESIZE:5,EXPAND:6}},80805:t=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports={NO_ZOOM:1,ZOOM_2X:2,ZOOM_4X:4,MAX_ZOOM:-1}},13560:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s={CENTER:i(64743),ORIENTATION:i(39218),SCALE_MODE:i(81050),ZOOM:i(80805)};t.exports=s},56139:t=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports="enterfullscreen"},2336:t=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports="fullscreenfailed"},47412:t=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports="fullscreenunsupported"},51452:t=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports="leavefullscreen"},20666:t=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports="orientationchange"},47945:t=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports="resize"},97480:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports={ENTER_FULLSCREEN:i(56139),FULLSCREEN_FAILED:i(2336),FULLSCREEN_UNSUPPORTED:i(47412),LEAVE_FULLSCREEN:i(51452),ORIENTATION_CHANGE:i(20666),RESIZE:i(47945)}},93364:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(79291),n=i(13560),r={Center:i(64743),Events:i(97480),Orientation:i(39218),ScaleManager:i(76531),ScaleModes:i(81050),Zoom:i(80805)};r=s(!1,r,n.CENTER),r=s(!1,r,n.ORIENTATION),r=s(!1,r,n.SCALE_MODE),r=s(!1,r,n.ZOOM),t.exports=r},27397:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(95540),n=i(35355);t.exports=function(t){var e=t.game.config.defaultPhysicsSystem,i=s(t.settings,"physics",!1);if(e||i){var r=[];if(e&&r.push(n(e+"Physics")),i)for(var o in i)o=n(o.concat("Physics")),-1===r.indexOf(o)&&r.push(o);return r}}},52106:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(95540);t.exports=function(t){var e=t.plugins.getDefaultScenePlugins(),i=s(t.settings,"plugins",!1);return Array.isArray(i)?i:e||[]}},87033:t=>{t.exports={game:"game",renderer:"renderer",anims:"anims",cache:"cache",plugins:"plugins",registry:"registry",scale:"scale",sound:"sound",textures:"textures",events:"events",cameras:"cameras",add:"add",make:"make",scenePlugin:"scene",displayList:"children",lights:"lights",data:"data",input:"input",load:"load",time:"time",tweens:"tweens",arcadePhysics:"physics",impactPhysics:"impact",matterPhysics:"matter"}},97482:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(83419),n=i(2368),r=new s({initialize:function(t){this.sys=new n(this,t),this.game,this.anims,this.cache,this.registry,this.sound,this.textures,this.events,this.cameras,this.add,this.make,this.scene,this.children,this.lights,this.data,this.input,this.load,this.time,this.tweens,this.physics,this.matter,this.scale,this.plugins,this.renderer},update:function(){}});t.exports=r},60903:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(83419),n=i(89993),r=i(44594),o=i(8443),a=i(35154),h=i(54899),l=i(29747),u=i(97482),c=i(2368),d=new s({initialize:function(t,e){if(this.game=t,this.keys={},this.scenes=[],this._pending=[],this._start=[],this._queue=[],this._data={},this.isProcessing=!1,this.isBooted=!1,this.customViewports=0,this.systemScene,e){Array.isArray(e)||(e=[e]);for(var i=0;i<e.length;i++)this._pending.push({key:"default",scene:e[i],autoStart:0===i,data:{}})}t.events.once(o.READY,this.bootQueue,this)},bootQueue:function(){if(!this.isBooted){var t,e,i,s;for(this.systemScene=this.createSceneFromInstance("__SYSTEM",new u),this.game.events.emit(o.SYSTEM_READY,this.systemScene,this),t=0;t<this._pending.length;t++){var n;i=(e=this._pending[t]).key,(s=e.scene)instanceof u?n=this.createSceneFromInstance(i,s):"object"==typeof s?n=this.createSceneFromObject(i,s):"function"==typeof s&&(n=this.createSceneFromFunction(i,s)),i=n.sys.settings.key,this.keys[i]=n,this.scenes.push(n),this._data[i]&&(n.sys.settings.data=this._data[i].data,this._data[i].autoStart&&(e.autoStart=!0)),(e.autoStart||n.sys.settings.active)&&this._start.push(i)}for(this._pending.length=0,this._data={},this.isBooted=!0,t=0;t<this._start.length;t++)e=this._start[t],this.start(e);this._start.length=0}},processQueue:function(){var t=this._pending.length,e=this._queue.length;if(0!==t||0!==e){var i,s;if(t){for(i=0;i<t;i++)s=this._pending[i],this.add(s.key,s.scene,s.autoStart,s.data);for(i=0;i<this._start.length;i++)s=this._start[i],this.start(s);this._start.length=0,this._pending.length=0}for(i=0;i<this._queue.length;i++)this[(s=this._queue[i]).op](s.keyA,s.keyB,s.data);this._queue.length=0}},add:function(t,e,i,s){return void 0===i&&(i=!1),void 0===s&&(s={}),this.isProcessing||!this.isBooted?(this._pending.push({key:t,scene:e,autoStart:i,data:s}),this.isBooted||(this._data[t]={data:s}),null):(t=this.getKey(t,e),e instanceof u?n=this.createSceneFromInstance(t,e):"object"==typeof e?(e.key=t,n=this.createSceneFromObject(t,e)):"function"==typeof e&&(n=this.createSceneFromFunction(t,e)),n.sys.settings.data=s,t=n.sys.settings.key,this.keys[t]=n,this.scenes.push(n),(i||n.sys.settings.active)&&(this._pending.length?this._start.push(t):this.start(t)),n);var n},remove:function(t){if(this.isProcessing)return this.queueOp("remove",t);var e=this.getScene(t);if(!e||e.sys.isTransitioning())return this;var i=this.scenes.indexOf(e),s=e.sys.settings.key;return i>-1&&(delete this.keys[s],this.scenes.splice(i,1),this._start.indexOf(s)>-1&&(i=this._start.indexOf(s),this._start.splice(i,1)),e.sys.destroy()),this},bootScene:function(t){var e,i=t.sys,s=i.settings;i.sceneUpdate=l,t.init&&(t.init.call(t,s.data),s.status=n.INIT,s.isTransition&&i.events.emit(r.TRANSITION_INIT,s.transitionFrom,s.transitionDuration)),i.load&&(e=i.load).reset(),e&&t.preload?(t.preload.call(t),s.status=n.LOADING,e.once(h.COMPLETE,this.loadComplete,this),e.start()):this.create(t)},loadComplete:function(t){this.create(t.scene)},payloadComplete:function(t){this.bootScene(t.scene)},update:function(t,e){this.processQueue(),this.isProcessing=!0;for(var i=this.scenes.length-1;i>=0;i--){var s=this.scenes[i].sys;s.settings.status>n.START&&s.settings.status<=n.RUNNING&&s.step(t,e),s.scenePlugin&&s.scenePlugin._target&&s.scenePlugin.step(t,e)}},render:function(t){for(var e=0;e<this.scenes.length;e++){var i=this.scenes[e].sys;i.settings.visible&&i.settings.status>=n.LOADING&&i.settings.status<n.SLEEPING&&i.render(t)}this.isProcessing=!1},create:function(t){var e=t.sys,i=e.settings;t.create&&(i.status=n.CREATING,t.create.call(t,i.data),i.status===n.DESTROYED)||(i.isTransition&&e.events.emit(r.TRANSITION_START,i.transitionFrom,i.transitionDuration),t.update&&(e.sceneUpdate=t.update),i.status=n.RUNNING,e.events.emit(r.CREATE,t))},createSceneFromFunction:function(t,e){var i=new e;if(i instanceof u){var s=i.sys.settings.key;if(""!==s&&(t=s),this.keys.hasOwnProperty(t))throw new Error("Cannot add Scene with duplicate key: "+t);return this.createSceneFromInstance(t,i)}return i.sys=new c(i),i.sys.settings.key=t,i.sys.init(this.game),i},createSceneFromInstance:function(t,e){return""===e.sys.settings.key&&(e.sys.settings.key=t),e.sys.init(this.game),e},createSceneFromObject:function(t,e){var i=new u(e),s=i.sys.settings.key;""!==s?t=s:i.sys.settings.key=t,i.sys.init(this.game);for(var n=["init","preload","create","update","render"],r=0;r<n.length;r++){var o=a(e,n[r],null);o&&(i[n[r]]=o)}if(e.hasOwnProperty("extend"))for(var h in e.extend)if(e.extend.hasOwnProperty(h)){var l=e.extend[h];"data"===h&&i.hasOwnProperty("data")&&"object"==typeof l?i.data.merge(l):"sys"!==h&&(i[h]=l)}return i},getKey:function(t,e){if(t||(t="default"),"function"==typeof e)return t;if(e instanceof u?t=e.sys.settings.key:"object"==typeof e&&e.hasOwnProperty("key")&&(t=e.key),this.keys.hasOwnProperty(t))throw new Error("Cannot add Scene with duplicate key: "+t);return t},getScenes:function(t,e){void 0===t&&(t=!0),void 0===e&&(e=!1);for(var i=[],s=this.scenes,n=0;n<s.length;n++){var r=s[n];r&&(!t||t&&r.sys.isActive())&&i.push(r)}return e?i.reverse():i},getScene:function(t){if("string"==typeof t){if(this.keys[t])return this.keys[t]}else for(var e=0;e<this.scenes.length;e++)if(t===this.scenes[e])return t;return null},isActive:function(t){var e=this.getScene(t);return e?e.sys.isActive():null},isPaused:function(t){var e=this.getScene(t);return e?e.sys.isPaused():null},isVisible:function(t){var e=this.getScene(t);return e?e.sys.isVisible():null},isSleeping:function(t){var e=this.getScene(t);return e?e.sys.isSleeping():null},pause:function(t,e){var i=this.getScene(t);return i&&i.sys.pause(e),this},resume:function(t,e){var i=this.getScene(t);return i&&i.sys.resume(e),this},sleep:function(t,e){var i=this.getScene(t);return i&&!i.sys.isTransitioning()&&i.sys.sleep(e),this},wake:function(t,e){var i=this.getScene(t);return i&&i.sys.wake(e),this},run:function(t,e){var i=this.getScene(t);if(!i){for(var s=0;s<this._pending.length;s++)if(this._pending[s].key===t){this.queueOp("start",t,e);break}return this}i.sys.isSleeping()?i.sys.wake(e):i.sys.isPaused()?i.sys.resume(e):this.start(t,e)},start:function(t,e){if(!this.isBooted)return this._data[t]={autoStart:!0,data:e},this;var i=this.getScene(t);if(!i)return this;var s,r=i.sys,o=r.settings.status;if(o>=n.START&&o<=n.CREATING)return this;if(o>=n.RUNNING&&o<=n.SLEEPING)r.shutdown(),r.sceneUpdate=l,r.start(e);else if(r.sceneUpdate=l,r.start(e),r.load&&(s=r.load),s&&r.settings.hasOwnProperty("pack")&&(s.reset(),s.addPack({payload:r.settings.pack})))return r.settings.status=n.LOADING,s.once(h.COMPLETE,this.payloadComplete,this),s.start(),this;return this.bootScene(i),this},stop:function(t,e){var i=this.getScene(t);if(i&&!i.sys.isTransitioning()&&i.sys.settings.status!==n.SHUTDOWN){var s=i.sys.load;s&&(s.off(h.COMPLETE,this.loadComplete,this),s.off(h.COMPLETE,this.payloadComplete,this)),i.sys.shutdown(e)}return this},switch:function(t,e,i){var s=this.getScene(t),n=this.getScene(e);return s&&n&&s!==n&&(this.sleep(t),this.isSleeping(e)?this.wake(e,i):this.start(e,i)),this},getAt:function(t){return this.scenes[t]},getIndex:function(t){var e=this.getScene(t);return this.scenes.indexOf(e)},bringToTop:function(t){if(this.isProcessing)return this.queueOp("bringToTop",t);var e=this.getIndex(t),i=this.scenes;if(-1!==e&&e<i.length){var s=this.getScene(t);i.splice(e,1),i.push(s)}return this},sendToBack:function(t){if(this.isProcessing)return this.queueOp("sendToBack",t);var e=this.getIndex(t);if(-1!==e&&e>0){var i=this.getScene(t);this.scenes.splice(e,1),this.scenes.unshift(i)}return this},moveDown:function(t){if(this.isProcessing)return this.queueOp("moveDown",t);var e=this.getIndex(t);if(e>0){var i=e-1,s=this.getScene(t),n=this.getAt(i);this.scenes[e]=n,this.scenes[i]=s}return this},moveUp:function(t){if(this.isProcessing)return this.queueOp("moveUp",t);var e=this.getIndex(t);if(e<this.scenes.length-1){var i=e+1,s=this.getScene(t),n=this.getAt(i);this.scenes[e]=n,this.scenes[i]=s}return this},moveAbove:function(t,e){if(t===e)return this;if(this.isProcessing)return this.queueOp("moveAbove",t,e);var i=this.getIndex(t),s=this.getIndex(e);if(-1!==i&&-1!==s&&s<i){var n=this.getAt(s);this.scenes.splice(s,1),this.scenes.splice(i+(s>i),0,n)}return this},moveBelow:function(t,e){if(t===e)return this;if(this.isProcessing)return this.queueOp("moveBelow",t,e);var i=this.getIndex(t),s=this.getIndex(e);if(-1!==i&&-1!==s&&s>i){var n=this.getAt(s);this.scenes.splice(s,1),0===i?this.scenes.unshift(n):this.scenes.splice(i-(s<i),0,n)}return this},queueOp:function(t,e,i,s){return this._queue.push({op:t,keyA:e,keyB:i,data:s}),this},swapPosition:function(t,e){if(t===e)return this;if(this.isProcessing)return this.queueOp("swapPosition",t,e);var i=this.getIndex(t),s=this.getIndex(e);if(i!==s&&-1!==i&&-1!==s){var n=this.getAt(i);this.scenes[i]=this.scenes[s],this.scenes[s]=n}return this},dump:function(){for(var t=[],e=["pending","init","start","loading","creating","running","paused","sleeping","shutdown","destroyed"],i=0;i<this.scenes.length;i++){var s=this.scenes[i].sys,r=!s.settings.visible||s.settings.status!==n.RUNNING&&s.settings.status!==n.PAUSED?"[-] ":"[*] ";r+=s.settings.key+" ("+e[s.settings.status]+")",t.push(r)}},destroy:function(){for(var t=0;t<this.scenes.length;t++)this.scenes[t].sys.destroy();this.systemScene.sys.destroy(),this.update=l,this.scenes=[],this._pending=[],this._start=[],this._queue=[],this.game=null,this.systemScene=null}});t.exports=d},52209:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(45319),n=i(83419),r=i(44594),o=i(95540),a=i(37277),h=new n({initialize:function(t){this.scene=t,this.systems=t.sys,this.settings=t.sys.settings,this.key=t.sys.settings.key,this.manager=t.sys.game.scene,this.transitionProgress=0,this._elapsed=0,this._target=null,this._duration=0,this._onUpdate,this._onUpdateScope,this._willSleep=!1,this._willRemove=!1,t.sys.events.once(r.BOOT,this.boot,this),t.sys.events.on(r.START,this.pluginStart,this)},boot:function(){this.systems.events.once(r.DESTROY,this.destroy,this)},pluginStart:function(){this._target=null,this.systems.events.once(r.SHUTDOWN,this.shutdown,this)},start:function(t,e){return void 0===t&&(t=this.key),this.manager.queueOp("stop",this.key),this.manager.queueOp("start",t,e),this},restart:function(t){var e=this.key;return this.manager.queueOp("stop",e),this.manager.queueOp("start",e,t),this},transition:function(t){void 0===t&&(t={});var e=o(t,"target",!1),i=this.manager.getScene(e);if(!e||!this.checkValidTransition(i))return!1;var s=o(t,"duration",1e3);this._elapsed=0,this._target=i,this._duration=s,this._willSleep=o(t,"sleep",!1),this._willRemove=o(t,"remove",!1);var n=o(t,"onUpdate",null);n&&(this._onUpdate=n,this._onUpdateScope=o(t,"onUpdateScope",this.scene));var a=o(t,"allowInput",!1);this.settings.transitionAllowInput=a;var h=i.sys.settings;h.isTransition=!0,h.transitionFrom=this.scene,h.transitionDuration=s,h.transitionAllowInput=a,o(t,"moveAbove",!1)?this.manager.moveAbove(this.key,e):o(t,"moveBelow",!1)&&this.manager.moveBelow(this.key,e),i.sys.isSleeping()?i.sys.wake(o(t,"data")):this.manager.start(e,o(t,"data"));var l=o(t,"onStart",null),u=o(t,"onStartScope",this.scene);return l&&l.call(u,this.scene,i,s),this.systems.events.emit(r.TRANSITION_OUT,i,s),!0},checkValidTransition:function(t){return!(!t||t.sys.isActive()||t.sys.isTransitioning()||t===this.scene||this.systems.isTransitioning())},step:function(t,e){this._elapsed+=e,this.transitionProgress=s(this._elapsed/this._duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.transitionProgress),this._elapsed>=this._duration&&this.transitionComplete()},transitionComplete:function(){var t=this._target.sys,e=this._target.sys.settings;t.events.emit(r.TRANSITION_COMPLETE,this.scene),e.isTransition=!1,e.transitionFrom=null,this._duration=0,this._target=null,this._onUpdate=null,this._onUpdateScope=null,this._willRemove?this.manager.remove(this.key):this._willSleep?this.systems.sleep():this.manager.stop(this.key)},add:function(t,e,i,s){return this.manager.add(t,e,i,s)},launch:function(t,e){return t&&t!==this.key&&this.manager.queueOp("start",t,e),this},run:function(t,e){return t&&t!==this.key&&this.manager.queueOp("run",t,e),this},pause:function(t,e){return void 0===t&&(t=this.key),this.manager.queueOp("pause",t,e),this},resume:function(t,e){return void 0===t&&(t=this.key),this.manager.queueOp("resume",t,e),this},sleep:function(t,e){return void 0===t&&(t=this.key),this.manager.queueOp("sleep",t,e),this},wake:function(t,e){return void 0===t&&(t=this.key),this.manager.queueOp("wake",t,e),this},switch:function(t,e){return t!==this.key&&this.manager.queueOp("switch",this.key,t,e),this},stop:function(t,e){return void 0===t&&(t=this.key),this.manager.queueOp("stop",t,e),this},setActive:function(t,e,i){void 0===e&&(e=this.key);var s=this.manager.getScene(e);return s&&s.sys.setActive(t,i),this},setVisible:function(t,e){void 0===e&&(e=this.key);var i=this.manager.getScene(e);return i&&i.sys.setVisible(t),this},isSleeping:function(t){return void 0===t&&(t=this.key),this.manager.isSleeping(t)},isActive:function(t){return void 0===t&&(t=this.key),this.manager.isActive(t)},isPaused:function(t){return void 0===t&&(t=this.key),this.manager.isPaused(t)},isVisible:function(t){return void 0===t&&(t=this.key),this.manager.isVisible(t)},swapPosition:function(t,e){return void 0===e&&(e=this.key),t!==e&&this.manager.swapPosition(t,e),this},moveAbove:function(t,e){return void 0===e&&(e=this.key),t!==e&&this.manager.moveAbove(t,e),this},moveBelow:function(t,e){return void 0===e&&(e=this.key),t!==e&&this.manager.moveBelow(t,e),this},remove:function(t){return void 0===t&&(t=this.key),this.manager.remove(t),this},moveUp:function(t){return void 0===t&&(t=this.key),this.manager.moveUp(t),this},moveDown:function(t){return void 0===t&&(t=this.key),this.manager.moveDown(t),this},bringToTop:function(t){return void 0===t&&(t=this.key),this.manager.bringToTop(t),this},sendToBack:function(t){return void 0===t&&(t=this.key),this.manager.sendToBack(t),this},get:function(t){return this.manager.getScene(t)},getStatus:function(t){var e=this.manager.getScene(t);if(e)return e.sys.getStatus()},getIndex:function(t){return void 0===t&&(t=this.key),this.manager.getIndex(t)},shutdown:function(){var t=this.systems.events;t.off(r.SHUTDOWN,this.shutdown,this),t.off(r.TRANSITION_OUT)},destroy:function(){this.shutdown(),this.scene.sys.events.off(r.START,this.start,this),this.scene=null,this.systems=null,this.settings=null,this.manager=null}});a.register("ScenePlugin",h,"scenePlugin"),t.exports=h},55681:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(89993),n=i(35154),r=i(46975),o=i(87033),a={create:function(t){return"string"==typeof t?t={key:t}:void 0===t&&(t={}),{status:s.PENDING,key:n(t,"key",""),active:n(t,"active",!1),visible:n(t,"visible",!0),isBooted:!1,isTransition:!1,transitionFrom:null,transitionDuration:0,transitionAllowInput:!0,data:{},pack:n(t,"pack",!1),cameras:n(t,"cameras",null),map:n(t,"map",r(o,n(t,"mapAdd",{}))),physics:n(t,"physics",{}),loader:n(t,"loader",{}),plugins:n(t,"plugins",!1),input:n(t,"input",{})}}};t.exports=a},2368:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(83419),n=i(89993),r=i(42363),o=i(44594),a=i(27397),h=i(52106),l=i(29747),u=i(55681),c=new s({initialize:function(t,e){this.scene=t,this.game,this.renderer,this.config=e,this.settings=u.create(e),this.canvas,this.context,this.anims,this.cache,this.plugins,this.registry,this.scale,this.sound,this.textures,this.add,this.cameras,this.displayList,this.events,this.make,this.scenePlugin,this.updateList,this.sceneUpdate=l},init:function(t){this.settings.status=n.INIT,this.sceneUpdate=l,this.game=t,this.renderer=t.renderer,this.canvas=t.canvas,this.context=t.context;var e=t.plugins;this.plugins=e,e.addToScene(this,r.Global,[r.CoreScene,h(this),a(this)]),this.events.emit(o.BOOT,this),this.settings.isBooted=!0},step:function(t,e){var i=this.events;i.emit(o.PRE_UPDATE,t,e),i.emit(o.UPDATE,t,e),this.sceneUpdate.call(this.scene,t,e),i.emit(o.POST_UPDATE,t,e)},render:function(t){var e=this.displayList;e.depthSort(),this.events.emit(o.PRE_RENDER,t),this.cameras.render(t,e),this.events.emit(o.RENDER,t)},queueDepthSort:function(){this.displayList.queueDepthSort()},depthSort:function(){this.displayList.depthSort()},pause:function(t){var e=this.settings,i=this.getStatus();return i!==n.CREATING&&i!==n.RUNNING||this.settings.active&&(e.status=n.PAUSED,e.active=!1,this.events.emit(o.PAUSE,this,t)),this},resume:function(t){var e=this.events,i=this.settings;return this.settings.active||(i.status=n.RUNNING,i.active=!0,e.emit(o.RESUME,this,t)),this},sleep:function(t){var e=this.settings,i=this.getStatus();return i!==n.CREATING&&i!==n.RUNNING||(e.status=n.SLEEPING,e.active=!1,e.visible=!1,this.events.emit(o.SLEEP,this,t)),this},wake:function(t){var e=this.events,i=this.settings;return i.status=n.RUNNING,i.active=!0,i.visible=!0,e.emit(o.WAKE,this,t),i.isTransition&&e.emit(o.TRANSITION_WAKE,i.transitionFrom,i.transitionDuration),this},getData:function(){return this.settings.data},getStatus:function(){return this.settings.status},canInput:function(){var t=this.settings.status;return t>n.PENDING&&t<=n.RUNNING},isSleeping:function(){return this.settings.status===n.SLEEPING},isActive:function(){return this.settings.status===n.RUNNING},isPaused:function(){return this.settings.status===n.PAUSED},isTransitioning:function(){return this.settings.isTransition||null!==this.scenePlugin._target},isTransitionOut:function(){return null!==this.scenePlugin._target&&this.scenePlugin._duration>0},isTransitionIn:function(){return this.settings.isTransition},isVisible:function(){return this.settings.visible},setVisible:function(t){return this.settings.visible=t,this},setActive:function(t,e){return t?this.resume(e):this.pause(e)},start:function(t){var e=this.events,i=this.settings;t&&(i.data=t),i.status=n.START,i.active=!0,i.visible=!0,e.emit(o.START,this),e.emit(o.READY,this,t)},shutdown:function(t){var e=this.events,i=this.settings;e.off(o.TRANSITION_INIT),e.off(o.TRANSITION_START),e.off(o.TRANSITION_COMPLETE),e.off(o.TRANSITION_OUT),i.status=n.SHUTDOWN,i.active=!1,i.visible=!1,e.emit(o.SHUTDOWN,this,t)},destroy:function(){var t=this.events,e=this.settings;e.status=n.DESTROYED,e.active=!1,e.visible=!1,t.emit(o.DESTROY,this),t.removeAllListeners();for(var i=["scene","game","anims","cache","plugins","registry","sound","textures","add","camera","displayList","events","make","scenePlugin","updateList"],s=0;s<i.length;s++)this[i[s]]=null}});t.exports=c},89993:t=>{t.exports={PENDING:0,INIT:1,START:2,LOADING:3,CREATING:4,RUNNING:5,PAUSED:6,SLEEPING:7,SHUTDOWN:8,DESTROYED:9}},69830:t=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports="addedtoscene"},7919:t=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports="boot"},46763:t=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports="create"},11763:t=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports="destroy"},71555:t=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports="pause"},36735:t=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports="postupdate"},3809:t=>{
/**
                     * @author       samme
                     * @copyright    2021 Photon Storm Ltd.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports="prerender"},90716:t=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports="preupdate"},58262:t=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports="ready"},91633:t=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports="removedfromscene"},10319:t=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports="render"},87132:t=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports="resume"},81961:t=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports="shutdown"},90194:t=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports="sleep"},6265:t=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports="start"},33178:t=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports="transitioncomplete"},43063:t=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports="transitioninit"},11259:t=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports="transitionout"},61611:t=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports="transitionstart"},45209:t=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports="transitionwake"},22966:t=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports="update"},21747:t=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports="wake"},44594:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports={ADDED_TO_SCENE:i(69830),BOOT:i(7919),CREATE:i(46763),DESTROY:i(11763),PAUSE:i(71555),POST_UPDATE:i(36735),PRE_RENDER:i(3809),PRE_UPDATE:i(90716),READY:i(58262),REMOVED_FROM_SCENE:i(91633),RENDER:i(10319),RESUME:i(87132),SHUTDOWN:i(81961),SLEEP:i(90194),START:i(6265),TRANSITION_COMPLETE:i(33178),TRANSITION_INIT:i(43063),TRANSITION_OUT:i(11259),TRANSITION_START:i(61611),TRANSITION_WAKE:i(45209),UPDATE:i(22966),WAKE:i(21747)}},62194:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(89993),n=i(79291),r={Events:i(44594),GetPhysicsPlugins:i(27397),GetScenePlugins:i(52106),SceneManager:i(60903),ScenePlugin:i(52209),Settings:i(55681),Systems:i(2368)};r=n(!1,r,s),t.exports=r},30341:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(83419),n=i(50792),r=i(14463),o=i(79291),a=i(29747),h=new s({Extends:n,initialize:function(t,e,i){n.call(this),this.manager=t,this.key=e,this.isPlaying=!1,this.isPaused=!1,this.totalRate=1,this.duration=this.duration||0,this.totalDuration=this.totalDuration||0,this.config={mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0,pan:0},this.currentConfig=this.config,this.config=o(this.config,i),this.markers={},this.currentMarker=null,this.pendingRemove=!1},addMarker:function(t){return!(!t||!t.name||"string"!=typeof t.name||this.markers[t.name]||(t=o(!0,{name:"",start:0,duration:this.totalDuration-(t.start||0),config:{mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0,pan:0}},t),this.markers[t.name]=t,0))},updateMarker:function(t){return!(!t||!t.name||"string"!=typeof t.name||!this.markers[t.name]||(this.markers[t.name]=o(!0,this.markers[t.name],t),0))},removeMarker:function(t){var e=this.markers[t];return e?(this.markers[t]=null,e):null},play:function(t,e){if(void 0===t&&(t=""),"object"==typeof t&&(e=t,t=""),"string"!=typeof t)return!1;if(t){if(!this.markers[t])return!1;this.currentMarker=this.markers[t],this.currentConfig=this.currentMarker.config,this.duration=this.currentMarker.duration}else this.currentMarker=null,this.currentConfig=this.config,this.duration=this.totalDuration;return this.resetConfig(),this.currentConfig=o(this.currentConfig,e),this.isPlaying=!0,this.isPaused=!1,!0},pause:function(){return!(this.isPaused||!this.isPlaying||(this.isPlaying=!1,this.isPaused=!0,0))},resume:function(){return!(!this.isPaused||this.isPlaying||(this.isPlaying=!0,this.isPaused=!1,0))},stop:function(){return!(!this.isPaused&&!this.isPlaying||(this.isPlaying=!1,this.isPaused=!1,this.resetConfig(),0))},applyConfig:function(){this.mute=this.currentConfig.mute,this.volume=this.currentConfig.volume,this.rate=this.currentConfig.rate,this.detune=this.currentConfig.detune,this.loop=this.currentConfig.loop,this.pan=this.currentConfig.pan},resetConfig:function(){this.currentConfig.seek=0,this.currentConfig.delay=0},update:a,calculateRate:function(){var t=this.currentConfig.detune+this.manager.detune,e=Math.pow(1.0005777895065548,t);this.totalRate=this.currentConfig.rate*this.manager.rate*e},destroy:function(){this.pendingRemove||(this.stop(),this.emit(r.DESTROY,this),this.removeAllListeners(),this.pendingRemove=!0,this.manager=null,this.config=null,this.currentConfig=null,this.markers=null,this.currentMarker=null)}});t.exports=h},85034:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(83419),n=i(41786),r=i(50792),o=i(14463),a=i(8443),h=i(46710),l=i(58731),u=i(29747),c=i(26099),d=new s({Extends:r,initialize:function(t){r.call(this),this.game=t,this.jsonCache=t.cache.json,this.sounds=[],this.mute=!1,this.volume=1,this.pauseOnBlur=!0,this._rate=1,this._detune=0,this.locked=this.locked||!1,this.unlocked=!1,this.gameLostFocus=!1,this.listenerPosition=new c;var e=t.events;e.on(a.BLUR,this.onGameBlur,this),e.on(a.FOCUS,this.onGameFocus,this),e.on(a.PRE_STEP,this.update,this),e.once(a.DESTROY,this.destroy,this)},add:u,addAudioSprite:function(t,e){void 0===e&&(e={});var i=this.add(t,e);for(var s in i.spritemap=this.jsonCache.get(t).spritemap,i.spritemap)if(i.spritemap.hasOwnProperty(s)){var r=n(e),o=i.spritemap[s];r.loop=!!o.hasOwnProperty("loop")&&o.loop,i.addMarker({name:s,start:o.start,duration:o.end-o.start,config:r})}return i},get:function(t){return l(this.sounds,"key",t)},getAll:function(t){return t?h(this.sounds,"key",t):h(this.sounds)},getAllPlaying:function(){return h(this.sounds,"isPlaying",!0)},play:function(t,e){var i=this.add(t);return i.once(o.COMPLETE,i.destroy,i),e?e.name?(i.addMarker(e),i.play(e.name)):i.play(e):i.play()},playAudioSprite:function(t,e,i){var s=this.addAudioSprite(t);return s.once(o.COMPLETE,s.destroy,s),s.play(e,i)},remove:function(t){var e=this.sounds.indexOf(t);return-1!==e&&(t.destroy(),this.sounds.splice(e,1),!0)},removeAll:function(){this.sounds.forEach(function(t){t.destroy()}),this.sounds.length=0},removeByKey:function(t){for(var e=0,i=this.sounds.length-1;i>=0;i--){var s=this.sounds[i];s.key===t&&(s.destroy(),this.sounds.splice(i,1),e++)}return e},pauseAll:function(){this.forEachActiveSound(function(t){t.pause()}),this.emit(o.PAUSE_ALL,this)},resumeAll:function(){this.forEachActiveSound(function(t){t.resume()}),this.emit(o.RESUME_ALL,this)},setListenerPosition:u,stopAll:function(){this.forEachActiveSound(function(t){t.stop()}),this.emit(o.STOP_ALL,this)},stopByKey:function(t){var e=0;return this.getAll(t).forEach(function(t){t.stop()&&e++}),e},isPlaying:function(t){var e,i=this.sounds.length-1;if(void 0===t){for(;i>=0;i--)if((e=this.sounds[i]).isPlaying)return!0}else for(;i>=0;i--)if((e=this.sounds[i]).key===t&&e.isPlaying)return!0;return!1},unlock:u,onBlur:u,onFocus:u,onGameBlur:function(){this.gameLostFocus=!0,this.pauseOnBlur&&this.onBlur()},onGameFocus:function(){this.gameLostFocus=!1,this.pauseOnBlur&&this.onFocus()},update:function(t,e){this.unlocked&&(this.unlocked=!1,this.locked=!1,this.emit(o.UNLOCKED,this));for(var i=this.sounds.length-1;i>=0;i--)this.sounds[i].pendingRemove&&this.sounds.splice(i,1);this.sounds.forEach(function(i){i.update(t,e)})},destroy:function(){this.game.events.off(a.BLUR,this.onGameBlur,this),this.game.events.off(a.FOCUS,this.onGameFocus,this),this.game.events.off(a.PRE_STEP,this.update,this),this.removeAllListeners(),this.removeAll(),this.sounds.length=0,this.sounds=null,this.listenerPosition=null,this.game=null},forEachActiveSound:function(t,e){var i=this;this.sounds.forEach(function(s,n){s&&!s.pendingRemove&&t.call(e||i,s,n,i.sounds)})},setRate:function(t){return this.rate=t,this},rate:{get:function(){return this._rate},set:function(t){this._rate=t,this.forEachActiveSound(function(t){t.calculateRate()}),this.emit(o.GLOBAL_RATE,this,t)}},setDetune:function(t){return this.detune=t,this},detune:{get:function(){return this._detune},set:function(t){this._detune=t,this.forEachActiveSound(function(t){t.calculateRate()}),this.emit(o.GLOBAL_DETUNE,this,t)}}});t.exports=d},14747:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(33684),n=i(25960),r=i(57490),o={create:function(t){var e=t.config.audio,i=t.device.audio;return e.noAudio||!i.webAudio&&!i.audioData?new n(t):i.webAudio&&!e.disableWebAudio?new r(t):new s(t)}};t.exports=o},19723:t=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports="complete"},98882:t=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports="decodedall"},57506:t=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports="decoded"},73146:t=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports="destroy"},11305:t=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports="detune"},40577:t=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports="detune"},30333:t=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports="mute"},20394:t=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports="rate"},21802:t=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports="volume"},1299:t=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports="looped"},99190:t=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports="loop"},97125:t=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports="mute"},89259:t=>{
/**
                     * @author       pi-kei
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports="pan"},79986:t=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports="pauseall"},17586:t=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports="pause"},19618:t=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports="play"},42306:t=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports="rate"},10387:t=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports="resumeall"},48959:t=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports="resume"},9960:t=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports="seek"},19180:t=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports="stopall"},98328:t=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports="stop"},50401:t=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports="unlocked"},52498:t=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports="volume"},14463:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports={COMPLETE:i(19723),DECODED:i(57506),DECODED_ALL:i(98882),DESTROY:i(73146),DETUNE:i(11305),GLOBAL_DETUNE:i(40577),GLOBAL_MUTE:i(30333),GLOBAL_RATE:i(20394),GLOBAL_VOLUME:i(21802),LOOP:i(99190),LOOPED:i(1299),MUTE:i(97125),PAN:i(89259),PAUSE_ALL:i(79986),PAUSE:i(17586),PLAY:i(19618),RATE:i(42306),RESUME_ALL:i(10387),RESUME:i(48959),SEEK:i(9960),STOP_ALL:i(19180),STOP:i(98328),UNLOCKED:i(50401),VOLUME:i(52498)}},64895:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(30341),n=i(83419),r=i(14463),o=i(45319),a=new n({Extends:s,initialize:function(t,e,i){if(void 0===i&&(i={}),this.tags=t.game.cache.audio.get(e),!this.tags)throw new Error('No cached audio asset with key "'+e);this.audio=null,this.startTime=0,this.previousTime=0,this.duration=this.tags[0].duration,this.totalDuration=this.tags[0].duration,s.call(this,t,e,i)},play:function(t,e){return!(this.manager.isLocked(this,"play",[t,e])||!s.prototype.play.call(this,t,e)||!this.pickAndPlayAudioTag()||(this.emit(r.PLAY,this),0))},pause:function(){return!(this.manager.isLocked(this,"pause")||this.startTime>0||!s.prototype.pause.call(this)||(this.currentConfig.seek=this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0),this.stopAndReleaseAudioTag(),this.emit(r.PAUSE,this),0))},resume:function(){return!(this.manager.isLocked(this,"resume")||this.startTime>0||!s.prototype.resume.call(this)||!this.pickAndPlayAudioTag()||(this.emit(r.RESUME,this),0))},stop:function(){return!this.manager.isLocked(this,"stop")&&!!s.prototype.stop.call(this)&&(this.stopAndReleaseAudioTag(),this.emit(r.STOP,this),!0)},pickAndPlayAudioTag:function(){if(!this.pickAudioTag())return this.reset(),!1;var t=this.currentConfig.seek,e=this.currentConfig.delay,i=(this.currentMarker?this.currentMarker.start:0)+t;return this.previousTime=i,this.audio.currentTime=i,this.applyConfig(),0===e?(this.startTime=0,this.audio.paused&&this.playCatchPromise()):(this.startTime=window.performance.now()+1e3*e,this.audio.paused||this.audio.pause()),this.resetConfig(),!0},pickAudioTag:function(){if(this.audio)return!0;for(var t=0;t<this.tags.length;t++){var e=this.tags[t];if("false"===e.dataset.used)return e.dataset.used="true",this.audio=e,!0}if(!this.manager.override)return!1;var i=[];this.manager.forEachActiveSound(function(t){t.key===this.key&&t.audio&&i.push(t)},this),i.sort(function(t,e){return t.loop===e.loop?e.seek/e.duration-t.seek/t.duration:t.loop?1:-1});var s=i[0];return this.audio=s.audio,s.reset(),s.audio=null,s.startTime=0,s.previousTime=0,!0},playCatchPromise:function(){var t=this.audio.play();t&&t.catch(function(t){})},stopAndReleaseAudioTag:function(){this.startTime=0,this.previousTime=0,this.audio&&(this.audio.pause(),this.audio.dataset.used="false",this.audio=null)},reset:function(){s.prototype.stop.call(this)},onBlur:function(){this.isPlaying=!1,this.isPaused=!0,this.currentConfig.seek=this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0),this.currentConfig.delay=Math.max(0,(this.startTime-window.performance.now())/1e3),this.stopAndReleaseAudioTag()},onFocus:function(){this.isPlaying=!0,this.isPaused=!1,this.pickAndPlayAudioTag()},update:function(t){if(this.isPlaying)if(this.startTime>0)this.startTime<t-this.manager.audioPlayDelay&&(this.audio.currentTime+=Math.max(0,t-this.startTime)/1e3,this.startTime=0,this.previousTime=this.audio.currentTime,this.playCatchPromise());else{var e=this.currentMarker?this.currentMarker.start:0,i=e+this.duration,s=this.audio.currentTime;if(this.currentConfig.loop)s>=i-this.manager.loopEndOffset?(this.audio.currentTime=e+Math.max(0,s-i),s=this.audio.currentTime):s<e&&(this.audio.currentTime+=e,s=this.audio.currentTime),s<this.previousTime&&this.emit(r.LOOPED,this);else if(s>=i)return this.reset(),this.stopAndReleaseAudioTag(),void this.emit(r.COMPLETE,this);this.previousTime=s}},destroy:function(){s.prototype.destroy.call(this),this.tags=null,this.audio&&this.stopAndReleaseAudioTag()},updateMute:function(){this.audio&&(this.audio.muted=this.currentConfig.mute||this.manager.mute)},updateVolume:function(){this.audio&&(this.audio.volume=o(this.currentConfig.volume*this.manager.volume,0,1))},calculateRate:function(){s.prototype.calculateRate.call(this),this.audio&&(this.audio.playbackRate=this.totalRate)},mute:{get:function(){return this.currentConfig.mute},set:function(t){this.currentConfig.mute=t,this.manager.isLocked(this,"mute",t)||(this.updateMute(),this.emit(r.MUTE,this,t))}},setMute:function(t){return this.mute=t,this},volume:{get:function(){return this.currentConfig.volume},set:function(t){this.currentConfig.volume=t,this.manager.isLocked(this,"volume",t)||(this.updateVolume(),this.emit(r.VOLUME,this,t))}},setVolume:function(t){return this.volume=t,this},rate:{get:function(){return this.currentConfig.rate},set:function(t){this.currentConfig.rate=t,this.manager.isLocked(this,r.RATE,t)||(this.calculateRate(),this.emit(r.RATE,this,t))}},setRate:function(t){return this.rate=t,this},detune:{get:function(){return this.currentConfig.detune},set:function(t){this.currentConfig.detune=t,this.manager.isLocked(this,r.DETUNE,t)||(this.calculateRate(),this.emit(r.DETUNE,this,t))}},setDetune:function(t){return this.detune=t,this},seek:{get:function(){return this.isPlaying?this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0):this.isPaused?this.currentConfig.seek:0},set:function(t){this.manager.isLocked(this,"seek",t)||this.startTime>0||(this.isPlaying||this.isPaused)&&(t=Math.min(Math.max(0,t),this.duration),this.isPlaying?(this.previousTime=t,this.audio.currentTime=t):this.isPaused&&(this.currentConfig.seek=t),this.emit(r.SEEK,this,t))}},setSeek:function(t){return this.seek=t,this},loop:{get:function(){return this.currentConfig.loop},set:function(t){this.currentConfig.loop=t,this.manager.isLocked(this,"loop",t)||(this.audio&&(this.audio.loop=t),this.emit(r.LOOP,this,t))}},setLoop:function(t){return this.loop=t,this},pan:{get:function(){return this.currentConfig.pan},set:function(t){this.currentConfig.pan=t,this.emit(r.PAN,this,t)}},setPan:function(t){return this.pan=t,this}});t.exports=a},33684:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(85034),n=i(83419),r=i(14463),o=i(64895),a=new n({Extends:s,initialize:function(t){this.override=!0,this.audioPlayDelay=.1,this.loopEndOffset=.05,this.onBlurPausedSounds=[],this.locked="ontouchstart"in window,this.lockedActionsQueue=this.locked?[]:null,this._mute=!1,this._volume=1,s.call(this,t)},add:function(t,e){var i=new o(this,t,e);return this.sounds.push(i),i},unlock:function(){this.locked=!1;var t=this;if(this.game.cache.audio.entries.each(function(e,i){for(var s=0;s<i.length;s++)if("true"===i[s].dataset.locked)return t.locked=!0,!1;return!0}),this.locked){var e=!1,i=function(){e=!0},s=function(){if(e)e=!1;else{document.body.removeEventListener("touchmove",i),document.body.removeEventListener("touchend",s);var n=[];if(t.game.cache.audio.entries.each(function(t,e){for(var i=0;i<e.length;i++){var s=e[i];"true"===s.dataset.locked&&n.push(s)}return!0}),0!==n.length){var r=n[n.length-1];r.oncanplaythrough=function(){r.oncanplaythrough=null,n.forEach(function(t){t.dataset.locked="false"}),t.unlocked=!0},n.forEach(function(t){t.load()})}}};this.once(r.UNLOCKED,function(){for(this.forEachActiveSound(function(t){null===t.currentMarker&&0===t.duration&&(t.duration=t.tags[0].duration),t.totalDuration=t.tags[0].duration});this.lockedActionsQueue.length;){var t=this.lockedActionsQueue.shift();t.sound[t.prop].apply?t.sound[t.prop].apply(t.sound,t.value||[]):t.sound[t.prop]=t.value}},this),document.body.addEventListener("touchmove",i,!1),document.body.addEventListener("touchend",s,!1)}},onBlur:function(){this.forEachActiveSound(function(t){t.isPlaying&&(this.onBlurPausedSounds.push(t),t.onBlur())})},onFocus:function(){this.onBlurPausedSounds.forEach(function(t){t.onFocus()}),this.onBlurPausedSounds.length=0},destroy:function(){s.prototype.destroy.call(this),this.onBlurPausedSounds.length=0,this.onBlurPausedSounds=null},isLocked:function(t,e,i){return"true"===t.tags[0].dataset.locked&&(this.lockedActionsQueue.push({sound:t,prop:e,value:i}),!0)},setMute:function(t){return this.mute=t,this},mute:{get:function(){return this._mute},set:function(t){this._mute=t,this.forEachActiveSound(function(t){t.updateMute()}),this.emit(r.GLOBAL_MUTE,this,t)}},setVolume:function(t){return this.volume=t,this},volume:{get:function(){return this._volume},set:function(t){this._volume=t,this.forEachActiveSound(function(t){t.updateVolume()}),this.emit(r.GLOBAL_VOLUME,this,t)}}});t.exports=a},23717:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports={SoundManagerCreator:i(14747),Events:i(14463),BaseSound:i(30341),BaseSoundManager:i(85034),WebAudioSound:i(71741),WebAudioSoundManager:i(57490),HTML5AudioSound:i(64895),HTML5AudioSoundManager:i(33684),NoAudioSound:i(4603),NoAudioSoundManager:i(25960)}},4603:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(30341),n=i(83419),r=i(50792),o=i(79291),a=i(29747),h=function(){return!1},l=function(){return null},u=function(){return this},c=new n({Extends:r,initialize:function(t,e,i){void 0===i&&(i={}),r.call(this),this.manager=t,this.key=e,this.isPlaying=!1,this.isPaused=!1,this.totalRate=1,this.duration=0,this.totalDuration=0,this.config=o({mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0,pan:0},i),this.currentConfig=this.config,this.mute=!1,this.volume=1,this.rate=1,this.detune=0,this.seek=0,this.loop=!1,this.pan=0,this.markers={},this.currentMarker=null,this.pendingRemove=!1},addMarker:h,updateMarker:h,removeMarker:l,play:h,pause:h,resume:h,stop:h,setMute:u,setVolume:u,setRate:u,setDetune:u,setSeek:u,setLoop:u,setPan:u,applyConfig:l,resetConfig:l,update:a,calculateRate:l,destroy:function(){s.prototype.destroy.call(this)}});t.exports=c},25960:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(85034),n=i(83419),r=i(50792),o=i(4603),a=i(29747),h=new n({Extends:r,initialize:function(t){r.call(this),this.game=t,this.sounds=[],this.mute=!1,this.volume=1,this.rate=1,this.detune=0,this.pauseOnBlur=!0,this.locked=!1},add:function(t,e){var i=new o(this,t,e);return this.sounds.push(i),i},addAudioSprite:function(t,e){var i=this.add(t,e);return i.spritemap={},i},get:function(t){return s.prototype.get.call(this,t)},getAll:function(t){return s.prototype.getAll.call(this,t)},play:function(t,e){return!1},playAudioSprite:function(t,e,i){return!1},remove:function(t){return s.prototype.remove.call(this,t)},removeAll:function(){return s.prototype.removeAll.call(this)},removeByKey:function(t){return s.prototype.removeByKey.call(this,t)},stopByKey:function(t){return s.prototype.stopByKey.call(this,t)},onBlur:a,onFocus:a,onGameBlur:a,onGameFocus:a,pauseAll:a,resumeAll:a,stopAll:a,update:a,setRate:a,setDetune:a,setMute:a,setVolume:a,unlock:a,forEachActiveSound:function(t,e){s.prototype.forEachActiveSound.call(this,t,e)},destroy:function(){s.prototype.destroy.call(this)}});t.exports=h},71741:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(30341),n=i(83419),r=i(14463),o=i(95540),a=new n({Extends:s,initialize:function(t,e,i){if(void 0===i&&(i={}),this.audioBuffer=t.game.cache.audio.get(e),!this.audioBuffer)throw new Error('Audio key "'+e+'" not found in cache');this.source=null,this.loopSource=null,this.muteNode=t.context.createGain(),this.volumeNode=t.context.createGain(),this.pannerNode=null,this.spatialNode=null,this.spatialSource=null,this.playTime=0,this.startTime=0,this.loopTime=0,this.rateUpdates=[],this.hasEnded=!1,this.hasLooped=!1,this.muteNode.connect(this.volumeNode),t.context.createPanner&&(this.spatialNode=t.context.createPanner(),this.volumeNode.connect(this.spatialNode)),t.context.createStereoPanner?(this.pannerNode=t.context.createStereoPanner(),t.context.createPanner?this.spatialNode.connect(this.pannerNode):this.volumeNode.connect(this.pannerNode),this.pannerNode.connect(t.destination)):t.context.createPanner?this.spatialNode.connect(t.destination):this.volumeNode.connect(t.destination),this.duration=this.audioBuffer.duration,this.totalDuration=this.audioBuffer.duration,s.call(this,t,e,i)},play:function(t,e){return!!s.prototype.play.call(this,t,e)&&(this.stopAndRemoveBufferSource(),this.createAndStartBufferSource(),this.emit(r.PLAY,this),!0)},pause:function(){return!(this.manager.context.currentTime<this.startTime||!s.prototype.pause.call(this)||(this.currentConfig.seek=this.getCurrentTime(),this.stopAndRemoveBufferSource(),this.emit(r.PAUSE,this),0))},resume:function(){return!(this.manager.context.currentTime<this.startTime||!s.prototype.resume.call(this)||(this.createAndStartBufferSource(),this.emit(r.RESUME,this),0))},stop:function(){return!!s.prototype.stop.call(this)&&(this.stopAndRemoveBufferSource(),this.emit(r.STOP,this),!0)},createAndStartBufferSource:function(){var t=this.currentConfig.seek,e=this.currentConfig.delay,i=this.manager.context.currentTime+e,s=(this.currentMarker?this.currentMarker.start:0)+t,n=this.duration-t;this.playTime=i-t,this.startTime=i,this.source=this.createBufferSource(),this.applyConfig(),this.source.start(Math.max(0,i),Math.max(0,s),Math.max(0,n)),this.resetConfig()},createAndStartLoopBufferSource:function(){var t=this.getLoopTime(),e=this.currentMarker?this.currentMarker.start:0,i=this.duration;this.loopTime=t,this.loopSource=this.createBufferSource(),this.loopSource.playbackRate.setValueAtTime(this.totalRate,0),this.loopSource.start(Math.max(0,t),Math.max(0,e),Math.max(0,i))},createBufferSource:function(){var t=this,e=this.manager.context.createBufferSource();return e.buffer=this.audioBuffer,e.connect(this.muteNode),e.onended=function(e){var i=e.target;i!==t.source&&i!==t.loopSource||(t.currentConfig.loop?t.hasLooped=!0:t.hasEnded=!0)},e},stopAndRemoveBufferSource:function(){if(this.source){var t=this.source;this.source=null,t.stop(),t.disconnect()}this.playTime=0,this.startTime=0,this.hasEnded=!1,this.stopAndRemoveLoopBufferSource()},stopAndRemoveLoopBufferSource:function(){this.loopSource&&(this.loopSource.stop(),this.loopSource.disconnect(),this.loopSource=null),this.loopTime=0},applyConfig:function(){this.rateUpdates.length=0,this.rateUpdates.push({time:0,rate:1});var t=this.currentConfig.source;if(t&&this.manager.context.createPanner){var e=this.spatialNode;e.panningModel=o(t,"panningModel","equalpower"),e.distanceModel=o(t,"distanceModel","inverse"),e.orientationX.value=o(t,"orientationX",0),e.orientationY.value=o(t,"orientationY",0),e.orientationZ.value=o(t,"orientationZ",-1),e.refDistance=o(t,"refDistance",1),e.maxDistance=o(t,"maxDistance",1e4),e.rolloffFactor=o(t,"rolloffFactor",1),e.coneInnerAngle=o(t,"coneInnerAngle",360),e.coneOuterAngle=o(t,"coneOuterAngle",0),e.coneOuterGain=o(t,"coneOuterGain",0),this.spatialSource=o(t,"follow",null),this.spatialSource||(e.positionX.value=o(t,"x",0),e.positionY.value=o(t,"y",0),e.positionZ.value=o(t,"z",0))}s.prototype.applyConfig.call(this)},x:{get:function(){return this.spatialNode?this.spatialNode.positionX:0},set:function(t){this.spatialNode&&(this.spatialNode.positionX.value=t)}},y:{get:function(){return this.spatialNode?this.spatialNode.positionY:0},set:function(t){this.spatialNode&&(this.spatialNode.positionY.value=t)}},update:function(){if(this.isPlaying&&this.spatialSource){var t=o(this.spatialSource,"x",null),e=o(this.spatialSource,"y",null);t&&t!==this._spatialx&&(this._spatialx=this.spatialNode.positionX.value=t),e&&e!==this._spatialy&&(this._spatialy=this.spatialNode.positionY.value=e)}this.hasEnded?(s.prototype.stop.call(this),this.stopAndRemoveBufferSource(),this.emit(r.COMPLETE,this)):this.hasLooped&&(this.hasLooped=!1,this.source=this.loopSource,this.loopSource=null,this.playTime=this.startTime=this.loopTime,this.rateUpdates.length=0,this.rateUpdates.push({time:0,rate:this.totalRate}),this.createAndStartLoopBufferSource(),this.emit(r.LOOPED,this))},destroy:function(){this.pendingRemove||(s.prototype.destroy.call(this),this.audioBuffer=null,this.stopAndRemoveBufferSource(),this.muteNode.disconnect(),this.muteNode=null,this.volumeNode.disconnect(),this.volumeNode=null,this.pannerNode&&(this.pannerNode.disconnect(),this.pannerNode=null),this.spatialNode&&(this.spatialNode.disconnect(),this.spatialNode=null,this.spatialSource=null),this.rateUpdates.length=0,this.rateUpdates=null)},calculateRate:function(){s.prototype.calculateRate.call(this);var t=this.manager.context.currentTime;this.source&&"number"==typeof this.totalRate&&this.source.playbackRate.setValueAtTime(this.totalRate,t),this.isPlaying&&(this.rateUpdates.push({time:Math.max(this.startTime,t)-this.playTime,rate:this.totalRate}),this.loopSource&&(this.stopAndRemoveLoopBufferSource(),this.createAndStartLoopBufferSource()))},getCurrentTime:function(){for(var t=0,e=0;e<this.rateUpdates.length;e++)t+=((e<this.rateUpdates.length-1?this.rateUpdates[e+1].time:this.manager.context.currentTime-this.playTime)-this.rateUpdates[e].time)*this.rateUpdates[e].rate;return t},getLoopTime:function(){for(var t=0,e=0;e<this.rateUpdates.length-1;e++)t+=(this.rateUpdates[e+1].time-this.rateUpdates[e].time)*this.rateUpdates[e].rate;var i=this.rateUpdates[this.rateUpdates.length-1];return this.playTime+i.time+(this.duration-t)/i.rate},rate:{get:function(){return this.currentConfig.rate},set:function(t){this.currentConfig.rate=t,this.calculateRate(),this.emit(r.RATE,this,t)}},setRate:function(t){return this.rate=t,this},detune:{get:function(){return this.currentConfig.detune},set:function(t){this.currentConfig.detune=t,this.calculateRate(),this.emit(r.DETUNE,this,t)}},setDetune:function(t){return this.detune=t,this},mute:{get:function(){return 0===this.muteNode.gain.value},set:function(t){this.currentConfig.mute=t,this.muteNode.gain.setValueAtTime(t?0:1,0),this.emit(r.MUTE,this,t)}},setMute:function(t){return this.mute=t,this},volume:{get:function(){return this.volumeNode.gain.value},set:function(t){this.currentConfig.volume=t,this.volumeNode.gain.setValueAtTime(t,0),this.emit(r.VOLUME,this,t)}},setVolume:function(t){return this.volume=t,this},seek:{get:function(){return this.isPlaying?this.manager.context.currentTime<this.startTime?this.startTime-this.playTime:this.getCurrentTime():this.isPaused?this.currentConfig.seek:0},set:function(t){this.manager.context.currentTime<this.startTime||(this.isPlaying||this.isPaused)&&(t=Math.min(Math.max(0,t),this.duration),this.currentConfig.seek=t,this.isPlaying&&(this.stopAndRemoveBufferSource(),this.createAndStartBufferSource()),this.emit(r.SEEK,this,t))}},setSeek:function(t){return this.seek=t,this},loop:{get:function(){return this.currentConfig.loop},set:function(t){this.currentConfig.loop=t,this.isPlaying&&(this.stopAndRemoveLoopBufferSource(),t&&this.createAndStartLoopBufferSource()),this.emit(r.LOOP,this,t)}},setLoop:function(t){return this.loop=t,this},pan:{get:function(){return this.pannerNode?this.pannerNode.pan.value:0},set:function(t){this.currentConfig.pan=t,this.pannerNode&&this.pannerNode.pan.setValueAtTime(t,this.manager.context.currentTime),this.emit(r.PAN,this,t)}},setPan:function(t){return this.pan=t,this}});t.exports=a},57490:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(53134),n=i(85034),r=i(83419),o=i(14463),a=i(8443),h=i(71741),l=i(95540),u=new r({Extends:n,initialize:function(t){this.context=this.createAudioContext(t),this.masterMuteNode=this.context.createGain(),this.masterVolumeNode=this.context.createGain(),this.masterMuteNode.connect(this.masterVolumeNode),this.masterVolumeNode.connect(this.context.destination),this.destination=this.masterMuteNode,this.locked="suspended"===this.context.state,n.call(this,t),this.locked&&(t.isBooted?this.unlock():t.events.once(a.BOOT,this.unlock,this)),t.events.on(a.VISIBLE,this.onGameVisible,this)},onGameVisible:function(){var t=this.context;window.setTimeout(function(){t&&(t.suspend(),t.resume())},100)},createAudioContext:function(t){var e=t.config.audio;return e.context?(e.context.resume(),e.context):window.hasOwnProperty("AudioContext")?new AudioContext:window.hasOwnProperty("webkitAudioContext")?new window.webkitAudioContext:void 0},setAudioContext:function(t){return this.context&&this.context.close(),this.masterMuteNode&&this.masterMuteNode.disconnect(),this.masterVolumeNode&&this.masterVolumeNode.disconnect(),this.context=t,this.masterMuteNode=t.createGain(),this.masterVolumeNode=t.createGain(),this.masterMuteNode.connect(this.masterVolumeNode),this.masterVolumeNode.connect(t.destination),this.destination=this.masterMuteNode,this},add:function(t,e){var i=new h(this,t,e);return this.sounds.push(i),i},decodeAudio:function(t,e){var i;i=Array.isArray(t)?t:[{key:t,data:e}];for(var n=this.game.cache.audio,r=i.length,a=0;a<i.length;a++){var h=i[a],l=h.key,u=h.data;"string"==typeof u&&(u=s(u));var c=function(t,e){n.add(t,e),this.emit(o.DECODED,t),0===--r&&this.emit(o.DECODED_ALL)}.bind(this,l),d=function(t,e){0===--r&&this.emit(o.DECODED_ALL)}.bind(this,l);this.context.decodeAudioData(u,c,d)}},setListenerPosition:function(t,e){return void 0===t&&(t=this.game.scale.width/2),void 0===e&&(e=this.game.scale.height/2),this.listenerPosition.set(t,e),this},unlock:function(){var t=this,e=document.body,i=function i(){if(t.context&&e){var s=e.removeEventListener.bind(e);t.context.resume().then(function(){s("touchstart",i),s("touchend",i),s("mousedown",i),s("mouseup",i),s("keydown",i),t.unlocked=!0},function(){s("touchstart",i),s("touchend",i),s("mousedown",i),s("mouseup",i),s("keydown",i)})}};e&&(e.addEventListener("touchstart",i,!1),e.addEventListener("touchend",i,!1),e.addEventListener("mousedown",i,!1),e.addEventListener("mouseup",i,!1),e.addEventListener("keydown",i,!1))},onBlur:function(){this.locked||this.context.suspend()},onFocus:function(){var t=this.context;!t||this.locked||"suspended"!==t.state&&"interrupted"!==t.state||t.resume()},update:function(t,e){var i=this.context.listener,s=l(this.listenerPosition,"x",null),r=l(this.listenerPosition,"y",null);if(i&&void 0!==i.positionX)s&&s!==this._spatialx&&(this._spatialx=i.positionX.value=s),r&&r!==this._spatialy&&(this._spatialy=i.positionY.value=r);else if(i){s&&s!==this._spatialx&&(this._spatialx=s),r&&r!==this._spatialy&&(this._spatialy=r);var o=l(i,"z",0);i.setPosition(this._spatialx||0,this._spatialy||0,o)}n.prototype.update.call(this,t,e),this.gameLostFocus||this.onFocus()},destroy:function(){if(this.destination=null,this.masterVolumeNode.disconnect(),this.masterVolumeNode=null,this.masterMuteNode.disconnect(),this.masterMuteNode=null,this.game.config.audio.context)this.context.suspend();else{var t=this;this.context.close().then(function(){t.context=null})}this.game.events.off(a.VISIBLE,this.onGameVisible,this),n.prototype.destroy.call(this)},setMute:function(t){return this.mute=t,this},mute:{get:function(){return 0===this.masterMuteNode.gain.value},set:function(t){this.masterMuteNode.gain.setValueAtTime(t?0:1,0),this.emit(o.GLOBAL_MUTE,this,t)}},setVolume:function(t){return this.volume=t,this},volume:{get:function(){return this.masterVolumeNode.gain.value},set:function(t){this.masterVolumeNode.gain.setValueAtTime(t,0),this.emit(o.GLOBAL_VOLUME,this,t)}}});t.exports=u},73162:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(37105),n=i(83419),r=i(29747),o=i(19186),a=new n({initialize:function(t){this.parent=t,this.list=[],this.position=0,this.addCallback=r,this.removeCallback=r,this._sortKey=""},add:function(t,e){return e?s.Add(this.list,t):s.Add(this.list,t,0,this.addCallback,this)},addAt:function(t,e,i){return i?s.AddAt(this.list,t,e):s.AddAt(this.list,t,e,0,this.addCallback,this)},getAt:function(t){return this.list[t]},getIndex:function(t){return this.list.indexOf(t)},sort:function(t,e){return t?(void 0===e&&(e=function(e,i){return e[t]-i[t]}),o(this.list,e),this):this},getByName:function(t){return s.GetFirst(this.list,"name",t)},getRandom:function(t,e){return s.GetRandom(this.list,t,e)},getFirst:function(t,e,i,n){return s.GetFirst(this.list,t,e,i,n)},getAll:function(t,e,i,n){return s.GetAll(this.list,t,e,i,n)},count:function(t,e){return s.CountAllMatching(this.list,t,e)},swap:function(t,e){s.Swap(this.list,t,e)},moveTo:function(t,e){return s.MoveTo(this.list,t,e)},moveAbove:function(t,e){return s.MoveAbove(this.list,t,e)},moveBelow:function(t,e){return s.MoveBelow(this.list,t,e)},remove:function(t,e){return e?s.Remove(this.list,t):s.Remove(this.list,t,this.removeCallback,this)},removeAt:function(t,e){return e?s.RemoveAt(this.list,t):s.RemoveAt(this.list,t,this.removeCallback,this)},removeBetween:function(t,e,i){return i?s.RemoveBetween(this.list,t,e):s.RemoveBetween(this.list,t,e,this.removeCallback,this)},removeAll:function(t){for(var e=this.list.length;e--;)this.remove(this.list[e],t);return this},bringToTop:function(t){return s.BringToTop(this.list,t)},sendToBack:function(t){return s.SendToBack(this.list,t)},moveUp:function(t){return s.MoveUp(this.list,t),t},moveDown:function(t){return s.MoveDown(this.list,t),t},reverse:function(){return this.list.reverse(),this},shuffle:function(){return s.Shuffle(this.list),this},replace:function(t,e){return s.Replace(this.list,t,e)},exists:function(t){return this.list.indexOf(t)>-1},setAll:function(t,e,i,n){return s.SetAll(this.list,t,e,i,n),this},each:function(t,e){for(var i=[null],s=2;s<arguments.length;s++)i.push(arguments[s]);for(s=0;s<this.list.length;s++)i[0]=this.list[s],t.apply(e,i)},shutdown:function(){this.removeAll(),this.list=[]},destroy:function(){this.removeAll(),this.parent=null,this.addCallback=null,this.removeCallback=null},length:{get:function(){return this.list.length}},first:{get:function(){return this.position=0,this.list.length>0?this.list[0]:null}},last:{get:function(){return this.list.length>0?(this.position=this.list.length-1,this.list[this.position]):null}},next:{get:function(){return this.position<this.list.length?(this.position++,this.list[this.position]):null}},previous:{get:function(){return this.position>0?(this.position--,this.list[this.position]):null}}});t.exports=a},90330:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=new(i(83419))({initialize:function(t){this.entries={},this.size=0,this.setAll(t)},setAll:function(t){if(Array.isArray(t))for(var e=0;e<t.length;e++)this.set(t[e][0],t[e][1]);return this},set:function(t,e){return this.has(t)||this.size++,this.entries[t]=e,this},get:function(t){if(this.has(t))return this.entries[t]},getArray:function(){var t=[],e=this.entries;for(var i in e)t.push(e[i]);return t},has:function(t){return this.entries.hasOwnProperty(t)},delete:function(t){return this.has(t)&&(delete this.entries[t],this.size--),this},clear:function(){return Object.keys(this.entries).forEach(function(t){delete this.entries[t]},this),this.size=0,this},keys:function(){return Object.keys(this.entries)},values:function(){var t=[],e=this.entries;for(var i in e)t.push(e[i]);return t},dump:function(){var t=this.entries;for(var e in t);},each:function(t){var e=this.entries;for(var i in e)if(!1===t(i,e[i]))break;return this},contains:function(t){var e=this.entries;for(var i in e)if(e[i]===t)return!0;return!1},merge:function(t,e){void 0===e&&(e=!1);var i=this.entries,s=t.entries;for(var n in s)i.hasOwnProperty(n)&&e?i[n]=s[n]:this.set(n,s[n]);return this}});t.exports=s},25774:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(83419),n=i(50792),r=i(82348),o=new s({Extends:n,initialize:function(){n.call(this),this._pending=[],this._active=[],this._destroy=[],this._toProcess=0,this.checkQueue=!1},isActive:function(t){return this._active.indexOf(t)>-1},isPending:function(t){return this._toProcess>0&&this._pending.indexOf(t)>-1},isDestroying:function(t){return this._destroy.indexOf(t)>-1},add:function(t){return this.checkQueue&&this.isActive(t)&&!this.isDestroying(t)||this.isPending(t)||(this._pending.push(t),this._toProcess++),t},remove:function(t){if(this.isPending(t)){var e=this._pending,i=e.indexOf(t);-1!==i&&e.splice(i,1)}else this.isActive(t)&&(this._destroy.push(t),this._toProcess++);return t},removeAll:function(){for(var t=this._active,e=this._destroy,i=t.length;i--;)e.push(t[i]),this._toProcess++;return this},update:function(){if(0===this._toProcess)return this._active;var t,e,i=this._destroy,s=this._active;for(t=0;t<i.length;t++){e=i[t];var n=s.indexOf(e);-1!==n&&(s.splice(n,1),this.emit(r.PROCESS_QUEUE_REMOVE,e))}for(i.length=0,i=this._pending,t=0;t<i.length;t++)e=i[t],(!this.checkQueue||this.checkQueue&&-1===s.indexOf(e))&&(s.push(e),this.emit(r.PROCESS_QUEUE_ADD,e));return i.length=0,this._toProcess=0,s},getActive:function(){return this._active},length:{get:function(){return this._active.length}},destroy:function(){this._toProcess=0,this._pending=[],this._active=[],this._destroy=[]}});t.exports=o},59542:(t,e,i)=>{
/**
                     * @author       Vladimir Agafonkin
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(43886);function n(t){if(!(this instanceof n))return new n(t);this._maxEntries=Math.max(4,t||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()}function r(t,e,i){if(!i)return e.indexOf(t);for(var s=0;s<e.length;s++)if(i(t,e[s]))return s;return-1}function o(t,e){a(t,0,t.children.length,e,t)}function a(t,e,i,s,n){n||(n=v(null)),n.minX=1/0,n.minY=1/0,n.maxX=-1/0,n.maxY=-1/0;for(var r,o=e;o<i;o++)r=t.children[o],h(n,t.leaf?s(r):r);return n}function h(t,e){return t.minX=Math.min(t.minX,e.minX),t.minY=Math.min(t.minY,e.minY),t.maxX=Math.max(t.maxX,e.maxX),t.maxY=Math.max(t.maxY,e.maxY),t}function l(t,e){return t.minX-e.minX}function u(t,e){return t.minY-e.minY}function c(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function d(t){return t.maxX-t.minX+(t.maxY-t.minY)}function f(t,e){return(Math.max(e.maxX,t.maxX)-Math.min(e.minX,t.minX))*(Math.max(e.maxY,t.maxY)-Math.min(e.minY,t.minY))}function p(t,e){var i=Math.max(t.minX,e.minX),s=Math.max(t.minY,e.minY),n=Math.min(t.maxX,e.maxX),r=Math.min(t.maxY,e.maxY);return Math.max(0,n-i)*Math.max(0,r-s)}function g(t,e){return t.minX<=e.minX&&t.minY<=e.minY&&e.maxX<=t.maxX&&e.maxY<=t.maxY}function m(t,e){return e.minX<=t.maxX&&e.minY<=t.maxY&&e.maxX>=t.minX&&e.maxY>=t.minY}function v(t){return{children:t,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function y(t,e,i,n,r){for(var o,a=[e,i];a.length;)(i=a.pop())-(e=a.pop())<=n||(o=e+Math.ceil((i-e)/n/2)*n,s(t,o,e,i,r),a.push(e,o,o,i))}n.prototype={all:function(){return this._all(this.data,[])},search:function(t){var e=this.data,i=[],s=this.toBBox;if(!m(t,e))return i;for(var n,r,o,a,h=[];e;){for(n=0,r=e.children.length;n<r;n++)o=e.children[n],m(t,a=e.leaf?s(o):o)&&(e.leaf?i.push(o):g(t,a)?this._all(o,i):h.push(o));e=h.pop()}return i},collides:function(t){var e=this.data,i=this.toBBox;if(!m(t,e))return!1;for(var s,n,r,o,a=[];e;){for(s=0,n=e.children.length;s<n;s++)if(r=e.children[s],m(t,o=e.leaf?i(r):r)){if(e.leaf||g(t,o))return!0;a.push(r)}e=a.pop()}return!1},load:function(t){if(!t||!t.length)return this;if(t.length<this._minEntries){for(var e=0,i=t.length;e<i;e++)this.insert(t[e]);return this}var s=this._build(t.slice(),0,t.length-1,0);if(this.data.children.length)if(this.data.height===s.height)this._splitRoot(this.data,s);else{if(this.data.height<s.height){var n=this.data;this.data=s,s=n}this._insert(s,this.data.height-s.height-1,!0)}else this.data=s;return this},insert:function(t){return t&&this._insert(t,this.data.height-1),this},clear:function(){return this.data=v([]),this},remove:function(t,e){if(!t)return this;for(var i,s,n,o,a=this.data,h=this.toBBox(t),l=[],u=[];a||l.length;){if(a||(a=l.pop(),s=l[l.length-1],i=u.pop(),o=!0),a.leaf&&-1!==(n=r(t,a.children,e)))return a.children.splice(n,1),l.push(a),this._condense(l),this;o||a.leaf||!g(a,h)?s?(i++,a=s.children[i],o=!1):a=null:(l.push(a),u.push(i),i=0,s=a,a=a.children[0])}return this},toBBox:function(t){return t},compareMinX:l,compareMinY:u,toJSON:function(){return this.data},fromJSON:function(t){return this.data=t,this},_all:function(t,e){for(var i=[];t;)t.leaf?e.push.apply(e,t.children):i.push.apply(i,t.children),t=i.pop();return e},_build:function(t,e,i,s){var n,r=i-e+1,a=this._maxEntries;if(r<=a)return o(n=v(t.slice(e,i+1)),this.toBBox),n;s||(s=Math.ceil(Math.log(r)/Math.log(a)),a=Math.ceil(r/Math.pow(a,s-1))),(n=v([])).leaf=!1,n.height=s;var h,l,u,c,d=Math.ceil(r/a),f=d*Math.ceil(Math.sqrt(a));for(y(t,e,i,f,this.compareMinX),h=e;h<=i;h+=f)for(y(t,h,u=Math.min(h+f-1,i),d,this.compareMinY),l=h;l<=u;l+=d)c=Math.min(l+d-1,u),n.children.push(this._build(t,l,c,s-1));return o(n,this.toBBox),n},_chooseSubtree:function(t,e,i,s){for(var n,r,o,a,h,l,u,d;s.push(e),!e.leaf&&s.length-1!==i;){for(u=d=1/0,n=0,r=e.children.length;n<r;n++)h=c(o=e.children[n]),(l=f(t,o)-h)<d?(d=l,u=h<u?h:u,a=o):l===d&&h<u&&(u=h,a=o);e=a||e.children[0]}return e},_insert:function(t,e,i){var s=this.toBBox,n=i?t:s(t),r=[],o=this._chooseSubtree(n,this.data,e,r);for(o.children.push(t),h(o,n);e>=0&&r[e].children.length>this._maxEntries;)this._split(r,e),e--;this._adjustParentBBoxes(n,r,e)},_split:function(t,e){var i=t[e],s=i.children.length,n=this._minEntries;this._chooseSplitAxis(i,n,s);var r=this._chooseSplitIndex(i,n,s),a=v(i.children.splice(r,i.children.length-r));a.height=i.height,a.leaf=i.leaf,o(i,this.toBBox),o(a,this.toBBox),e?t[e-1].children.push(a):this._splitRoot(i,a)},_splitRoot:function(t,e){this.data=v([t,e]),this.data.height=t.height+1,this.data.leaf=!1,o(this.data,this.toBBox)},_chooseSplitIndex:function(t,e,i){var s,n,r,o,h,l,u,d;for(l=u=1/0,s=e;s<=i-e;s++)o=p(n=a(t,0,s,this.toBBox),r=a(t,s,i,this.toBBox)),h=c(n)+c(r),o<l?(l=o,d=s,u=h<u?h:u):o===l&&h<u&&(u=h,d=s);return d},_chooseSplitAxis:function(t,e,i){var s=t.leaf?this.compareMinX:l,n=t.leaf?this.compareMinY:u;this._allDistMargin(t,e,i,s)<this._allDistMargin(t,e,i,n)&&t.children.sort(s)},_allDistMargin:function(t,e,i,s){t.children.sort(s);var n,r,o=this.toBBox,l=a(t,0,e,o),u=a(t,i-e,i,o),c=d(l)+d(u);for(n=e;n<i-e;n++)r=t.children[n],h(l,t.leaf?o(r):r),c+=d(l);for(n=i-e-1;n>=e;n--)r=t.children[n],h(u,t.leaf?o(r):r),c+=d(u);return c},_adjustParentBBoxes:function(t,e,i){for(var s=i;s>=0;s--)h(e[s],t)},_condense:function(t){for(var e,i=t.length-1;i>=0;i--)0===t[i].children.length?i>0?(e=t[i-1].children).splice(e.indexOf(t[i]),1):this.clear():o(t[i],this.toBBox)},compareMinX:function(t,e){return t.left-e.left},compareMinY:function(t,e){return t.top-e.top},toBBox:function(t){return{minX:t.left,minY:t.top,maxX:t.right,maxY:t.bottom}}},t.exports=n},35072:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=new(i(83419))({initialize:function(t){if(this.entries=[],Array.isArray(t))for(var e=0;e<t.length;e++)this.set(t[e])},set:function(t){return-1===this.entries.indexOf(t)&&this.entries.push(t),this},get:function(t,e){for(var i=0;i<this.entries.length;i++){var s=this.entries[i];if(s[t]===e)return s}},getArray:function(){return this.entries.slice(0)},delete:function(t){var e=this.entries.indexOf(t);return e>-1&&this.entries.splice(e,1),this},dump:function(){for(var t=0;t<this.entries.length;t++)this.entries[t]},each:function(t,e){var i,s=this.entries.slice(),n=s.length;if(e)for(i=0;i<n&&!1!==t.call(e,s[i],i);i++);else for(i=0;i<n&&!1!==t(s[i],i);i++);return this},iterate:function(t,e){var i,s=this.entries.length;if(e)for(i=0;i<s&&!1!==t.call(e,this.entries[i],i);i++);else for(i=0;i<s&&!1!==t(this.entries[i],i);i++);return this},iterateLocal:function(t){var e,i=[];for(e=1;e<arguments.length;e++)i.push(arguments[e]);var s=this.entries.length;for(e=0;e<s;e++){var n=this.entries[e];n[t].apply(n,i)}return this},clear:function(){return this.entries.length=0,this},contains:function(t){return this.entries.indexOf(t)>-1},union:function(t){var e=new s;return t.entries.forEach(function(t){e.set(t)}),this.entries.forEach(function(t){e.set(t)}),e},intersect:function(t){var e=new s;return this.entries.forEach(function(i){t.contains(i)&&e.set(i)}),e},difference:function(t){var e=new s;return this.entries.forEach(function(i){t.contains(i)||e.set(i)}),e},size:{get:function(){return this.entries.length},set:function(t){return t<this.entries.length?this.entries.length=t:this.entries.length}}});t.exports=s},86555:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(45319),n=i(83419),r=i(56583),o=i(26099),a=new n({initialize:function(t,e,i,s){void 0===t&&(t=0),void 0===e&&(e=t),void 0===i&&(i=0),void 0===s&&(s=null),this._width=t,this._height=e,this._parent=s,this.aspectMode=i,this.aspectRatio=0===e?1:t/e,this.minWidth=0,this.minHeight=0,this.maxWidth=Number.MAX_VALUE,this.maxHeight=Number.MAX_VALUE,this.snapTo=new o},setAspectMode:function(t){return void 0===t&&(t=0),this.aspectMode=t,this.setSize(this._width,this._height)},setSnap:function(t,e){return void 0===t&&(t=0),void 0===e&&(e=t),this.snapTo.set(t,e),this.setSize(this._width,this._height)},setParent:function(t){return this._parent=t,this.setSize(this._width,this._height)},setMin:function(t,e){return void 0===t&&(t=0),void 0===e&&(e=t),this.minWidth=s(t,0,this.maxWidth),this.minHeight=s(e,0,this.maxHeight),this.setSize(this._width,this._height)},setMax:function(t,e){return void 0===t&&(t=Number.MAX_VALUE),void 0===e&&(e=t),this.maxWidth=s(t,this.minWidth,Number.MAX_VALUE),this.maxHeight=s(e,this.minHeight,Number.MAX_VALUE),this.setSize(this._width,this._height)},setSize:function(t,e){switch(void 0===t&&(t=0),void 0===e&&(e=t),this.aspectMode){case a.NONE:this._width=this.getNewWidth(r(t,this.snapTo.x)),this._height=this.getNewHeight(r(e,this.snapTo.y)),this.aspectRatio=0===this._height?1:this._width/this._height;break;case a.WIDTH_CONTROLS_HEIGHT:this._width=this.getNewWidth(r(t,this.snapTo.x)),this._height=this.getNewHeight(this._width*(1/this.aspectRatio),!1);break;case a.HEIGHT_CONTROLS_WIDTH:this._height=this.getNewHeight(r(e,this.snapTo.y)),this._width=this.getNewWidth(this._height*this.aspectRatio,!1);break;case a.FIT:this.constrain(t,e,!0);break;case a.ENVELOP:this.constrain(t,e,!1)}return this},setAspectRatio:function(t){return this.aspectRatio=t,this.setSize(this._width,this._height)},resize:function(t,e){return this._width=this.getNewWidth(r(t,this.snapTo.x)),this._height=this.getNewHeight(r(e,this.snapTo.y)),this.aspectRatio=0===this._height?1:this._width/this._height,this},getNewWidth:function(t,e){return void 0===e&&(e=!0),t=s(t,this.minWidth,this.maxWidth),e&&this._parent&&t>this._parent.width&&(t=Math.max(this.minWidth,this._parent.width)),t},getNewHeight:function(t,e){return void 0===e&&(e=!0),t=s(t,this.minHeight,this.maxHeight),e&&this._parent&&t>this._parent.height&&(t=Math.max(this.minHeight,this._parent.height)),t},constrain:function(t,e,i){void 0===t&&(t=0),void 0===e&&(e=t),void 0===i&&(i=!0),t=this.getNewWidth(t),e=this.getNewHeight(e);var s=this.snapTo,n=0===e?1:t/e;return i&&this.aspectRatio>n||!i&&this.aspectRatio<n?(e=(t=r(t,s.x))/this.aspectRatio,s.y>0&&(t=(e=r(e,s.y))*this.aspectRatio)):(i&&this.aspectRatio<n||!i&&this.aspectRatio>n)&&(t=(e=r(e,s.y))*this.aspectRatio,s.x>0&&(e=(t=r(t,s.x))*(1/this.aspectRatio))),this._width=t,this._height=e,this},fitTo:function(t,e){return this.constrain(t,e,!0)},envelop:function(t,e){return this.constrain(t,e,!1)},setWidth:function(t){return this.setSize(t,this._height)},setHeight:function(t){return this.setSize(this._width,t)},toString:function(){return"[{ Size (width="+this._width+" height="+this._height+" aspectRatio="+this.aspectRatio+" aspectMode="+this.aspectMode+") }]"},setCSS:function(t){t&&t.style&&(t.style.width=this._width+"px",t.style.height=this._height+"px")},copy:function(t){return t.setAspectMode(this.aspectMode),t.aspectRatio=this.aspectRatio,t.setSize(this.width,this.height)},destroy:function(){this._parent=null,this.snapTo=null},width:{get:function(){return this._width},set:function(t){this.setSize(t,this._height)}},height:{get:function(){return this._height},set:function(t){this.setSize(this._width,t)}}});a.NONE=0,a.WIDTH_CONTROLS_HEIGHT=1,a.HEIGHT_CONTROLS_WIDTH=2,a.FIT=3,a.ENVELOP=4,t.exports=a},15238:t=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports="add"},56187:t=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports="remove"},82348:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports={PROCESS_QUEUE_ADD:i(15238),PROCESS_QUEUE_REMOVE:i(56187)}},41392:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports={Events:i(82348),List:i(73162),Map:i(90330),ProcessQueue:i(25774),RTree:i(59542),Set:i(35072),Size:i(86555)}},57382:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(83419),n=i(45319),r=i(40987),o=i(8054),a=i(50030),h=i(79237),l=new s({Extends:h,initialize:function(t,e,i,s,n){h.call(this,t,e,i,s,n),this.add("__BASE",0,0,0,s,n),this._source=this.frames.__BASE.source,this.canvas=this._source.image,this.context=this.canvas.getContext("2d",{willReadFrequently:!0}),this.width=s,this.height=n,this.imageData=this.context.getImageData(0,0,s,n),this.data=null,this.imageData&&(this.data=this.imageData.data),this.pixels=null,this.buffer,this.data&&(this.imageData.data.buffer?(this.buffer=this.imageData.data.buffer,this.pixels=new Uint32Array(this.buffer)):window.ArrayBuffer?(this.buffer=new ArrayBuffer(this.imageData.data.length),this.pixels=new Uint32Array(this.buffer)):this.pixels=this.imageData.data)},update:function(){return this.imageData=this.context.getImageData(0,0,this.width,this.height),this.data=this.imageData.data,this.imageData.data.buffer?(this.buffer=this.imageData.data.buffer,this.pixels=new Uint32Array(this.buffer)):window.ArrayBuffer?(this.buffer=new ArrayBuffer(this.imageData.data.length),this.pixels=new Uint32Array(this.buffer)):this.pixels=this.imageData.data,this.manager.game.config.renderType===o.WEBGL&&this.refresh(),this},draw:function(t,e,i,s){return void 0===s&&(s=!0),this.context.drawImage(i,t,e),s&&this.update(),this},drawFrame:function(t,e,i,s,n){void 0===i&&(i=0),void 0===s&&(s=0),void 0===n&&(n=!0);var r=this.manager.getFrame(t,e);if(r){var o=r.canvasData,a=r.cutWidth,h=r.cutHeight,l=r.source.resolution;this.context.drawImage(r.source.image,o.x,o.y,a,h,i,s,a/l,h/l),n&&this.update()}return this},setPixel:function(t,e,i,s,n,r){if(void 0===r&&(r=255),t=Math.abs(Math.floor(t)),e=Math.abs(Math.floor(e)),this.getIndex(t,e)>-1){var o=this.context.getImageData(t,e,1,1);o.data[0]=i,o.data[1]=s,o.data[2]=n,o.data[3]=r,this.context.putImageData(o,t,e)}return this},putData:function(t,e,i,s,n,r,o){return void 0===s&&(s=0),void 0===n&&(n=0),void 0===r&&(r=t.width),void 0===o&&(o=t.height),this.context.putImageData(t,e,i,s,n,r,o),this},getData:function(t,e,i,s){return t=n(Math.floor(t),0,this.width-1),e=n(Math.floor(e),0,this.height-1),i=n(i,1,this.width-t),s=n(s,1,this.height-e),this.context.getImageData(t,e,i,s)},getPixel:function(t,e,i){i||(i=new r);var s=this.getIndex(t,e);if(s>-1){var n=this.data,o=n[s+0],a=n[s+1],h=n[s+2],l=n[s+3];i.setTo(o,a,h,l)}return i},getPixels:function(t,e,i,s){void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=this.width),void 0===s&&(s=i),t=Math.abs(Math.round(t)),e=Math.abs(Math.round(e));for(var o=n(t,0,this.width),a=n(t+i,0,this.width),h=n(e,0,this.height),l=n(e+s,0,this.height),u=new r,c=[],d=h;d<l;d++){for(var f=[],p=o;p<a;p++)u=this.getPixel(p,d,u),f.push({x:p,y:d,color:u.color,alpha:u.alphaGL});c.push(f)}return c},getIndex:function(t,e){return t=Math.abs(Math.round(t)),e=Math.abs(Math.round(e)),t<this.width&&e<this.height?4*(t+e*this.width):-1},refresh:function(){return this._source.update(),this},getCanvas:function(){return this.canvas},getContext:function(){return this.context},clear:function(t,e,i,s,n){return void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=this.width),void 0===s&&(s=this.height),void 0===n&&(n=!0),this.context.clearRect(t,e,i,s),n&&this.update(),this},setSize:function(t,e){return void 0===e&&(e=t),t===this.width&&e===this.height||(this.canvas.width=t,this.canvas.height=e,this._source.width=t,this._source.height=e,this._source.isPowerOf2=a(t,e),this.frames.__BASE.setSize(t,e,0,0),this.width=t,this.height=e,this.refresh()),this},destroy:function(){h.prototype.destroy.call(this),this._source=null,this.canvas=null,this.context=null,this.imageData=null,this.data=null,this.pixels=null,this.buffer=null}});t.exports=l},81320:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(10312),n=i(38058),r=i(27919),o=i(83419),a=i(8054),h=i(4327),l=i(95540),u=i(36060),c=i(32302),d=i(79237),f=i(70554),p=new o({Extends:d,initialize:function(t,e,i,s,o){void 0===i&&(i=256),void 0===s&&(s=256),void 0===o&&(o=!0),this.type="DynamicTexture";var h=t.game.renderer,l=h&&h.type===a.CANVAS,f=l?r.create2D(this,i,s):[this];d.call(this,t,e,f,i,s),this.add("__BASE",0,0,0,i,s),this.renderer=h,this.width=-1,this.height=-1,this.isDrawing=!1,this.canvas=l?f:null,this.context=l?f.getContext("2d",{willReadFrequently:!0}):null,this.dirty=!1,this.isSpriteTexture=!0,this._eraseMode=!1,this.camera=new n(0,0,i,s).setScene(t.game.scene.systemScene,!1),this.renderTarget=l?null:new c(h,i,s,1,0,!1,!1,!0,!1),this.pipeline=l?null:h.pipelines.get(u.SINGLE_PIPELINE),this.setSize(i,s,o)},setSize:function(t,e,i){void 0===e&&(e=t),void 0===i&&(i=!0),i&&((t=Math.floor(t))%2!=0&&t++,(e=Math.floor(e))%2!=0&&e++);var s=this.get(),n=s.source;if(t!==this.width||e!==this.height){this.canvas&&(this.canvas.width=t,this.canvas.height=e);var r=this.renderTarget;r&&(r.willResize(t,e)&&r.resize(t,e),r.texture!==n.glTexture&&this.renderer.deleteTexture(n.glTexture),this.setFromRenderTarget()),this.camera.setSize(t,e),n.width=t,n.height=e,s.setSize(t,e),this.width=t,this.height=e}else{var o=this.getSourceImage();s.cutX+t>o.width&&(t=o.width-s.cutX),s.cutY+e>o.height&&(e=o.height-s.cutY),s.setSize(t,e,s.cutX,s.cutY)}return this},setFromRenderTarget:function(){var t=this.get().source,e=this.renderTarget;return t.isRenderTexture=!0,t.isGLTexture=!0,t.glTexture=e.texture,this},setIsSpriteTexture:function(t){return this.isSpriteTexture=t,this},fill:function(t,e,i,s,n,r){var o=this.camera,a=this.renderer;void 0===e&&(e=1),void 0===i&&(i=0),void 0===s&&(s=0),void 0===n&&(n=this.width),void 0===r&&(r=this.height);var h=t>>16&255,l=t>>8&255,u=255&t,c=this.renderTarget;if(o.preRender(),c){c.bind(!0);var d=this.pipeline.manager.set(this.pipeline),p=a.width/c.width,g=a.height/c.height,m=c.height-(s+r);d.drawFillRect(i*p,m*g,n*p,r*g,f.getTintFromFloats(u/255,l/255,h/255,1),e),c.unbind(!0)}else{var v=this.context;a.setContext(v),v.globalCompositeOperation="source-over",v.fillStyle="rgba("+h+","+l+","+u+","+e+")",v.fillRect(i,s,n,r),a.setContext()}return this.dirty=!0,this},clear:function(t,e,i,s){if(this.dirty){var n=this.context,r=this.renderTarget;r?r.clear(t,e,i,s):n&&(void 0!==t&&void 0!==e&&void 0!==i&&void 0!==s?n.clearRect(t,e,i,s):(n.save(),n.setTransform(1,0,0,1,0,0),n.clearRect(0,0,this.width,this.height),n.restore())),this.dirty=!1}return this},stamp:function(t,e,i,s,n){void 0===i&&(i=0),void 0===s&&(s=0);var r=l(n,"alpha",1),o=l(n,"tint",16777215),a=l(n,"angle",0),h=l(n,"rotation",0),u=l(n,"scale",1),c=l(n,"scaleX",u),d=l(n,"scaleY",u),f=l(n,"originX",.5),p=l(n,"originY",.5),g=l(n,"blendMode",0),m=l(n,"erase",!1),v=l(n,"skipBatch",!1),y=this.manager.resetStamp(r,o);return y.setAngle(0),0!==a?y.setAngle(a):0!==h&&y.setRotation(h),y.setScale(c,d),y.setTexture(t,e),y.setOrigin(f,p),y.setBlendMode(g),m&&(this._eraseMode=!0),v?this.batchGameObject(y,i,s):this.draw(y,i,s),m&&(this._eraseMode=!1),this},erase:function(t,e,i){return this._eraseMode=!0,this.draw(t,e,i),this._eraseMode=!1,this},draw:function(t,e,i,s,n){return this.beginDraw(),this.batchDraw(t,e,i,s,n),this.endDraw(),this},drawFrame:function(t,e,i,s,n,r){return this.beginDraw(),this.batchDrawFrame(t,e,i,s,n,r),this.endDraw(),this},repeat:function(t,e,i,s,n,r,o,a,l){if(void 0===i&&(i=0),void 0===s&&(s=0),void 0===n&&(n=this.width),void 0===r&&(r=this.height),void 0===o&&(o=1),void 0===a&&(a=16777215),void 0===l&&(l=!1),!(e=t instanceof h?t:this.manager.getFrame(t,e)))return this;var u=this.manager.resetStamp(o,a);u.setFrame(e),u.setOrigin(0);var c=e.width,d=e.height;n=Math.floor(n),r=Math.floor(r);var f=Math.ceil(n/c),p=Math.ceil(r/d),g=f*c-n,m=p*d-r;g>0&&(g=c-g),m>0&&(m=d-m),i<0&&(f+=Math.ceil(Math.abs(i)/c)),s<0&&(p+=Math.ceil(Math.abs(s)/d));var v=i,y=s,x=!1,T=this.manager.stampCrop.setTo(0,0,c,d);l||this.beginDraw();for(var w=0;w<p;w++)if(y+d<0)y+=d;else{for(var b=0;b<f;b++)x=!1,v+c<0||(v<0&&(x=!0,T.width=c+v,T.x=c-T.width),y<0&&(x=!0,T.height=d+y,T.y=d-T.height),g>0&&b===f-1&&(x=!0,T.width=g),m>0&&w===p-1&&(x=!0,T.height=m),x&&u.setCrop(T),this.batchGameObject(u,v,y),u.isCropped=!1,T.setTo(0,0,c,d)),v+=c;v=i,y+=d}return l||this.endDraw(),this},beginDraw:function(){if(!this.isDrawing){var t=this.camera,e=this.renderer,i=this.renderTarget;t.preRender(),i?e.beginCapture(i.width,i.height):e.setContext(this.context),this.isDrawing=!0}return this},batchDraw:function(t,e,i,s,n){return Array.isArray(t)||(t=[t]),this.batchList(t,e,i,s,n),this},batchDrawFrame:function(t,e,i,s,n,r){void 0===i&&(i=0),void 0===s&&(s=0),void 0===n&&(n=1),void 0===r&&(r=16777215);var o=this.manager.getFrame(t,e);return o&&(this.renderTarget?this.pipeline.batchTextureFrame(o,i,s,r,n,this.camera.matrix,null):this.batchTextureFrame(o,i,s,n,r)),this},endDraw:function(t){if(void 0===t&&(t=this._eraseMode),this.isDrawing){var e=this.renderer,i=this.renderTarget;if(i){var s=e.endCapture();e.pipelines.setUtility().blitFrame(s,i,1,!1,!1,t,this.isSpriteTexture),e.resetScissor(),e.resetViewport()}else e.setContext();this.dirty=!0,this.isDrawing=!1}return this},batchList:function(t,e,i,s,n){var r=t.length;if(0!==r)for(var o=0;o<r;o++){var a=t[o];a&&a!==this&&(a.renderWebGL||a.renderCanvas?this.batchGameObject(a,e,i):a.isParent||a.list?this.batchGroup(a.getChildren(),e,i):"string"==typeof a?this.batchTextureFrameKey(a,null,e,i,s,n):a instanceof h?this.batchTextureFrame(a,e,i,s,n):Array.isArray(a)&&this.batchList(a,e,i,s,n))}},batchGroup:function(t,e,i){void 0===e&&(e=0),void 0===i&&(i=0);for(var s=0;s<t.length;s++){var n=t[s];n.willRender(this.camera)&&this.batchGameObject(n,n.x+e,n.y+i)}},batchGameObject:function(t,e,i){void 0===e&&(e=t.x),void 0===i&&(i=t.y);var n=t.x,r=t.y,o=this.camera,a=this.renderer,h=this._eraseMode,l=t.mask;if(t.setPosition(e,i),this.canvas){if(h){var u=t.blendMode;t.blendMode=s.ERASE}l&&l.preRenderCanvas(a,t,o),t.renderCanvas(a,t,o,null),l&&l.postRenderCanvas(a,t,o),h&&(t.blendMode=u)}else a&&(l&&l.preRenderWebGL(a,t,o),h||a.setBlendMode(t.blendMode),t.renderWebGL(a,t,o),l&&l.postRenderWebGL(a,o,this.renderTarget));t.setPosition(n,r)},batchTextureFrameKey:function(t,e,i,s,n,r){var o=this.manager.getFrame(t,e);o&&this.batchTextureFrame(o,i,s,n,r)},batchTextureFrame:function(t,e,i,s,n){void 0===e&&(e=0),void 0===i&&(i=0),void 0===s&&(s=1),void 0===n&&(n=16777215);var r=this.camera.matrix;if(this.renderTarget)this.pipeline.batchTextureFrame(t,e,i,n,s,r,null);else{var o=this.context,a=t.canvasData,h=t.source.image;o.save(),o.globalCompositeOperation=this._eraseMode?"destination-out":"source-over",o.globalAlpha=s,r.setToContext(o),a.width>0&&a.height>0&&o.drawImage(h,a.x,a.y,a.width,a.height,e,i,a.width,a.height),o.restore()}},snapshotArea:function(t,e,i,s,n,r,o){return this.renderTarget?this.renderer.snapshotFramebuffer(this.renderTarget.framebuffer,this.width,this.height,n,!1,t,e,i,s,r,o):this.renderer.snapshotCanvas(this.canvas,n,!1,t,e,i,s,r,o),this},snapshot:function(t,e,i){return this.snapshotArea(0,0,this.width,this.height,t,e,i)},snapshotPixel:function(t,e,i){return this.snapshotArea(t,e,1,1,i,"pixel")},getWebGLTexture:function(){if(this.renderTarget)return this.renderTarget.texture},renderWebGL:function(t,e,i,s){var n=this.manager.resetStamp();n.setTexture(this),n.setOrigin(0),n.renderWebGL(t,n,i,s)},renderCanvas:function(){},destroy:function(){var t=this.manager.stamp;t&&t.texture===this&&this.manager.resetStamp(),d.prototype.destroy.call(this),r.remove(this.canvas),this.renderTarget&&this.renderTarget.destroy(),this.camera.destroy(),this.canvas=null,this.context=null,this.renderer=null}});t.exports=p},4327:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(83419),n=i(45319),r=i(79291),o=new s({initialize:function(t,e,i,s,n,r,o){this.texture=t,this.name=e,this.source=t.source[i],this.sourceIndex=i,this.cutX,this.cutY,this.cutWidth,this.cutHeight,this.x=0,this.y=0,this.width,this.height,this.halfWidth,this.halfHeight,this.centerX,this.centerY,this.pivotX=0,this.pivotY=0,this.customPivot=!1,this.rotated=!1,this.autoRound=-1,this.customData={},this.u0=0,this.v0=0,this.u1=0,this.v1=0,this.data={cut:{x:0,y:0,w:0,h:0,r:0,b:0},trim:!1,sourceSize:{w:0,h:0},spriteSourceSize:{x:0,y:0,w:0,h:0,r:0,b:0},radius:0,drawImage:{x:0,y:0,width:0,height:0},is3Slice:!1,scale9:!1,scale9Borders:{x:0,y:0,w:0,h:0}},this.setSize(r,o,s,n)},setCutPosition:function(t,e){return void 0===t&&(t=0),void 0===e&&(e=0),this.cutX=t,this.cutY=e,this.updateUVs()},setCutSize:function(t,e){return this.cutWidth=t,this.cutHeight=e,this.updateUVs()},setSize:function(t,e,i,s){void 0===i&&(i=0),void 0===s&&(s=0),this.setCutPosition(i,s),this.setCutSize(t,e),this.width=t,this.height=e,this.halfWidth=Math.floor(.5*t),this.halfHeight=Math.floor(.5*e),this.centerX=Math.floor(t/2),this.centerY=Math.floor(e/2);var n=this.data,r=n.cut;r.x=i,r.y=s,r.w=t,r.h=e,r.r=i+t,r.b=s+e,n.sourceSize.w=t,n.sourceSize.h=e,n.spriteSourceSize.w=t,n.spriteSourceSize.h=e,n.radius=.5*Math.sqrt(t*t+e*e);var o=n.drawImage;return o.x=i,o.y=s,o.width=t,o.height=e,this.updateUVs()},setTrim:function(t,e,i,s,n,r){var o=this.data,a=o.spriteSourceSize;return o.trim=!0,o.sourceSize.w=t,o.sourceSize.h=e,a.x=i,a.y=s,a.w=n,a.h=r,a.r=i+n,a.b=s+r,this.x=i,this.y=s,this.width=n,this.height=r,this.halfWidth=.5*n,this.halfHeight=.5*r,this.centerX=Math.floor(n/2),this.centerY=Math.floor(r/2),this.updateUVs()},setScale9:function(t,e,i,s){var n=this.data;return n.scale9=!0,n.is3Slice=0===e&&s===this.height,n.scale9Borders.x=t,n.scale9Borders.y=e,n.scale9Borders.w=i,n.scale9Borders.h=s,this},setCropUVs:function(t,e,i,s,r,o,a){var h=this.cutX,l=this.cutY,u=this.cutWidth,c=this.cutHeight,d=this.realWidth,f=this.realHeight,p=h+(e=n(e,0,d)),g=l+(i=n(i,0,f)),m=s=n(s,0,d-e),v=r=n(r,0,f-i),y=this.data;if(y.trim){var x=y.spriteSourceSize,T=e+(s=n(s,0,x.x+u-e)),w=i+(r=n(r,0,x.y+c-i));if(x.r<e||x.b<i||x.x>T||x.y>w)p=0,g=0,m=0,v=0;else{var b=Math.max(x.x,e),S=Math.max(x.y,i),E=Math.min(x.r,T)-b,C=Math.min(x.b,w)-S;m=E,v=C,p=o?h+(u-(b-x.x)-E):h+(b-x.x),g=a?l+(c-(S-x.y)-C):l+(S-x.y),e=b,i=S,s=E,r=C}}else o&&(p=h+(u-e-s)),a&&(g=l+(c-i-r));var _=this.source.width,A=this.source.height;return t.u0=Math.max(0,p/_),t.v0=Math.max(0,g/A),t.u1=Math.min(1,(p+m)/_),t.v1=Math.min(1,(g+v)/A),t.x=e,t.y=i,t.cx=p,t.cy=g,t.cw=m,t.ch=v,t.width=s,t.height=r,t.flipX=o,t.flipY=a,t},updateCropUVs:function(t,e,i){return this.setCropUVs(t,t.x,t.y,t.width,t.height,e,i)},setUVs:function(t,e,i,s,n,r){var o=this.data.drawImage;return o.width=t,o.height=e,this.u0=i,this.v0=s,this.u1=n,this.v1=r,this},updateUVs:function(){var t=this.cutX,e=this.cutY,i=this.cutWidth,s=this.cutHeight,n=this.data.drawImage;n.width=i,n.height=s;var r=this.source.width,o=this.source.height;return this.u0=t/r,this.v0=e/o,this.u1=(t+i)/r,this.v1=(e+s)/o,this},updateUVsInverted:function(){var t=this.source.width,e=this.source.height;return this.u0=(this.cutX+this.cutHeight)/t,this.v0=this.cutY/e,this.u1=this.cutX/t,this.v1=(this.cutY+this.cutWidth)/e,this},clone:function(){var t=new o(this.texture,this.name,this.sourceIndex);return t.cutX=this.cutX,t.cutY=this.cutY,t.cutWidth=this.cutWidth,t.cutHeight=this.cutHeight,t.x=this.x,t.y=this.y,t.width=this.width,t.height=this.height,t.halfWidth=this.halfWidth,t.halfHeight=this.halfHeight,t.centerX=this.centerX,t.centerY=this.centerY,t.rotated=this.rotated,t.data=r(!0,t.data,this.data),t.updateUVs(),t},destroy:function(){this.texture=null,this.source=null,this.customData=null,this.data=null},glTexture:{get:function(){return this.source.glTexture}},realWidth:{get:function(){return this.data.sourceSize.w}},realHeight:{get:function(){return this.data.sourceSize.h}},radius:{get:function(){return this.data.radius}},trimmed:{get:function(){return this.data.trim}},scale9:{get:function(){return this.data.scale9}},is3Slice:{get:function(){return this.data.is3Slice}},canvasData:{get:function(){return this.data.drawImage}}});t.exports=o},79237:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(83419),n=i(4327),r=i(11876),o=new s({initialize:function(t,e,i,s,n){Array.isArray(i)||(i=[i]),this.manager=t,this.key=e,this.source=[],this.dataSource=[],this.frames={},this.customData={},this.firstFrame="__BASE",this.frameTotal=0;for(var o=0;o<i.length;o++)this.source.push(new r(this,i[o],s,n))},add:function(t,e,i,s,r,o){if(this.has(t))return null;var a=new n(this,t,e,i,s,r,o);return this.frames[t]=a,"__BASE"===this.firstFrame&&(this.firstFrame=t),this.frameTotal++,a},remove:function(t){return!!this.has(t)&&(this.get(t).destroy(),delete this.frames[t],!0)},has:function(t){return this.frames.hasOwnProperty(t)},get:function(t){t||(t=this.firstFrame);var e=this.frames[t];return e||(e=this.frames[this.firstFrame]),e},getTextureSourceIndex:function(t){for(var e=0;e<this.source.length;e++)if(this.source[e]===t)return e;return-1},getFramesFromTextureSource:function(t,e){void 0===e&&(e=!1);var i=[];for(var s in this.frames)if("__BASE"!==s||e){var n=this.frames[s];n.sourceIndex===t&&i.push(n)}return i},getFrameBounds:function(t){void 0===t&&(t=0);for(var e=this.getFramesFromTextureSource(t,!0),i=e[0],s=i.cutX,n=i.cutY,r=i.cutX+i.cutWidth,o=i.cutY+i.cutHeight,a=1;a<e.length;a++){var h=e[a];h.cutX<s&&(s=h.cutX),h.cutY<n&&(n=h.cutY),h.cutX+h.cutWidth>r&&(r=h.cutX+h.cutWidth),h.cutY+h.cutHeight>o&&(o=h.cutY+h.cutHeight)}return{x:s,y:n,width:r-s,height:o-n}},getFrameNames:function(t){void 0===t&&(t=!1);var e=Object.keys(this.frames);if(!t){var i=e.indexOf("__BASE");-1!==i&&e.splice(i,1)}return e},getSourceImage:function(t){null!=t&&1!==this.frameTotal||(t="__BASE");var e=this.frames[t];return e?e.source.image:this.frames.__BASE.source.image},getDataSourceImage:function(t){null!=t&&1!==this.frameTotal||(t="__BASE");var e,i=this.frames[t];return e=i?i.sourceIndex:this.frames.__BASE.sourceIndex,this.dataSource[e].image},setDataSource:function(t){Array.isArray(t)||(t=[t]);for(var e=0;e<t.length;e++){var i=this.source[e];this.dataSource.push(new r(this,t[e],i.width,i.height))}},setFilter:function(t){var e;for(e=0;e<this.source.length;e++)this.source[e].setFilter(t);for(e=0;e<this.dataSource.length;e++)this.dataSource[e].setFilter(t)},destroy:function(){var t,e=this.source,i=this.dataSource;for(t=0;t<e.length;t++)e[t]&&e[t].destroy();for(t=0;t<i.length;t++)i[t]&&i[t].destroy();for(var s in this.frames){var n=this.frames[s];n&&n.destroy()}this.source=[],this.dataSource=[],this.frames={},this.manager.removeKey(this.key),this.manager=null}});t.exports=o},17130:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(27919),n=i(57382),r=i(83419),o=i(40987),a=i(8054),h=i(81320),l=i(50792),u=i(69442),c=i(4327),d=i(8443),f=i(99584),p=i(35154),g=i(88571),m=i(41212),v=i(61309),y=i(87841),x=i(79237),T=new r({Extends:l,initialize:function(t){l.call(this),this.game=t,this.name="TextureManager",this.list={},this._tempCanvas=s.create2D(this),this._tempContext=this._tempCanvas.getContext("2d",{willReadFrequently:!0}),this._pending=0,this.stamp,this.stampCrop=new y,this.silentWarnings=!1,t.events.once(d.BOOT,this.boot,this)},boot:function(){this._pending=3,this.on(u.LOAD,this.updatePending,this),this.on(u.ERROR,this.updatePending,this);var t=this.game.config;null!==t.defaultImage&&this.addBase64("__DEFAULT",t.defaultImage),null!==t.missingImage&&this.addBase64("__MISSING",t.missingImage),null!==t.whiteImage&&this.addBase64("__WHITE",t.whiteImage),this.game.renderer&&this.game.renderer.gl&&this.addUint8Array("__NORMAL",new Uint8Array([127,127,255,255]),1,1),this.game.events.once(d.DESTROY,this.destroy,this),this.game.events.once(d.SYSTEM_READY,function(t){this.stamp=new g(t).setOrigin(0)},this)},updatePending:function(){this._pending--,0===this._pending&&(this.off(u.LOAD),this.off(u.ERROR),this.emit(u.READY))},checkKey:function(t){return!(!t||"string"!=typeof t||this.exists(t))||(this.silentWarnings,!1)},remove:function(t){if("string"==typeof t){if(!this.exists(t))return this.silentWarnings,this;t=this.get(t)}var e=t.key;return this.list.hasOwnProperty(e)&&(t.destroy(),this.emit(u.REMOVE,e),this.emit(u.REMOVE_KEY+e)),this},removeKey:function(t){return this.list.hasOwnProperty(t)&&delete this.list[t],this},addBase64:function(t,e){if(this.checkKey(t)){var i=this,s=new Image;s.onerror=function(){i.emit(u.ERROR,t)},s.onload=function(){var e=i.create(t,s);e&&(v.Image(e,0),i.emit(u.ADD,t,e),i.emit(u.ADD_KEY+t,e),i.emit(u.LOAD,t,e))},s.src=e}return this},getBase64:function(t,e,i,n){void 0===i&&(i="image/png"),void 0===n&&(n=.92);var r="",o=this.getFrame(t,e);if(o&&(o.source.isRenderTexture||o.source.isGLTexture))this.silentWarnings;else if(o){var a=o.canvasData,h=s.create2D(this,a.width,a.height),l=h.getContext("2d",{willReadFrequently:!0});a.width>0&&a.height>0&&l.drawImage(o.source.image,a.x,a.y,a.width,a.height,0,0,a.width,a.height),r=h.toDataURL(i,n),s.remove(h)}return r},addImage:function(t,e,i){var s=null;return this.checkKey(t)&&(s=this.create(t,e),v.Image(s,0),i&&s.setDataSource(i),this.emit(u.ADD,t,s),this.emit(u.ADD_KEY+t,s)),s},addGLTexture:function(t,e){var i=null;if(this.checkKey(t)){var s=e.width,n=e.height;(i=this.create(t,e,s,n)).add("__BASE",0,0,0,s,n),this.emit(u.ADD,t,i),this.emit(u.ADD_KEY+t,i)}return i},addCompressedTexture:function(t,e,i){var s=null;if(this.checkKey(t)){if((s=this.create(t,e)).add("__BASE",0,0,0,e.width,e.height),i){var n=function(t,e,i){Array.isArray(i.textures)||Array.isArray(i.frames)?v.JSONArray(t,e,i):v.JSONHash(t,e,i)};if(Array.isArray(i))for(var r=0;r<i.length;r++)n(s,r,i[r]);else n(s,0,i)}this.emit(u.ADD,t,s),this.emit(u.ADD_KEY+t,s)}return s},addRenderTexture:function(t,e){var i=null;return this.checkKey(t)&&((i=this.create(t,e)).add("__BASE",0,0,0,e.width,e.height),this.emit(u.ADD,t,i),this.emit(u.ADD_KEY+t,i)),i},generate:function(t,e){if(this.checkKey(t)){var i=s.create(this,1,1);return e.canvas=i,f(e),this.addCanvas(t,i)}return null},createCanvas:function(t,e,i){if(void 0===e&&(e=256),void 0===i&&(i=256),this.checkKey(t)){var n=s.create(this,e,i,a.CANVAS,!0);return this.addCanvas(t,n)}return null},addCanvas:function(t,e,i){void 0===i&&(i=!1);var s=null;return i?s=new n(this,t,e,e.width,e.height):this.checkKey(t)&&(s=new n(this,t,e,e.width,e.height),this.list[t]=s,this.emit(u.ADD,t,s),this.emit(u.ADD_KEY+t,s)),s},addDynamicTexture:function(t,e,i){var s=null;return"string"!=typeof t||this.exists(t)?t=(s=t).key:s=new h(this,t,e,i),this.checkKey(t)?(this.list[t]=s,this.emit(u.ADD,t,s),this.emit(u.ADD_KEY+t,s)):s=null,s},addAtlas:function(t,e,i,s){return Array.isArray(i.textures)||Array.isArray(i.frames)?this.addAtlasJSONArray(t,e,i,s):this.addAtlasJSONHash(t,e,i,s)},addAtlasJSONArray:function(t,e,i,s){var n=null;if(e instanceof x?(t=e.key,n=e):this.checkKey(t)&&(n=this.create(t,e)),n){if(Array.isArray(i))for(var r=1===i.length,o=0;o<n.source.length;o++){var a=r?i[0]:i[o];v.JSONArray(n,o,a)}else v.JSONArray(n,0,i);s&&n.setDataSource(s),this.emit(u.ADD,t,n),this.emit(u.ADD_KEY+t,n)}return n},addAtlasJSONHash:function(t,e,i,s){var n=null;if(e instanceof x?(t=e.key,n=e):this.checkKey(t)&&(n=this.create(t,e)),n){if(Array.isArray(i))for(var r=0;r<i.length;r++)v.JSONHash(n,r,i[r]);else v.JSONHash(n,0,i);s&&n.setDataSource(s),this.emit(u.ADD,t,n),this.emit(u.ADD_KEY+t,n)}return n},addAtlasXML:function(t,e,i,s){var n=null;return e instanceof x?(t=e.key,n=e):this.checkKey(t)&&(n=this.create(t,e)),n&&(v.AtlasXML(n,0,i),s&&n.setDataSource(s),this.emit(u.ADD,t,n),this.emit(u.ADD_KEY+t,n)),n},addUnityAtlas:function(t,e,i,s){var n=null;return e instanceof x?(t=e.key,n=e):this.checkKey(t)&&(n=this.create(t,e)),n&&(v.UnityYAML(n,0,i),s&&n.setDataSource(s),this.emit(u.ADD,t,n),this.emit(u.ADD_KEY+t,n)),n},addSpriteSheet:function(t,e,i,s){var n=null;if(e instanceof x?(t=e.key,n=e):this.checkKey(t)&&(n=this.create(t,e)),n){var r=n.source[0].width,o=n.source[0].height;v.SpriteSheet(n,0,0,0,r,o,i),s&&n.setDataSource(s),this.emit(u.ADD,t,n),this.emit(u.ADD_KEY+t,n)}return n},addSpriteSheetFromAtlas:function(t,e){if(!this.checkKey(t))return null;var i=p(e,"atlas",null),s=p(e,"frame",null);if(i&&s){var n=this.get(i).get(s);if(n){var r=n.source.image;r||(r=n.source.glTexture);var o=this.create(t,r);return n.trimmed?v.SpriteSheetFromAtlas(o,n,e):v.SpriteSheet(o,0,n.cutX,n.cutY,n.cutWidth,n.cutHeight,e),this.emit(u.ADD,t,o),this.emit(u.ADD_KEY+t,o),o}}},addUint8Array:function(t,e,i,s){if(!this.checkKey(t)||e.length/4!==i*s)return null;var n=this.create(t,e,i,s);return n.add("__BASE",0,0,0,i,s),this.emit(u.ADD,t,n),this.emit(u.ADD_KEY+t,n),n},create:function(t,e,i,s){var n=null;return this.checkKey(t)&&(n=new x(this,t,e,i,s),this.list[t]=n),n},exists:function(t){return this.list.hasOwnProperty(t)},get:function(t){return void 0===t&&(t="__DEFAULT"),this.list[t]?this.list[t]:t instanceof x?t:t instanceof c?t.texture:this.list.__MISSING},cloneFrame:function(t,e){if(this.list[t])return this.list[t].get(e).clone()},getFrame:function(t,e){if(this.list[t])return this.list[t].get(e)},parseFrame:function(t){if(t)return"string"==typeof t?this.getFrame(t):Array.isArray(t)&&2===t.length?this.getFrame(t[0],t[1]):m(t)?this.getFrame(t.key,t.frame):t instanceof x?t.get():t instanceof c?t:void 0},getTextureKeys:function(){var t=[];for(var e in this.list)"__DEFAULT"!==e&&"__MISSING"!==e&&"__WHITE"!==e&&"__NORMAL"!==e&&t.push(e);return t},getPixel:function(t,e,i,s){var n=this.getFrame(i,s);if(n){t-=n.x,e-=n.y;var r=n.data.cut;if(t+=r.x,e+=r.y,t>=r.x&&t<r.r&&e>=r.y&&e<r.b){var a=this._tempContext;a.clearRect(0,0,1,1),a.drawImage(n.source.image,t,e,1,1,0,0,1,1);var h=a.getImageData(0,0,1,1);return new o(h.data[0],h.data[1],h.data[2],h.data[3])}}return null},getPixelAlpha:function(t,e,i,s){var n=this.getFrame(i,s);if(n){t-=n.x,e-=n.y;var r=n.data.cut;if(t+=r.x,e+=r.y,t>=r.x&&t<r.r&&e>=r.y&&e<r.b){var o=this._tempContext;return o.clearRect(0,0,1,1),o.drawImage(n.source.image,t,e,1,1,0,0,1,1),o.getImageData(0,0,1,1).data[3]}}return null},setTexture:function(t,e,i){return this.list[e]&&(t.texture=this.list[e],t.frame=t.texture.get(i)),t},renameTexture:function(t,e){var i=this.get(t);return!(!i||t===e||(i.key=e,this.list[e]=i,delete this.list[t],0))},each:function(t,e){for(var i=[null],s=1;s<arguments.length;s++)i.push(arguments[s]);for(var n in this.list)i[0]=this.list[n],t.apply(e,i)},resetStamp:function(t,e){void 0===t&&(t=1),void 0===e&&(e=16777215);var i=this.stamp;return i.setCrop(),i.setPosition(0),i.setAngle(0),i.setScale(1),i.setAlpha(t),i.setTint(e),i.setTexture("__WHITE"),i},destroy:function(){for(var t in this.list)this.list[t].destroy();this.list={},this.stamp.destroy(),this.game=null,this.stamp=null,s.remove(this._tempCanvas)}});t.exports=T},11876:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(27919),n=i(83419),r=i(50030),o=i(29795),a=i(82751),h=new n({initialize:function(t,e,i,s,n){void 0===n&&(n=!1);var h=t.manager.game;this.renderer=h.renderer,this.texture=t,this.source=e,this.image=e.compressed?null:e,this.compressionAlgorithm=e.compressed?e.format:null,this.resolution=1,this.width=i||e.naturalWidth||e.videoWidth||e.width||0,this.height=s||e.naturalHeight||e.videoHeight||e.height||0,this.scaleMode=o.DEFAULT,this.isCanvas=e instanceof HTMLCanvasElement,this.isVideo=window.hasOwnProperty("HTMLVideoElement")&&e instanceof HTMLVideoElement,this.isRenderTexture="RenderTexture"===e.type||"DynamicTexture"===e.type,this.isGLTexture=e instanceof a,this.isPowerOf2=r(this.width,this.height),this.glTexture=null,this.flipY=n,this.init(h)},init:function(t){var e=this.renderer;if(e){var i=this.source;if(e.gl){var s=this.image,n=this.flipY,r=this.width,o=this.height,a=this.scaleMode;this.isCanvas?this.glTexture=e.createCanvasTexture(s,!1,n):this.isVideo?this.glTexture=e.createVideoTexture(s,!1,n):this.isRenderTexture?this.glTexture=e.createTextureFromSource(null,r,o,a):this.isGLTexture?this.glTexture=i:this.compressionAlgorithm?this.glTexture=e.createTextureFromSource(i,void 0,void 0,a):i instanceof Uint8Array?this.glTexture=e.createUint8ArrayTexture(i,r,o,a):this.glTexture=e.createTextureFromSource(s,r,o,a)}else this.isRenderTexture&&(this.image=i.canvas)}t.config.antialias||this.setFilter(1)},setFilter:function(t){this.renderer&&this.renderer.gl&&this.renderer.setTextureFilter(this.glTexture,t),this.scaleMode=t},setFlipY:function(t){return void 0===t&&(t=!0),t===this.flipY||(this.flipY=t,this.update()),this},update:function(){var t=this.renderer,e=this.image,i=this.flipY,s=t.gl;s&&this.isCanvas?t.updateCanvasTexture(e,this.glTexture,i):s&&this.isVideo&&t.updateVideoTexture(e,this.glTexture,i)},destroy:function(){this.glTexture&&this.renderer.deleteTexture(this.glTexture),this.isCanvas&&s.remove(this.image),this.renderer=null,this.texture=null,this.source=null,this.image=null,this.glTexture=null}});t.exports=h},19673:t=>{t.exports={LINEAR:0,NEAREST:1}},44538:t=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports="addtexture"},63486:t=>{
/**
                     * @author       samme
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports="addtexture-"},94851:t=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports="onerror"},29099:t=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports="onload"},8678:t=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports="ready"},86415:t=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports="removetexture"},30879:t=>{
/**
                     * @author       samme
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports="removetexture-"},69442:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports={ADD:i(44538),ADD_KEY:i(63486),ERROR:i(94851),LOAD:i(29099),READY:i(8678),REMOVE:i(86415),REMOVE_KEY:i(30879)}},27458:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(79291),n=i(19673),r={CanvasTexture:i(57382),DynamicTexture:i(81320),Events:i(69442),FilterMode:n,Frame:i(4327),Parsers:i(61309),Texture:i(79237),TextureManager:i(17130),TextureSource:i(11876)};r=s(!1,r,n),t.exports=r},89905:t=>{t.exports=function(t,e,i){if(i.getElementsByTagName("TextureAtlas")){var s=t.source[e];t.add("__BASE",e,0,0,s.width,s.height);for(var n,r=i.getElementsByTagName("SubTexture"),o=0;o<r.length;o++){var a=r[o].attributes,h=a.name.value,l=parseInt(a.x.value,10),u=parseInt(a.y.value,10),c=parseInt(a.width.value,10),d=parseInt(a.height.value,10);if(n=t.add(h,e,l,u,c,d),a.frameX){var f=Math.abs(parseInt(a.frameX.value,10)),p=Math.abs(parseInt(a.frameY.value,10)),g=parseInt(a.frameWidth.value,10),m=parseInt(a.frameHeight.value,10);n.setTrim(c,d,f,p,g,m)}}return t}}},72893:t=>{t.exports=function(t,e){var i=t.source[e];return t.add("__BASE",e,0,0,i.width,i.height),t}},4832:t=>{t.exports=function(t,e){var i=t.source[e];return t.add("__BASE",e,0,0,i.width,i.height),t}},78566:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(41786);t.exports=function(t,e,i){if(i.frames||i.textures){var n=t.source[e];t.add("__BASE",e,0,0,n.width,n.height);for(var r,o=Array.isArray(i.textures)?i.textures[e].frames:i.frames,a=0;a<o.length;a++){var h=o[a];if(r=t.add(h.filename,e,h.frame.x,h.frame.y,h.frame.w,h.frame.h)){h.trimmed&&r.setTrim(h.sourceSize.w,h.sourceSize.h,h.spriteSourceSize.x,h.spriteSourceSize.y,h.spriteSourceSize.w,h.spriteSourceSize.h),h.rotated&&(r.rotated=!0,r.updateUVsInverted());var l=h.anchor||h.pivot;l&&(r.customPivot=!0,r.pivotX=l.x,r.pivotY=l.y),h.scale9Borders&&r.setScale9(h.scale9Borders.x,h.scale9Borders.y,h.scale9Borders.w,h.scale9Borders.h),r.customData=s(h)}}for(var u in i)"frames"!==u&&(Array.isArray(i[u])?t.customData[u]=i[u].slice(0):t.customData[u]=i[u]);return t}}},39711:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(41786);t.exports=function(t,e,i){if(i.frames){var n=t.source[e];t.add("__BASE",e,0,0,n.width,n.height);var r,o=i.frames;for(var a in o)if(o.hasOwnProperty(a)){var h=o[a];if(r=t.add(a,e,h.frame.x,h.frame.y,h.frame.w,h.frame.h)){h.trimmed&&r.setTrim(h.sourceSize.w,h.sourceSize.h,h.spriteSourceSize.x,h.spriteSourceSize.y,h.spriteSourceSize.w,h.spriteSourceSize.h),h.rotated&&(r.rotated=!0,r.updateUVsInverted());var l=h.anchor||h.pivot;l&&(r.customPivot=!0,r.pivotX=l.x,r.pivotY=l.y),h.scale9Borders&&r.setScale9(h.scale9Borders.x,h.scale9Borders.y,h.scale9Borders.w,h.scale9Borders.h),r.customData=s(h)}}for(var u in i)"frames"!==u&&(Array.isArray(i[u])?t.customData[u]=i[u].slice(0):t.customData[u]=i[u]);return t}}},31403:t=>{t.exports=function(t){var e,i=[171,75,84,88,32,49,49,187,13,10,26,10],s=new Uint8Array(t,0,12);for(e=0;e<s.length;e++)if(s[e]!==i[e])return;var n=Uint32Array.BYTES_PER_ELEMENT,r=new DataView(t,12,13*n),o=67305985===r.getUint32(0,!0);if(0===r.getUint32(1*n,o)){var a=r.getUint32(4*n,o),h=r.getUint32(6*n,o),l=r.getUint32(7*n,o),u=Math.max(1,r.getUint32(11*n,o)),c=r.getUint32(12*n,o),d=new Array(u),f=64+c,p=h,g=l;for(e=0;e<u;e++){var m=new Int32Array(t,f,1)[0];f+=4,d[e]={data:new Uint8Array(t,f,m),width:p,height:g},p=Math.max(1,p>>1),g=Math.max(1,g>>1),f+=m}return{mipmaps:d,width:h,height:l,internalFormat:a,compressed:!0,generateMipmap:!1}}}},82038:t=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2021 Photon Storm Ltd.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
function e(t,e,i,s,n,r,o){return void 0===o&&(o=16),Math.floor((t+i)/n)*Math.floor((e+s)/r)*o}function i(t,e){return(t=Math.max(t,16))*(e=Math.max(e,8))/4}function s(t,e){return(t=Math.max(t,8))*(e=Math.max(e,8))/2}function n(t,e){return Math.ceil(t/4)*Math.ceil(e/4)*16}function r(t,i){return e(t,i,3,3,4,4,8)}function o(t,i){return e(t,i,3,3,4,4)}var a={0:{sizeFunc:i,glFormat:[35841]},1:{sizeFunc:i,glFormat:[35843]},2:{sizeFunc:s,glFormat:[35840]},3:{sizeFunc:s,glFormat:[35842]},6:{sizeFunc:r,glFormat:[36196]},7:{sizeFunc:r,glFormat:[33776,35916]},8:{sizeFunc:o,glFormat:[33777,35917]},9:{sizeFunc:o,glFormat:[33778,35918]},11:{sizeFunc:o,glFormat:[33779,35919]},14:{sizeFunc:n,glFormat:[36494,36495]},15:{sizeFunc:n,glFormat:[36492,36493]},22:{sizeFunc:r,glFormat:[37492,37493]},23:{sizeFunc:o,glFormat:[37496,37497]},24:{sizeFunc:r,glFormat:[37494,37495]},25:{sizeFunc:r,glFormat:[37488]},26:{sizeFunc:o,glFormat:[37490]},27:{sizeFunc:o,glFormat:[37808,37840]},28:{sizeFunc:function(t,i){return e(t,i,4,3,5,4)},glFormat:[37809,37841]},29:{sizeFunc:function(t,i){return e(t,i,4,4,5,5)},glFormat:[37810,37842]},30:{sizeFunc:function(t,i){return e(t,i,5,4,6,5)},glFormat:[37811,37843]},31:{sizeFunc:function(t,i){return e(t,i,5,5,6,6)},glFormat:[37812,37844]},32:{sizeFunc:function(t,i){return e(t,i,7,4,8,5)},glFormat:[37813,37845]},33:{sizeFunc:function(t,i){return e(t,i,7,5,8,6)},glFormat:[37814,37846]},34:{sizeFunc:function(t,i){return e(t,i,7,7,8,8)},glFormat:[37815,37847]},35:{sizeFunc:function(t,i){return e(t,i,9,4,10,5)},glFormat:[37816,37848]},36:{sizeFunc:function(t,i){return e(t,i,9,5,10,6)},glFormat:[37817,37849]},37:{sizeFunc:function(t,i){return e(t,i,9,7,10,8)},glFormat:[37818,37850]},38:{sizeFunc:function(t,i){return e(t,i,9,9,10,10)},glFormat:[37819,37851]},39:{sizeFunc:function(t,i){return e(t,i,11,9,12,10)},glFormat:[37820,37852]},40:{sizeFunc:function(t,i){return e(t,i,11,11,12,12)},glFormat:[37821,37853]}};t.exports=function(t){for(var e=new Uint32Array(t,0,13),i=55727696===e[0]?e[2]:e[3],s=e[4],n=a[i].glFormat[s],r=a[i].sizeFunc,o=e[11],h=e[7],l=e[6],u=52+e[12],c=new Uint8Array(t,u),d=new Array(o),f=0,p=h,g=l,m=0;m<o;m++){var v=r(p,g);d[m]={data:new Uint8Array(c.buffer,c.byteOffset+f,v),width:p,height:g},p=Math.max(1,p>>1),g=Math.max(1,g>>1),f+=v}return{mipmaps:d,width:h,height:l,internalFormat:n,compressed:!0,generateMipmap:!1}}},75549:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(95540);t.exports=function(t,e,i,n,r,o,a){var h=s(a,"frameWidth",null),l=s(a,"frameHeight",h);if(null===h)throw new Error("TextureManager.SpriteSheet: Invalid frameWidth given.");var u=t.source[e];t.add("__BASE",e,0,0,u.width,u.height);var c=s(a,"startFrame",0),d=s(a,"endFrame",-1),f=s(a,"margin",0),p=s(a,"spacing",0),g=Math.floor((r-f+p)/(h+p))*Math.floor((o-f+p)/(l+p));(c>g||c<-g)&&(c=0),c<0&&(c=g+c),(-1===d||d>g||d<c)&&(d=g);for(var m=f,v=f,y=0,x=0,T=0,w=0;w<g;w++){y=0,x=0;var b=m+h,S=v+l;b>r&&(y=b-r),S>o&&(x=S-o),w>=c&&w<=d&&(t.add(T,e,i+m,n+v,h-y,l-x),T++),(m+=h+p)+h>r&&(m=f,v+=l+p)}return t}},47534:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(95540);t.exports=function(t,e,i){var n=s(i,"frameWidth",null),r=s(i,"frameHeight",n);if(!n)throw new Error("TextureManager.SpriteSheetFromAtlas: Invalid frameWidth given.");var o=t.source[0];t.add("__BASE",0,0,0,o.width,o.height),s(i,"startFrame",0),s(i,"endFrame",-1);for(var a,h=s(i,"margin",0),l=s(i,"spacing",0),u=e.cutX,c=e.cutY,d=e.cutWidth,f=e.cutHeight,p=e.realWidth,g=e.realHeight,m=Math.floor((p-h+l)/(n+l)),v=Math.floor((g-h+l)/(r+l)),y=e.x,x=n-y,T=n-(p-d-y),w=e.y,b=r-w,S=r-(g-f-w),E=h,C=h,_=0,A=0;A<v;A++){for(var M=0===A,P=A===v-1,R=0;R<m;R++){var I=0===R,O=R===m-1;if(a=t.add(_,0,u+E,c+C,n,r),I||M||O||P){var L=I?y:0,D=M?w:0,k=0,F=0;I&&(k+=n-x),O&&(k+=n-T),M&&(F+=r-b),P&&(F+=r-S);var B=n-k,N=r-F;a.cutWidth=B,a.cutHeight=N,a.setTrim(n,r,L,D,B,N)}E+=l,E+=I?x:O?T:n,_++}E=h,C+=l,C+=M?b:P?S:r}return t}},86147:t=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var e=0,i=function(t,i,s,n){var r=e-n.y-n.height;t.add(s,i,n.x,r,n.width,n.height)};t.exports=function(t,s,n){var r=t.source[s];t.add("__BASE",s,0,0,r.width,r.height),e=r.height;for(var o=n.split("\n"),a=/^[ ]*(- )*(\w+)+[: ]+(.*)/,h="",l="",u={x:0,y:0,width:0,height:0},c=0;c<o.length;c++){var d=o[c].match(a);if(d){var f="- "===d[1],p=d[2],g=d[3];if(f&&(l!==h&&(i(t,s,l,u),h=l),u={x:0,y:0,width:0,height:0}),"name"!==p)switch(p){case"x":case"y":case"width":case"height":u[p]=parseInt(g,10)}else l=g}}return l!==h&&i(t,s,l,u),t}},55222:(t,e,i)=>{
/**
                     * @author       Ben Richards <benjamindrichards@gmail.com>
                     * @copyright    2024 Photon Storm Ltd.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(50030);function n(t){for(var e=t.mipmaps,i=0;i<e.length;i++){var s=e[i].width,n=e[i].height;if((s<<i)%4!=0||(n<<i)%4!=0)return!1}return!0}function r(){return!0}function o(t){var e=t.mipmaps[0];return!!s(e.width,e.height)}function a(t){var e=t.mipmaps[0];return e.width%4==0&&e.height%4==0}var h={37488:r,37489:r,37490:r,37491:r,37492:r,37493:r,37494:r,37495:r,37496:r,37497:r,36196:r,37808:r,37809:r,37810:r,37811:r,37812:r,37813:r,37814:r,37815:r,37816:r,37817:r,37818:r,37819:r,37820:r,37821:r,37840:r,37841:r,37842:r,37843:r,37844:r,37845:r,37846:r,37847:r,37848:r,37849:r,37850:r,37851:r,37852:r,37853:r,36492:n,36493:n,36494:n,36495:n,36283:n,36284:n,36285:n,36286:n,35840:o,35841:o,35842:o,35843:o,33776:n,33777:n,33778:n,33779:n,35916:a,35917:a,35918:a,35919:a};t.exports=function(t){for(var e=t.mipmaps,i=1;i<e.length;i++){var n=e[i].width,r=e[i].height;if(!s(n,r))return!1}var o=h[t.internalFormat];return!o||o(t)}},61309:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports={AtlasXML:i(89905),Canvas:i(72893),Image:i(4832),JSONArray:i(78566),JSONHash:i(39711),KTXParser:i(31403),PVRParser:i(82038),SpriteSheet:i(75549),SpriteSheetFromAtlas:i(47534),UnityYAML:i(86147)}},80341:t=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports={CSV:0,TILED_JSON:1,ARRAY_2D:2,WELTMEISTER:3}},16536:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=new(i(83419))({initialize:function(t,e,i,s,n,r,o){(void 0===i||i<=0)&&(i=32),(void 0===s||s<=0)&&(s=32),void 0===n&&(n=0),void 0===r&&(r=0),this.name=t,this.firstgid=0|e,this.imageWidth=0|i,this.imageHeight=0|s,this.imageMargin=0|n,this.imageSpacing=0|r,this.properties=o||{},this.images=[],this.total=0},containsImageIndex:function(t){return t>=this.firstgid&&t<this.firstgid+this.total},addImage:function(t,e,i,s){return this.images.push({gid:t,image:e,width:i,height:s}),this.total++,this}});t.exports=s},27462:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2021 Photon Storm Ltd.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=new(i(83419))({initialize:function(t){if(this.gids=[],void 0!==t)for(var e=0;e<t.length;++e)for(var i=t[e],s=0;s<i.total;++s)this.gids[i.firstgid+s]=i;this._gids=this.gids},enabled:{get:function(){return!!this.gids},set:function(t){this.gids=t?this._gids:void 0}},getTypeIncludingTile:function(t){if(void 0!==t.type&&""!==t.type)return t.type;if(this.gids&&void 0!==t.gid){var e=this.gids[t.gid];if(e){var i=e.getTileData(t.gid);if(i)return i.type}}},setTextureAndFrame:function(t,e,i,s){if(null===e&&this.gids&&void 0!==s.gid){var n=this.gids[s.gid];n&&(null===e&&void 0!==n.image&&(e=n.image.key),null===i&&(i=s.gid-n.firstgid),t.scene.textures.getFrame(e,i)||(e=null,i=null))}t.setTexture(e,i)},setPropertiesFromTiledObject:function(t,e){if(void 0!==this.gids&&void 0!==e.gid){var i=this.gids[e.gid];void 0!==i&&this.setFromJSON(t,i.getTileProperties(e.gid))}this.setFromJSON(t,e.properties)},setFromJSON:function(t,e){if(e)if(Array.isArray(e))for(var i=0;i<e.length;i++){var s=e[i];void 0!==t[s.name]?t[s.name]=s.value:t.setData(s.name,s.value)}else for(var n in e)void 0!==t[n]?t[n]=e[n]:t.setData(n,e[n])}});t.exports=s},31989:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(80341),n=i(87010),r=i(46177),o=i(49075);t.exports=function(t,e,i,a,h,l,u,c){void 0===i&&(i=32),void 0===a&&(a=32),void 0===h&&(h=10),void 0===l&&(l=10),void 0===c&&(c=!1);var d=null;if(Array.isArray(u))d=r(void 0!==e?e:"map",s.ARRAY_2D,u,i,a,c);else if(void 0!==e){var f=t.cache.tilemap.get(e);f&&(d=r(e,f.format,f.data,i,a,c))}return null===d&&(d=new n({tileWidth:i,tileHeight:a,width:h,height:l})),new o(t,d)}},23029:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(83419),n=i(31401),r=i(91907),o=i(62644),a=i(93232),h=new s({Mixins:[n.AlphaSingle,n.Flip,n.Visible],initialize:function(t,e,i,s,n,r,o,a){this.layer=t,this.index=e,this.x=i,this.y=s,this.width=n,this.height=r,this.right,this.bottom,this.baseWidth=void 0!==o?o:n,this.baseHeight=void 0!==a?a:r,this.pixelX=0,this.pixelY=0,this.updatePixelXY(),this.properties={},this.rotation=0,this.collideLeft=!1,this.collideRight=!1,this.collideUp=!1,this.collideDown=!1,this.faceLeft=!1,this.faceRight=!1,this.faceTop=!1,this.faceBottom=!1,this.collisionCallback=void 0,this.collisionCallbackContext=this,this.tint=16777215,this.tintFill=!1,this.physics={}},containsPoint:function(t,e){return!(t<this.pixelX||e<this.pixelY||t>this.right||e>this.bottom)},copy:function(t){return this.index=t.index,this.alpha=t.alpha,this.properties=o(t.properties),this.visible=t.visible,this.setFlip(t.flipX,t.flipY),this.tint=t.tint,this.rotation=t.rotation,this.collideUp=t.collideUp,this.collideDown=t.collideDown,this.collideLeft=t.collideLeft,this.collideRight=t.collideRight,this.collisionCallback=t.collisionCallback,this.collisionCallbackContext=t.collisionCallbackContext,this},getCollisionGroup:function(){return this.tileset?this.tileset.getTileCollisionGroup(this.index):null},getTileData:function(){return this.tileset?this.tileset.getTileData(this.index):null},getLeft:function(t){var e=this.tilemapLayer;return e?e.tileToWorldXY(this.x,this.y,void 0,t).x:this.x*this.baseWidth},getRight:function(t){var e=this.tilemapLayer;return e?this.getLeft(t)+this.width*e.scaleX:this.getLeft(t)+this.width},getTop:function(t){var e=this.tilemapLayer;return e?e.tileToWorldXY(this.x,this.y,void 0,t).y:this.y*this.baseWidth-(this.height-this.baseHeight)},getBottom:function(t){var e=this.tilemapLayer;return e?this.getTop(t)+this.height*e.scaleY:this.getTop(t)+this.height},getBounds:function(t,e){return void 0===e&&(e=new a),e.x=this.getLeft(t),e.y=this.getTop(t),e.width=this.getRight(t)-e.x,e.height=this.getBottom(t)-e.y,e},getCenterX:function(t){return(this.getLeft(t)+this.getRight(t))/2},getCenterY:function(t){return(this.getTop(t)+this.getBottom(t))/2},intersects:function(t,e,i,s){return!(i<=this.pixelX||s<=this.pixelY||t>=this.right||e>=this.bottom)},isInteresting:function(t,e){return t&&e?this.canCollide||this.hasInterestingFace:t?this.collides:!!e&&this.hasInterestingFace},resetCollision:function(t){return void 0===t&&(t=!0),this.collideLeft=!1,this.collideRight=!1,this.collideUp=!1,this.collideDown=!1,this.faceTop=!1,this.faceBottom=!1,this.faceLeft=!1,this.faceRight=!1,t&&this.tilemapLayer&&this.tilemapLayer.calculateFacesAt(this.x,this.y),this},resetFaces:function(){return this.faceTop=!1,this.faceBottom=!1,this.faceLeft=!1,this.faceRight=!1,this},setCollision:function(t,e,i,s,n){return void 0===e&&(e=t),void 0===i&&(i=t),void 0===s&&(s=t),void 0===n&&(n=!0),this.collideLeft=t,this.collideRight=e,this.collideUp=i,this.collideDown=s,this.faceLeft=t,this.faceRight=e,this.faceTop=i,this.faceBottom=s,n&&this.tilemapLayer&&this.tilemapLayer.calculateFacesAt(this.x,this.y),this},setCollisionCallback:function(t,e){return null===t?(this.collisionCallback=void 0,this.collisionCallbackContext=void 0):(this.collisionCallback=t,this.collisionCallbackContext=e),this},setSize:function(t,e,i,s){return void 0!==t&&(this.width=t),void 0!==e&&(this.height=e),void 0!==i&&(this.baseWidth=i),void 0!==s&&(this.baseHeight=s),this.updatePixelXY(),this},updatePixelXY:function(){var t=this.layer.orientation;if(t===r.ORTHOGONAL)this.pixelX=this.x*this.baseWidth,this.pixelY=this.y*this.baseHeight;else if(t===r.ISOMETRIC)this.pixelX=(this.x-this.y)*this.baseWidth*.5,this.pixelY=(this.x+this.y)*this.baseHeight*.5;else if(t===r.STAGGERED)this.pixelX=this.x*this.baseWidth+this.y%2*(this.baseWidth/2),this.pixelY=this.y*(this.baseHeight/2);else if(t===r.HEXAGONAL){var e,i,s=this.layer.staggerAxis,n=this.layer.staggerIndex,o=this.layer.hexSideLength;"y"===s?(i=(this.baseHeight-o)/2+o,this.pixelX="odd"===n?this.x*this.baseWidth+this.y%2*(this.baseWidth/2):this.x*this.baseWidth-this.y%2*(this.baseWidth/2),this.pixelY=this.y*i):"x"===s&&(e=(this.baseWidth-o)/2+o,this.pixelX=this.x*e,this.pixelY="odd"===n?this.y*this.baseHeight+this.x%2*(this.baseHeight/2):this.y*this.baseHeight-this.x%2*(this.baseHeight/2))}return this.right=this.pixelX+this.baseWidth,this.bottom=this.pixelY+this.baseHeight,this},destroy:function(){this.collisionCallback=void 0,this.collisionCallbackContext=void 0,this.properties=void 0},canCollide:{get:function(){return this.collideLeft||this.collideRight||this.collideUp||this.collideDown||void 0!==this.collisionCallback}},collides:{get:function(){return this.collideLeft||this.collideRight||this.collideUp||this.collideDown}},hasInterestingFace:{get:function(){return this.faceTop||this.faceBottom||this.faceLeft||this.faceRight}},tileset:{get:function(){var t=this.layer.tilemapLayer;if(t){var e=t.gidMap[this.index];if(e)return e}return null}},tilemapLayer:{get:function(){return this.layer.tilemapLayer}},tilemap:{get:function(){var t=this.tilemapLayer;return t?t.tilemap:null}}});t.exports=h},49075:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(84101),n=i(83419),r=i(39506),o=i(80341),a=i(95540),h=i(14977),l=i(27462),u=i(91907),c=i(36305),d=i(19133),f=i(68287),p=i(23029),g=i(81086),m=i(20442),v=i(33629),y=new n({initialize:function(t,e){this.scene=t,this.tileWidth=e.tileWidth,this.tileHeight=e.tileHeight,this.width=e.width,this.height=e.height,this.orientation=e.orientation,this.renderOrder=e.renderOrder,this.format=e.format,this.version=e.version,this.properties=e.properties,this.widthInPixels=e.widthInPixels,this.heightInPixels=e.heightInPixels,this.imageCollections=e.imageCollections,this.images=e.images,this.layers=e.layers,this.tiles=e.tiles,this.tilesets=e.tilesets,this.objects=e.objects,this.currentLayerIndex=0,this.hexSideLength=e.hexSideLength;var i=this.orientation;this._convert={WorldToTileXY:g.GetWorldToTileXYFunction(i),WorldToTileX:g.GetWorldToTileXFunction(i),WorldToTileY:g.GetWorldToTileYFunction(i),TileToWorldXY:g.GetTileToWorldXYFunction(i),TileToWorldX:g.GetTileToWorldXFunction(i),TileToWorldY:g.GetTileToWorldYFunction(i),GetTileCorners:g.GetTileCornersFunction(i)}},setRenderOrder:function(t){var e=["right-down","left-down","right-up","left-up"];return"number"==typeof t&&(t=e[t]),e.indexOf(t)>-1&&(this.renderOrder=t),this},addTilesetImage:function(t,e,i,n,r,a,h,l){if(void 0===t)return null;null==e&&(e=t);var u=this.scene.sys.textures;if(!u.exists(e))return null;var c=u.get(e),d=this.getTilesetIndex(t);if(null===d&&this.format===o.TILED_JSON)return null;var f=this.tilesets[d];return f?((i||n)&&f.setTileSize(i,n),(r||a)&&f.setSpacing(r,a),f.setImage(c),f):(void 0===i&&(i=this.tileWidth),void 0===n&&(n=this.tileHeight),void 0===r&&(r=0),void 0===a&&(a=0),void 0===h&&(h=0),void 0===l&&(l={x:0,y:0}),(f=new v(t,h,i,n,r,a,void 0,void 0,l)).setImage(c),this.tilesets.push(f),this.tiles=s(this),f)},copy:function(t,e,i,s,n,r,o,a){return null!==(a=this.getLayer(a))?(g.Copy(t,e,i,s,n,r,o,a),this):null},createBlankLayer:function(t,e,i,s,n,r,o,a){if(void 0===i&&(i=0),void 0===s&&(s=0),void 0===n&&(n=this.width),void 0===r&&(r=this.height),void 0===o&&(o=this.tileWidth),void 0===a&&(a=this.tileHeight),null!==this.getLayerIndex(t))return null;for(var l,u=new h({name:t,tileWidth:o,tileHeight:a,width:n,height:r,orientation:this.orientation,hexSideLength:this.hexSideLength}),c=0;c<r;c++){l=[];for(var d=0;d<n;d++)l.push(new p(u,-1,d,c,o,a,this.tileWidth,this.tileHeight));u.data.push(l)}this.layers.push(u),this.currentLayerIndex=this.layers.length-1;var f=new m(this.scene,this,this.currentLayerIndex,e,i,s);return f.setRenderOrder(this.renderOrder),this.scene.sys.displayList.add(f),f},createLayer:function(t,e,i,s){var n=this.getLayerIndex(t);if(null===n)return null;var r=this.layers[n];if(r.tilemapLayer)return null;this.currentLayerIndex=n,void 0===i&&(i=r.x),void 0===s&&(s=r.y);var o=new m(this.scene,this,n,e,i,s);return o.setRenderOrder(this.renderOrder),this.scene.sys.displayList.add(o),o},createFromObjects:function(t,e,i){void 0===i&&(i=!0);var s=[],n=this.getObjectLayer(t);if(!n)return s;var o=new l(i?this.tilesets:void 0);Array.isArray(e)||(e=[e]);for(var h=n.objects,d=0;d<e.length;d++){var p,g=e[d],m=a(g,"id",null),v=a(g,"gid",null),y=a(g,"name",null),x=a(g,"type",null);o.enabled=!a(g,"ignoreTileset",null);for(var T=[],w=0;w<h.length;w++)p=h[w],(null===m&&null===v&&null===y&&null===x||null!==m&&p.id===m||null!==v&&p.gid===v||null!==y&&p.name===y||null!==x&&o.getTypeIncludingTile(p)===x)&&T.push(p);for(var b=a(g,"classType",f),S=a(g,"scene",this.scene),E=a(g,"container",null),C=a(g,"key",null),_=a(g,"frame",null),A=0;A<T.length;A++){p=T[A];var M=new b(S);if(M.setName(p.name),M.setPosition(p.x,p.y),o.setTextureAndFrame(M,C,_,p),p.width&&(M.displayWidth=p.width),p.height&&(M.displayHeight=p.height),this.orientation===u.ISOMETRIC){var P=this.tileWidth/this.tileHeight,R={x:M.x-M.y,y:(M.x+M.y)/P};M.x=R.x,M.y=R.y}var I={x:M.originX*p.width,y:(M.originY-(p.gid?1:0))*p.height};if(p.rotation){var O=r(p.rotation);c(I,O),M.rotation=O}M.x+=I.x,M.y+=I.y,void 0===p.flippedHorizontal&&void 0===p.flippedVertical||M.setFlip(p.flippedHorizontal,p.flippedVertical),p.visible||(M.visible=!1),o.setPropertiesFromTiledObject(M,p),E?E.add(M):S.add.existing(M),s.push(M)}}return s},createFromTiles:function(t,e,i,s,n,r){return null===(r=this.getLayer(r))?null:g.CreateFromTiles(t,e,i,s,n,r)},fill:function(t,e,i,s,n,r,o){return void 0===r&&(r=!0),null===(o=this.getLayer(o))?null:(g.Fill(t,e,i,s,n,r,o),this)},filterObjects:function(t,e,i){return"string"!=typeof t||(t=this.getObjectLayer(t))?t.objects.filter(e,i):null},filterTiles:function(t,e,i,s,n,r,o,a){return null===(a=this.getLayer(a))?null:g.FilterTiles(t,e,i,s,n,r,o,a)},findByIndex:function(t,e,i,s){return null===(s=this.getLayer(s))?null:g.FindByIndex(t,e,i,s)},findObject:function(t,e,i){return("string"!=typeof t||(t=this.getObjectLayer(t)))&&t.objects.find(e,i)||null},findTile:function(t,e,i,s,n,r,o,a){return null===(a=this.getLayer(a))?null:g.FindTile(t,e,i,s,n,r,o,a)},forEachTile:function(t,e,i,s,n,r,o,a){return null===(a=this.getLayer(a))?null:(g.ForEachTile(t,e,i,s,n,r,o,a),this)},getImageIndex:function(t){return this.getIndex(this.images,t)},getImageLayerNames:function(){return this.images&&Array.isArray(this.images)?this.images.map(function(t){return t.name}):[]},getIndex:function(t,e){for(var i=0;i<t.length;i++)if(t[i].name===e)return i;return null},getLayer:function(t){var e=this.getLayerIndex(t);return null!==e?this.layers[e]:null},getObjectLayer:function(t){var e=this.getIndex(this.objects,t);return null!==e?this.objects[e]:null},getObjectLayerNames:function(){return this.objects&&Array.isArray(this.objects)?this.objects.map(function(t){return t.name}):[]},getLayerIndex:function(t){return void 0===t?this.currentLayerIndex:"string"==typeof t?this.getLayerIndexByName(t):"number"==typeof t&&t<this.layers.length?t:t instanceof m&&t.tilemap===this?t.layerIndex:null},getLayerIndexByName:function(t){return this.getIndex(this.layers,t)},getTileAt:function(t,e,i,s){return null===(s=this.getLayer(s))?null:g.GetTileAt(t,e,i,s)},getTileAtWorldXY:function(t,e,i,s,n){return null===(n=this.getLayer(n))?null:g.GetTileAtWorldXY(t,e,i,s,n)},getTileLayerNames:function(){return this.layers&&Array.isArray(this.layers)?this.layers.map(function(t){return t.name}):[]},getTilesWithin:function(t,e,i,s,n,r){return null===(r=this.getLayer(r))?null:g.GetTilesWithin(t,e,i,s,n,r)},getTilesWithinShape:function(t,e,i,s){return null===(s=this.getLayer(s))?null:g.GetTilesWithinShape(t,e,i,s)},getTilesWithinWorldXY:function(t,e,i,s,n,r,o){return null===(o=this.getLayer(o))?null:g.GetTilesWithinWorldXY(t,e,i,s,n,r,o)},getTileset:function(t){var e=this.getIndex(this.tilesets,t);return null!==e?this.tilesets[e]:null},getTilesetIndex:function(t){return this.getIndex(this.tilesets,t)},hasTileAt:function(t,e,i){return null===(i=this.getLayer(i))?null:g.HasTileAt(t,e,i)},hasTileAtWorldXY:function(t,e,i,s){return null===(s=this.getLayer(s))?null:g.HasTileAtWorldXY(t,e,i,s)},layer:{get:function(){return this.layers[this.currentLayerIndex]},set:function(t){this.setLayer(t)}},putTileAt:function(t,e,i,s,n){return void 0===s&&(s=!0),null===(n=this.getLayer(n))?null:g.PutTileAt(t,e,i,s,n)},putTileAtWorldXY:function(t,e,i,s,n,r){return void 0===s&&(s=!0),null===(r=this.getLayer(r))?null:g.PutTileAtWorldXY(t,e,i,s,n,r)},putTilesAt:function(t,e,i,s,n){return void 0===s&&(s=!0),null===(n=this.getLayer(n))?null:(g.PutTilesAt(t,e,i,s,n),this)},randomize:function(t,e,i,s,n,r){return null===(r=this.getLayer(r))?null:(g.Randomize(t,e,i,s,n,r),this)},calculateFacesAt:function(t,e,i){return null===(i=this.getLayer(i))?null:(g.CalculateFacesAt(t,e,i),this)},calculateFacesWithin:function(t,e,i,s,n){return null===(n=this.getLayer(n))?null:(g.CalculateFacesWithin(t,e,i,s,n),this)},removeLayer:function(t){var e=this.getLayerIndex(t);if(null!==e){d(this.layers,e);for(var i=e;i<this.layers.length;i++)this.layers[i].tilemapLayer&&this.layers[i].tilemapLayer.layerIndex--;return this.currentLayerIndex===e&&(this.currentLayerIndex=0),this}return null},destroyLayer:function(t){var e=this.getLayerIndex(t);return null!==e?((t=this.layers[e]).tilemapLayer.destroy(),d(this.layers,e),this.currentLayerIndex===e&&(this.currentLayerIndex=0),this):null},removeAllLayers:function(){for(var t=this.layers,e=0;e<t.length;e++)t[e].tilemapLayer&&t[e].tilemapLayer.destroy(!1);return t.length=0,this.currentLayerIndex=0,this},removeTile:function(t,e,i){void 0===e&&(e=-1),void 0===i&&(i=!0);var s=[];Array.isArray(t)||(t=[t]);for(var n=0;n<t.length;n++){var r=t[n];s.push(this.removeTileAt(r.x,r.y,!0,i,r.tilemapLayer)),e>-1&&this.putTileAt(e,r.x,r.y,i,r.tilemapLayer)}return s},removeTileAt:function(t,e,i,s,n){return void 0===i&&(i=!0),void 0===s&&(s=!0),null===(n=this.getLayer(n))?null:g.RemoveTileAt(t,e,i,s,n)},removeTileAtWorldXY:function(t,e,i,s,n,r){return void 0===i&&(i=!0),void 0===s&&(s=!0),null===(r=this.getLayer(r))?null:g.RemoveTileAtWorldXY(t,e,i,s,n,r)},renderDebug:function(t,e,i){return null===(i=this.getLayer(i))?null:(this.orientation===u.ORTHOGONAL&&g.RenderDebug(t,e,i),this)},renderDebugFull:function(t,e){for(var i=this.layers,s=0;s<i.length;s++)g.RenderDebug(t,e,i[s]);return this},replaceByIndex:function(t,e,i,s,n,r,o){return null===(o=this.getLayer(o))?null:(g.ReplaceByIndex(t,e,i,s,n,r,o),this)},setCollision:function(t,e,i,s,n){return void 0===e&&(e=!0),void 0===i&&(i=!0),void 0===n&&(n=!0),null===(s=this.getLayer(s))?null:(g.SetCollision(t,e,i,s,n),this)},setCollisionBetween:function(t,e,i,s,n){return void 0===i&&(i=!0),void 0===s&&(s=!0),null===(n=this.getLayer(n))?null:(g.SetCollisionBetween(t,e,i,s,n),this)},setCollisionByProperty:function(t,e,i,s){return void 0===e&&(e=!0),void 0===i&&(i=!0),null===(s=this.getLayer(s))?null:(g.SetCollisionByProperty(t,e,i,s),this)},setCollisionByExclusion:function(t,e,i,s){return void 0===e&&(e=!0),void 0===i&&(i=!0),null===(s=this.getLayer(s))?null:(g.SetCollisionByExclusion(t,e,i,s),this)},setCollisionFromCollisionGroup:function(t,e,i){return void 0===t&&(t=!0),void 0===e&&(e=!0),null===(i=this.getLayer(i))?null:(g.SetCollisionFromCollisionGroup(t,e,i),this)},setTileIndexCallback:function(t,e,i,s){return null===(s=this.getLayer(s))?null:(g.SetTileIndexCallback(t,e,i,s),this)},setTileLocationCallback:function(t,e,i,s,n,r,o){return null===(o=this.getLayer(o))?null:(g.SetTileLocationCallback(t,e,i,s,n,r,o),this)},setLayer:function(t){var e=this.getLayerIndex(t);return null!==e&&(this.currentLayerIndex=e),this},setBaseTileSize:function(t,e){this.tileWidth=t,this.tileHeight=e,this.widthInPixels=this.width*t,this.heightInPixels=this.height*e;for(var i=0;i<this.layers.length;i++){this.layers[i].baseTileWidth=t,this.layers[i].baseTileHeight=e;for(var s=this.layers[i].data,n=this.layers[i].width,r=this.layers[i].height,o=0;o<r;o++)for(var a=0;a<n;a++){var h=s[o][a];null!==h&&h.setSize(void 0,void 0,t,e)}}return this},setLayerTileSize:function(t,e,i){if(null===(i=this.getLayer(i)))return this;i.tileWidth=t,i.tileHeight=e;for(var s=i.data,n=i.width,r=i.height,o=0;o<r;o++)for(var a=0;a<n;a++){var h=s[o][a];null!==h&&h.setSize(t,e)}return this},shuffle:function(t,e,i,s,n){return null===(n=this.getLayer(n))?null:(g.Shuffle(t,e,i,s,n),this)},swapByIndex:function(t,e,i,s,n,r,o){return null===(o=this.getLayer(o))?null:(g.SwapByIndex(t,e,i,s,n,r,o),this)},tileToWorldX:function(t,e,i){return null===(i=this.getLayer(i))?null:this._convert.TileToWorldX(t,e,i)},tileToWorldY:function(t,e,i){return null===(i=this.getLayer(i))?null:this._convert.TileToWorldY(t,e,i)},tileToWorldXY:function(t,e,i,s,n){return null===(n=this.getLayer(n))?null:this._convert.TileToWorldXY(t,e,i,s,n)},getTileCorners:function(t,e,i,s){return null===(s=this.getLayer(s))?null:this._convert.GetTileCorners(t,e,i,s)},weightedRandomize:function(t,e,i,s,n,r){return null===(r=this.getLayer(r))?null:(g.WeightedRandomize(e,i,s,n,t,r),this)},worldToTileX:function(t,e,i,s){return null===(s=this.getLayer(s))?null:this._convert.WorldToTileX(t,e,i,s)},worldToTileY:function(t,e,i,s){return null===(s=this.getLayer(s))?null:this._convert.WorldToTileY(t,e,i,s)},worldToTileXY:function(t,e,i,s,n,r){return null===(r=this.getLayer(r))?null:this._convert.WorldToTileXY(t,e,i,s,n,r)},destroy:function(){this.removeAllLayers(),this.tiles.length=0,this.tilesets.length=0,this.objects.length=0,this.scene=null}});t.exports=y},45939:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(44603),n=i(31989);s.register("tilemap",function(t){var e=void 0!==t?t:{};return n(this.scene,e.key,e.tileWidth,e.tileHeight,e.width,e.height,e.data,e.insertNull)})},46029:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(39429),n=i(31989);s.register("tilemap",function(t,e,i,s,r,o,a){return null===t&&(t=void 0),null===e&&(e=void 0),null===i&&(i=void 0),null===s&&(s=void 0),null===r&&(r=void 0),n(this.scene,t,e,i,s,r,o,a)})},20442:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(83419),n=i(78389),r=i(31401),o=i(95643),a=i(81086),h=i(19218),l=i(26099),u=new s({Extends:o,Mixins:[r.Alpha,r.BlendMode,r.ComputedSize,r.Depth,r.Flip,r.GetBounds,r.Mask,r.Origin,r.Pipeline,r.PostPipeline,r.Transform,r.Visible,r.ScrollFactor,n,h],initialize:function(t,e,i,s,n,r){o.call(this,t,"TilemapLayer"),this.isTilemap=!0,this.tilemap=e,this.layerIndex=i,this.layer=e.layers[i],this.layer.tilemapLayer=this,this.tileset=[],this.tilesDrawn=0,this.tilesTotal=this.layer.width*this.layer.height,this.culledTiles=[],this.skipCull=!1,this.cullPaddingX=1,this.cullPaddingY=1,this.cullCallback=a.GetCullTilesFunction(this.layer.orientation),this._renderOrder=0,this.gidMap=[],this.tempVec=new l,this.collisionCategory=1,this.collisionMask=1,this.setTilesets(s),this.setAlpha(this.layer.alpha),this.setPosition(n,r),this.setOrigin(0,0),this.setSize(e.tileWidth*this.layer.width,e.tileHeight*this.layer.height),this.initPipeline(),this.initPostPipeline(!1)},setTilesets:function(t){var e=[],i=[],s=this.tilemap;Array.isArray(t)||(t=[t]);for(var n=0;n<t.length;n++){var r=t[n];if("string"==typeof r&&(r=s.getTileset(r)),r){i.push(r);for(var o=r.firstgid,a=0;a<r.total;a++)e[o+a]=r}}this.gidMap=e,this.tileset=i},setRenderOrder:function(t){return"string"==typeof t&&(t=["right-down","left-down","right-up","left-up"].indexOf(t)),t>=0&&t<4&&(this._renderOrder=t),this},calculateFacesAt:function(t,e){return a.CalculateFacesAt(t,e,this.layer),this},calculateFacesWithin:function(t,e,i,s){return a.CalculateFacesWithin(t,e,i,s,this.layer),this},createFromTiles:function(t,e,i,s,n){return a.CreateFromTiles(t,e,i,s,n,this.layer)},cull:function(t){return this.cullCallback(this.layer,t,this.culledTiles,this._renderOrder)},copy:function(t,e,i,s,n,r,o){return a.Copy(t,e,i,s,n,r,o,this.layer),this},fill:function(t,e,i,s,n,r){return a.Fill(t,e,i,s,n,r,this.layer),this},filterTiles:function(t,e,i,s,n,r,o){return a.FilterTiles(t,e,i,s,n,r,o,this.layer)},findByIndex:function(t,e,i){return a.FindByIndex(t,e,i,this.layer)},findTile:function(t,e,i,s,n,r,o){return a.FindTile(t,e,i,s,n,r,o,this.layer)},forEachTile:function(t,e,i,s,n,r,o){return a.ForEachTile(t,e,i,s,n,r,o,this.layer),this},setTint:function(t,e,i,s,n,r){return void 0===t&&(t=16777215),this.forEachTile(function(e){e.tint=t,e.tintFill=!1},this,e,i,s,n,r)},setTintFill:function(t,e,i,s,n,r){return void 0===t&&(t=16777215),this.forEachTile(function(e){e.tint=t,e.tintFill=!0},this,e,i,s,n,r)},getTileAt:function(t,e,i){return a.GetTileAt(t,e,i,this.layer)},getTileAtWorldXY:function(t,e,i,s){return a.GetTileAtWorldXY(t,e,i,s,this.layer)},getIsoTileAtWorldXY:function(t,e,i,s,n){void 0===i&&(i=!0);var r=this.tempVec;return a.IsometricWorldToTileXY(t,e,!0,r,n,this.layer,i),this.getTileAt(r.x,r.y,s)},getTilesWithin:function(t,e,i,s,n){return a.GetTilesWithin(t,e,i,s,n,this.layer)},getTilesWithinShape:function(t,e,i){return a.GetTilesWithinShape(t,e,i,this.layer)},getTilesWithinWorldXY:function(t,e,i,s,n,r){return a.GetTilesWithinWorldXY(t,e,i,s,n,r,this.layer)},hasTileAt:function(t,e){return a.HasTileAt(t,e,this.layer)},hasTileAtWorldXY:function(t,e,i){return a.HasTileAtWorldXY(t,e,i,this.layer)},putTileAt:function(t,e,i,s){return a.PutTileAt(t,e,i,s,this.layer)},putTileAtWorldXY:function(t,e,i,s,n){return a.PutTileAtWorldXY(t,e,i,s,n,this.layer)},putTilesAt:function(t,e,i,s){return a.PutTilesAt(t,e,i,s,this.layer),this},randomize:function(t,e,i,s,n){return a.Randomize(t,e,i,s,n,this.layer),this},removeTileAt:function(t,e,i,s){return a.RemoveTileAt(t,e,i,s,this.layer)},removeTileAtWorldXY:function(t,e,i,s,n){return a.RemoveTileAtWorldXY(t,e,i,s,n,this.layer)},renderDebug:function(t,e){return a.RenderDebug(t,e,this.layer),this},replaceByIndex:function(t,e,i,s,n,r){return a.ReplaceByIndex(t,e,i,s,n,r,this.layer),this},setSkipCull:function(t){return void 0===t&&(t=!0),this.skipCull=t,this},setCullPadding:function(t,e){return void 0===t&&(t=1),void 0===e&&(e=1),this.cullPaddingX=t,this.cullPaddingY=e,this},setCollision:function(t,e,i,s){return a.SetCollision(t,e,i,this.layer,s),this},setCollisionBetween:function(t,e,i,s){return a.SetCollisionBetween(t,e,i,s,this.layer),this},setCollisionByProperty:function(t,e,i){return a.SetCollisionByProperty(t,e,i,this.layer),this},setCollisionByExclusion:function(t,e,i){return a.SetCollisionByExclusion(t,e,i,this.layer),this},setCollisionFromCollisionGroup:function(t,e){return a.SetCollisionFromCollisionGroup(t,e,this.layer),this},setTileIndexCallback:function(t,e,i){return a.SetTileIndexCallback(t,e,i,this.layer),this},setTileLocationCallback:function(t,e,i,s,n,r){return a.SetTileLocationCallback(t,e,i,s,n,r,this.layer),this},shuffle:function(t,e,i,s){return a.Shuffle(t,e,i,s,this.layer),this},swapByIndex:function(t,e,i,s,n,r){return a.SwapByIndex(t,e,i,s,n,r,this.layer),this},tileToWorldX:function(t,e){return this.tilemap.tileToWorldX(t,e,this)},tileToWorldY:function(t,e){return this.tilemap.tileToWorldY(t,e,this)},tileToWorldXY:function(t,e,i,s){return this.tilemap.tileToWorldXY(t,e,i,s,this)},getTileCorners:function(t,e,i){return this.tilemap.getTileCorners(t,e,i,this)},weightedRandomize:function(t,e,i,s,n){return a.WeightedRandomize(e,i,s,n,t,this.layer),this},worldToTileX:function(t,e,i){return this.tilemap.worldToTileX(t,e,i,this)},worldToTileY:function(t,e,i){return this.tilemap.worldToTileY(t,e,i,this)},worldToTileXY:function(t,e,i,s,n){return this.tilemap.worldToTileXY(t,e,i,s,n,this)},destroy:function(t){void 0===t&&(t=!0),this.tilemap&&(this.layer.tilemapLayer===this&&(this.layer.tilemapLayer=void 0),t&&this.tilemap.removeLayer(this),this.tilemap=void 0,this.layer=void 0,this.culledTiles.length=0,this.cullCallback=null,this.gidMap=[],this.tileset=[],o.prototype.destroy.call(this))}});t.exports=u},16153:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(61340),n=new s,r=new s,o=new s;t.exports=function(t,e,i,s){var a=e.cull(i),h=a.length,l=i.alpha*e.alpha;if(!(0===h||l<=0)){var u=n,c=r,d=o;c.applyITRS(e.x,e.y,e.rotation,e.scaleX,e.scaleY),u.copyFrom(i.matrix);var f=t.currentContext,p=e.gidMap;f.save(),s?(u.multiplyWithOffset(s,-i.scrollX*e.scrollFactorX,-i.scrollY*e.scrollFactorY),c.e=e.x,c.f=e.y,u.multiply(c,d),d.copyToContext(f)):(c.e-=i.scrollX*e.scrollFactorX,c.f-=i.scrollY*e.scrollFactorY,c.copyToContext(f)),(!t.antialias||e.scaleX>1||e.scaleY>1)&&(f.imageSmoothingEnabled=!1);for(var g=0;g<h;g++){var m=a[g],v=p[m.index];if(v){var y=v.image.getSourceImage(),x=v.getTileTextureCoordinates(m.index),T=v.tileWidth,w=v.tileHeight;if(null!==x&&0!==T&&0!==w){var b=.5*T,S=.5*w;x.x+=v.tileOffset.x,x.y+=v.tileOffset.y,f.save(),f.translate(m.pixelX+b,m.pixelY+S),0!==m.rotation&&f.rotate(m.rotation),(m.flipX||m.flipY)&&f.scale(m.flipX?-1:1,m.flipY?-1:1),f.globalAlpha=l*m.alpha,f.drawImage(y,x.x,x.y,T,w,-b,-S,T,w),f.restore()}}}f.restore()}}},19218:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s,n;i(29747),s=i(99558),n=i(16153),t.exports={renderWebGL:s,renderCanvas:n}},99558:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(70554);t.exports=function(t,e,i){var n=e.cull(i),r=n.length,o=i.alpha*e.alpha;if(!(0===r||o<=0)){var a=e.gidMap,h=t.pipelines.set(e.pipeline,e),l=s.getTintAppendFloatAlpha,u=e.scrollFactorX,c=e.scrollFactorY,d=e.x,f=e.y,p=e.scaleX,g=e.scaleY;t.pipelines.preBatch(e);for(var m=0;m<r;m++){var v=n[m],y=a[v.index];if(y){var x=y.getTileTextureCoordinates(v.index),T=y.tileWidth,w=y.tileHeight;if(x&&0!==T&&0!==w){var b=.5*T,S=.5*w,E=y.glTexture,C=h.setTexture2D(E,e),_=T,A=w,M=x.x,P=x.y,R=y.tileOffset.x,I=y.tileOffset.y,O=l(v.tint,o*v.alpha);h.batchTexture(e,E,E.width,E.height,d+v.pixelX*p+(b*p-R),f+v.pixelY*g+(S*g-I),T,w,p,g,v.rotation,v.flipX,v.flipY,u,c,b,S,M,P,_,A,O,O,O,O,v.tintFill,0,0,i,null,!0,C,!0)}}}t.pipelines.postBatch(e)}}},33629:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(83419),n=i(26099),r=new s({initialize:function(t,e,i,s,r,o,a,h,l){(void 0===i||i<=0)&&(i=32),(void 0===s||s<=0)&&(s=32),void 0===r&&(r=0),void 0===o&&(o=0),void 0===a&&(a={}),void 0===h&&(h={}),this.name=t,this.firstgid=e,this.tileWidth=i,this.tileHeight=s,this.tileMargin=r,this.tileSpacing=o,this.tileProperties=a,this.tileData=h,this.tileOffset=new n,void 0!==l&&this.tileOffset.set(l.x,l.y),this.image=null,this.glTexture=null,this.rows=0,this.columns=0,this.total=0,this.texCoordinates=[]},getTileProperties:function(t){return this.containsTileIndex(t)?this.tileProperties[t-this.firstgid]:null},getTileData:function(t){return this.containsTileIndex(t)?this.tileData[t-this.firstgid]:null},getTileCollisionGroup:function(t){var e=this.getTileData(t);return e&&e.objectgroup?e.objectgroup:null},containsTileIndex:function(t){return t>=this.firstgid&&t<this.firstgid+this.total},getTileTextureCoordinates:function(t){return this.containsTileIndex(t)?this.texCoordinates[t-this.firstgid]:null},setImage:function(t){this.image=t;var e=t.get(),i=t.getFrameBounds();return this.glTexture=e.source.glTexture,e.width>i.width||e.height>i.height?this.updateTileData(e.width,e.height):this.updateTileData(i.width,i.height,i.x,i.y),this},setTileSize:function(t,e){return void 0!==t&&(this.tileWidth=t),void 0!==e&&(this.tileHeight=e),this.image&&this.updateTileData(this.image.source[0].width,this.image.source[0].height),this},setSpacing:function(t,e){return void 0!==t&&(this.tileMargin=t),void 0!==e&&(this.tileSpacing=e),this.image&&this.updateTileData(this.image.source[0].width,this.image.source[0].height),this},updateTileData:function(t,e,i,s){void 0===i&&(i=0),void 0===s&&(s=0);var n=(e-2*this.tileMargin+this.tileSpacing)/(this.tileHeight+this.tileSpacing),r=(t-2*this.tileMargin+this.tileSpacing)/(this.tileWidth+this.tileSpacing);n=Math.floor(n),r=Math.floor(r),this.rows=n,this.columns=r,this.total=n*r,this.texCoordinates.length=0;for(var o=this.tileMargin+i,a=this.tileMargin+s,h=0;h<this.rows;h++){for(var l=0;l<this.columns;l++)this.texCoordinates.push({x:o,y:a}),o+=this.tileWidth+this.tileSpacing;o=this.tileMargin+i,a+=this.tileHeight+this.tileSpacing}return this}});t.exports=r},72023:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(7423);t.exports=function(t,e,i){var n=s(t,e,!0,i),r=s(t,e-1,!0,i),o=s(t,e+1,!0,i),a=s(t-1,e,!0,i),h=s(t+1,e,!0,i),l=n&&n.collides;return l&&(n.faceTop=!0,n.faceBottom=!0,n.faceLeft=!0,n.faceRight=!0),r&&r.collides&&(l&&(n.faceTop=!1),r.faceBottom=!l),o&&o.collides&&(l&&(n.faceBottom=!1),o.faceTop=!l),a&&a.collides&&(l&&(n.faceLeft=!1),a.faceRight=!l),h&&h.collides&&(l&&(n.faceRight=!1),h.faceLeft=!l),n&&!n.collides&&n.resetFaces(),n}},42573:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(7423),n=i(7386);t.exports=function(t,e,i,r,o){for(var a=null,h=null,l=null,u=null,c=n(t,e,i,r,null,o),d=0;d<c.length;d++){var f=c[d];f&&(f.collides?(a=s(f.x,f.y-1,!0,o),h=s(f.x,f.y+1,!0,o),l=s(f.x-1,f.y,!0,o),u=s(f.x+1,f.y,!0,o),f.faceTop=!a||!a.collides,f.faceBottom=!h||!h.collides,f.faceLeft=!l||!l.collides,f.faceRight=!u||!u.collides):f.resetFaces())}}},33528:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=new(i(26099));t.exports=function(t,e,i,n){var r=i.tilemapLayer,o=r.cullPaddingX,a=r.cullPaddingY,h=r.tilemap.tileToWorldXY(t,e,s,n,r);return h.x>n.worldView.x+r.scaleX*i.tileWidth*(-o-.5)&&h.x<n.worldView.right+r.scaleX*i.tileWidth*(o-.5)&&h.y>n.worldView.y+r.scaleY*i.tileHeight*(-a-1)&&h.y<n.worldView.bottom+r.scaleY*i.tileHeight*(a-.5)}},1785:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(42573),n=i(7386),r=i(62991),o=i(23029);t.exports=function(t,e,i,a,h,l,u,c){void 0===u&&(u=!0);var d=n(t,e,i,a,null,c),f=[];d.forEach(function(t){var e=new o(t.layer,t.index,t.x,t.y,t.width,t.height,t.baseWidth,t.baseHeight);e.copy(t),f.push(e)});for(var p=h-t,g=l-e,m=0;m<f.length;m++){var v=f[m],y=v.x+p,x=v.y+g;r(y,x,c)&&c.data[x][y]&&(v.x=y,v.y=x,v.updatePixelXY(),c.data[x][y]=v)}u&&s(h-1,l-1,i+2,a+2,c),d.length=0,f.length=0}},78419:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(62644),n=i(7386),r=i(27987);t.exports=function(t,e,i,o,a,h){i||(i={}),Array.isArray(t)||(t=[t]);var l=h.tilemapLayer;o||(o=l.scene),a||(a=o.cameras.main);var u,c=h.width,d=h.height,f=n(0,0,c,d,null,h),p=[],g=function(t,e,i){for(var s=0;s<i.length;s++){var n=i[s];t.hasOwnProperty(n)||(t[n]=e[n])}};for(u=0;u<f.length;u++){var m=f[u],v=s(i);if(-1!==t.indexOf(m.index)){var y=l.tileToWorldXY(m.x,m.y,void 0,a,h);v.x=y.x,v.y=y.y,g(v,m,["rotation","flipX","flipY","alpha","visible","tint"]),v.hasOwnProperty("origin")||(v.x+=.5*m.width,v.y+=.5*m.height),v.hasOwnProperty("useSpriteSheet")&&(v.key=m.tileset.image,v.frame=m.index-m.tileset.firstgid),p.push(o.make.sprite(v))}}if(Array.isArray(e))for(u=0;u<t.length;u++)r(t[u],e[u],0,0,c,d,h);else if(null!==e)for(u=0;u<t.length;u++)r(t[u],e,0,0,c,d,h);return p}},19545:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(87841),n=i(63448),r=i(56583),o=new s;t.exports=function(t,e){var i=t.tilemapLayer.tilemap,s=t.tilemapLayer,a=Math.floor(i.tileWidth*s.scaleX),h=Math.floor(i.tileHeight*s.scaleY),l=r(e.worldView.x-s.x,a,0,!0)-s.cullPaddingX,u=n(e.worldView.right-s.x,a,0,!0)+s.cullPaddingX,c=r(e.worldView.y-s.y,h,0,!0)-s.cullPaddingY,d=n(e.worldView.bottom-s.y,h,0,!0)+s.cullPaddingY;return o.setTo(l,c,u-l,d-c)}},30003:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(19545),n=i(32483);t.exports=function(t,e,i,r){void 0===i&&(i=[]),void 0===r&&(r=0),i.length=0;var o=t.tilemapLayer,a=s(t,e);return(o.skipCull||1!==o.scrollFactorX||1!==o.scrollFactorY)&&(a.left=0,a.right=t.width,a.top=0,a.bottom=t.height),n(t,a,r,i),i}},35137:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(7386),n=i(42573),r=i(20576);t.exports=function(t,e,i,o,a,h,l){for(var u=-1!==l.collideIndexes.indexOf(t),c=s(e,i,o,a,null,l),d=0;d<c.length;d++)c[d].index=t,r(c[d],u);h&&n(e-1,i-1,o+2,a+2,l)}},40253:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(7386);t.exports=function(t,e,i,n,r,o,a,h){return s(i,n,r,o,a,h).filter(t,e)}},52692:t=>{t.exports=function(t,e,i,s){void 0===e&&(e=0),void 0===i&&(i=!1);var n,r,o,a=0;if(i){for(r=s.height-1;r>=0;r--)for(n=s.width-1;n>=0;n--)if((o=s.data[r][n])&&o.index===t){if(a===e)return o;a+=1}}else for(r=0;r<s.height;r++)for(n=0;n<s.width;n++)if((o=s.data[r][n])&&o.index===t){if(a===e)return o;a+=1}return null}},66151:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(7386);t.exports=function(t,e,i,n,r,o,a,h){return s(i,n,r,o,a,h).find(t,e)||null}},97560:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(7386);t.exports=function(t,e,i,n,r,o,a,h){s(i,n,r,o,a,h).forEach(t,e)}},43305:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(91907),n=i(30003),r=i(9474),o=i(14018),a=i(29747),h=i(54503);t.exports=function(t){return t===s.ORTHOGONAL?n:t===s.HEXAGONAL?r:t===s.STAGGERED?h:t===s.ISOMETRIC?o:a}},7423:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(62991);t.exports=function(t,e,i,n){if(s(t,e,n)){var r=n.data[e][t]||null;return r?-1===r.index?i?r:null:r:null}return null}},60540:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(7423),n=new(i(26099));t.exports=function(t,e,i,r,o){return o.tilemapLayer.worldToTileXY(t,e,!0,n,r),s(n.x,n.y,i,o)}},55826:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(26099);t.exports=function(t,e,i,n){var r=n.baseTileWidth,o=n.baseTileHeight,a=n.tilemapLayer,h=0,l=0;a&&(i||(i=a.scene.cameras.main),h=a.x+i.scrollX*(1-a.scrollFactorX),l=a.y+i.scrollY*(1-a.scrollFactorY),r*=a.scaleX,o*=a.scaleY);var u=h+t*r,c=l+e*o;return[new s(u,c),new s(u+r,c),new s(u+r,c+o),new s(u,c+o)]}},11758:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(91907),n=i(27229),r=i(29747),o=i(55826);t.exports=function(t){return t===s.ORTHOGONAL?o:t===s.ISOMETRIC?r:t===s.HEXAGONAL?n:(s.STAGGERED,r)}},39167:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(91907),n=i(29747),r=i(97281);t.exports=function(t){return t===s.ORTHOGONAL?r:n}},62e3:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(91907),n=i(19951),r=i(14127),o=i(29747),a=i(97202),h=i(70326);t.exports=function(t){return t===s.ORTHOGONAL?h:t===s.ISOMETRIC?r:t===s.HEXAGONAL?n:t===s.STAGGERED?a:o}},5984:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(91907),n=i(29747),r=i(28054),o=i(29650);t.exports=function(t){return t===s.ORTHOGONAL?o:t===s.STAGGERED?r:n}},7386:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(95540);t.exports=function(t,e,i,n,r,o){void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=o.width),void 0===n&&(n=o.height),r||(r={});var a=s(r,"isNotEmpty",!1),h=s(r,"isColliding",!1),l=s(r,"hasInterestingFace",!1);t<0&&(i+=t,t=0),e<0&&(n+=e,e=0),t+i>o.width&&(i=Math.max(o.width-t,0)),e+n>o.height&&(n=Math.max(o.height-e,0));for(var u=[],c=e;c<e+n;c++)for(var d=t;d<t+i;d++){var f=o.data[c][d];if(null!==f){if(a&&-1===f.index)continue;if(h&&!f.collides)continue;if(l&&!f.hasInterestingFace)continue;u.push(f)}}return u}},91141:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(55738),n=i(7386),r=i(91865),o=i(29747),a=i(26099),h=i(91907),l=function(t,e){return r.RectangleToTriangle(e,t)},u=new a,c=new a,d=new a;t.exports=function(t,e,i,a){if(a.orientation!==h.ORTHOGONAL)return[];if(void 0===t)return[];var f=o;t instanceof s.Circle?f=r.CircleToRectangle:t instanceof s.Rectangle?f=r.RectangleToRectangle:t instanceof s.Triangle?f=l:t instanceof s.Line&&(f=r.LineToRectangle),a.tilemapLayer.worldToTileXY(t.left,t.top,!0,c,i);var p=c.x,g=c.y;a.tilemapLayer.worldToTileXY(t.right,t.bottom,!1,d,i);var m=Math.ceil(d.x),v=Math.ceil(d.y),y=Math.max(m-p,1),x=Math.max(v-g,1),T=n(p,g,y,x,e,a),w=a.tileWidth,b=a.tileHeight;a.tilemapLayer&&(w*=a.tilemapLayer.scaleX,b*=a.tilemapLayer.scaleY);for(var S=[],E=new s.Rectangle(0,0,w,b),C=0;C<T.length;C++){var _=T[C];a.tilemapLayer.tileToWorldXY(_.x,_.y,u,i),E.x=u.x,E.y=u.y,f(t,E)&&S.push(_)}return S}},96523:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(7386),n=i(26099),r=new n,o=new n;t.exports=function(t,e,i,n,a,h,l){var u=l.tilemapLayer.tilemap._convert.WorldToTileXY;u(t,e,!0,r,h,l);var c=r.x,d=r.y;u(t+i,e+n,!1,o,h,l);var f=Math.ceil(o.x),p=Math.ceil(o.y);return s(c,d,f-c,p-d,a,l)}},96113:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(91907),n=i(20242),r=i(10095);t.exports=function(t){return t===s.ORTHOGONAL?r:n}},16926:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(91907),n=i(86625),r=i(96897),o=i(29747),a=i(15108),h=i(85896);t.exports=function(t){return t===s.ORTHOGONAL?h:t===s.ISOMETRIC?r:t===s.HEXAGONAL?n:t===s.STAGGERED?a:o}},55762:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(91907),n=i(20242),r=i(51900),o=i(63288);t.exports=function(t){return t===s.ORTHOGONAL?o:t===s.STAGGERED?r:n}},45091:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(62991);t.exports=function(t,e,i){if(s(t,e,i)){var n=i.data[e][t];return null!==n&&n.index>-1}return!1}},24152:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(45091),n=new(i(26099));t.exports=function(t,e,i,r){r.tilemapLayer.worldToTileXY(t,e,!0,n,i);var o=n.x,a=n.y;return s(o,a,r)}},90454:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(63448),n=i(56583);t.exports=function(t,e){var i,r,o,a,h=t.tilemapLayer.tilemap,l=t.tilemapLayer,u=Math.floor(h.tileWidth*l.scaleX),c=Math.floor(h.tileHeight*l.scaleY),d=t.hexSideLength;if("y"===t.staggerAxis){var f=(c-d)/2+d;i=n(e.worldView.x-l.x,u,0,!0)-l.cullPaddingX,r=s(e.worldView.right-l.x,u,0,!0)+l.cullPaddingX,o=n(e.worldView.y-l.y,f,0,!0)-l.cullPaddingY,a=s(e.worldView.bottom-l.y,f,0,!0)+l.cullPaddingY}else{var p=(u-d)/2+d;i=n(e.worldView.x-l.x,p,0,!0)-l.cullPaddingX,r=s(e.worldView.right-l.x,p,0,!0)+l.cullPaddingX,o=n(e.worldView.y-l.y,c,0,!0)-l.cullPaddingY,a=s(e.worldView.bottom-l.y,c,0,!0)+l.cullPaddingY}return{left:i,right:r,top:o,bottom:a}}},9474:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(90454),n=i(32483);t.exports=function(t,e,i,r){void 0===i&&(i=[]),void 0===r&&(r=0),i.length=0;var o=t.tilemapLayer,a=s(t,e);return o.skipCull&&1===o.scrollFactorX&&1===o.scrollFactorY&&(a.left=0,a.right=t.width,a.top=0,a.bottom=t.height),n(t,a,r,i),i}},27229:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(19951),n=i(26099),r=new n;t.exports=function(t,e,i,o){var a=o.baseTileWidth,h=o.baseTileHeight,l=o.tilemapLayer;l&&(a*=l.scaleX,h*=l.scaleY);var u,c,d=s(t,e,r,i,o),f=[],p=.5773502691896257;"y"===o.staggerAxis?(u=p*a,c=h/2):(u=a/2,c=p*h);for(var g=0;g<6;g++){var m=2*Math.PI*(.5-g)/6;f.push(new n(d.x+u*Math.cos(m),d.y+c*Math.sin(m)))}return f}},19951:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(26099);t.exports=function(t,e,i,n,r){i||(i=new s);var o=r.baseTileWidth,a=r.baseTileHeight,h=r.tilemapLayer,l=0,u=0;h&&(n||(n=h.scene.cameras.main),l=h.x+n.scrollX*(1-h.scrollFactorX),u=h.y+n.scrollY*(1-h.scrollFactorY),o*=h.scaleX,a*=h.scaleY);var c,d,f=o/2,p=a/2,g=r.staggerAxis,m=r.staggerIndex;return"y"===g?(c=l+o*t+o,d=u+1.5*e*p+p,e%2==0&&("odd"===m?c-=f:c+=f)):"x"===g&&"odd"===m&&(c=l+1.5*t*f+f,d=u+a*t+a,t%2==0&&("odd"===m?d-=p:d+=p)),i.set(c,d)}},86625:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(26099);t.exports=function(t,e,i,n,r,o){n||(n=new s);var a=o.baseTileWidth,h=o.baseTileHeight,l=o.tilemapLayer;l&&(r||(r=l.scene.cameras.main),t-=l.x+r.scrollX*(1-l.scrollFactorX),e-=l.y+r.scrollY*(1-l.scrollFactorY),a*=l.scaleX,h*=l.scaleY);var u,c,d,f,p,g=.5773502691896257,m=-.3333333333333333,v=.6666666666666666,y=a/2,x=h/2;"y"===o.staggerAxis?(d=g*(u=(t-y)/(g*a))+m*(c=(e-x)/x),f=0*u+v*c):(d=m*(u=(t-y)/y)+g*(c=(e-x)/(g*h)),f=v*u+0*c),p=-d-f;var T,w=Math.round(d),b=Math.round(f),S=Math.round(p),E=Math.abs(w-d),C=Math.abs(b-f),_=Math.abs(S-p);E>C&&E>_?w=-b-S:C>_&&(b=-w-S);var A=b;return T="odd"===o.staggerIndex?A%2==0?b/2+w:b/2+w-.5:A%2==0?b/2+w:b/2+w+.5,n.set(T,A)}},62991:t=>{t.exports=function(t,e,i){return t>=0&&t<i.width&&e>=0&&e<i.height}},14018:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(33528);t.exports=function(t,e,i,n){void 0===i&&(i=[]),void 0===n&&(n=0),i.length=0;var r,o,a,h=t.tilemapLayer,l=t.data,u=t.width,c=t.height,d=h.skipCull,f=u,p=c;if(0===n)for(o=0;o<p;o++)for(r=0;r<f;r++)(a=l[o][r])&&-1!==a.index&&a.visible&&0!==a.alpha&&(d||s(r,o,t,e))&&i.push(a);else if(1===n)for(o=0;o<p;o++)for(r=f;r>=0;r--)(a=l[o][r])&&-1!==a.index&&a.visible&&0!==a.alpha&&(d||s(r,o,t,e))&&i.push(a);else if(2===n)for(o=p;o>=0;o--)for(r=0;r<f;r++)(a=l[o][r])&&-1!==a.index&&a.visible&&0!==a.alpha&&(d||s(r,o,t,e))&&i.push(a);else if(3===n)for(o=p;o>=0;o--)for(r=f;r>=0;r--)(a=l[o][r])&&-1!==a.index&&a.visible&&0!==a.alpha&&(d||s(r,o,t,e))&&i.push(a);return h.tilesDrawn=i.length,h.tilesTotal=u*c,i}},14127:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(26099);t.exports=function(t,e,i,n,r){i||(i=new s);var o=r.baseTileWidth,a=r.baseTileHeight,h=r.tilemapLayer,l=0,u=0;h&&(n||(n=h.scene.cameras.main),l=h.x+n.scrollX*(1-h.scrollFactorX),o*=h.scaleX,u=h.y+n.scrollY*(1-h.scrollFactorY),a*=h.scaleY);var c=l+o/2*(t-e),d=u+(t+e)*(a/2);return i.set(c,d)}},96897:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(26099);t.exports=function(t,e,i,n,r,o,a){n||(n=new s);var h=o.baseTileWidth,l=o.baseTileHeight,u=o.tilemapLayer;u&&(r||(r=u.scene.cameras.main),e-=u.y+r.scrollY*(1-u.scrollFactorY),l*=u.scaleY,t-=u.x+r.scrollX*(1-u.scrollFactorX),h*=u.scaleX);var c=h/2,d=l/2;a||(e-=l);var f=.5*((t-=c)/c+e/d),p=.5*(-t/c+e/d);return i&&(f=Math.floor(f),p=Math.floor(p)),n.set(f,p)}},71558:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(23029),n=i(62991),r=i(72023),o=i(20576);t.exports=function(t,e,i,a,h){if(void 0===a&&(a=!0),!n(e,i,h))return null;var l,u=h.data[i][e],c=u&&u.collides;t instanceof s?(null===h.data[i][e]&&(h.data[i][e]=new s(h,t.index,e,i,h.tileWidth,h.tileHeight)),h.data[i][e].copy(t)):(l=t,null===h.data[i][e]?h.data[i][e]=new s(h,l,e,i,h.tileWidth,h.tileHeight):h.data[i][e].index=l);var d=h.data[i][e],f=-1!==h.collideIndexes.indexOf(d.index);if(-1===(l=t instanceof s?t.index:t))d.width=h.tileWidth,d.height=h.tileHeight;else{var p=h.tilemapLayer.tilemap,g=p.tiles[l][2],m=p.tilesets[g];d.width=m.tileWidth,d.height=m.tileHeight}return o(d,f),a&&c!==d.collides&&r(e,i,h),d}},26303:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(71558),n=new(i(26099));t.exports=function(t,e,i,r,o,a){return a.tilemapLayer.worldToTileXY(e,i,!0,n,o,a),s(t,n.x,n.y,r,a)}},14051:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(42573),n=i(71558);t.exports=function(t,e,i,r,o){if(void 0===r&&(r=!0),!Array.isArray(t))return null;Array.isArray(t[0])||(t=[t]);for(var a=t.length,h=t[0].length,l=0;l<a;l++)for(var u=0;u<h;u++){var c=t[l][u];n(c,e+u,i+l,!1,o)}r&&s(e-1,i-1,h+2,a+2,o)}},77389:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(7386),n=i(26546);t.exports=function(t,e,i,r,o,a){var h,l=s(t,e,i,r,{},a);if(!o)for(o=[],h=0;h<l.length;h++)-1===o.indexOf(l[h].index)&&o.push(l[h].index);for(h=0;h<l.length;h++)l[h].index=n(o)}},63557:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(23029),n=i(62991),r=i(72023);t.exports=function(t,e,i,o,a){if(void 0===i&&(i=!0),void 0===o&&(o=!0),!n(t,e,a))return null;var h=a.data[e][t];return h?(a.data[e][t]=i?null:new s(a,-1,t,e,a.tileWidth,a.tileHeight),o&&h&&h.collides&&r(t,e,a),h):null}},94178:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(63557),n=new(i(26099));t.exports=function(t,e,i,r,o,a){return a.tilemapLayer.worldToTileXY(t,e,!0,n,o,a),s(n.x,n.y,i,r,a)}},15533:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(7386),n=i(3956),r=new n(105,210,231,150),o=new n(243,134,48,200),a=new n(40,39,37,150);t.exports=function(t,e,i){void 0===e&&(e={});var n=void 0!==e.tileColor?e.tileColor:r,h=void 0!==e.collidingTileColor?e.collidingTileColor:o,l=void 0!==e.faceColor?e.faceColor:a,u=s(0,0,i.width,i.height,null,i);t.translateCanvas(i.tilemapLayer.x,i.tilemapLayer.y),t.scaleCanvas(i.tilemapLayer.scaleX,i.tilemapLayer.scaleY);for(var c=0;c<u.length;c++){var d=u[c],f=d.tileset?d.tileset.tileOffset:{x:0,y:0},p=d.width,g=d.height,m=d.pixelX-f.x,v=d.pixelY-f.y,y=d.collides?h:n;null!==y&&(t.fillStyle(y.color,y.alpha/255),t.fillRect(m,v,p,g)),m+=1,v+=1,p-=2,g-=2,null!==l&&(t.lineStyle(1,l.color,l.alpha/255),d.faceTop&&t.lineBetween(m,v,m+p,v),d.faceRight&&t.lineBetween(m+p,v,m+p,v+g),d.faceBottom&&t.lineBetween(m,v+g,m+p,v+g),d.faceLeft&&t.lineBetween(m,v,m,v+g))}}},27987:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(7386);t.exports=function(t,e,i,n,r,o,a){for(var h=s(i,n,r,o,null,a),l=0;l<h.length;l++)h[l]&&h[l].index===t&&(h[l].index=e)}},32483:t=>{t.exports=function(t,e,i,s){var n,r,o,a=t.data,h=t.width,l=t.height,u=t.tilemapLayer,c=Math.max(0,e.left),d=Math.min(h,e.right),f=Math.max(0,e.top),p=Math.min(l,e.bottom);if(0===i)for(r=f;r<p;r++)for(n=c;a[r]&&n<d;n++)(o=a[r][n])&&-1!==o.index&&o.visible&&0!==o.alpha&&s.push(o);else if(1===i)for(r=f;r<p;r++)for(n=d;a[r]&&n>=c;n--)(o=a[r][n])&&-1!==o.index&&o.visible&&0!==o.alpha&&s.push(o);else if(2===i)for(r=p;r>=f;r--)for(n=c;a[r]&&n<d;n++)(o=a[r][n])&&-1!==o.index&&o.visible&&0!==o.alpha&&s.push(o);else if(3===i)for(r=p;r>=f;r--)for(n=d;a[r]&&n>=c;n--)(o=a[r][n])&&-1!==o.index&&o.visible&&0!==o.alpha&&s.push(o);return u.tilesDrawn=s.length,u.tilesTotal=h*l,s}},57068:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(20576),n=i(42573),r=i(9589);t.exports=function(t,e,i,o,a){void 0===e&&(e=!0),void 0===i&&(i=!0),void 0===a&&(a=!0),Array.isArray(t)||(t=[t]);for(var h=0;h<t.length;h++)r(t[h],e,o);if(a)for(var l=0;l<o.height;l++)for(var u=0;u<o.width;u++){var c=o.data[l][u];c&&-1!==t.indexOf(c.index)&&s(c,e)}i&&n(0,0,o.width,o.height,o)}},37266:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(20576),n=i(42573),r=i(9589);t.exports=function(t,e,i,o,a,h){if(void 0===i&&(i=!0),void 0===o&&(o=!0),void 0===h&&(h=!0),!(t>e)){for(var l=t;l<=e;l++)r(l,i,a);if(h)for(var u=0;u<a.height;u++)for(var c=0;c<a.width;c++){var d=a.data[u][c];d&&d.index>=t&&d.index<=e&&s(d,i)}o&&n(0,0,a.width,a.height,a)}}},75661:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(20576),n=i(42573),r=i(9589);t.exports=function(t,e,i,o){void 0===e&&(e=!0),void 0===i&&(i=!0),Array.isArray(t)||(t=[t]);for(var a=0;a<o.height;a++)for(var h=0;h<o.width;h++){var l=o.data[a][h];l&&-1===t.indexOf(l.index)&&(s(l,e),r(l.index,e,o))}i&&n(0,0,o.width,o.height,o)}},64740:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(20576),n=i(42573),r=i(97022);t.exports=function(t,e,i,o){void 0===e&&(e=!0),void 0===i&&(i=!0);for(var a=0;a<o.height;a++)for(var h=0;h<o.width;h++){var l=o.data[a][h];if(l)for(var u in t)if(r(l.properties,u)){var c=t[u];Array.isArray(c)||(c=[c]);for(var d=0;d<c.length;d++)l.properties[u]===c[d]&&s(l,e)}}i&&n(0,0,o.width,o.height,o)}},63307:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(20576),n=i(42573);t.exports=function(t,e,i){void 0===t&&(t=!0),void 0===e&&(e=!0);for(var r=0;r<i.height;r++)for(var o=0;o<i.width;o++){var a=i.data[r][o];if(a){var h=a.getCollisionGroup();h&&h.objects&&h.objects.length>0&&s(a,t)}}e&&n(0,0,i.width,i.height,i)}},9589:t=>{t.exports=function(t,e,i){var s=i.collideIndexes.indexOf(t);e&&-1===s?i.collideIndexes.push(t):e||-1===s||i.collideIndexes.splice(s,1)}},20576:t=>{t.exports=function(t,e){e?t.setCollision(!0,!0,!0,!0,!1):t.resetCollision(!1)}},79583:t=>{t.exports=function(t,e,i,s){if("number"==typeof t)s.callbacks[t]=null!==e?{callback:e,callbackContext:i}:void 0;else for(var n=0,r=t.length;n<r;n++)s.callbacks[t[n]]=null!==e?{callback:e,callbackContext:i}:void 0}},93254:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(7386);t.exports=function(t,e,i,n,r,o,a){for(var h=s(t,e,i,n,null,a),l=0;l<h.length;l++)h[l].setCollisionCallback(r,o)}},32903:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(7386),n=i(33680);t.exports=function(t,e,i,r,o){var a=s(t,e,i,r,null,o),h=a.map(function(t){return t.index});n(h);for(var l=0;l<a.length;l++)a[l].index=h[l]}},61325:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(63448),n=i(56583);t.exports=function(t,e){var i=t.tilemapLayer.tilemap,r=t.tilemapLayer,o=Math.floor(i.tileWidth*r.scaleX),a=Math.floor(i.tileHeight*r.scaleY);return{left:n(e.worldView.x-r.x,o,0,!0)-r.cullPaddingX,right:s(e.worldView.right-r.x,o,0,!0)+r.cullPaddingX,top:n(e.worldView.y-r.y,a/2,0,!0)-r.cullPaddingY,bottom:s(e.worldView.bottom-r.y,a/2,0,!0)+r.cullPaddingY}}},54503:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(61325),n=i(32483);t.exports=function(t,e,i,r){void 0===i&&(i=[]),void 0===r&&(r=0),i.length=0;var o=t.tilemapLayer,a=s(t,e);return o.skipCull&&1===o.scrollFactorX&&1===o.scrollFactorY&&(a.left=0,a.right=t.width,a.top=0,a.bottom=t.height),n(t,a,r,i),i}},97202:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(26099);t.exports=function(t,e,i,n,r){i||(i=new s);var o=r.baseTileWidth,a=r.baseTileHeight,h=r.tilemapLayer,l=0,u=0;h&&(n||(n=h.scene.cameras.main),l=h.x+n.scrollX*(1-h.scrollFactorX),o*=h.scaleX,u=h.y+n.scrollY*(1-h.scrollFactorY),a*=h.scaleY);var c=l+t*o+e%2*(o/2),d=u+e*(a/2);return i.set(c,d)}},28054:t=>{t.exports=function(t,e,i){var s=i.baseTileHeight,n=i.tilemapLayer,r=0;return n&&(void 0===e&&(e=n.scene.cameras.main),r=n.y+e.scrollY*(1-n.scrollFactorY),s*=n.scaleY),r+t*(s/2)+s}},15108:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(26099);t.exports=function(t,e,i,n,r,o){n||(n=new s);var a=o.baseTileWidth,h=o.baseTileHeight,l=o.tilemapLayer;l&&(r||(r=l.scene.cameras.main),e-=l.y+r.scrollY*(1-l.scrollFactorY),h*=l.scaleY,t-=l.x+r.scrollX*(1-l.scrollFactorX),a*=l.scaleX);var u=i?Math.floor(e/(h/2)):e/(h/2),c=i?Math.floor((t+u%2*.5*a)/a):(t+u%2*.5*a)/a;return n.set(c,u)}},51900:t=>{t.exports=function(t,e,i,s){var n=s.baseTileHeight,r=s.tilemapLayer;return r&&(i||(i=r.scene.cameras.main),t-=r.y+i.scrollY*(1-r.scrollFactorY),n*=r.scaleY),e?Math.floor(t/(n/2)):t/(n/2)}},86560:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(7386);t.exports=function(t,e,i,n,r,o,a){for(var h=s(i,n,r,o,null,a),l=0;l<h.length;l++)h[l]&&(h[l].index===t?h[l].index=e:h[l].index===e&&(h[l].index=t))}},97281:t=>{t.exports=function(t,e,i){var s=i.baseTileWidth,n=i.tilemapLayer,r=0;return n&&(e||(e=n.scene.cameras.main),r=n.x+e.scrollX*(1-n.scrollFactorX),s*=n.scaleX),r+t*s}},70326:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(97281),n=i(29650),r=i(26099);t.exports=function(t,e,i,o,a){return i||(i=new r(0,0)),i.x=s(t,o,a),i.y=n(e,o,a),i}},29650:t=>{t.exports=function(t,e,i){var s=i.baseTileHeight,n=i.tilemapLayer,r=0;return n&&(e||(e=n.scene.cameras.main),r=n.y+e.scrollY*(1-n.scrollFactorY),s*=n.scaleY),r+t*s}},77366:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(7386),n=i(75508);t.exports=function(t,e,i,r,o,a){if(o){var h,l=s(t,e,i,r,null,a),u=0;for(h=0;h<o.length;h++)u+=o[h].weight;if(!(u<=0))for(h=0;h<l.length;h++){for(var c=n.RND.frac()*u,d=0,f=-1,p=0;p<o.length;p++)if(c<=(d+=o[p].weight)){var g=o[p].index;f=Array.isArray(g)?g[Math.floor(n.RND.frac()*g.length)]:g;break}l[h].index=f}}}},10095:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(85896),n=new(i(26099));t.exports=function(t,e,i,r){return s(t,0,e,n,i,r),n.x}},85896:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(26099);t.exports=function(t,e,i,n,r,o){void 0===i&&(i=!0),n||(n=new s);var a=o.baseTileWidth,h=o.baseTileHeight,l=o.tilemapLayer;l&&(r||(r=l.scene.cameras.main),t-=l.x+r.scrollX*(1-l.scrollFactorX),e-=l.y+r.scrollY*(1-l.scrollFactorY),a*=l.scaleX,h*=l.scaleY);var u=t/a,c=e/h;return i&&(u=Math.floor(u),c=Math.floor(c)),n.set(u,c)}},63288:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(85896),n=new(i(26099));t.exports=function(t,e,i,r){return s(0,t,e,n,i,r),n.y}},81086:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports={CalculateFacesAt:i(72023),CalculateFacesWithin:i(42573),CheckIsoBounds:i(33528),Copy:i(1785),CreateFromTiles:i(78419),CullBounds:i(19545),CullTiles:i(30003),Fill:i(35137),FilterTiles:i(40253),FindByIndex:i(52692),FindTile:i(66151),ForEachTile:i(97560),GetCullTilesFunction:i(43305),GetTileAt:i(7423),GetTileAtWorldXY:i(60540),GetTileCorners:i(55826),GetTileCornersFunction:i(11758),GetTilesWithin:i(7386),GetTilesWithinShape:i(91141),GetTilesWithinWorldXY:i(96523),GetTileToWorldXFunction:i(39167),GetTileToWorldXYFunction:i(62e3),GetTileToWorldYFunction:i(5984),GetWorldToTileXFunction:i(96113),GetWorldToTileXYFunction:i(16926),GetWorldToTileYFunction:i(55762),HasTileAt:i(45091),HasTileAtWorldXY:i(24152),HexagonalCullBounds:i(90454),HexagonalCullTiles:i(9474),HexagonalGetTileCorners:i(27229),HexagonalTileToWorldXY:i(19951),HexagonalWorldToTileXY:i(86625),IsInLayerBounds:i(62991),IsometricCullTiles:i(14018),IsometricTileToWorldXY:i(14127),IsometricWorldToTileXY:i(96897),PutTileAt:i(71558),PutTileAtWorldXY:i(26303),PutTilesAt:i(14051),Randomize:i(77389),RemoveTileAt:i(63557),RemoveTileAtWorldXY:i(94178),RenderDebug:i(15533),ReplaceByIndex:i(27987),RunCull:i(32483),SetCollision:i(57068),SetCollisionBetween:i(37266),SetCollisionByExclusion:i(75661),SetCollisionByProperty:i(64740),SetCollisionFromCollisionGroup:i(63307),SetLayerCollisionIndex:i(9589),SetTileCollision:i(20576),SetTileIndexCallback:i(79583),SetTileLocationCallback:i(93254),Shuffle:i(32903),StaggeredCullBounds:i(61325),StaggeredCullTiles:i(54503),StaggeredTileToWorldXY:i(97202),StaggeredTileToWorldY:i(28054),StaggeredWorldToTileXY:i(15108),StaggeredWorldToTileY:i(51900),SwapByIndex:i(86560),TileToWorldX:i(97281),TileToWorldXY:i(70326),TileToWorldY:i(29650),WeightedRandomize:i(77366),WorldToTileX:i(10095),WorldToTileXY:i(85896),WorldToTileY:i(63288)}},91907:t=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports={ORTHOGONAL:0,ISOMETRIC:1,STAGGERED:2,HEXAGONAL:3}},21829:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s={ORIENTATION:i(91907)};t.exports=s},62501:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(79291),n=i(21829),r={Components:i(81086),Parsers:i(57442),Formats:i(80341),ImageCollection:i(16536),ParseToTilemap:i(31989),Tile:i(23029),Tilemap:i(49075),TilemapCreator:i(45939),TilemapFactory:i(46029),Tileset:i(33629),TilemapLayer:i(20442),Orientation:i(91907),LayerData:i(14977),MapData:i(87010),ObjectLayer:i(48700)};r=s(!1,r,n.ORIENTATION),t.exports=r},14977:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(83419),n=i(91907),r=i(95540),o=new s({initialize:function(t){void 0===t&&(t={}),this.name=r(t,"name","layer"),this.id=r(t,"id",0),this.x=r(t,"x",0),this.y=r(t,"y",0),this.width=r(t,"width",0),this.height=r(t,"height",0),this.tileWidth=r(t,"tileWidth",0),this.tileHeight=r(t,"tileHeight",0),this.baseTileWidth=r(t,"baseTileWidth",this.tileWidth),this.baseTileHeight=r(t,"baseTileHeight",this.tileHeight),this.orientation=r(t,"orientation",n.ORTHOGONAL),this.widthInPixels=r(t,"widthInPixels",this.width*this.baseTileWidth),this.heightInPixels=r(t,"heightInPixels",this.height*this.baseTileHeight),this.alpha=r(t,"alpha",1),this.visible=r(t,"visible",!0),this.properties=r(t,"properties",[]),this.indexes=r(t,"indexes",[]),this.collideIndexes=r(t,"collideIndexes",[]),this.callbacks=r(t,"callbacks",[]),this.bodies=r(t,"bodies",[]),this.data=r(t,"data",[]),this.tilemapLayer=r(t,"tilemapLayer",null),this.hexSideLength=r(t,"hexSideLength",0),this.staggerAxis=r(t,"staggerAxis","y"),this.staggerIndex=r(t,"staggerIndex","odd")}});t.exports=o},87010:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(83419),n=i(91907),r=i(95540),o=new s({initialize:function(t){void 0===t&&(t={}),this.name=r(t,"name","map"),this.width=r(t,"width",0),this.height=r(t,"height",0),this.infinite=r(t,"infinite",!1),this.tileWidth=r(t,"tileWidth",0),this.tileHeight=r(t,"tileHeight",0),this.widthInPixels=r(t,"widthInPixels",this.width*this.tileWidth),this.heightInPixels=r(t,"heightInPixels",this.height*this.tileHeight),this.format=r(t,"format",null),this.orientation=r(t,"orientation",n.ORTHOGONAL),this.renderOrder=r(t,"renderOrder","right-down"),this.version=r(t,"version","1"),this.properties=r(t,"properties",{}),this.layers=r(t,"layers",[]),this.images=r(t,"images",[]),this.objects=r(t,"objects",[]),Array.isArray(this.objects)||(this.objects=[]),this.collision=r(t,"collision",{}),this.tilesets=r(t,"tilesets",[]),this.imageCollections=r(t,"imageCollections",[]),this.tiles=r(t,"tiles",[]),this.hexSideLength=r(t,"hexSideLength",0),this.staggerAxis=r(t,"staggerAxis","y"),this.staggerIndex=r(t,"staggerIndex","odd")}});t.exports=o},48700:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(83419),n=i(95540),r=new s({initialize:function(t){void 0===t&&(t={}),this.name=n(t,"name","object layer"),this.id=n(t,"id",0),this.opacity=n(t,"opacity",1),this.properties=n(t,"properties",{}),this.propertyTypes=n(t,"propertytypes",{}),this.type=n(t,"type","objectgroup"),this.visible=n(t,"visible",!0),this.objects=n(t,"objects",[]),Array.isArray(this.objects)||(this.objects=[])}});t.exports=r},6641:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(91907);t.exports=function(t){return"isometric"===(t=t.toLowerCase())?s.ISOMETRIC:"staggered"===t?s.STAGGERED:"hexagonal"===t?s.HEXAGONAL:s.ORTHOGONAL}},46177:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(80341),n=i(2342),r=i(82593),o=i(46594),a=i(87021);t.exports=function(t,e,i,h,l,u){var c;switch(e){case s.ARRAY_2D:c=n(t,i,h,l,u);break;case s.CSV:c=r(t,i,h,l,u);break;case s.TILED_JSON:c=o(t,i,u);break;case s.WELTMEISTER:c=a(t,i,u);break;default:c=null}return c}},2342:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(80341),n=i(14977),r=i(87010),o=i(23029);t.exports=function(t,e,i,a,h){for(var l=new n({tileWidth:i,tileHeight:a}),u=new r({name:t,tileWidth:i,tileHeight:a,format:s.ARRAY_2D,layers:[l]}),c=[],d=e.length,f=0,p=0;p<e.length;p++){c[p]=[];for(var g=e[p],m=0;m<g.length;m++){var v=parseInt(g[m],10);isNaN(v)||-1===v?c[p][m]=h?null:new o(l,-1,m,p,i,a):c[p][m]=new o(l,v,m,p,i,a)}0===f&&(f=g.length)}return u.width=l.width=f,u.height=l.height=d,u.widthInPixels=l.widthInPixels=f*i,u.heightInPixels=l.heightInPixels=d*a,l.data=c,u}},82593:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(80341),n=i(2342);t.exports=function(t,e,i,r,o){var a=e.trim().split("\n").map(function(t){return t.split(",")}),h=n(t,a,i,r,o);return h.format=s.CSV,h}},6656:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(14977),n=i(23029);t.exports=function(t,e){for(var i=[],r=0;r<t.layer.length;r++){for(var o=t.layer[r],a=new s({name:o.name,width:o.width,height:o.height,tileWidth:o.tilesize,tileHeight:o.tilesize,visible:1===o.visible}),h=[],l=[],u=0;u<o.data.length;u++){for(var c=0;c<o.data[u].length;c++){var d,f=o.data[u][c]-1;d=f>-1?new n(a,f,c,u,o.tilesize,o.tilesize):e?null:new n(a,-1,c,u,o.tilesize,o.tilesize),h.push(d)}l.push(h),h=[]}a.data=l,i.push(a)}return i}},96483:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(33629);t.exports=function(t){for(var e=[],i=[],n=0;n<t.layer.length;n++){var r=t.layer[n],o=r.tilesetName;""!==o&&-1===i.indexOf(o)&&(i.push(o),e.push(new s(o,0,r.tilesize,r.tilesize,0,0)))}return e}},87021:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(80341),n=i(87010),r=i(6656),o=i(96483);t.exports=function(t,e,i){if(0===e.layer.length)return null;for(var a=0,h=0,l=0;l<e.layer.length;l++)e.layer[l].width>a&&(a=e.layer[l].width),e.layer[l].height>h&&(h=e.layer[l].height);var u=new n({width:a,height:h,name:t,tileWidth:e.layer[0].tilesize,tileHeight:e.layer[0].tilesize,format:s.WELTMEISTER});return u.layers=r(e,i),u.tilesets=o(e),u}},52833:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports={ParseTileLayers:i(6656),ParseTilesets:i(96483),ParseWeltmeister:i(87021)}},57442:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports={FromOrientationString:i(6641),Parse:i(46177),Parse2DArray:i(2342),ParseCSV:i(82593),Impact:i(52833),Tiled:i(96761)}},51233:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(79291);t.exports=function(t){for(var e,i,n,r,o,a=0;a<t.layers.length;a++){e=t.layers[a],r=null;for(var h=0;h<e.data.length;h++){o=e.data[h];for(var l=0;l<o.length;l++)null===(i=o[l])||i.index<0||(n=t.tiles[i.index][2],r=t.tilesets[n],i.width=r.tileWidth,i.height=r.tileHeight,r.tileProperties&&r.tileProperties[i.index-r.firstgid]&&(i.properties=s(i.properties,r.tileProperties[i.index-r.firstgid])))}}}},41868:t=>{t.exports=function(t){for(var e=window.atob(t),i=e.length,s=new Array(i/4),n=0;n<i;n+=4)s[n/4]=(e.charCodeAt(n)|e.charCodeAt(n+1)<<8|e.charCodeAt(n+2)<<16|e.charCodeAt(n+3)<<24)>>>0;return s}},84101:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(33629);t.exports=function(t){var e,i,n=[];for(e=0;e<t.imageCollections.length;e++)for(var r=t.imageCollections[e].images,o=0;o<r.length;o++){var a=r[o],h={x:0,y:a.height-t.tileHeight};(i=new s(a.image,a.gid,a.width,a.height,0,0,void 0,void 0,h)).updateTileData(a.width,a.height),t.tilesets.push(i)}for(e=0;e<t.tilesets.length;e++)for(var l=(i=t.tilesets[e]).tileMargin,u=i.tileMargin,c=0,d=0,f=0,p=i.firstgid;p<i.firstgid+i.total&&(n[p]=[l,u,e],l+=i.tileWidth+i.tileSpacing,++c!==i.total)&&(++d!==i.columns||(l=i.tileMargin,u+=i.tileHeight+i.tileSpacing,d=0,++f!==i.rows));p++);return n}},79677:(t,e,i)=>{
/**
                     * @author       Seth Berrier <berriers@uwstout.edu>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(95540);t.exports=function(t,e,i){if(!e)return{i:0,layers:t.layers,name:"",opacity:1,visible:!0,x:0,y:0};var n=e.x+s(e,"startx",0)*t.tilewidth+s(e,"offsetx",0),r=e.y+s(e,"starty",0)*t.tileheight+s(e,"offsety",0);return{i:0,layers:e.layers,name:i.name+e.name+"/",opacity:i.opacity*e.opacity,visible:i.visible&&e.visible,x:i.x+n,y:i.y+r}}},29920:t=>{t.exports=function(t){var e=Boolean(2147483648&t),i=Boolean(1073741824&t),s=Boolean(536870912&t);t&=536870911;var n=0,r=!1;return e&&i&&s?(n=Math.PI/2,r=!0):e&&i&&!s?(n=Math.PI,r=!1):e&&!i&&s?(n=Math.PI/2,r=!1):!e||i||s?!e&&i&&s?(n=3*Math.PI/2,r=!1):e||!i||s?e||i||!s?e||i||s||(n=0,r=!1):(n=3*Math.PI/2,r=!0):(n=Math.PI,r=!0):(n=0,r=!0),{gid:t,flippedHorizontal:e,flippedVertical:i,flippedAntiDiagonal:s,rotation:n,flipped:r}}},12635:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(95540),n=i(79677);t.exports=function(t){for(var e=[],i=[],r=n(t);r.i<r.layers.length||i.length>0;)if(r.i>=r.layers.length){if(i.length<1)break;r=i.pop()}else{var o=r.layers[r.i];if(r.i++,"imagelayer"===o.type){var a=s(o,"offsetx",0)+s(o,"startx",0),h=s(o,"offsety",0)+s(o,"starty",0);e.push({name:r.name+o.name,image:o.image,x:r.x+a+o.x,y:r.y+h+o.y,alpha:r.opacity*o.opacity,visible:r.visible&&o.visible,properties:s(o,"properties",{})})}else if("group"===o.type){var l=n(t,o,r);i.push(r),r=l}}return e}},46594:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(51233),n=i(84101),r=i(91907),o=i(62644),a=i(80341),h=i(6641),l=i(87010),u=i(12635),c=i(22611),d=i(28200),f=i(24619);t.exports=function(t,e,i){var p=o(e),g=new l({width:p.width,height:p.height,name:t,tileWidth:p.tilewidth,tileHeight:p.tileheight,orientation:h(p.orientation),format:a.TILED_JSON,version:p.version,properties:p.properties,renderOrder:p.renderorder,infinite:p.infinite});if(g.orientation===r.HEXAGONAL)if(g.hexSideLength=p.hexsidelength,g.staggerAxis=p.staggeraxis,g.staggerIndex=p.staggerindex,"y"===g.staggerAxis){var m=(g.tileHeight-g.hexSideLength)/2;g.widthInPixels=g.tileWidth*(g.width+.5),g.heightInPixels=g.height*(g.hexSideLength+m)+m}else{var v=(g.tileWidth-g.hexSideLength)/2;g.widthInPixels=g.width*(g.hexSideLength+v)+v,g.heightInPixels=g.tileHeight*(g.height+.5)}g.layers=d(p,i),g.images=u(p);var y=f(p);return g.tilesets=y.tilesets,g.imageCollections=y.imageCollections,g.objects=c(p),g.tiles=n(g),s(g),g}},52205:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(18254),n=i(29920),r=function(t){return{x:t.x,y:t.y}},o=["id","name","type","rotation","properties","visible","x","y","width","height"];t.exports=function(t,e,i){void 0===e&&(e=0),void 0===i&&(i=0);var a=s(t,o);if(a.x+=e,a.y+=i,t.gid){var h=n(t.gid);a.gid=h.gid,a.flippedHorizontal=h.flippedHorizontal,a.flippedVertical=h.flippedVertical,a.flippedAntiDiagonal=h.flippedAntiDiagonal}else t.polyline?a.polyline=t.polyline.map(r):t.polygon?a.polygon=t.polygon.map(r):t.ellipse?a.ellipse=t.ellipse:t.text?a.text=t.text:t.point?a.point=!0:a.rectangle=!0;return a}},22611:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(95540),n=i(52205),r=i(48700),o=i(79677);t.exports=function(t){for(var e=[],i=[],a=o(t);a.i<a.layers.length||i.length>0;)if(a.i>=a.layers.length){if(i.length<1)break;a=i.pop()}else{var h=a.layers[a.i];if(a.i++,h.opacity*=a.opacity,h.visible=a.visible&&h.visible,"objectgroup"===h.type){h.name=a.name+h.name;for(var l=a.x+s(h,"startx",0)+s(h,"offsetx",0),u=a.y+s(h,"starty",0)+s(h,"offsety",0),c=[],d=0;d<h.objects.length;d++){var f=n(h.objects[d],l,u);c.push(f)}var p=new r(h);p.objects=c,e.push(p)}else if("group"===h.type){var g=o(t,h,a);i.push(a),a=g}}return e}},28200:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(41868),n=i(91907),r=i(79677),o=i(6641),a=i(95540),h=i(14977),l=i(29920),u=i(23029);t.exports=function(t,e){for(var i=a(t,"infinite",!1),c=[],d=[],f=r(t);f.i<f.layers.length||d.length>0;)if(f.i>=f.layers.length){if(d.length<1)break;f=d.pop()}else{var p=f.layers[f.i];if(f.i++,"tilelayer"===p.type){if(!p.compression){if(p.encoding&&"base64"===p.encoding){if(p.chunks)for(var g=0;g<p.chunks.length;g++)p.chunks[g].data=s(p.chunks[g].data);p.data&&(p.data=s(p.data)),delete p.encoding}var m,v,y,x,T,w,b=[],S=0;if(i){var E=a(p,"startx",0)+p.x,C=a(p,"starty",0)+p.y;(m=new h({name:f.name+p.name,id:p.id,x:f.x+a(p,"offsetx",0)+E*t.tilewidth,y:f.y+a(p,"offsety",0)+C*t.tileheight,width:p.width,height:p.height,tileWidth:t.tilewidth,tileHeight:t.tileheight,alpha:f.opacity*p.opacity,visible:f.visible&&p.visible,properties:a(p,"properties",[]),orientation:o(t.orientation)})).orientation===n.HEXAGONAL&&(m.hexSideLength=t.hexsidelength,m.staggerAxis=t.staggeraxis,m.staggerIndex=t.staggerindex,"y"===m.staggerAxis?(T=(m.tileHeight-m.hexSideLength)/2,m.widthInPixels=m.tileWidth*(m.width+.5),m.heightInPixels=m.height*(m.hexSideLength+T)+T):(w=(m.tileWidth-m.hexSideLength)/2,m.widthInPixels=m.width*(m.hexSideLength+w)+w,m.heightInPixels=m.tileHeight*(m.height+.5)));for(var _=0;_<p.height;_++){b[_]=[null];for(var A=0;A<p.width;A++)b[_][A]=null}for(_=0,N=p.chunks.length;_<N;_++)for(var M=p.chunks[_],P=M.x-E,R=M.y-C,I=0,O=0,L=M.data.length;O<L;O++){var D=S+P,k=I+R;(v=l(M.data[O])).gid>0?((y=new u(m,v.gid,D,k,t.tilewidth,t.tileheight)).rotation=v.rotation,y.flipX=v.flipped,b[k][D]=y):(x=e?null:new u(m,-1,D,k,t.tilewidth,t.tileheight),b[k][D]=x),++S===M.width&&(I++,S=0)}}else{(m=new h({name:f.name+p.name,id:p.id,x:f.x+a(p,"offsetx",0)+p.x,y:f.y+a(p,"offsety",0)+p.y,width:p.width,height:p.height,tileWidth:t.tilewidth,tileHeight:t.tileheight,alpha:f.opacity*p.opacity,visible:f.visible&&p.visible,properties:a(p,"properties",[]),orientation:o(t.orientation)})).orientation===n.HEXAGONAL&&(m.hexSideLength=t.hexsidelength,m.staggerAxis=t.staggeraxis,m.staggerIndex=t.staggerindex,"y"===m.staggerAxis?(T=(m.tileHeight-m.hexSideLength)/2,m.widthInPixels=m.tileWidth*(m.width+.5),m.heightInPixels=m.height*(m.hexSideLength+T)+T):(w=(m.tileWidth-m.hexSideLength)/2,m.widthInPixels=m.width*(m.hexSideLength+w)+w,m.heightInPixels=m.tileHeight*(m.height+.5)));for(var F=[],B=0,N=p.data.length;B<N;B++)(v=l(p.data[B])).gid>0?((y=new u(m,v.gid,S,b.length,t.tilewidth,t.tileheight)).rotation=v.rotation,y.flipX=v.flipped,F.push(y)):(x=e?null:new u(m,-1,S,b.length,t.tilewidth,t.tileheight),F.push(x)),++S===p.width&&(b.push(F),S=0,F=[])}m.data=b,c.push(m)}}else if("group"===p.type){var z=r(t,p,f);d.push(f),f=z}}return c}},24619:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(33629),n=i(16536),r=i(52205),o=i(57880);t.exports=function(t){for(var e,i=[],a=[],h=null,l=0;l<t.tilesets.length;l++){var u=t.tilesets[l];if(u.source);else if(u.image){var c=new s(u.name,u.firstgid,u.tilewidth,u.tileheight,u.margin,u.spacing,void 0,void 0,u.tileoffset);if(t.version>1){var d=void 0,f=void 0;if(Array.isArray(u.tiles)){d=d||{},f=f||{};for(var p=0;p<u.tiles.length;p++){var g=u.tiles[p];if(g.properties){var m={};g.properties.forEach(function(t){m[t.name]=t.value}),f[g.id]=m}if(g.objectgroup&&((d[g.id]||(d[g.id]={})).objectgroup=g.objectgroup,g.objectgroup.objects)){var v=g.objectgroup.objects.map(function(t){return r(t)});d[g.id].objectgroup.objects=v}g.animation&&((d[g.id]||(d[g.id]={})).animation=g.animation),g.type&&((d[g.id]||(d[g.id]={})).type=g.type)}}Array.isArray(u.wangsets)&&(d=d||{},f=f||{},o(u.wangsets,d)),d&&(c.tileData=d,c.tileProperties=f)}else if(u.tileproperties&&(c.tileProperties=u.tileproperties),u.tiles)for(e in c.tileData=u.tiles,c.tileData){var y=c.tileData[e].objectgroup;if(y&&y.objects){var x=y.objects.map(function(t){return r(t)});c.tileData[e].objectgroup.objects=x}}c.updateTileData(u.imagewidth,u.imageheight),i.push(c)}else{var T=new n(u.name,u.firstgid,u.tilewidth,u.tileheight,u.margin,u.spacing,u.properties),w=0;for(p=0;p<u.tiles.length;p++){var b=(g=u.tiles[p]).image,S=parseInt(g.id,10),E=u.firstgid+S,C=g.imagewidth,_=g.imageheight;T.addImage(E,b,C,_),w=Math.max(S,w)}T.maxId=w,a.push(T)}h&&(h.lastgid=u.firstgid-1),h=u}return{tilesets:i,imageCollections:a}}},57880:t=>{t.exports=function(t,e){for(var i=0;i<t.length;i++){var s=t[i],n=i;if(s.name&&""!==s.name&&(n=s.name),Array.isArray(s.wangtiles)&&s.wangtiles.length>0){var r,o,a,h={},l={};if(Array.isArray(s.edgecolors))for(r=0;r<s.edgecolors.length;r++)a=1+r,""!==(o=s.edgecolors[r]).name&&(h[a]=o.name);if(Array.isArray(s.cornercolors))for(r=0;r<s.cornercolors.length;r++)a=1+r,""!==(o=s.cornercolors[r]).name&&(l[a]=o.name);if(Array.isArray(s.colors))for(r=0;r<s.colors.length;r++)a=1+r,""!==(o=s.colors[r]).name&&(h[a]=l[a]=o.name);for(var u=[h,l,h,l,h,l,h,l],c=0;c<s.wangtiles.length;c++){var d=s.wangtiles[c],f=e[d.tileid]||(e[d.tileid]={});f=f.wangid||(f.wangid={});for(var p=[],g=0;g<Math.min(u.length,d.wangid.length);g++)if(0!==(o=d.wangid[g])){var m=u[g][o];void 0===m?p.push(o):p.push(m)}else p.push(void 0);f[n]=p}}}}},96761:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports={AssignTileProperties:i(51233),Base64Decode:i(41868),BuildTilesetIndex:i(84101),CreateGroupLayer:i(79677),ParseGID:i(29920),ParseImageLayers:i(12635),ParseJSONTiled:i(46594),ParseObject:i(52205),ParseObjectLayers:i(22611),ParseTileLayers:i(28200),ParseTilesets:i(24619)}},33385:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(83419),n=i(37277),r=i(44594),o=i(94880),a=i(72905),h=new s({initialize:function(t){this.scene=t,this.systems=t.sys,this.now=0,this.startTime=0,this.timeScale=1,this.paused=!1,this._active=[],this._pendingInsertion=[],this._pendingRemoval=[],t.sys.events.once(r.BOOT,this.boot,this),t.sys.events.on(r.START,this.start,this)},boot:function(){this.now=this.systems.game.loop.time,this.systems.events.once(r.DESTROY,this.destroy,this)},start:function(){this.startTime=this.systems.game.loop.time;var t=this.systems.events;t.on(r.PRE_UPDATE,this.preUpdate,this),t.on(r.UPDATE,this.update,this),t.once(r.SHUTDOWN,this.shutdown,this)},addEvent:function(t){var e;if(t instanceof o){if(e=t,this.removeEvent(e),e.elapsed=e.startAt,e.hasDispatched=!1,e.repeatCount=-1===e.repeat||e.loop?999999999999:e.repeat,e.delay<=0&&e.repeatCount>0)throw new Error("TimerEvent infinite loop created via zero delay")}else e=new o(t);return this._pendingInsertion.push(e),e},delayedCall:function(t,e,i,s){return this.addEvent({delay:t,callback:e,args:i,callbackScope:s})},clearPendingEvents:function(){return this._pendingInsertion=[],this},removeEvent:function(t){Array.isArray(t)||(t=[t]);for(var e=0;e<t.length;e++){var i=t[e];a(this._pendingRemoval,i),a(this._pendingInsertion,i),a(this._active,i)}return this},removeAllEvents:function(){return this._pendingRemoval=this._pendingRemoval.concat(this._active),this},preUpdate:function(){var t=this._pendingRemoval.length,e=this._pendingInsertion.length;if(0!==t||0!==e){var i,s;for(i=0;i<t;i++){s=this._pendingRemoval[i];var n=this._active.indexOf(s);n>-1&&this._active.splice(n,1),s.destroy()}for(i=0;i<e;i++)s=this._pendingInsertion[i],this._active.push(s);this._pendingRemoval.length=0,this._pendingInsertion.length=0}},update:function(t,e){if(this.now=t,!this.paused){e*=this.timeScale;for(var i=0;i<this._active.length;i++){var s=this._active[i];if(!s.paused&&(s.elapsed+=e*s.timeScale,s.elapsed>=s.delay)){var n=s.elapsed-s.delay;if(s.elapsed=s.delay,!s.hasDispatched&&s.callback&&(s.hasDispatched=!0,s.callback.apply(s.callbackScope,s.args)),s.repeatCount>0){if(s.repeatCount--,n>=s.delay)for(;n>=s.delay&&s.repeatCount>0;)s.callback&&s.callback.apply(s.callbackScope,s.args),n-=s.delay,s.repeatCount--;s.elapsed=n,s.hasDispatched=!1}else s.hasDispatched&&this._pendingRemoval.push(s)}}}},shutdown:function(){var t;for(t=0;t<this._pendingInsertion.length;t++)this._pendingInsertion[t].destroy();for(t=0;t<this._active.length;t++)this._active[t].destroy();for(t=0;t<this._pendingRemoval.length;t++)this._pendingRemoval[t].destroy();this._active.length=0,this._pendingRemoval.length=0,this._pendingInsertion.length=0;var e=this.systems.events;e.off(r.PRE_UPDATE,this.preUpdate,this),e.off(r.UPDATE,this.update,this),e.off(r.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.scene.sys.events.off(r.START,this.start,this),this.scene=null,this.systems=null}});n.register("Clock",h,"time"),t.exports=h},96120:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(83419),n=i(50792),r=i(39429),o=i(95540),a=i(44594),h=i(89809),l=new s({Extends:n,initialize:function(t,e){n.call(this),this.scene=t,this.systems=t.sys,this.elapsed=0,this.timeScale=1,this.paused=!0,this.complete=!1,this.totalComplete=0,this.loop=0,this.iteration=0,this.events=[];var i=this.systems.events;i.on(a.PRE_UPDATE,this.preUpdate,this),i.on(a.UPDATE,this.update,this),i.once(a.SHUTDOWN,this.destroy,this),e&&this.add(e)},preUpdate:function(t,e){this.paused||(this.elapsed+=e*this.timeScale)},update:function(){if(!this.paused&&!this.complete){var t,e,i=this.events,s=!1,n=this.systems;for(t=0;t<i.length;t++){var r=i[t];if(!r.complete&&r.time<=this.elapsed){if(r.complete=!0,this.totalComplete++,e=r.target?r.target:this,r.if&&!r.if.call(e,r))continue;if(r.once&&(s=!0),r.set&&r.target)for(var o in r.set)r.target[o]=r.set[o];this.iteration&&r.repeat++,r.loop&&r.repeat&&r.loop.call(e),r.tween&&(r.tweenInstance=n.tweens.add(r.tween)),r.sound&&("string"==typeof r.sound?n.sound.play(r.sound):n.sound.play(r.sound.key,r.sound.config)),r.event&&this.emit(r.event,e),r.run&&r.run.call(e),r.stop&&this.stop()}}if(s)for(t=0;t<i.length;t++)i[t].complete&&i[t].once&&(i.splice(t,1),t--);this.totalComplete>=i.length&&(0!==this.loop&&(-1===this.loop||this.loop>this.iteration)?(this.iteration++,this.reset(!0)):this.complete=!0),this.complete&&this.emit(h.COMPLETE,this)}},play:function(t){return void 0===t&&(t=!0),this.paused=!1,this.complete=!1,this.totalComplete=0,t&&this.reset(),this},pause:function(){this.paused=!0;for(var t=this.events,e=0;e<t.length;e++){var i=t[e];i.tweenInstance&&(i.tweenInstance.paused=!0)}return this},repeat:function(t){return void 0!==t&&!0!==t||(t=-1),!1===t&&(t=0),this.loop=t,this},resume:function(){this.paused=!1;for(var t=this.events,e=0;e<t.length;e++){var i=t[e];i.tweenInstance&&(i.tweenInstance.paused=!1)}return this},stop:function(){return this.paused=!0,this.complete=!0,this},reset:function(t){void 0===t&&(t=!1),this.elapsed=0,t||(this.iteration=0);for(var e=this.events,i=0;i<e.length;i++){var s=e[i];s.complete=!1,t||(s.repeat=0),s.tweenInstance&&s.tweenInstance.stop()}return this.play(!1)},add:function(t){Array.isArray(t)||(t=[t]);var e=this.events,i=0;e.length>0&&(i=e[e.length-1].time);for(var s=0;s<t.length;s++){var n=t[s],r=o(n,"at",0),a=o(n,"in",null);null!==a&&(r=this.elapsed+a);var h=o(n,"from",null);null!==h&&(r=i+h),e.push({complete:!1,time:r,repeat:0,if:o(n,"if",null),run:o(n,"run",null),loop:o(n,"loop",null),event:o(n,"event",null),target:o(n,"target",null),set:o(n,"set",null),tween:o(n,"tween",null),sound:o(n,"sound",null),once:o(n,"once",!1),stop:o(n,"stop",!1)}),i=r}return this.complete=!1,this},clear:function(){for(var t=this.events,e=0;e<t.length;e++){var i=t[e];i.tweenInstance&&i.tweenInstance.stop()}return t=[],this.elapsed=0,this.paused=!0,this},isPlaying:function(){return!this.paused&&!this.complete},getProgress:function(){return Math.min(this.totalComplete,this.events.length)/this.events.length},destroy:function(){var t=this.systems.events;t.off(a.PRE_UPDATE,this.preUpdate,this),t.off(a.UPDATE,this.update,this),t.off(a.SHUTDOWN,this.destroy,this),this.clear(),this.scene=null,this.systems=null}});r.register("timeline",function(t){return new l(this.scene,t)}),t.exports=l},94880:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(83419),n=i(95540),r=new s({initialize:function(t){this.delay=0,this.repeat=0,this.repeatCount=0,this.loop=!1,this.callback,this.callbackScope,this.args,this.timeScale=1,this.startAt=0,this.elapsed=0,this.paused=!1,this.hasDispatched=!1,this.reset(t)},reset:function(t){if(this.delay=n(t,"delay",0),this.repeat=n(t,"repeat",0),this.loop=n(t,"loop",!1),this.callback=n(t,"callback",void 0),this.callbackScope=n(t,"callbackScope",this),this.args=n(t,"args",[]),this.timeScale=n(t,"timeScale",1),this.startAt=n(t,"startAt",0),this.paused=n(t,"paused",!1),this.elapsed=this.startAt,this.hasDispatched=!1,this.repeatCount=-1===this.repeat||this.loop?999999999999:this.repeat,this.delay<=0&&this.repeatCount>0)throw new Error("TimerEvent infinite loop created via zero delay");return this},getProgress:function(){return this.elapsed/this.delay},getOverallProgress:function(){if(this.repeat>0){var t=this.delay+this.delay*this.repeat;return(this.elapsed+this.delay*(this.repeat-this.repeatCount))/t}return this.getProgress()},getRepeatCount:function(){return this.repeatCount},getElapsed:function(){return this.elapsed},getElapsedSeconds:function(){return.001*this.elapsed},getRemaining:function(){return this.delay-this.elapsed},getRemainingSeconds:function(){return.001*this.getRemaining()},getOverallRemaining:function(){return this.delay*(1+this.repeatCount)-this.elapsed},getOverallRemainingSeconds:function(){return.001*this.getOverallRemaining()},remove:function(t){void 0===t&&(t=!1),this.elapsed=this.delay,this.hasDispatched=!t,this.repeatCount=0},destroy:function(){this.callback=void 0,this.callbackScope=void 0,this.args=[]}});t.exports=r},35945:t=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports="complete"},89809:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports={COMPLETE:i(35945)}},90291:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports={Clock:i(33385),Events:i(89809),Timeline:i(96120),TimerEvent:i(94880)}},40382:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(72905),n=i(83419),r=i(43491),o=i(88032),a=i(37277),h=i(44594),l=i(93109),u=i(86081),c=i(8357),d=i(43960),f=i(26012),p=new n({initialize:function(t){this.scene=t,this.events=t.sys.events,this.timeScale=1,this.paused=!1,this.processing=!1,this.tweens=[],this.time=0,this.startTime=0,this.nextTime=0,this.prevTime=0,this.maxLag=500,this.lagSkip=33,this.gap=1e3/240,this.events.once(h.BOOT,this.boot,this),this.events.on(h.START,this.start,this)},boot:function(){this.events.once(h.DESTROY,this.destroy,this)},start:function(){this.timeScale=1,this.paused=!1,this.startTime=Date.now(),this.prevTime=this.startTime,this.nextTime=this.gap,this.events.on(h.UPDATE,this.update,this),this.events.once(h.SHUTDOWN,this.shutdown,this)},create:function(t){Array.isArray(t)||(t=[t]);for(var e=[],i=0;i<t.length;i++){var s=t[i];s instanceof u||s instanceof d?e.push(s):Array.isArray(s.tweens)?e.push(f(this,s)):e.push(c(this,s))}return 1===e.length?e[0]:e},add:function(t){var e=t,i=this.tweens;return e instanceof u||e instanceof d||(e=Array.isArray(e.tweens)?f(this,e):c(this,e)),i.push(e.reset()),e},addMultiple:function(t){for(var e,i=[],s=this.tweens,n=0;n<t.length;n++)(e=t[n])instanceof u||e instanceof d||(e=Array.isArray(e.tweens)?f(this,e):c(this,e)),s.push(e.reset()),i.push(e);return i},chain:function(t){var e=f(this,t);return this.tweens.push(e.init()),e},getChainedTweens:function(t){return t.getChainedTweens()},has:function(t){return this.tweens.indexOf(t)>-1},existing:function(t){return this.has(t)||this.tweens.push(t.reset()),this},addCounter:function(t){var e=o(this,t);return this.tweens.push(e.reset()),e},stagger:function(t,e){return l(t,e)},setLagSmooth:function(t,e){return void 0===t&&(t=1/1e-8),void 0===e&&(e=0),this.maxLag=t,this.lagSkip=Math.min(e,this.maxLag),this},setFps:function(t){return void 0===t&&(t=240),this.gap=1e3/t,this.nextTime=1e3*this.time+this.gap,this},getDelta:function(t){var e=Date.now()-this.prevTime;e>this.maxLag&&(this.startTime+=e-this.lagSkip),this.prevTime+=e;var i=this.prevTime-this.startTime,s=i-this.nextTime,n=i-1e3*this.time;return s>0||t?(i/=1e3,this.time=i,this.nextTime+=s+(s>=this.gap?4:this.gap-s)):n=0,n},tick:function(){return this.step(!0),this},update:function(){this.paused||this.step(!1)},step:function(t){void 0===t&&(t=!1);var e=this.getDelta(t);if(!(e<=0)){var i,s;this.processing=!0;var n=[],r=this.tweens;for(i=0;i<r.length;i++)(s=r[i]).update(e)&&n.push(s);var o=n.length;if(o&&r.length>0){for(i=0;i<o;i++){s=n[i];var a=r.indexOf(s);a>-1&&(s.isPendingRemove()||s.isDestroyed())&&(r.splice(a,1),s.destroy())}n.length=0}this.processing=!1}},remove:function(t){return this.processing?t.setPendingRemoveState():(s(this.tweens,t),t.setRemovedState()),this},reset:function(t){return this.existing(t),t.seek(),t.setActiveState(),this},makeActive:function(t){return this.existing(t),t.setActiveState(),this},each:function(t,e){var i,s=[null];for(i=1;i<arguments.length;i++)s.push(arguments[i]);return this.tweens.forEach(function(i){s[0]=i,t.apply(e,s)}),this},getTweens:function(){return this.tweens.slice()},getTweensOf:function(t){for(var e=[],i=this.tweens,s=(t=Array.isArray(t)?r(t):[t]).length,n=0;n<i.length;n++)for(var o=i[n],a=0;a<s;a++)!o.isDestroyed()&&o.hasTarget(t[a])&&e.push(o);return e},getGlobalTimeScale:function(){return this.timeScale},setGlobalTimeScale:function(t){return this.timeScale=t,this},isTweening:function(t){for(var e,i=this.tweens,s=0;s<i.length;s++)if((e=i[s]).isPlaying()&&e.hasTarget(t))return!0;return!1},killAll:function(){for(var t=this.processing?this.getTweens():this.tweens,e=0;e<t.length;e++)t[e].destroy();return this.processing||(t.length=0),this},killTweensOf:function(t){for(var e=this.getTweensOf(t),i=0;i<e.length;i++)e[i].destroy();return this},pauseAll:function(){return this.paused=!0,this},resumeAll:function(){return this.paused=!1,this},shutdown:function(){this.killAll(),this.tweens=[],this.events.off(h.UPDATE,this.update,this),this.events.off(h.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(h.START,this.start,this),this.scene=null,this.events=null}});a.register("TweenManager",p,"tweens"),t.exports=p},57355:t=>{t.exports=function(t,e,i){return t&&t.hasOwnProperty(e)?t[e]:i}},6113:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(62640),n=i(35355);t.exports=function(t,e){var i=s.Power0;if("string"==typeof t)if(s.hasOwnProperty(t))i=s[t];else{var r="";if(t.indexOf(".")){var o=(r=t.substring(t.indexOf(".")+1)).toLowerCase();"in"===o?r="easeIn":"out"===o?r="easeOut":"inout"===o&&(r="easeInOut")}t=n(t.substring(0,t.indexOf(".")+1)+r),s.hasOwnProperty(t)&&(i=s[t])}else"function"==typeof t&&(i=t);if(!e)return i;var a=e.slice(0);return a.unshift(0),function(t){return a[0]=t,i.apply(this,a)}}},91389:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(89318),n=i(77259),r={bezier:s,catmull:n,catmullrom:n,linear:i(28392)};t.exports=function(t){if(null===t)return null;var e=r.linear;return"string"==typeof t?r.hasOwnProperty(t)&&(e=r[t]):"function"==typeof t&&(e=t),e}},55292:t=>{t.exports=function(t,e,i){return t.hasOwnProperty(e)?"function"==typeof t[e]?function(i,s,n,r,o,a){return t[e](i,s,n,r,o,a)}:function(){return t[e]}:"function"==typeof i?i:function(){return i}}},82985:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(81076);t.exports=function(t){var e,i=[];if(t.hasOwnProperty("props"))for(e in t.props)"_"!==e.substring(0,1)&&i.push({key:e,value:t.props[e]});else for(e in t)-1===s.indexOf(e)&&"_"!==e.substring(0,1)&&i.push({key:e,value:t[e]});return i}},62329:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(35154);t.exports=function(t){var e=s(t,"targets",null);return null===e||("function"==typeof e&&(e=e.call()),Array.isArray(e)||(e=[e])),e}},17777:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(30976),n=i(99472);function r(t){return!!t.getActive&&"function"==typeof t.getActive}function o(t){return!!t.getStart&&"function"==typeof t.getStart}function a(t){return!!t.getEnd&&"function"==typeof t.getEnd}var h=function(t,e){var i,l,u=function(t,e,i){return i},c=function(t,e,i){return i},d=null,f=typeof e;if("number"===f)u=function(){return e};else if(Array.isArray(e))c=function(){return e[0]},u=function(){return e[e.length-1]};else if("string"===f){var p=e.toLowerCase(),g="random"===p.substring(0,6),m="int"===p.substring(0,3);if(g||m){var v=p.indexOf("("),y=p.indexOf(")"),x=p.indexOf(",");if(!(v&&y&&x))throw new Error("invalid random() format");var T=parseFloat(p.substring(v+1,x)),w=parseFloat(p.substring(x+1,y));u=g?function(){return n(T,w)}:function(){return s(T,w)}}else{p=p[0];var b=parseFloat(e.substr(2));switch(p){case"+":u=function(t,e,i){return i+b};break;case"-":u=function(t,e,i){return i-b};break;case"*":u=function(t,e,i){return i*b};break;case"/":u=function(t,e,i){return i/b};break;default:u=function(){return parseFloat(e)}}}}else if("function"===f)u=e;else if("object"===f)if(o(l=e)||a(l)||r(l))r(e)&&(d=e.getActive),a(e)&&(u=e.getEnd),o(e)&&(c=e.getStart);else if(e.hasOwnProperty("value"))i=h(t,e.value);else{var S=e.hasOwnProperty("to"),E=e.hasOwnProperty("from"),C=e.hasOwnProperty("start");if(S&&(E||C)){if(i=h(t,e.to),C){var _=h(t,e.start);i.getActive=_.getEnd}if(E){var A=h(t,e.from);i.getStart=A.getEnd}}}return i||(i={getActive:d,getEnd:u,getStart:c}),i};t.exports=h},88032:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(70402),n=i(69902),r=i(23568),o=i(57355),a=i(6113),h=i(95540),l=i(55292),u=i(35154),c=i(17777),d=i(269),f=i(86081);t.exports=function(t,e,i){if(e instanceof f)return e.parent=t,e;i=void 0===i?n:d(n,i);var p=h(e,"from",0),g=h(e,"to",1),m=[{value:p}],v=h(e,"delay",i.delay),y=h(e,"easeParams",i.easeParams),x=h(e,"ease",i.ease),T=c("value",g),w=new f(t,m),b=w.add(0,"value",T.getEnd,T.getStart,T.getActive,a(h(e,"ease",x),h(e,"easeParams",y)),l(e,"delay",v),h(e,"duration",i.duration),o(e,"yoyo",i.yoyo),h(e,"hold",i.hold),h(e,"repeat",i.repeat),h(e,"repeatDelay",i.repeatDelay),!1,!1);b.start=p,b.current=p,w.completeDelay=r(e,"completeDelay",0),w.loop=Math.round(r(e,"loop",0)),w.loopDelay=Math.round(r(e,"loopDelay",0)),w.paused=o(e,"paused",!1),w.persist=o(e,"persist",!1),w.isNumberTween=!0,w.callbackScope=u(e,"callbackScope",w);for(var S=s.TYPES,E=0;E<S.length;E++){var C=S[E],_=u(e,C,!1);if(_){var A=u(e,C+"Params",[]);w.setCallback(C,_,A)}}return w}},93109:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(6113),n=i(35154),r=i(36383);t.exports=function(t,e){void 0===e&&(e={});var i=n(e,"start",0),o=n(e,"ease",null),a=n(e,"grid",null),h=n(e,"from",0),l="first"===h,u="center"===h,c="last"===h,d="number"==typeof h,f=Array.isArray(t),p=f?parseFloat(t[0]):parseFloat(t),g=f?parseFloat(t[1]):0,m=Math.max(p,g);if(f&&(i+=p),a){var v=a[0],y=a[1],x=0,T=0,w=0,b=0,S=[];c?(x=v-1,T=y-1):d?(x=h%v,T=Math.floor(h/v)):u&&(x=(v-1)/2,T=(y-1)/2);for(var E=r.MIN_SAFE_INTEGER,C=0;C<y;C++){S[C]=[];for(var _=0;_<v;_++){w=x-_,b=T-C;var A=Math.sqrt(w*w+b*b);A>E&&(E=A),S[C][_]=A}}}var M=o?s(o):null;return a?function(t,e,s,n){var r,o=0,a=n%v,h=Math.floor(n/v);if(a>=0&&a<v&&h>=0&&h<y&&(o=S[h][a]),f){var l=g-p;r=M?o/E*l*M(o/E):o/E*l}else r=M?o*p*M(o/E):o*p;return r+i}:function(t,e,s,n,r){var o,a,v;return r--,l?o=n:u?o=Math.abs(r/2-n):c?o=r-n:d&&(o=Math.abs(h-n)),f?(v=u?(g-p)/r*(2*o):(g-p)/r*o,a=M?v*M(o/r):v):a=M?r*m*M(o/r):o*p,a+i}}},8357:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(70402),n=i(69902),r=i(23568),o=i(57355),a=i(6113),h=i(95540),l=i(91389),u=i(55292),c=i(82985),d=i(62329),f=i(35154),p=i(17777),g=i(269),m=i(86081);t.exports=function(t,e,i){if(e instanceof m)return e.parent=t,e;i=void 0===i?n:g(n,i);var v=d(e);!v&&i.targets&&(v=i.targets);for(var y=c(e),x=h(e,"delay",i.delay),T=h(e,"duration",i.duration),w=h(e,"easeParams",i.easeParams),b=h(e,"ease",i.ease),S=h(e,"hold",i.hold),E=h(e,"repeat",i.repeat),C=h(e,"repeatDelay",i.repeatDelay),_=o(e,"yoyo",i.yoyo),A=o(e,"flipX",i.flipX),M=o(e,"flipY",i.flipY),P=h(e,"interpolation",i.interpolation),R=function(t,e,i,s){if("texture"===i){var n=s,r=void 0;Array.isArray(s)?(n=s[0],r=s[1]):s.hasOwnProperty("value")?(n=s.value,Array.isArray(s.value)?(n=s.value[0],r=s.value[1]):"string"==typeof s.value&&(n=s.value)):"string"==typeof s&&(n=s),t.addFrame(e,n,r,u(s,"delay",x),h(s,"duration",T),h(s,"hold",S),h(s,"repeat",E),h(s,"repeatDelay",C),o(s,"flipX",A),o(s,"flipY",M))}else{var c=p(i,s),d=l(h(s,"interpolation",P));t.add(e,i,c.getEnd,c.getStart,c.getActive,a(h(s,"ease",b),h(s,"easeParams",w)),u(s,"delay",x),h(s,"duration",T),o(s,"yoyo",_),h(s,"hold",S),h(s,"repeat",E),h(s,"repeatDelay",C),o(s,"flipX",A),o(s,"flipY",M),d,d?s:null)}},I=new m(t,v),O=0;O<y.length;O++)for(var L=y[O].key,D=y[O].value,k=0;k<v.length;k++)"scale"!==L||v[k].hasOwnProperty("scale")?R(I,k,L,D):(R(I,k,"scaleX",D),R(I,k,"scaleY",D));I.completeDelay=r(e,"completeDelay",0),I.loop=Math.round(r(e,"loop",0)),I.loopDelay=Math.round(r(e,"loopDelay",0)),I.paused=o(e,"paused",!1),I.persist=o(e,"persist",!1),I.callbackScope=h(e,"callbackScope",I);for(var F=s.TYPES,B=0;B<F.length;B++){var N=F[B],z=f(e,N,!1);if(z){var U=f(e,N+"Params",[]);I.setCallback(N,z,U)}}return I}},26012:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(70402),n=i(23568),r=i(57355),o=i(62329),a=i(35154),h=i(8357),l=i(43960);t.exports=function(t,e){if(e instanceof l)return e.parent=t,e;var i,u=new l(t);u.startDelay=a(e,"delay",0),u.completeDelay=n(e,"completeDelay",0),u.loop=Math.round(n(e,"loop",a(e,"repeat",0))),u.loopDelay=Math.round(n(e,"loopDelay",a(e,"repeatDelay",0))),u.paused=r(e,"paused",!1),u.persist=r(e,"persist",!1),u.callbackScope=a(e,"callbackScope",u);var c=s.TYPES;for(i=0;i<c.length;i++){var d=c[i],f=a(e,d,!1);if(f){var p=a(e,d+"Params",[]);u.setCallback(d,f,p)}}var g=a(e,"tweens",null);if(Array.isArray(g)){var m=[],v=o(e),y=void 0;for(v&&(y={targets:v}),i=0;i<g.length;i++)m.push(h(u,g[i],y));u.add(m)}return u}},30231:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports={GetBoolean:i(57355),GetEaseFunction:i(6113),GetInterpolationFunction:i(91389),GetNewValue:i(55292),GetProps:i(82985),GetTargets:i(62329),GetValueOp:i(17777),NumberTweenBuilder:i(88032),StaggerBuilder:i(93109),TweenBuilder:i(8357)}},73685:t=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports="active"},98540:t=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports="complete"},67233:t=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports="loop"},2859:t=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports="pause"},98336:t=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports="repeat"},25764:t=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports="resume"},32193:t=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports="start"},84371:t=>{
/**
                     * @author       samme
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports="stop"},70766:t=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports="update"},55659:t=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports="yoyo"},842:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports={TWEEN_ACTIVE:i(73685),TWEEN_COMPLETE:i(98540),TWEEN_LOOP:i(67233),TWEEN_PAUSE:i(2859),TWEEN_RESUME:i(25764),TWEEN_REPEAT:i(98336),TWEEN_START:i(32193),TWEEN_STOP:i(84371),TWEEN_UPDATE:i(70766),TWEEN_YOYO:i(55659)}},43066:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s={States:i(86353),Builders:i(30231),Events:i(842),TweenManager:i(40382),Tween:i(86081),TweenData:i(48177),TweenFrameData:i(42220),BaseTween:i(70402),TweenChain:i(43960)};t.exports=s},70402:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(83419),n=i(50792),r=i(842),o=i(86353),a=new s({Extends:n,initialize:function(t){n.call(this),this.parent=t,this.data=[],this.totalData=0,this.startDelay=0,this.hasStarted=!1,this.timeScale=1,this.loop=0,this.loopDelay=0,this.loopCounter=0,this.completeDelay=0,this.countdown=0,this.state=o.PENDING,this.paused=!1,this.callbacks={onActive:null,onComplete:null,onLoop:null,onPause:null,onRepeat:null,onResume:null,onStart:null,onStop:null,onUpdate:null,onYoyo:null},this.callbackScope,this.persist=!1},setTimeScale:function(t){return this.timeScale=t,this},getTimeScale:function(){return this.timeScale},isPlaying:function(){return!this.paused&&this.isActive()},isPaused:function(){return this.paused},pause:function(){return this.paused||(this.paused=!0,this.dispatchEvent(r.TWEEN_PAUSE,"onPause")),this},resume:function(){return this.paused&&(this.paused=!1,this.dispatchEvent(r.TWEEN_RESUME,"onResume")),this},makeActive:function(){this.parent.makeActive(this),this.dispatchEvent(r.TWEEN_ACTIVE,"onActive")},onCompleteHandler:function(){this.setPendingRemoveState(),this.dispatchEvent(r.TWEEN_COMPLETE,"onComplete")},complete:function(t){return void 0===t&&(t=0),t?(this.setCompleteDelayState(),this.countdown=t):this.onCompleteHandler(),this},completeAfterLoop:function(t){return void 0===t&&(t=0),this.loopCounter>t&&(this.loopCounter=t),this},remove:function(){return this.parent&&this.parent.remove(this),this},stop:function(){return!this.parent||this.isRemoved()||this.isPendingRemove()||this.isDestroyed()||(this.dispatchEvent(r.TWEEN_STOP,"onStop"),this.setPendingRemoveState()),this},updateLoopCountdown:function(t){this.countdown-=t,this.countdown<=0&&(this.setActiveState(),this.dispatchEvent(r.TWEEN_LOOP,"onLoop"))},updateStartCountdown:function(t){return this.countdown-=t,this.countdown<=0&&(this.hasStarted=!0,this.setActiveState(),this.dispatchEvent(r.TWEEN_START,"onStart"),t=0),t},updateCompleteDelay:function(t){this.countdown-=t,this.countdown<=0&&this.onCompleteHandler()},setCallback:function(t,e,i){return void 0===i&&(i=[]),this.callbacks.hasOwnProperty(t)&&(this.callbacks[t]={func:e,params:i}),this},setPendingState:function(){this.state=o.PENDING},setActiveState:function(){this.state=o.ACTIVE,this.hasStarted=!1},setLoopDelayState:function(){this.state=o.LOOP_DELAY},setCompleteDelayState:function(){this.state=o.COMPLETE_DELAY},setStartDelayState:function(){this.state=o.START_DELAY,this.countdown=this.startDelay,this.hasStarted=!1},setPendingRemoveState:function(){this.state=o.PENDING_REMOVE},setRemovedState:function(){this.state=o.REMOVED},setFinishedState:function(){this.state=o.FINISHED},setDestroyedState:function(){this.state=o.DESTROYED},isPending:function(){return this.state===o.PENDING},isActive:function(){return this.state===o.ACTIVE},isLoopDelayed:function(){return this.state===o.LOOP_DELAY},isCompleteDelayed:function(){return this.state===o.COMPLETE_DELAY},isStartDelayed:function(){return this.state===o.START_DELAY},isPendingRemove:function(){return this.state===o.PENDING_REMOVE},isRemoved:function(){return this.state===o.REMOVED},isFinished:function(){return this.state===o.FINISHED},isDestroyed:function(){return this.state===o.DESTROYED},destroy:function(){this.data&&this.data.forEach(function(t){t.destroy()}),this.removeAllListeners(),this.callbacks=null,this.data=null,this.parent=null,this.setDestroyedState()}});a.TYPES=["onActive","onComplete","onLoop","onPause","onRepeat","onResume","onStart","onStop","onUpdate","onYoyo"],t.exports=a},95042:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(83419),n=i(842),r=i(86353),o=new s({initialize:function(t,e,i,s,n,r,o,a,h,l){this.tween=t,this.targetIndex=e,this.duration=s<=0?.01:s,this.totalDuration=0,this.delay=0,this.getDelay=i,this.yoyo=n,this.hold=r,this.repeat=o,this.repeatDelay=a,this.repeatCounter=0,this.flipX=h,this.flipY=l,this.progress=0,this.elapsed=0,this.state=0,this.isCountdown=!1},getTarget:function(){return this.tween.targets[this.targetIndex]},setTargetValue:function(t){void 0===t&&(t=this.current),this.tween.targets[this.targetIndex][this.key]=t},setCreatedState:function(){this.state=r.CREATED,this.isCountdown=!1},setDelayState:function(){this.state=r.DELAY,this.isCountdown=!0},setPendingRenderState:function(){this.state=r.PENDING_RENDER,this.isCountdown=!1},setPlayingForwardState:function(){this.state=r.PLAYING_FORWARD,this.isCountdown=!1},setPlayingBackwardState:function(){this.state=r.PLAYING_BACKWARD,this.isCountdown=!1},setHoldState:function(){this.state=r.HOLD_DELAY,this.isCountdown=!0},setRepeatState:function(){this.state=r.REPEAT_DELAY,this.isCountdown=!0},setCompleteState:function(){this.state=r.COMPLETE,this.isCountdown=!1},isCreated:function(){return this.state===r.CREATED},isDelayed:function(){return this.state===r.DELAY},isPendingRender:function(){return this.state===r.PENDING_RENDER},isPlayingForward:function(){return this.state===r.PLAYING_FORWARD},isPlayingBackward:function(){return this.state===r.PLAYING_BACKWARD},isHolding:function(){return this.state===r.HOLD_DELAY},isRepeating:function(){return this.state===r.REPEAT_DELAY},isComplete:function(){return this.state===r.COMPLETE},setStateFromEnd:function(t){this.yoyo?this.onRepeat(t,!0,!0):this.repeatCounter>0?this.onRepeat(t,!0,!1):this.setCompleteState()},setStateFromStart:function(t){this.repeatCounter>0?this.onRepeat(t,!1):this.setCompleteState()},reset:function(){var t=this.tween,e=t.totalTargets,i=this.targetIndex,s=t.targets[i],n=this.key;this.progress=0,this.elapsed=0,this.delay=this.getDelay(s,n,0,i,e,t),this.repeatCounter=-1===this.repeat?r.MAX:this.repeat,this.setPendingRenderState();var o=this.duration+this.hold;this.yoyo&&(o+=this.duration);var a=o+this.repeatDelay;this.totalDuration=this.delay+o,-1===this.repeat?(this.totalDuration+=a*r.MAX,t.isInfinite=!0):this.repeat>0&&(this.totalDuration+=a*this.repeat),this.totalDuration>t.duration&&(t.duration=this.totalDuration),this.delay<t.startDelay&&(t.startDelay=this.delay),this.delay>0&&(this.elapsed=this.delay,this.setDelayState())},onRepeat:function(t,e,i){var s=this.tween,r=s.totalTargets,o=this.targetIndex,a=s.targets[o],h=this.key,l="texture"!==h;if(this.elapsed=t,this.progress=t/this.duration,this.flipX&&a.toggleFlipX(),this.flipY&&a.toggleFlipY(),l&&(e||i)&&(this.start=this.getStartValue(a,h,this.start,o,r,s)),i)return this.setPlayingBackwardState(),void this.dispatchEvent(n.TWEEN_YOYO,"onYoyo");this.repeatCounter--,l&&(this.end=this.getEndValue(a,h,this.start,o,r,s)),this.repeatDelay>0?(this.elapsed=this.repeatDelay-t,l&&(this.current=this.start,a[h]=this.current),this.setRepeatState()):(this.setPlayingForwardState(),this.dispatchEvent(n.TWEEN_REPEAT,"onRepeat"))},destroy:function(){this.tween=null,this.getDelay=null,this.setCompleteState()}});t.exports=o},69902:t=>{t.exports={targets:null,delay:0,duration:1e3,ease:"Power0",easeParams:null,hold:0,repeat:0,repeatDelay:0,yoyo:!1,flipX:!1,flipY:!1,persist:!1,interpolation:null}},81076:t=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports=["callbackScope","completeDelay","delay","duration","ease","easeParams","flipX","flipY","hold","interpolation","loop","loopDelay","onActive","onActiveParams","onComplete","onCompleteParams","onLoop","onLoopParams","onPause","onPauseParams","onRepeat","onRepeatParams","onResume","onResumeParams","onStart","onStartParams","onStop","onStopParams","onUpdate","onUpdateParams","onYoyo","onYoyoParams","paused","persist","props","repeat","repeatDelay","targets","yoyo"]},86081:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(70402),n=i(83419),r=i(842),o=i(44603),a=i(39429),h=i(36383),l=i(86353),u=i(48177),c=i(42220),d=new n({Extends:s,initialize:function(t,e){s.call(this,t),this.targets=e,this.totalTargets=e.length,this.isSeeking=!1,this.isInfinite=!1,this.elapsed=0,this.totalElapsed=0,this.duration=0,this.progress=0,this.totalDuration=0,this.totalProgress=0,this.isNumberTween=!1},add:function(t,e,i,s,n,r,o,a,h,l,c,d,f,p,g,m){var v=new u(this,t,e,i,s,n,r,o,a,h,l,c,d,f,p,g,m);return this.totalData=this.data.push(v),v},addFrame:function(t,e,i,s,n,r,o,a,h,l){var u=new c(this,t,e,i,s,n,r,o,a,h,l);return this.totalData=this.data.push(u),u},getValue:function(t){void 0===t&&(t=0);var e=null;return this.data&&(e=this.data[t].current),e},hasTarget:function(t){return this.targets&&-1!==this.targets.indexOf(t)},updateTo:function(t,e,i){if(void 0===i&&(i=!1),"texture"!==t)for(var s=0;s<this.totalData;s++){var n=this.data[s];n.key===t&&(n.isPlayingForward()||n.isPlayingBackward())&&(n.end=e,i&&(n.start=n.current))}return this},restart:function(){switch(this.state){case l.REMOVED:case l.FINISHED:this.seek(),this.parent.makeActive(this);break;case l.PENDING:case l.PENDING_REMOVE:this.parent.reset(this);break;case l.DESTROYED:break;default:this.seek()}return this.paused=!1,this.hasStarted=!1,this},nextState:function(){if(this.loopCounter>0)this.elapsed=0,this.progress=0,this.loopCounter--,this.initTweenData(!0),this.loopDelay>0?(this.countdown=this.loopDelay,this.setLoopDelayState()):(this.setActiveState(),this.dispatchEvent(r.TWEEN_LOOP,"onLoop"));else{if(!(this.completeDelay>0))return this.onCompleteHandler(),!0;this.countdown=this.completeDelay,this.setCompleteDelayState()}return!1},onCompleteHandler:function(){this.progress=1,this.totalProgress=1,s.prototype.onCompleteHandler.call(this)},play:function(){return this.isDestroyed()||((this.isPendingRemove()||this.isFinished())&&this.seek(),this.paused=!1,this.setActiveState()),this},seek:function(t,e,i){if(void 0===t&&(t=0),void 0===e&&(e=16.6),void 0===i&&(i=!1),this.isDestroyed())return this;i||(this.isSeeking=!0),this.reset(!0),this.initTweenData(!0),this.setActiveState(),this.dispatchEvent(r.TWEEN_ACTIVE,"onActive");var s=this.paused;if(this.paused=!1,t>0){for(var n=Math.floor(t/e),o=t-n*e,a=0;a<n;a++)this.update(e);o>0&&this.update(o)}return this.paused=s,this.isSeeking=!1,this},initTweenData:function(t){void 0===t&&(t=!1),this.duration=0,this.startDelay=h.MAX_SAFE_INTEGER;for(var e=this.data,i=0;i<this.totalData;i++)e[i].reset(t);this.duration=Math.max(this.duration,.01);var s=this.duration,n=this.completeDelay,r=this.loopCounter,o=this.loopDelay;this.totalDuration=r>0?s+n+(s+o)*r:s+n},reset:function(t){return void 0===t&&(t=!1),this.elapsed=0,this.totalElapsed=0,this.progress=0,this.totalProgress=0,this.loopCounter=this.loop,-1===this.loop&&(this.isInfinite=!0,this.loopCounter=l.MAX),t||(this.initTweenData(),this.setActiveState(),this.dispatchEvent(r.TWEEN_ACTIVE,"onActive")),this},update:function(t){if(this.isPendingRemove()||this.isDestroyed())return!this.persist||(this.setFinishedState(),!1);if(this.paused||this.isFinished())return!1;if(t*=this.timeScale*this.parent.timeScale,this.isLoopDelayed())return this.updateLoopCountdown(t),!1;if(this.isCompleteDelayed())return this.updateCompleteDelay(t),!1;this.hasStarted||(this.startDelay-=t,this.startDelay<=0&&(this.hasStarted=!0,this.dispatchEvent(r.TWEEN_START,"onStart"),t=0));var e=!1;if(this.isActive())for(var i=this.data,s=0;s<this.totalData;s++)i[s].update(t)&&(e=!0);this.elapsed+=t,this.progress=Math.min(this.elapsed/this.duration,1),this.totalElapsed+=t,this.totalProgress=Math.min(this.totalElapsed/this.totalDuration,1),e||this.nextState();var n=this.isPendingRemove();return n&&this.persist&&(this.setFinishedState(),n=!1),n},forward:function(t){return this.update(t),this},rewind:function(t){return this.update(-t),this},dispatchEvent:function(t,e){if(!this.isSeeking){if(this.emit(t,this,this.targets),!this.callbacks)return;var i=this.callbacks[e];i&&i.func.apply(this.callbackScope,[this,this.targets].concat(i.params))}},destroy:function(){s.prototype.destroy.call(this),this.targets=null}});a.register("tween",function(t){return this.scene.sys.tweens.add(t)}),o.register("tween",function(t){return this.scene.sys.tweens.create(t)}),t.exports=d},43960:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(72905),n=i(70402),r=i(83419),o=i(842),a=i(44603),h=i(39429),l=i(86353),u=new r({Extends:n,initialize:function(t){n.call(this,t),this.currentTween=null,this.currentIndex=0},init:function(){return this.loopCounter=-1===this.loop?l.MAX:this.loop,this.setCurrentTween(0),this.startDelay>0&&!this.isStartDelayed()?this.setStartDelayState():this.setActiveState(),this},add:function(t){var e=this.parent.create(t);Array.isArray(e)||(e=[e]);for(var i=this.data,s=0;s<e.length;s++){var n=e[s];n.parent=this,i.push(n.reset())}return this.totalData=i.length,this},remove:function(t){return s(this.data,t),t.setRemovedState(),t===this.currentTween&&this.nextTween(),this.totalData=this.data.length,this},hasTarget:function(t){for(var e=this.data,i=0;i<this.totalData;i++)if(e[i].hasTarget(t))return!0;return!1},restart:function(){return this.isDestroyed()?this:(this.isRemoved()&&this.parent.makeActive(this),this.resetTweens(),this.paused=!1,this.init())},reset:function(t){return t.seek(),t.setActiveState(),this},makeActive:function(t){return t.reset(),t.setActiveState(),this},nextState:function(){if(this.loopCounter>0)this.loopCounter--,this.resetTweens(),this.loopDelay>0?(this.countdown=this.loopDelay,this.setLoopDelayState()):(this.setActiveState(),this.dispatchEvent(o.TWEEN_LOOP,"onLoop"));else{if(!(this.completeDelay>0))return this.onCompleteHandler(),!0;this.countdown=this.completeDelay,this.setCompleteDelayState()}return!1},play:function(){return this.isDestroyed()||((this.isPendingRemove()||this.isPending())&&this.resetTweens(),this.paused=!1,this.startDelay>0&&!this.isStartDelayed()?this.setStartDelayState():this.setActiveState()),this},resetTweens:function(){for(var t=this.data,e=this.totalData,i=0;i<e;i++)t[i].reset(!1);this.setCurrentTween(0)},update:function(t){if(this.isPendingRemove()||this.isDestroyed())return!this.persist||(this.setFinishedState(),!1);if(this.isFinished()||this.paused)return!1;if(t*=this.parent.timeScale,this.isLoopDelayed())return this.updateLoopCountdown(t),!1;if(this.isCompleteDelayed())return this.updateCompleteDelay(t),!1;this.hasStarted||(this.startDelay-=t,this.startDelay<=0&&(this.hasStarted=!0,this.dispatchEvent(o.TWEEN_START,"onStart"),t=0));var e=!1;return this.isActive()&&this.currentTween&&(this.currentTween.update(t)&&this.nextTween()&&this.nextState(),(e=this.isPendingRemove())&&this.persist&&(this.setFinishedState(),e=!1)),e},nextTween:function(){return this.currentIndex++,this.currentIndex===this.totalData||(this.setCurrentTween(this.currentIndex),!1)},setCurrentTween:function(t){this.currentIndex=t,this.currentTween=this.data[t],this.currentTween.setActiveState()},dispatchEvent:function(t,e){this.emit(t,this);var i=this.callbacks[e];i&&i.func.apply(this.callbackScope,[this].concat(i.params))},destroy:function(){n.prototype.destroy.call(this),this.currentTween=null}});h.register("tweenchain",function(t){return this.scene.sys.tweens.chain(t)}),a.register("tweenchain",function(t){return this.scene.sys.tweens.create(t)}),t.exports=u},48177:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(95042),n=i(45319),r=i(83419),o=i(842),a=new r({Extends:s,initialize:function(t,e,i,n,r,o,a,h,l,u,c,d,f,p,g,m,v){s.call(this,t,e,h,l,u,c,d,f,p,g),this.key=i,this.getActiveValue=o,this.getEndValue=n,this.getStartValue=r,this.ease=a,this.start=0,this.previous=0,this.current=0,this.end=0,this.interpolation=m,this.interpolationData=v},reset:function(t){s.prototype.reset.call(this);var e=this.tween.targets[this.targetIndex],i=this.key;t&&(e[i]=this.start),this.start=0,this.previous=0,this.current=0,this.end=0,this.getActiveValue&&(e[i]=this.getActiveValue(e,i,0))},update:function(t){var e=this.tween,i=e.totalTargets,s=this.targetIndex,r=e.targets[s],a=this.key;if(!r)return this.setCompleteState(),!1;if(this.isCountdown&&(this.elapsed-=t,this.elapsed<=0&&(this.elapsed=0,t=0,this.isDelayed()?this.setPendingRenderState():this.isRepeating()?(this.setPlayingForwardState(),this.dispatchEvent(o.TWEEN_REPEAT,"onRepeat")):this.isHolding()&&this.setStateFromEnd(0))),this.isPendingRender())return this.start=this.getStartValue(r,a,r[a],s,i,e),this.end=this.getEndValue(r,a,this.start,s,i,e),this.current=this.start,r[a]=this.start,this.setPlayingForwardState(),!0;var h=this.isPlayingForward(),l=this.isPlayingBackward();if(h||l){var u=this.elapsed,c=this.duration,d=0,f=!1;(u+=t)>=c?(d=u-c,u=c,f=!0):u<0&&(u=0);var p=n(u/c,0,1);this.elapsed=u,this.progress=p,this.previous=this.current,h||(p=1-p);var g=this.ease(p);this.interpolation?this.current=this.interpolation(this.interpolationData,g):this.current=this.start+(this.end-this.start)*g,r[a]=this.current,f&&(h?(e.isNumberTween&&(this.current=this.end,r[a]=this.current),this.hold>0?(this.elapsed=this.hold,this.setHoldState()):this.setStateFromEnd(d)):(e.isNumberTween&&(this.current=this.start,r[a]=this.current),this.setStateFromStart(d))),this.dispatchEvent(o.TWEEN_UPDATE,"onUpdate")}return!this.isComplete()},dispatchEvent:function(t,e){var i=this.tween;if(!i.isSeeking){var s=i.targets[this.targetIndex],n=this.key,r=this.current,o=this.previous;i.emit(t,i,n,s,r,o);var a=i.callbacks[e];a&&a.func.apply(i.callbackScope,[i,s,n,r,o].concat(a.params))}},destroy:function(){s.prototype.destroy.call(this),this.getActiveValue=null,this.getEndValue=null,this.getStartValue=null,this.ease=null}});t.exports=a},42220:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(95042),n=i(45319),r=i(83419),o=i(842),a=new r({Extends:s,initialize:function(t,e,i,n,r,o,a,h,l,u,c){s.call(this,t,e,r,o,!1,a,h,l,u,c),this.key="texture",this.startTexture=null,this.endTexture=i,this.startFrame=null,this.endFrame=n,this.yoyo=0!==h},reset:function(t){s.prototype.reset.call(this);var e=this.tween.targets[this.targetIndex];this.startTexture||(this.startTexture=e.texture.key,this.startFrame=e.frame.name),t&&e.setTexture(this.startTexture,this.startFrame)},update:function(t){var e=this.tween,i=this.targetIndex,s=e.targets[i];if(!s)return this.setCompleteState(),!1;if(this.isCountdown&&(this.elapsed-=t,this.elapsed<=0&&(this.elapsed=0,t=0,this.isDelayed()?this.setPendingRenderState():this.isRepeating()?(this.setPlayingForwardState(),this.dispatchEvent(o.TWEEN_REPEAT,"onRepeat")):this.isHolding()&&this.setStateFromEnd(0))),this.isPendingRender())return this.startTexture&&s.setTexture(this.startTexture,this.startFrame),this.setPlayingForwardState(),!0;var r=this.isPlayingForward(),a=this.isPlayingBackward();if(r||a){var h=this.elapsed,l=this.duration,u=0,c=!1;(h+=t)>=l?(u=h-l,h=l,c=!0):h<0&&(h=0);var d=n(h/l,0,1);this.elapsed=h,this.progress=d,c&&(r?(s.setTexture(this.endTexture,this.endFrame),this.hold>0?(this.elapsed=this.hold,this.setHoldState()):this.setStateFromEnd(u)):(s.setTexture(this.startTexture,this.startFrame),this.setStateFromStart(u))),this.dispatchEvent(o.TWEEN_UPDATE,"onUpdate")}return!this.isComplete()},dispatchEvent:function(t,e){var i=this.tween;if(!i.isSeeking){var s=i.targets[this.targetIndex],n=this.key;i.emit(t,i,n,s);var r=i.callbacks[e];r&&r.func.apply(i.callbackScope,[i,s,n].concat(r.params))}},destroy:function(){s.prototype.destroy.call(this),this.startTexture=null,this.endTexture=null,this.startFrame=null,this.endFrame=null}});t.exports=a},86353:t=>{t.exports={CREATED:0,DELAY:2,PENDING_RENDER:4,PLAYING_FORWARD:5,PLAYING_BACKWARD:6,HOLD_DELAY:7,REPEAT_DELAY:8,COMPLETE:9,PENDING:20,ACTIVE:21,LOOP_DELAY:22,COMPLETE_DELAY:23,START_DELAY:24,PENDING_REMOVE:25,REMOVED:26,FINISHED:27,DESTROYED:28,MAX:999999999999}},83419:t=>{function e(t,e,i){var s=i?t[e]:Object.getOwnPropertyDescriptor(t,e);return!i&&s.value&&"object"==typeof s.value&&(s=s.value),!(!s||!
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
function(t){return!!t.get&&"function"==typeof t.get||!!t.set&&"function"==typeof t.set}(s))&&(void 0===s.enumerable&&(s.enumerable=!0),void 0===s.configurable&&(s.configurable=!0),s)}function i(t,e){var i=Object.getOwnPropertyDescriptor(t,e);return!!i&&(i.value&&"object"==typeof i.value&&(i=i.value),!1===i.configurable)}function s(t,s,n,o){for(var a in s)if(s.hasOwnProperty(a)){var h=e(s,a,n);if(!1!==h){if(i((o||t).prototype,a)){if(r.ignoreFinals)continue;throw new Error("cannot override final property '"+a+"', set Class.ignoreFinals = true to skip")}Object.defineProperty(t.prototype,a,h)}else t.prototype[a]=s[a]}}function n(t,e){if(e){Array.isArray(e)||(e=[e]);for(var i=0;i<e.length;i++)s(t,e[i].prototype||e[i])}}function r(t){var e,i;if(t||(t={}),t.initialize){if("function"!=typeof t.initialize)throw new Error("initialize must be a function");e=t.initialize,delete t.initialize}else if(t.Extends){var r=t.Extends;e=function(){r.apply(this,arguments)}}else e=function(){};t.Extends?(e.prototype=Object.create(t.Extends.prototype),e.prototype.constructor=e,i=t.Extends,delete t.Extends):e.prototype.constructor=e;var o=null;return t.Mixins&&(o=t.Mixins,delete t.Mixins),n(e,o),s(e,t,!0,i),e}r.extend=s,r.mixin=n,r.ignoreFinals=!1,t.exports=r},29747:t=>{t.exports=function(){}},20242:t=>{t.exports=function(){return null}},71146:t=>{t.exports=function(t,e,i,s,n){if(void 0===n&&(n=t),i>0){var r=i-t.length;if(r<=0)return null}if(!Array.isArray(e))return-1===t.indexOf(e)?(t.push(e),s&&s.call(n,e),e):null;for(var o=e.length-1;o>=0;)-1!==t.indexOf(e[o])&&e.splice(o,1),o--;if(0===(o=e.length))return null;i>0&&o>r&&(e.splice(r),o=r);for(var a=0;a<o;a++){var h=e[a];t.push(h),s&&s.call(n,h)}return e}},51067:t=>{t.exports=function(t,e,i,s,n,r){if(void 0===i&&(i=0),void 0===r&&(r=t),s>0){var o=s-t.length;if(o<=0)return null}if(!Array.isArray(e))return-1===t.indexOf(e)?(t.splice(i,0,e),n&&n.call(r,e),e):null;for(var a=e.length-1;a>=0;)-1!==t.indexOf(e[a])&&e.pop(),a--;if(0===(a=e.length))return null;s>0&&a>o&&(e.splice(o),a=o);for(var h=a-1;h>=0;h--){var l=e[h];t.splice(i,0,l),n&&n.call(r,l)}return e}},66905:t=>{t.exports=function(t,e){var i=t.indexOf(e);return-1!==i&&i<t.length&&(t.splice(i,1),t.push(e)),e}},21612:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(82011);t.exports=function(t,e,i,n,r){void 0===n&&(n=0),void 0===r&&(r=t.length);var o=0;if(s(t,n,r))for(var a=n;a<r;a++)t[a][e]===i&&o++;return o}},95428:t=>{t.exports=function(t,e,i){var s,n=[null];for(s=3;s<arguments.length;s++)n.push(arguments[s]);for(s=0;s<t.length;s++)n[0]=t[s],e.apply(i,n);return t}},36914:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(82011);t.exports=function(t,e,i,n,r){if(void 0===n&&(n=0),void 0===r&&(r=t.length),s(t,n,r)){var o,a=[null];for(o=5;o<arguments.length;o++)a.push(arguments[o]);for(o=n;o<r;o++)a[0]=t[o],e.apply(i,a)}return t}},81957:t=>{t.exports=function(t,e,i){if(!e.length)return NaN;if(1===e.length)return e[0];var s,n,r=1;if(i){if(t<e[0][i])return e[0];for(;e[r][i]<t;)r++}else for(;e[r]<t;)r++;return r>e.length&&(r=e.length),i?(s=e[r-1][i],(n=e[r][i])-t<=t-s?e[r]:e[r-1]):(s=e[r-1],(n=e[r])-t<=t-s?n:s)}},43491:t=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var e=function(t,i){void 0===i&&(i=[]);for(var s=0;s<t.length;s++)Array.isArray(t[s])?e(t[s],i):i.push(t[s]);return i};t.exports=e},46710:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(82011);t.exports=function(t,e,i,n,r){void 0===n&&(n=0),void 0===r&&(r=t.length);var o=[];if(s(t,n,r))for(var a=n;a<r;a++){var h=t[a];(!e||e&&void 0===i&&h.hasOwnProperty(e)||e&&void 0!==i&&h[e]===i)&&o.push(h)}return o}},58731:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(82011);t.exports=function(t,e,i,n,r){if(void 0===n&&(n=0),void 0===r&&(r=t.length),-1!==n){if(s(t,n,r))for(var o=n;o<r;o++){var a=t[o];if(!e||e&&void 0===i&&a.hasOwnProperty(e)||e&&void 0!==i&&a[e]===i)return a}}else if(s(t,0,r))for(o=r;o>=0;o--)if(a=t[o],!e||e&&void 0===i&&a.hasOwnProperty(e)||e&&void 0!==i&&a[e]===i)return a;return null}},26546:t=>{t.exports=function(t,e,i){void 0===e&&(e=0),void 0===i&&(i=t.length);var s=e+Math.floor(Math.random()*i);return void 0===t[s]?null:t[s]}},85835:t=>{t.exports=function(t,e,i){if(e===i)return t;var s=t.indexOf(e),n=t.indexOf(i);if(s<0||n<0)throw new Error("Supplied items must be elements of the same array");return s>n||(t.splice(s,1),n=t.indexOf(i),t.splice(n+1,0,e)),t}},83371:t=>{t.exports=function(t,e,i){if(e===i)return t;var s=t.indexOf(e),n=t.indexOf(i);if(s<0||n<0)throw new Error("Supplied items must be elements of the same array");return s<n||(t.splice(s,1),0===n?t.unshift(e):t.splice(n,0,e)),t}},70864:t=>{t.exports=function(t,e){var i=t.indexOf(e);if(i>0){var s=t[i-1],n=t.indexOf(s);t[i]=s,t[n]=e}return t}},69693:t=>{t.exports=function(t,e,i){var s=t.indexOf(e);if(-1===s||i<0||i>=t.length)throw new Error("Supplied index out of bounds");return s!==i&&(t.splice(s,1),t.splice(i,0,e)),e}},40853:t=>{t.exports=function(t,e){var i=t.indexOf(e);if(-1!==i&&i<t.length-1){var s=t[i+1],n=t.indexOf(s);t[i]=s,t[n]=e}return t}},20283:t=>{t.exports=function(t,e,i,s){var n,r=[],o=!1;if((i||s)&&(o=!0,i||(i=""),s||(s="")),e<t)for(n=t;n>=e;n--)o?r.push(i+n.toString()+s):r.push(n);else for(n=t;n<=e;n++)o?r.push(i+n.toString()+s):r.push(n);return r}},593:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(2284);t.exports=function(t,e,i){void 0===t&&(t=0),void 0===e&&(e=null),void 0===i&&(i=1),null===e&&(e=t,t=0);for(var n=[],r=Math.max(s((e-t)/(i||1)),0),o=0;o<r;o++)n.push(t),t+=i;return n}},43886:t=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
function e(t,e,i){var s=t[e];t[e]=t[i],t[i]=s}function i(t,e){return t<e?-1:t>e?1:0}var s=function(t,n,r,o,a){for(void 0===r&&(r=0),void 0===o&&(o=t.length-1),void 0===a&&(a=i);o>r;){if(o-r>600){var h=o-r+1,l=n-r+1,u=Math.log(h),c=.5*Math.exp(2*u/3),d=.5*Math.sqrt(u*c*(h-c)/h)*(l-h/2<0?-1:1),f=Math.max(r,Math.floor(n-l*c/h+d)),p=Math.min(o,Math.floor(n+(h-l)*c/h+d));s(t,n,f,p,a)}var g=t[n],m=r,v=o;for(e(t,r,n),a(t[o],g)>0&&e(t,r,o);m<v;){for(e(t,m,v),m++,v--;a(t[m],g)<0;)m++;for(;a(t[v],g)>0;)v--}0===a(t[r],g)?e(t,r,v):e(t,++v,o),v<=n&&(r=v+1),n<=v&&(o=v-1)}};t.exports=s},88492:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(35154),n=i(33680),r=function(t,e,i){for(var s=[],n=0;n<t.length;n++)for(var r=0;r<e.length;r++)for(var o=0;o<i;o++)s.push({a:t[n],b:e[r]});return s};t.exports=function(t,e,i){var o=s(i,"max",0),a=s(i,"qty",1),h=s(i,"random",!1),l=s(i,"randomB",!1),u=s(i,"repeat",0),c=s(i,"yoyo",!1),d=[];if(l&&n(e),-1===u)if(0===o)u=0;else{var f=t.length*e.length*a;c&&(f*=2),u=Math.ceil(o/f)}for(var p=0;p<=u;p++){var g=r(t,e,a);h&&n(g),d=d.concat(g),c&&(g.reverse(),d=d.concat(g))}return o&&d.splice(o),d}},72905:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(19133);t.exports=function(t,e,i,n){var r;if(void 0===n&&(n=t),!Array.isArray(e))return-1!==(r=t.indexOf(e))?(s(t,r),i&&i.call(n,e),e):null;for(var o=e.length-1,a=[];o>=0;){var h=e[o];-1!==(r=t.indexOf(h))&&(s(t,r),a.push(h),i&&i.call(n,h)),o--}return a}},60248:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(19133);t.exports=function(t,e,i,n){if(void 0===n&&(n=t),e<0||e>t.length-1)throw new Error("Index out of bounds");var r=s(t,e);return i&&i.call(n,r),r}},81409:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(82011);t.exports=function(t,e,i,n,r){if(void 0===e&&(e=0),void 0===i&&(i=t.length),void 0===r&&(r=t),s(t,e,i)){var o=i-e,a=t.splice(e,o);if(n)for(var h=0;h<a.length;h++){var l=a[h];n.call(r,l)}return a}return[]}},31856:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(19133);t.exports=function(t,e,i){void 0===e&&(e=0),void 0===i&&(i=t.length);var n=e+Math.floor(Math.random()*i);return s(t,n)}},42169:t=>{t.exports=function(t,e,i){var s=t.indexOf(e),n=t.indexOf(i);return-1!==s&&-1===n&&(t[s]=i,!0)}},86003:t=>{t.exports=function(t,e){void 0===e&&(e=1);for(var i=null,s=0;s<e;s++)i=t.shift(),t.push(i);return i}},49498:t=>{t.exports=function(t,e){void 0===e&&(e=1);for(var i=null,s=0;s<e;s++)i=t.pop(),t.unshift(i);return i}},82011:t=>{t.exports=function(t,e,i,s){var n=t.length;if(e<0||e>=n||e>=i||i>n){if(s)throw new Error("Range Error: Values outside acceptable range");return!1}return!0}},89545:t=>{t.exports=function(t,e){var i=t.indexOf(e);return-1!==i&&i>0&&(t.splice(i,1),t.unshift(e)),e}},17810:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(82011);t.exports=function(t,e,i,n,r){if(void 0===n&&(n=0),void 0===r&&(r=t.length),s(t,n,r))for(var o=n;o<r;o++){var a=t[o];a.hasOwnProperty(e)&&(a[e]=i)}return t}},33680:t=>{t.exports=function(t){for(var e=t.length-1;e>0;e--){var i=Math.floor(Math.random()*(e+1)),s=t[e];t[e]=t[i],t[i]=s}return t}},90126:t=>{t.exports=function(t){var e=/\D/g;return t.sort(function(t,i){return parseInt(t.replace(e,""),10)-parseInt(i.replace(e,""),10)}),t}},19133:t=>{t.exports=function(t,e){if(!(e>=t.length)){for(var i=t.length-1,s=t[e],n=e;n<i;n++)t[n]=t[n+1];return t.length=i,s}}},19186:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @author       Angry Bytes (and contributors)
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(82264);function n(t,e){return String(t).localeCompare(e)}function r(t,e,i,s){var n,r,o,a,h,l=t.length,u=0,c=2*i;for(n=0;n<l;n+=c)for(o=(r=n+i)+i,r>l&&(r=l),o>l&&(o=l),a=n,h=r;;)if(a<r&&h<o)e(t[a],t[h])<=0?s[u++]=t[a++]:s[u++]=t[h++];else if(a<r)s[u++]=t[a++];else{if(!(h<o))break;s[u++]=t[h++]}}t.exports=function(t,e){if(void 0===e&&(e=n),!t||t.length<2)return t;if(s.features.stableSort)return t.sort(e);var i=function(t,e){var i=t.length;if(i<=1)return t;for(var s=new Array(i),n=1;n<i;n*=2){r(t,e,n,s);var o=t;t=s,s=o}return t}(t,e);return i!==t&&r(i,null,t.length,t),t}},25630:t=>{t.exports=function(t,e,i){if(e===i)return t;var s=t.indexOf(e),n=t.indexOf(i);if(s<0||n<0)throw new Error("Supplied items must be elements of the same array");return t[s]=i,t[n]=e,t}},37105:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports={Matrix:i(54915),Add:i(71146),AddAt:i(51067),BringToTop:i(66905),CountAllMatching:i(21612),Each:i(95428),EachInRange:i(36914),FindClosestInSorted:i(81957),Flatten:i(43491),GetAll:i(46710),GetFirst:i(58731),GetRandom:i(26546),MoveDown:i(70864),MoveTo:i(69693),MoveUp:i(40853),MoveAbove:i(85835),MoveBelow:i(83371),NumberArray:i(20283),NumberArrayStep:i(593),QuickSelect:i(43886),Range:i(88492),Remove:i(72905),RemoveAt:i(60248),RemoveBetween:i(81409),RemoveRandomElement:i(31856),Replace:i(42169),RotateLeft:i(86003),RotateRight:i(49498),SafeRange:i(82011),SendToBack:i(89545),SetAll:i(17810),Shuffle:i(33680),SortByDigits:i(90126),SpliceOne:i(19133),StableSort:i(19186),Swap:i(25630)}},86922:t=>{t.exports=function(t){if(!Array.isArray(t)||!Array.isArray(t[0]))return!1;for(var e=t[0].length,i=1;i<t.length;i++)if(t[i].length!==e)return!1;return!0}},63362:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(41836),n=i(86922);t.exports=function(t){var e="";if(!n(t))return e;for(var i=0;i<t.length;i++){for(var r=0;r<t[i].length;r++){var o=t[i][r].toString();e+="undefined"!==o?s(o,2):"?",r<t[i].length-1&&(e+=" |")}if(i<t.length-1){e+="\n";for(var a=0;a<t[i].length;a++)e+="---",a<t[i].length-1&&(e+="+");e+="\n"}}return e}},92598:t=>{t.exports=function(t){return t.reverse()}},21224:t=>{t.exports=function(t){for(var e=0;e<t.length;e++)t[e].reverse();return t}},98717:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(37829);t.exports=function(t){return s(t,180)}},44657:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(37829);t.exports=function(t,e){void 0===e&&(e=1);for(var i=0;i<e;i++)t=s(t,90);return t}},37829:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(86922),n=i(2429);t.exports=function(t,e){if(void 0===e&&(e=90),!s(t))return null;if("string"!=typeof e&&(e=(e%360+360)%360),90===e||-270===e||"rotateLeft"===e)(t=n(t)).reverse();else if(-90===e||270===e||"rotateRight"===e)t.reverse(),t=n(t);else if(180===Math.abs(e)||"rotate180"===e){for(var i=0;i<t.length;i++)t[i].reverse();t.reverse()}return t}},92632:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(37829);t.exports=function(t,e){void 0===e&&(e=1);for(var i=0;i<e;i++)t=s(t,-90);return t}},69512:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(86003),n=i(49498);t.exports=function(t,e,i){if(void 0===e&&(e=0),void 0===i&&(i=0),0!==i&&(i<0?s(t,Math.abs(i)):n(t,i)),0!==e)for(var r=0;r<t.length;r++){var o=t[r];e<0?s(o,Math.abs(e)):n(o,e)}return t}},2429:t=>{t.exports=function(t){for(var e=t.length,i=t[0].length,s=new Array(i),n=0;n<i;n++){s[n]=new Array(e);for(var r=e-1;r>-1;r--)s[n][r]=t[r][n]}return s}},54915:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports={CheckMatrix:i(86922),MatrixToString:i(63362),ReverseColumns:i(92598),ReverseRows:i(21224),Rotate180:i(98717),RotateLeft:i(44657),RotateMatrix:i(37829),RotateRight:i(92632),Translate:i(69512),TransposeMatrix:i(2429)}},71334:t=>{
/**
                     * @author       Niklas von Hertzen (https://github.com/niklasvh/base64-arraybuffer)
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";t.exports=function(t,i){for(var s=new Uint8Array(t),n=s.length,r=i?"data:"+i+";base64,":"",o=0;o<n;o+=3)r+=e[s[o]>>2],r+=e[(3&s[o])<<4|s[o+1]>>4],r+=e[(15&s[o+1])<<2|s[o+2]>>6],r+=e[63&s[o+2]];return n%3==2?r=r.substring(0,r.length-1)+"=":n%3==1&&(r=r.substring(0,r.length-2)+"=="),r}},53134:t=>{for(
/**
                     * @author       Niklas von Hertzen (https://github.com/niklasvh/base64-arraybuffer)
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=new Uint8Array(256),s=0;s<64;s++)i[e.charCodeAt(s)]=s;t.exports=function(t){var e,s,n,r,o=(t=t.substr(t.indexOf(",")+1)).length,a=.75*o,h=0;"="===t[o-1]&&(a--,"="===t[o-2]&&a--);for(var l=new ArrayBuffer(a),u=new Uint8Array(l),c=0;c<o;c+=4)e=i[t.charCodeAt(c)],s=i[t.charCodeAt(c+1)],n=i[t.charCodeAt(c+2)],r=i[t.charCodeAt(c+3)],u[h++]=e<<2|s>>4,u[h++]=(15&s)<<4|n>>2,u[h++]=(3&n)<<6|63&r;return l}},65839:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports={ArrayBufferToBase64:i(71334),Base64ToArrayBuffer:i(53134)}},91799:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports={Array:i(37105),Base64:i(65839),Objects:i(1183),String:i(31749),NOOP:i(29747),NULL:i(20242)}},41786:t=>{t.exports=function(t){var e={};for(var i in t)Array.isArray(t[i])?e[i]=t[i].slice(0):e[i]=t[i];return e}},62644:t=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var e=function(t){var i,s,n;if("object"!=typeof t||null===t)return t;for(n in i=Array.isArray(t)?[]:{},t)s=t[n],i[n]=e(s);return i};t.exports=e},79291:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(41212),n=function(){var t,e,i,r,o,a,h=arguments[0]||{},l=1,u=arguments.length,c=!1;for("boolean"==typeof h&&(c=h,h=arguments[1]||{},l=2),u===l&&(h=this,--l);l<u;l++)if(null!=(t=arguments[l]))for(e in t)i=h[e],h!==(r=t[e])&&(c&&r&&(s(r)||(o=Array.isArray(r)))?(o?(o=!1,a=i&&Array.isArray(i)?i:[]):a=i&&s(i)?i:{},h[e]=n(c,a,r)):void 0!==r&&(h[e]=r));return h};t.exports=n},23568:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(75508),n=i(35154);t.exports=function(t,e,i){var r=n(t,e,null);if(null===r)return i;if(Array.isArray(r))return s.RND.pick(r);if("object"==typeof r){if(r.hasOwnProperty("randInt"))return s.RND.integerInRange(r.randInt[0],r.randInt[1]);if(r.hasOwnProperty("randFloat"))return s.RND.realInRange(r.randFloat[0],r.randFloat[1])}else if("function"==typeof r)return r(e);return r}},95540:t=>{t.exports=function(t,e,i){var s=typeof t;return t&&"number"!==s&&"string"!==s&&t.hasOwnProperty(e)&&void 0!==t[e]?t[e]:i}},82840:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(35154),n=i(45319);t.exports=function(t,e,i,r,o){void 0===o&&(o=i);var a=s(t,e,o);return n(a,i,r)}},35154:t=>{t.exports=function(t,e,i,s){if(!t&&!s||"number"==typeof t)return i;if(t&&t.hasOwnProperty(e))return t[e];if(s&&s.hasOwnProperty(e))return s[e];if(-1!==e.indexOf(".")){for(var n=e.split("."),r=t,o=s,a=i,h=i,l=!0,u=!0,c=0;c<n.length;c++)r&&r.hasOwnProperty(n[c])?(a=r[n[c]],r=r[n[c]]):l=!1,o&&o.hasOwnProperty(n[c])?(h=o[n[c]],o=o[n[c]]):u=!1;return l?a:u?h:i}return i}},69036:t=>{t.exports=function(t,e){for(var i=0;i<e.length;i++)if(!t.hasOwnProperty(e[i]))return!1;return!0}},1985:t=>{t.exports=function(t,e){for(var i=0;i<e.length;i++)if(t.hasOwnProperty(e[i]))return!0;return!1}},97022:t=>{t.exports=function(t,e){return t.hasOwnProperty(e)}},41212:t=>{t.exports=function(t){if(!t||"object"!=typeof t||t.nodeType||t===t.window)return!1;try{if(t.constructor&&!{}.hasOwnProperty.call(t.constructor.prototype,"isPrototypeOf"))return!1}catch(e){return!1}return!0}},46975:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(41786);t.exports=function(t,e){var i=s(t);for(var n in e)i.hasOwnProperty(n)||(i[n]=e[n]);return i}},269:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(41786);t.exports=function(t,e){var i=s(t);for(var n in e)i.hasOwnProperty(n)&&(i[n]=e[n]);return i}},18254:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
var s=i(97022);t.exports=function(t,e){for(var i={},n=0;n<e.length;n++){var r=e[n];s(t,r)&&(i[r]=t[r])}return i}},61622:t=>{t.exports=function(t,e,i){if(!t||"number"==typeof t)return!1;if(t.hasOwnProperty(e))return t[e]=i,!0;if(-1!==e.indexOf(".")){for(var s=e.split("."),n=t,r=t,o=0;o<s.length;o++){if(!n.hasOwnProperty(s[o]))return!1;r=n,n=n[s[o]]}return r[s[s.length-1]]=i,!0}return!1}},1183:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports={Clone:i(41786),DeepCopy:i(62644),Extend:i(79291),GetAdvancedValue:i(23568),GetFastValue:i(95540),GetMinMaxValue:i(82840),GetValue:i(35154),HasAll:i(69036),HasAny:i(1985),HasValue:i(97022),IsPlainObject:i(41212),Merge:i(46975),MergeRight:i(269),Pick:i(18254),SetValue:i(61622)}},27902:t=>{t.exports=function(t,e){return t.replace(/%([0-9]+)/g,function(t,i){return e[Number(i)-1]})}},41836:t=>{t.exports=function(t,e,i,s){void 0===e&&(e=0),void 0===i&&(i=" "),void 0===s&&(s=3);var n=0;if(e+1>=(t=t.toString()).length)switch(s){case 1:t=new Array(e+1-t.length).join(i)+t;break;case 3:var r=Math.ceil((n=e-t.length)/2);t=new Array(n-r+1).join(i)+t+new Array(r+1).join(i);break;default:t+=new Array(e+1-t.length).join(i)}return t}},33628:t=>{t.exports=function(t,e){return 0===e?t.slice(1):t.slice(0,e)+t.slice(e+1)}},27671:t=>{t.exports=function(t){return t.split("").reverse().join("")}},45650:t=>{t.exports=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=16*Math.random()|0;return("x"===t?e:3&e|8).toString(16)})}},35355:t=>{t.exports=function(t){return t&&t[0].toUpperCase()+t.slice(1)}},31749:(t,e,i)=>{
/**
                     * @author       Richard Davey <rich@phaser.io>
                     * @copyright    2013-2025 Phaser Studio Inc.
                     * @license      {@link https://opensource.org/licenses/MIT|MIT License}
                     */
t.exports={Format:i(27902),Pad:i(41836),RemoveAt:i(33628),Reverse:i(27671),UppercaseFirst:i(35355),UUID:i(45650)}}},e={};function i(s){var n=e[s];if(void 0!==n)return n.exports;var r=e[s]={exports:{}};return t[s](r,r.exports,i),r.exports}return i.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),i(85454)})(),n.exports=s()),n.exports);const o=e(r),a="guess",h="reveal",l="grid-loaded",u="attempt",c="hint",v="game-over",y="game-start",x="open-calendar",T="letters-updated",w="key-down",b="reset-cursor",S="validation-feedback";var E={};
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */const C="${JSCORE_VERSION}",_=function(t,e){if(!t)throw A(e)},A=function(t){return new Error("Firebase Database ("+C+") INTERNAL ASSERT FAILED: "+t)},M=function(t){const e=[];let i=0;for(let s=0;s<t.length;s++){let n=t.charCodeAt(s);n<128?e[i++]=n:n<2048?(e[i++]=n>>6|192,e[i++]=63&n|128):55296==(64512&n)&&s+1<t.length&&56320==(64512&t.charCodeAt(s+1))?(n=65536+((1023&n)<<10)+(1023&t.charCodeAt(++s)),e[i++]=n>>18|240,e[i++]=n>>12&63|128,e[i++]=n>>6&63|128,e[i++]=63&n|128):(e[i++]=n>>12|224,e[i++]=n>>6&63|128,e[i++]=63&n|128)}return e},P={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let n=0;n<t.length;n+=3){const e=t[n],r=n+1<t.length,o=r?t[n+1]:0,a=n+2<t.length,h=a?t[n+2]:0,l=e>>2,u=(3&e)<<4|o>>4;let c=(15&o)<<2|h>>6,d=63&h;a||(d=64,r||(c=64)),s.push(i[l],i[u],i[c],i[d])}return s.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(M(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){const e=[];let i=0,s=0;for(;i<t.length;){const n=t[i++];if(n<128)e[s++]=String.fromCharCode(n);else if(n>191&&n<224){const r=t[i++];e[s++]=String.fromCharCode((31&n)<<6|63&r)}else if(n>239&&n<365){const r=((7&n)<<18|(63&t[i++])<<12|(63&t[i++])<<6|63&t[i++])-65536;e[s++]=String.fromCharCode(55296+(r>>10)),e[s++]=String.fromCharCode(56320+(1023&r))}else{const r=t[i++],o=t[i++];e[s++]=String.fromCharCode((15&n)<<12|(63&r)<<6|63&o)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let n=0;n<t.length;){const e=i[t.charAt(n++)],r=n<t.length?i[t.charAt(n)]:0;++n;const o=n<t.length?i[t.charAt(n)]:64;++n;const a=n<t.length?i[t.charAt(n)]:64;if(++n,null==e||null==r||null==o||null==a)throw new R;const h=e<<2|r>>4;if(s.push(h),64!==o){const t=r<<4&240|o>>2;if(s.push(t),64!==a){const t=o<<6&192|a;s.push(t)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */class R extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const I=function(t){return function(t){const e=M(t);return P.encodeByteArray(e,!0)}(t).replace(/\./g,"")},O=function(t){try{return P.decodeString(t,!0)}catch(e){}return null};
/**
     * @license
     * Copyright 2022 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
function L(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw new Error("Unable to locate global object.")}
/**
     * @license
     * Copyright 2022 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */const D=()=>{try{return L().__FIREBASE_DEFAULTS__||(()=>{if("undefined"==typeof process)return;const t=E.__FIREBASE_DEFAULTS__;return t?JSON.parse(t):void 0})()||(()=>{if("undefined"==typeof document)return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(i){return}const e=t&&O(t[1]);return e&&JSON.parse(e)})()}catch(t){return}},k=t=>{var e,i;return null==(i=null==(e=D())?void 0:e.emulatorHosts)?void 0:i[t]},F=()=>{var t;return null==(t=D())?void 0:t.config},B=t=>{var e;return null==(e=D())?void 0:e[`_${t}`]};
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
class N{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}wrapCallback(t){return(e,i)=>{e?this.reject(e):this.resolve(i),"function"==typeof t&&(this.promise.catch(()=>{}),1===t.length?t(e):t(e,i))}}}
/**
     * @license
     * Copyright 2025 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function z(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch(e){return!1}}function U(t){return m(this,null,function*(){return(yield fetch(t,{credentials:"include"})).ok})}
/**
     * @license
     * Copyright 2021 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */const V={};let G=!1;function X(t,e){if("undefined"==typeof window||"undefined"==typeof document||!z(window.location.host)||V[t]===e||V[t]||G)return;function i(t){return`__firebase__banner__${t}`}V[t]=e;const s="__firebase__banner",n=function(){const t={prod:[],emulator:[]};for(const e of Object.keys(V))V[e]?t.emulator.push(e):t.prod.push(e);return t}().prod.length>0;function r(){const t=document.createElement("span");return t.style.cursor="pointer",t.style.marginLeft="16px",t.style.fontSize="24px",t.innerHTML=" &times;",t.onclick=()=>{G=!0,function(){const t=document.getElementById(s);t&&t.remove()}()},t}function o(){const t=function(t){let e=document.getElementById(t),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),i=!0),{created:i,element:e}}(s),e=i("text"),o=document.getElementById(e)||document.createElement("span"),a=i("learnmore"),h=document.getElementById(a)||document.createElement("a"),l=i("preprendIcon"),u=document.getElementById(l)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(t.created){const e=t.element;!function(t){t.style.display="flex",t.style.background="#7faaf0",t.style.position="fixed",t.style.bottom="5px",t.style.left="5px",t.style.padding=".5em",t.style.borderRadius="5px",t.style.alignItems="center"}(e),function(t,e){t.setAttribute("id",e),t.innerText="Learn more",t.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",t.setAttribute("target","__blank"),t.style.paddingLeft="5px",t.style.textDecoration="underline"}(h,a);const i=r();!function(t,e){t.setAttribute("width","24"),t.setAttribute("id",e),t.setAttribute("height","24"),t.setAttribute("viewBox","0 0 24 24"),t.setAttribute("fill","none"),t.style.marginLeft="-6px"}(u,l),e.append(u,o,h,i),document.body.appendChild(e)}n?(o.innerText="Preview backend disconnected.",u.innerHTML='<g clip-path="url(#clip0_6013_33858)">\n<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6013_33858">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>'):(u.innerHTML='<g clip-path="url(#clip0_6083_34804)">\n<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6083_34804">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>',o.innerText="Preview backend running in this workspace."),o.setAttribute("id",e)}"loading"===document.readyState?window.addEventListener("DOMContentLoaded",o):o()}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function Y(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function H(){var t;const e=null==(t=D())?void 0:t.forceEnvironment;if("node"===e)return!0;if("browser"===e)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(i){return!1}}function W(){const t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function j(){return!H()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function q(){return!H()&&!!navigator.userAgent&&(navigator.userAgent.includes("Safari")||navigator.userAgent.includes("WebKit"))&&!navigator.userAgent.includes("Chrome")}function K(){try{return"object"==typeof indexedDB}catch(t){return!1}}function $(){return new Promise((t,e)=>{try{let i=!0;const s="validate-browser-context-for-indexeddb-analytics-module",n=self.indexedDB.open(s);n.onsuccess=()=>{n.result.close(),i||self.indexedDB.deleteDatabase(s),t(!0)},n.onupgradeneeded=()=>{i=!1},n.onerror=()=>{var t;e((null==(t=n.error)?void 0:t.message)||"")}}catch(i){e(i)}})}function Z(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */class J extends Error{constructor(t,e,i){super(e),this.code=t,this.customData=i,this.name="FirebaseError",Object.setPrototypeOf(this,J.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Q.prototype.create)}}class Q{constructor(t,e,i){this.service=t,this.serviceName=e,this.errors=i}create(t,...e){const i=e[0]||{},s=`${this.service}/${t}`,n=this.errors[t],r=n?function(t,e){return t.replace(tt,(t,i)=>{const s=e[i];return null!=s?String(s):`<${i}?>`})}(n,i):"Error",o=`${this.serviceName}: ${r} (${s}).`;return new J(s,o,i)}}const tt=/\{\$([^}]+)}/g;function et(t,e){if(t===e)return!0;const i=Object.keys(t),s=Object.keys(e);for(const n of i){if(!s.includes(n))return!1;const i=t[n],r=e[n];if(it(i)&&it(r)){if(!et(i,r))return!1}else if(i!==r)return!1}for(const n of s)if(!i.includes(n))return!1;return!0}function it(t){return null!==t&&"object"==typeof t}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function st(t){const e=[];for(const[i,s]of Object.entries(t))Array.isArray(s)?s.forEach(t=>{e.push(encodeURIComponent(i)+"="+encodeURIComponent(t))}):e.push(encodeURIComponent(i)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}class nt{constructor(t,e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(()=>{t(this)}).catch(t=>{this.error(t)})}next(t){this.forEachObserver(e=>{e.next(t)})}error(t){this.forEachObserver(e=>{e.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,e,i){let s;if(void 0===t&&void 0===e&&void 0===i)throw new Error("Missing Observer.");s=function(t,e){if("object"!=typeof t||null===t)return!1;for(const i of e)if(i in t&&"function"==typeof t[i])return!0;return!1}(t,["next","error","complete"])?t:{next:t,error:e,complete:i},void 0===s.next&&(s.next=rt),void 0===s.error&&(s.error=rt),void 0===s.complete&&(s.complete=rt);const n=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch(t){}}),this.observers.push(s),n}unsubscribeOne(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,t)}sendOne(t,e){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[t])try{e(this.observers[t])}catch(i){"undefined"!=typeof console&&console.error}})}close(t){this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function rt(){}
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function ot(t,e=1e3,i=2){const s=e*Math.pow(i,t),n=Math.round(.5*s*(Math.random()-.5)*2);return Math.min(144e5,s+n)}
/**
     * @license
     * Copyright 2021 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function at(t){return t&&t._delegate?t._delegate:t}class ht{constructor(t,e,i){this.name=t,this.instanceFactory=e,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */const lt="[DEFAULT]";
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */class ut{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const t=new N;if(this.instancesDeferred.set(e,t),this.isInitialized(e)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:e});i&&t.resolve(i)}catch(i){}}return this.instancesDeferred.get(e).promise}getImmediate(t){var e;const i=this.normalizeInstanceIdentifier(null==t?void 0:t.identifier),s=null!=(e=null==t?void 0:t.optional)&&e;if(!this.isInitialized(i)&&!this.shouldAutoInitialize()){if(s)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:i})}catch(n){if(s)return null;throw n}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,this.shouldAutoInitialize()){if(function(t){return"EAGER"===t.instantiationMode}
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */(t))try{this.getOrInitializeService({instanceIdentifier:lt})}catch(e){}for(const[t,i]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(t);try{const t=this.getOrInitializeService({instanceIdentifier:s});i.resolve(t)}catch(e){}}}}clearInstance(t=lt){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}delete(){return m(this,null,function*(){const t=Array.from(this.instances.values());yield Promise.all([...t.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...t.filter(t=>"_delete"in t).map(t=>t._delete())])})}isComponentSet(){return null!=this.component}isInitialized(t=lt){return this.instances.has(t)}getOptions(t=lt){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,i=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:i,options:e});for(const[n,r]of this.instancesDeferred.entries())i===this.normalizeInstanceIdentifier(n)&&r.resolve(s);return s}onInit(t,e){var i;const s=this.normalizeInstanceIdentifier(e),n=null!=(i=this.onInitCallbacks.get(s))?i:new Set;n.add(t),this.onInitCallbacks.set(s,n);const r=this.instances.get(s);return r&&t(r,s),()=>{n.delete(t)}}invokeOnInitCallbacks(t,e){const i=this.onInitCallbacks.get(e);if(i)for(const n of i)try{n(t,e)}catch(s){}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:(s=t,s===lt?void 0:s),options:e}),this.instances.set(t,i),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch(n){}var s;return i||null}normalizeInstanceIdentifier(t=lt){return this.component?this.component.multipleInstances?t:lt:t}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ct{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new ut(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var dt,ft;(ft=dt||(dt={}))[ft.DEBUG=0]="DEBUG",ft[ft.VERBOSE=1]="VERBOSE",ft[ft.INFO=2]="INFO",ft[ft.WARN=3]="WARN",ft[ft.ERROR=4]="ERROR",ft[ft.SILENT=5]="SILENT";const pt={debug:dt.DEBUG,verbose:dt.VERBOSE,info:dt.INFO,warn:dt.WARN,error:dt.ERROR,silent:dt.SILENT},gt=dt.INFO,mt={[dt.DEBUG]:"log",[dt.VERBOSE]:"log",[dt.INFO]:"info",[dt.WARN]:"warn",[dt.ERROR]:"error"},vt=(t,e,...i)=>{if(!(e<t.logLevel||((new Date).toISOString(),mt[e])))throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class yt{constructor(t){this.name=t,this._logLevel=gt,this._logHandler=vt,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in dt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel="string"==typeof t?pt[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,dt.DEBUG,...t),this._logHandler(this,dt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,dt.VERBOSE,...t),this._logHandler(this,dt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,dt.INFO,...t),this._logHandler(this,dt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,dt.WARN,...t),this._logHandler(this,dt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,dt.ERROR,...t),this._logHandler(this,dt.ERROR,...t)}}let xt,Tt;const wt=new WeakMap,bt=new WeakMap,St=new WeakMap,Et=new WeakMap,Ct=new WeakMap;let _t={get(t,e,i){if(t instanceof IDBTransaction){if("done"===e)return bt.get(t);if("objectStoreNames"===e)return t.objectStoreNames||St.get(t);if("store"===e)return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Pt(t[e])},set:(t,e,i)=>(t[e]=i,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function At(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Tt||(Tt=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(t)?function(...e){return t.apply(Rt(this),e),Pt(wt.get(this))}:function(...e){return Pt(t.apply(Rt(this),e))}:function(e,...i){const s=t.call(Rt(this),e,...i);return St.set(s,e.sort?e.sort():[e]),Pt(s)}}function Mt(t){return"function"==typeof t?At(t):(t instanceof IDBTransaction&&function(t){if(bt.has(t))return;const e=new Promise((e,i)=>{const s=()=>{t.removeEventListener("complete",n),t.removeEventListener("error",r),t.removeEventListener("abort",r)},n=()=>{e(),s()},r=()=>{i(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",n),t.addEventListener("error",r),t.addEventListener("abort",r)});bt.set(t,e)}(t),e=t,(xt||(xt=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some(t=>e instanceof t)?new Proxy(t,_t):t);var e}function Pt(t){if(t instanceof IDBRequest)return function(t){const e=new Promise((e,i)=>{const s=()=>{t.removeEventListener("success",n),t.removeEventListener("error",r)},n=()=>{e(Pt(t.result)),s()},r=()=>{i(t.error),s()};t.addEventListener("success",n),t.addEventListener("error",r)});return e.then(e=>{e instanceof IDBCursor&&wt.set(e,t)}).catch(()=>{}),Ct.set(e,t),e}(t);if(Et.has(t))return Et.get(t);const e=Mt(t);return e!==t&&(Et.set(t,e),Ct.set(e,t)),e}const Rt=t=>Ct.get(t);function It(t,e,{blocked:i,upgrade:s,blocking:n,terminated:r}={}){const o=indexedDB.open(t,e),a=Pt(o);return s&&o.addEventListener("upgradeneeded",t=>{s(Pt(o.result),t.oldVersion,t.newVersion,Pt(o.transaction),t)}),i&&o.addEventListener("blocked",t=>i(t.oldVersion,t.newVersion,t)),a.then(t=>{r&&t.addEventListener("close",()=>r()),n&&t.addEventListener("versionchange",t=>n(t.oldVersion,t.newVersion,t))}).catch(()=>{}),a}const Ot=["get","getKey","getAll","getAllKeys","count"],Lt=["put","add","delete","clear"],Dt=new Map;function kt(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(Dt.get(e))return Dt.get(e);const i=e.replace(/FromIndex$/,""),s=e!==i,n=Lt.includes(i);if(!(i in(s?IDBIndex:IDBObjectStore).prototype)||!n&&!Ot.includes(i))return;const r=function(t,...e){return m(this,null,function*(){const r=this.transaction(t,n?"readwrite":"readonly");let o=r.store;return s&&(o=o.index(e.shift())),(yield Promise.all([o[i](...e),n&&r.done]))[0]})};return Dt.set(e,r),r}var Ft;_t=f(d({},Ft=_t),{get:(t,e,i)=>kt(t,e)||Ft.get(t,e,i),has:(t,e)=>!!kt(t,e)||Ft.has(t,e)});
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
class Bt{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(function(t){const e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){const e=t.getImmediate();return`${e.library}/${e.version}`}return null}).filter(t=>t).join(" ")}}const Nt="@firebase/app",zt="0.14.6",Ut=new yt("@firebase/app"),Vt="@firebase/app-compat",Gt="@firebase/analytics-compat",Xt="@firebase/analytics",Yt="@firebase/app-check-compat",Ht="@firebase/app-check",Wt="@firebase/auth",jt="@firebase/auth-compat",qt="@firebase/database",Kt="@firebase/data-connect",$t="@firebase/database-compat",Zt="@firebase/functions",Jt="@firebase/functions-compat",Qt="@firebase/installations",te="@firebase/installations-compat",ee="@firebase/messaging",ie="@firebase/messaging-compat",se="@firebase/performance",ne="@firebase/performance-compat",re="@firebase/remote-config",oe="@firebase/remote-config-compat",ae="@firebase/storage",he="@firebase/storage-compat",le="@firebase/firestore",ue="@firebase/ai",ce="@firebase/firestore-compat",de="firebase",fe="[DEFAULT]",pe={[Nt]:"fire-core",[Vt]:"fire-core-compat",[Xt]:"fire-analytics",[Gt]:"fire-analytics-compat",[Ht]:"fire-app-check",[Yt]:"fire-app-check-compat",[Wt]:"fire-auth",[jt]:"fire-auth-compat",[qt]:"fire-rtdb",[Kt]:"fire-data-connect",[$t]:"fire-rtdb-compat",[Zt]:"fire-fn",[Jt]:"fire-fn-compat",[Qt]:"fire-iid",[te]:"fire-iid-compat",[ee]:"fire-fcm",[ie]:"fire-fcm-compat",[se]:"fire-perf",[ne]:"fire-perf-compat",[re]:"fire-rc",[oe]:"fire-rc-compat",[ae]:"fire-gcs",[he]:"fire-gcs-compat",[le]:"fire-fst",[ce]:"fire-fst-compat",[ue]:"fire-vertex","fire-js":"fire-js",[de]:"fire-js-all"},ge=new Map,me=new Map,ve=new Map;function ye(t,e){try{t.container.addComponent(e)}catch(i){Ut.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,i)}}function xe(t){const e=t.name;if(ve.has(e))return Ut.debug(`There were multiple attempts to register component ${e}.`),!1;ve.set(e,t);for(const i of ge.values())ye(i,t);for(const i of me.values())ye(i,t);return!0}function Te(t,e){const i=t.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),t.container.getProvider(e)}function we(t){return null!=t&&void 0!==t.settings}
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */const be=new Q("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
class Se{constructor(t,e,i){this._isDeleted=!1,this._options=d({},t),this._config=d({},e),this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new ht("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw be.create("app-deleted",{appName:this._name})}}
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */const Ee="12.6.0";function Ce(t,e={}){let i=t;"object"!=typeof e&&(e={name:e});const s=d({name:fe,automaticDataCollectionEnabled:!0},e),n=s.name;if("string"!=typeof n||!n)throw be.create("bad-app-name",{appName:String(n)});if(i||(i=F()),!i)throw be.create("no-options");const r=ge.get(n);if(r){if(et(i,r.options)&&et(s,r.config))return r;throw be.create("duplicate-app",{appName:n})}const o=new ct(n);for(const h of ve.values())o.addComponent(h);const a=new Se(i,s,o);return ge.set(n,a),a}function _e(t=fe){const e=ge.get(t);if(!e&&t===fe&&F())return Ce();if(!e)throw be.create("no-app",{appName:t});return e}function Ae(t,e,i){var s;let n=null!=(s=pe[t])?s:t;i&&(n+=`-${i}`);const r=n.match(/\s|\//),o=e.match(/\s|\//);if(r||o){const t=[`Unable to register library "${n}" with version "${e}":`];return r&&t.push(`library name "${n}" contains illegal characters (whitespace or "/")`),r&&o&&t.push("and"),o&&t.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void Ut.warn(t.join(" "))}xe(new ht(`${n}-version`,()=>({library:n,version:e}),"VERSION"))}
/**
     * @license
     * Copyright 2021 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */const Me="firebase-heartbeat-store";let Pe=null;function Re(){return Pe||(Pe=It("firebase-heartbeat-database",1,{upgrade:(t,e)=>{if(0===e)try{t.createObjectStore(Me)}catch(i){}}}).catch(t=>{throw be.create("idb-open",{originalErrorMessage:t.message})})),Pe}function Ie(t,e){return m(this,null,function*(){try{const i=(yield Re()).transaction(Me,"readwrite"),s=i.objectStore(Me);yield s.put(e,Oe(t)),yield i.done}catch(i){if(i instanceof J)Ut.warn(i.message);else{const t=be.create("idb-set",{originalErrorMessage:null==i?void 0:i.message});Ut.warn(t.message)}}})}function Oe(t){return`${t.name}!${t.options.appId}`}
/**
     * @license
     * Copyright 2021 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */class Le{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new ke(e),this._heartbeatsCachePromise=this._storage.read().then(t=>(this._heartbeatsCache=t,t))}triggerHeartbeat(){return m(this,null,function*(){var t,e;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=De();if(null==(null==(t=this._heartbeatsCache)?void 0:t.heartbeats)&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,null==(null==(e=this._heartbeatsCache)?void 0:e.heartbeats)))return;if(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(t=>t.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>30){const t=function(t){if(0===t.length)return-1;let e=0,i=t[0].date;for(let s=1;s<t.length;s++)t[s].date<i&&(i=t[s].date,e=s);return e}
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(t,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){Ut.warn(i)}})}getHeartbeatsHeader(){return m(this,null,function*(){var t;try{if(null===this._heartbeatsCache&&(yield this._heartbeatsCachePromise),null==(null==(t=this._heartbeatsCache)?void 0:t.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const e=De(),{heartbeatsToSend:i,unsentEntries:s}=function(t,e=1024){const i=[];let s=t.slice();for(const n of t){const t=i.find(t=>t.agent===n.agent);if(t){if(t.dates.push(n.date),Fe(i)>e){t.dates.pop();break}}else if(i.push({agent:n.agent,dates:[n.date]}),Fe(i)>e){i.pop();break}s=s.slice(1)}return{heartbeatsToSend:i,unsentEntries:s}}(this._heartbeatsCache.heartbeats),n=I(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),n}catch(e){return Ut.warn(e),""}})}}function De(){return(new Date).toISOString().substring(0,10)}class ke{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return m(this,null,function*(){return!!K()&&$().then(()=>!0).catch(()=>!1)})}read(){return m(this,null,function*(){if(yield this._canUseIndexedDBPromise){const t=yield function(t){return m(this,null,function*(){try{const e=(yield Re()).transaction(Me),i=yield e.objectStore(Me).get(Oe(t));return yield e.done,i}catch(e){if(e instanceof J)Ut.warn(e.message);else{const t=be.create("idb-get",{originalErrorMessage:null==e?void 0:e.message});Ut.warn(t.message)}}})}(this.app);return(null==t?void 0:t.heartbeats)?t:{heartbeats:[]}}return{heartbeats:[]}})}overwrite(t){return m(this,null,function*(){var e;if(yield this._canUseIndexedDBPromise){const i=yield this.read();return Ie(this.app,{lastSentHeartbeatDate:null!=(e=t.lastSentHeartbeatDate)?e:i.lastSentHeartbeatDate,heartbeats:t.heartbeats})}})}add(t){return m(this,null,function*(){var e;if(yield this._canUseIndexedDBPromise){const i=yield this.read();return Ie(this.app,{lastSentHeartbeatDate:null!=(e=t.lastSentHeartbeatDate)?e:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...t.heartbeats]})}})}}function Fe(t){return I(JSON.stringify({version:2,heartbeats:t})).length}var Be;function Ne(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}Be="",xe(new ht("platform-logger",t=>new Bt(t),"PRIVATE")),xe(new ht("heartbeat",t=>new Le(t),"PRIVATE")),Ae(Nt,zt,Be),Ae(Nt,zt,"esm2020"),Ae("fire-js",""),
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
Ae("firebase","12.6.0","app");const ze=Ne,Ue=new Q("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ve=new yt("@firebase/auth");function Ge(t,...e){Ve.logLevel<=dt.ERROR&&Ve.error(`Auth (${Ee}): ${t}`,...e)}
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function Xe(t,...e){throw je(t,...e)}function Ye(t,...e){return je(t,...e)}function He(t,e,i){const s=f(d({},ze()),{[e]:i});return new Q("auth","Firebase",s).create(e,{appName:t.name})}function We(t){return He(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function je(t,...e){if("string"!=typeof t){const i=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=t.name),t._errorFactory.create(i,...s)}return Ue.create(t,...e)}function qe(t,e,...i){if(!t)throw je(e,...i)}function Ke(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Ge(e),new Error(e)}function $e(t,e){t||Ke(e)}
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function Ze(){var t;return"undefined"!=typeof self&&(null==(t=self.location)?void 0:t.href)||""}function Je(){var t;return"undefined"!=typeof self&&(null==(t=self.location)?void 0:t.protocol)||null}
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function Qe(){return"undefined"==typeof navigator||!navigator||!("onLine"in navigator)||"boolean"!=typeof navigator.onLine||"http:"!==Je()&&"https:"!==Je()&&!W()&&!("connection"in navigator)||navigator.onLine}
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
class ti{constructor(t,e){this.shortDelay=t,this.longDelay=e,$e(e>t,"Short delay should be less than long delay!"),this.isMobile="undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Y())||"object"==typeof navigator&&"ReactNative"===navigator.product}get(){return Qe()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function ei(t,e){$e(t.emulator,"Emulator should always be set here");const{url:i}=t.emulator;return e?`${i}${e.startsWith("/")?e.slice(1):e}`:i}
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */class ii{static initialize(t,e,i){this.fetchImpl=t,e&&(this.headersImpl=e),i&&(this.responseImpl=i)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:"undefined"!=typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!=typeof fetch?fetch:void Ke("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:"undefined"!=typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!=typeof Headers?Headers:void Ke("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:"undefined"!=typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!=typeof Response?Response:void Ke("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */const si={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},ni=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],ri=new ti(3e4,6e4);
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function oi(t,e){return t.tenantId&&!e.tenantId?f(d({},e),{tenantId:t.tenantId}):e}function ai(t,e,i,s){return m(this,arguments,function*(t,e,i,s,n={}){return hi(t,n,()=>m(null,null,function*(){let n={},r={};s&&("GET"===e?r=s:n={body:JSON.stringify(s)});const o=st(d({key:t.config.apiKey},r)).slice(1),a=yield t._getAdditionalHeaders();a["Content-Type"]="application/json",t.languageCode&&(a["X-Firebase-Locale"]=t.languageCode);const h=d({method:e,headers:a},n);return"undefined"!=typeof navigator&&"Cloudflare-Workers"===navigator.userAgent||(h.referrerPolicy="no-referrer"),t.emulatorConfig&&z(t.emulatorConfig.host)&&(h.credentials="include"),ii.fetch()(yield ui(t,t.config.apiHost,i,o),h)}))})}function hi(t,e,i){return m(this,null,function*(){t._canInitEmulator=!1;const s=d(d({},si),e);try{const e=new ci(t),n=yield Promise.race([i(),e.promise]);e.clearNetworkTimeout();const r=yield n.json();if("needConfirmation"in r)throw di(t,"account-exists-with-different-credential",r);if(n.ok&&!("errorMessage"in r))return r;{const e=n.ok?r.errorMessage:r.error.message,[i,o]=e.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===i)throw di(t,"credential-already-in-use",r);if("EMAIL_EXISTS"===i)throw di(t,"email-already-in-use",r);if("USER_DISABLED"===i)throw di(t,"user-disabled",r);const a=s[i]||i.toLowerCase().replace(/[_\s]+/g,"-");if(o)throw He(t,a,o);Xe(t,a)}}catch(n){if(n instanceof J)throw n;Xe(t,"network-request-failed",{message:String(n)})}})}function li(t,e,i,s){return m(this,arguments,function*(t,e,i,s,n={}){const r=yield ai(t,e,i,s,n);return"mfaPendingCredential"in r&&Xe(t,"multi-factor-auth-required",{_serverResponse:r}),r})}function ui(t,e,i,s){return m(this,null,function*(){const n=`${e}${i}?${s}`,r=t,o=r.config.emulator?ei(t.config,n):`${t.config.apiScheme}://${n}`;return ni.includes(i)&&(yield r._persistenceManagerAvailable,"COOKIE"===r._getPersistenceType())?r._getPersistence()._getFinalTarget(o).toString():o})}class ci{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((t,e)=>{this.timer=setTimeout(()=>e(Ye(this.auth,"network-request-failed")),ri.get())})}}function di(t,e,i){const s={appName:t.name};i.email&&(s.email=i.email),i.phoneNumber&&(s.phoneNumber=i.phoneNumber);const n=Ye(t,e,s);return n.customData._tokenResponse=i,n}
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function fi(t,e){return m(this,null,function*(){return ai(t,"POST","/v1/accounts:lookup",e)})}
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function pi(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch(e){}}function gi(t){return 1e3*Number(t)}function mi(t){const[e,i,s]=t.split(".");if(void 0===e||void 0===i||void 0===s)return Ge("JWT malformed, contained fewer than 3 sections"),null;try{const t=O(i);return t?JSON.parse(t):(Ge("Failed to decode base64 JWT payload"),null)}catch(n){return Ge("Caught error parsing JWT payload as JSON",null==n?void 0:n.toString()),null}}function vi(t){const e=mi(t);return qe(e,"internal-error"),qe(void 0!==e.exp,"internal-error"),qe(void 0!==e.iat,"internal-error"),Number(e.exp)-Number(e.iat)}
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function yi(t,e,i=!1){return m(this,null,function*(){if(i)return e;try{return yield e}catch(s){throw s instanceof J&&function({code:t}){return"auth/user-disabled"===t||"auth/user-token-expired"===t}
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */(s)&&t.auth.currentUser===t&&(yield t.auth.signOut()),s}})}class xi{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(t){var e;if(t){const t=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),t}{this.errorBackoff=3e4;const t=(null!=(e=this.user.stsTokenManager.expirationTime)?e:0)-Date.now()-3e5;return Math.max(0,t)}}schedule(t=!1){if(!this.isRunning)return;const e=this.getInterval(t);this.timerId=setTimeout(()=>m(this,null,function*(){yield this.iteration()}),e)}iteration(){return m(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(t){return void("auth/network-request-failed"===(null==t?void 0:t.code)&&this.schedule(!0))}this.schedule()})}}
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */class Ti{constructor(t,e){this.createdAt=t,this.lastLoginAt=e,this._initializeTime()}_initializeTime(){this.lastSignInTime=pi(this.lastLoginAt),this.creationTime=pi(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function wi(t){return m(this,null,function*(){var e;const i=t.auth,s=yield t.getIdToken(),n=yield yi(t,fi(i,{idToken:s}));qe(null==n?void 0:n.users.length,i,"internal-error");const r=n.users[0];t._notifyReloadListener(r);const o=(null==(e=r.providerUserInfo)?void 0:e.length)?bi(r.providerUserInfo):[],a=(h=t.providerData,l=o,[...h.filter(t=>!l.some(e=>e.providerId===t.providerId)),...l]);var h,l;const u=t.isAnonymous,c=!(t.email&&r.passwordHash||(null==a?void 0:a.length)),d=!!u&&c,f={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:a,metadata:new Ti(r.createdAt,r.lastLoginAt),isAnonymous:d};Object.assign(t,f)})}function bi(t){return t.map(t=>{var e=t,{providerId:i}=e,s=p(e,["providerId"]);return{providerId:i,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
class Si{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){qe(t.idToken,"internal-error"),qe(void 0!==t.idToken,"internal-error"),qe(void 0!==t.refreshToken,"internal-error");const e="expiresIn"in t&&void 0!==t.expiresIn?Number(t.expiresIn):vi(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,e)}updateFromIdToken(t){qe(0!==t.length,"internal-error");const e=vi(t);this.updateTokensAndExpiration(t,null,e)}getToken(t,e=!1){return m(this,null,function*(){return e||!this.accessToken||this.isExpired?(qe(this.refreshToken,t,"user-token-expired"),this.refreshToken?(yield this.refresh(t,this.refreshToken),this.accessToken):null):this.accessToken})}clearRefreshToken(){this.refreshToken=null}refresh(t,e){return m(this,null,function*(){const{accessToken:i,refreshToken:s,expiresIn:n}=yield function(t,e){return m(this,null,function*(){const i=yield hi(t,{},()=>m(null,null,function*(){const i=st({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:n}=t.config,r=yield ui(t,s,"/v1/token",`key=${n}`),o=yield t._getAdditionalHeaders();o["Content-Type"]="application/x-www-form-urlencoded";const a={method:"POST",headers:o,body:i};return t.emulatorConfig&&z(t.emulatorConfig.host)&&(a.credentials="include"),ii.fetch()(r,a)}));return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}})}(t,e);this.updateTokensAndExpiration(i,s,Number(n))})}updateTokensAndExpiration(t,e,i){this.refreshToken=e||null,this.accessToken=t||null,this.expirationTime=Date.now()+1e3*i}static fromJSON(t,e){const{refreshToken:i,accessToken:s,expirationTime:n}=e,r=new Si;return i&&(qe("string"==typeof i,"internal-error",{appName:t}),r.refreshToken=i),s&&(qe("string"==typeof s,"internal-error",{appName:t}),r.accessToken=s),n&&(qe("number"==typeof n,"internal-error",{appName:t}),r.expirationTime=n),r}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Si,this.toJSON())}_performRefresh(){return Ke("not implemented")}}
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function Ei(t,e){qe("string"==typeof t||void 0===t,"internal-error",{appName:e})}class Ci{constructor(t){var e=t,{uid:i,auth:s,stsTokenManager:n}=e,r=p(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new xi(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=i,this.auth=s,this.stsTokenManager=n,this.accessToken=n.accessToken,this.displayName=r.displayName||null,this.email=r.email||null,this.emailVerified=r.emailVerified||!1,this.phoneNumber=r.phoneNumber||null,this.photoURL=r.photoURL||null,this.isAnonymous=r.isAnonymous||!1,this.tenantId=r.tenantId||null,this.providerData=r.providerData?[...r.providerData]:[],this.metadata=new Ti(r.createdAt||void 0,r.lastLoginAt||void 0)}getIdToken(t){return m(this,null,function*(){const e=yield yi(this,this.stsTokenManager.getToken(this.auth,t));return qe(e,this.auth,"internal-error"),this.accessToken!==e&&(this.accessToken=e,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),e})}getIdTokenResult(t){return function(t,e=!1){return m(this,null,function*(){const i=at(t),s=yield i.getIdToken(e),n=mi(s);qe(n&&n.exp&&n.auth_time&&n.iat,i.auth,"internal-error");const r="object"==typeof n.firebase?n.firebase:void 0,o=null==r?void 0:r.sign_in_provider;return{claims:n,token:s,authTime:pi(gi(n.auth_time)),issuedAtTime:pi(gi(n.iat)),expirationTime:pi(gi(n.exp)),signInProvider:o||null,signInSecondFactor:(null==r?void 0:r.sign_in_second_factor)||null}})}(this,t)}reload(){return function(t){return m(this,null,function*(){const e=at(t);yield wi(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}(this)}_assign(t){this!==t&&(qe(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(t=>d({},t)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const e=new Ci(f(d({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return e.metadata._copy(this.metadata),e}_onReload(t){qe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(t,e=!1){return m(this,null,function*(){let i=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),i=!0),e&&(yield wi(this)),yield this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)})}delete(){return m(this,null,function*(){if(we(this.auth.app))return Promise.reject(We(this.auth));const t=yield this.getIdToken();return yield yi(this,function(t,e){return m(this,null,function*(){return ai(t,"POST","/v1/accounts:delete",e)})}(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return f(d({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>d({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,e){var i,s,n,r,o,a,h,l;const u=null!=(i=e.displayName)?i:void 0,c=null!=(s=e.email)?s:void 0,f=null!=(n=e.phoneNumber)?n:void 0,p=null!=(r=e.photoURL)?r:void 0,g=null!=(o=e.tenantId)?o:void 0,m=null!=(a=e._redirectEventId)?a:void 0,v=null!=(h=e.createdAt)?h:void 0,y=null!=(l=e.lastLoginAt)?l:void 0,{uid:x,emailVerified:T,isAnonymous:w,providerData:b,stsTokenManager:S}=e;qe(x&&S,t,"internal-error");const E=Si.fromJSON(this.name,S);qe("string"==typeof x,t,"internal-error"),Ei(u,t.name),Ei(c,t.name),qe("boolean"==typeof T,t,"internal-error"),qe("boolean"==typeof w,t,"internal-error"),Ei(f,t.name),Ei(p,t.name),Ei(g,t.name),Ei(m,t.name),Ei(v,t.name),Ei(y,t.name);const C=new Ci({uid:x,auth:t,email:c,emailVerified:T,displayName:u,isAnonymous:w,photoURL:p,phoneNumber:f,tenantId:g,stsTokenManager:E,createdAt:v,lastLoginAt:y});return b&&Array.isArray(b)&&(C.providerData=b.map(t=>d({},t))),m&&(C._redirectEventId=m),C}static _fromIdTokenResponse(t,e,i=!1){return m(this,null,function*(){const s=new Si;s.updateFromServerResponse(e);const n=new Ci({uid:e.localId,auth:t,stsTokenManager:s,isAnonymous:i});return yield wi(n),n})}static _fromGetAccountInfoResponse(t,e,i){return m(this,null,function*(){const s=e.users[0];qe(void 0!==s.localId,"internal-error");const n=void 0!==s.providerUserInfo?bi(s.providerUserInfo):[],r=!(s.email&&s.passwordHash||(null==n?void 0:n.length)),o=new Si;o.updateFromIdToken(i);const a=new Ci({uid:s.localId,auth:t,stsTokenManager:o,isAnonymous:r}),h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:n,metadata:new Ti(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash||(null==n?void 0:n.length))};return Object.assign(a,h),a})}}
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */const _i=new Map;function Ai(t){$e(t instanceof Function,"Expected a class definition");let e=_i.get(t);return e?($e(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,_i.set(t,e),e)}
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */class Mi{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return m(this,null,function*(){return!0})}_set(t,e){return m(this,null,function*(){this.storage[t]=e})}_get(t){return m(this,null,function*(){const e=this.storage[t];return void 0===e?null:e})}_remove(t){return m(this,null,function*(){delete this.storage[t]})}_addListener(t,e){}_removeListener(t,e){}}Mi.type="NONE";const Pi=Mi;
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function Ri(t,e,i){return`firebase:${t}:${e}:${i}`}class Ii{constructor(t,e,i){this.persistence=t,this.auth=e,this.userKey=i;const{config:s,name:n}=this.auth;this.fullUserKey=Ri(this.userKey,s.apiKey,n),this.fullPersistenceKey=Ri("persistence",s.apiKey,n),this.boundEventHandler=e._onStorageEvent.bind(e),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}getCurrentUser(){return m(this,null,function*(){const t=yield this.persistence._get(this.fullUserKey);if(!t)return null;if("string"==typeof t){const e=yield fi(this.auth,{idToken:t}).catch(()=>{});return e?Ci._fromGetAccountInfoResponse(this.auth,e,t):null}return Ci._fromJSON(this.auth,t)})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(t){return m(this,null,function*(){if(this.persistence===t)return;const e=yield this.getCurrentUser();return yield this.removeCurrentUser(),this.persistence=t,e?this.setCurrentUser(e):void 0})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(t,e,i="authUser"){return m(this,null,function*(){if(!e.length)return new Ii(Ai(Pi),t,i);const s=(yield Promise.all(e.map(t=>m(null,null,function*(){if(yield t._isAvailable())return t})))).filter(t=>t);let n=s[0]||Ai(Pi);const r=Ri(i,t.config.apiKey,t.name);let o=null;for(const i of e)try{const e=yield i._get(r);if(e){let s;if("string"==typeof e){const i=yield fi(t,{idToken:e}).catch(()=>{});if(!i)break;s=yield Ci._fromGetAccountInfoResponse(t,i,e)}else s=Ci._fromJSON(t,e);i!==n&&(o=s),n=i;break}}catch(h){}const a=s.filter(t=>t._shouldAllowMigration);return n._shouldAllowMigration&&a.length?(n=a[0],o&&(yield n._set(r,o.toJSON())),yield Promise.all(e.map(t=>m(null,null,function*(){if(t!==n)try{yield t._remove(r)}catch(h){}}))),new Ii(n,t,i)):new Ii(n,t,i)})}}
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function Oi(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Fi(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Li(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Ni(e))return"Blackberry";if(zi(e))return"Webos";if(Di(e))return"Safari";if((e.includes("chrome/")||ki(e))&&!e.includes("edge/"))return"Chrome";if(Bi(e))return"Android";{const e=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=t.match(e);if(2===(null==i?void 0:i.length))return i[1]}return"Other"}function Li(t=Y()){return/firefox\//i.test(t)}function Di(t=Y()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function ki(t=Y()){return/crios\//i.test(t)}function Fi(t=Y()){return/iemobile/i.test(t)}function Bi(t=Y()){return/android/i.test(t)}function Ni(t=Y()){return/blackberry/i.test(t)}function zi(t=Y()){return/webos/i.test(t)}function Ui(t=Y()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Vi(){return function(){const t=Y();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}()&&10===document.documentMode}function Gi(t=Y()){return Ui(t)||Bi(t)||zi(t)||Ni(t)||/windows phone/i.test(t)||Fi(t)}
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function Xi(t,e=[]){let i;switch(t){case"Browser":i=Oi(Y());break;case"Worker":i=`${Oi(Y())}-${t}`;break;default:i=t}const s=e.length?e.join(","):"FirebaseCore-web";return`${i}/JsCore/${Ee}/${s}`}
/**
     * @license
     * Copyright 2022 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */class Yi{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,e){const i=e=>new Promise((i,s)=>{try{i(t(e))}catch(n){s(n)}});i.onAbort=e,this.queue.push(i);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}runMiddleware(t){return m(this,null,function*(){if(this.auth.currentUser===t)return;const e=[];try{for(const i of this.queue)yield i(t),i.onAbort&&e.push(i.onAbort)}catch(i){e.reverse();for(const t of e)try{t()}catch(s){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null==i?void 0:i.message})}})}}
/**
     * @license
     * Copyright 2023 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */class Hi{constructor(t){var e,i,s,n;const r=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!=(e=r.minPasswordLength)?e:6,r.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=r.maxPasswordLength),void 0!==r.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=r.containsLowercaseCharacter),void 0!==r.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=r.containsUppercaseCharacter),void 0!==r.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=r.containsNumericCharacter),void 0!==r.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=r.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!=(s=null==(i=t.allowedNonAlphanumericCharacters)?void 0:i.join(""))?s:"",this.forceUpgradeOnSignin=null!=(n=t.forceUpgradeOnSignin)&&n,this.schemaVersion=t.schemaVersion}validatePassword(t){var e,i,s,n,r,o;const a={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,a),this.validatePasswordCharacterOptions(t,a),a.isValid&&(a.isValid=null==(e=a.meetsMinPasswordLength)||e),a.isValid&&(a.isValid=null==(i=a.meetsMaxPasswordLength)||i),a.isValid&&(a.isValid=null==(s=a.containsLowercaseLetter)||s),a.isValid&&(a.isValid=null==(n=a.containsUppercaseLetter)||n),a.isValid&&(a.isValid=null==(r=a.containsNumericCharacter)||r),a.isValid&&(a.isValid=null==(o=a.containsNonAlphanumericCharacter)||o),a}validatePasswordLengthOptions(t,e){const i=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;i&&(e.meetsMinPasswordLength=t.length>=i),s&&(e.meetsMaxPasswordLength=t.length<=s)}validatePasswordCharacterOptions(t,e){let i;this.updatePasswordCharacterOptionsStatuses(e,!1,!1,!1,!1);for(let s=0;s<t.length;s++)i=t.charAt(s),this.updatePasswordCharacterOptionsStatuses(e,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(t,e,i,s,n){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=e)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=n))}}
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */class Wi{constructor(t,e,i,s){this.app=t,this.heartbeatServiceProvider=e,this.appCheckServiceProvider=i,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new qi(this),this.idTokenSubscription=new qi(this),this.beforeStateQueue=new Yi(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ue,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(t=>this._resolvePersistenceManagerAvailable=t)}_initializeWithPersistence(t,e){return e&&(this._popupRedirectResolver=Ai(e)),this._initializationPromise=this.queue(()=>m(this,null,function*(){var i,s,n;if(!this._deleted&&(this.persistenceManager=yield Ii.create(this,t),null==(i=this._resolvePersistenceManagerAvailable)||i.call(this),!this._deleted)){if(null==(s=this._popupRedirectResolver)?void 0:s._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch(r){}yield this.initializeCurrentUser(e),this.lastNotifiedUid=(null==(n=this.currentUser)?void 0:n.uid)||null,this._deleted||(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return m(this,null,function*(){if(this._deleted)return;const t=yield this.assertedPersistence.getCurrentUser();return this.currentUser||t?this.currentUser&&t&&this.currentUser.uid===t.uid?(this._currentUser._assign(t),void(yield this.currentUser.getIdToken())):void(yield this._updateCurrentUser(t,!0)):void 0})}initializeCurrentUserFromIdToken(t){return m(this,null,function*(){try{const e=yield fi(this,{idToken:t}),i=yield Ci._fromGetAccountInfoResponse(this,e,t);yield this.directlySetCurrentUser(i)}catch(e){yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(t){return m(this,null,function*(){var e;if(we(this.app)){const t=this.app.settings.authIdToken;return t?new Promise(e=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(t).then(e,e))}):this.directlySetCurrentUser(null)}const i=yield this.assertedPersistence.getCurrentUser();let s=i,n=!1;if(t&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();const i=null==(e=this.redirectUser)?void 0:e._redirectEventId,r=null==s?void 0:s._redirectEventId,o=yield this.tryRedirectSignIn(t);i&&i!==r||!(null==o?void 0:o.user)||(s=o.user,n=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(n)try{yield this.beforeStateQueue.runMiddleware(s)}catch(r){s=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(r))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return qe(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)})}tryRedirectSignIn(t){return m(this,null,function*(){let e=null;try{e=yield this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch(i){yield this._setRedirectUser(null)}return e})}reloadAndSetCurrentUserOrClear(t){return m(this,null,function*(){try{yield wi(t)}catch(e){if("auth/network-request-failed"!==(null==e?void 0:e.code))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)})}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}()}_delete(){return m(this,null,function*(){this._deleted=!0})}updateCurrentUser(t){return m(this,null,function*(){if(we(this.app))return Promise.reject(We(this));const e=t?at(t):null;return e&&qe(e.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(e&&e._clone(this))})}_updateCurrentUser(t,e=!1){return m(this,null,function*(){if(!this._deleted)return t&&qe(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e||(yield this.beforeStateQueue.runMiddleware(t)),this.queue(()=>m(this,null,function*(){yield this.directlySetCurrentUser(t),this.notifyAuthListeners()}))})}signOut(){return m(this,null,function*(){return we(this.app)?Promise.reject(We(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(t){return we(this.app)?Promise.reject(We(this)):this.queue(()=>m(this,null,function*(){yield this.assertedPersistence.setPersistence(Ai(t))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(t){return m(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());const e=this._getPasswordPolicyInternal();return e.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):e.validatePassword(t)})}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return m(this,null,function*(){const t=yield function(t){return m(this,arguments,function*(t,e={}){return ai(t,"GET","/v2/passwordPolicy",oi(t,e))})}
/**
     * @license
     * Copyright 2023 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */(this),e=new Hi(t);null===this.tenantId?this._projectPasswordPolicy=e:this._tenantPasswordPolicies[this.tenantId]=e})}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Q("auth","Firebase",t())}onAuthStateChanged(t,e,i){return this.registerStateListener(this.authStateSubscription,t,e,i)}beforeAuthStateChanged(t,e){return this.beforeStateQueue.pushCallback(t,e)}onIdTokenChanged(t,e,i){return this.registerStateListener(this.idTokenSubscription,t,e,i)}authStateReady(){return new Promise((t,e)=>{if(this.currentUser)t();else{const i=this.onAuthStateChanged(()=>{i(),t()},e)}})}revokeAccessToken(t){return m(this,null,function*(){if(this.currentUser){const e=yield this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:e};null!=this.tenantId&&(i.tenantId=this.tenantId),yield function(t,e){return m(this,null,function*(){return ai(t,"POST","/v2/accounts:revokeToken",oi(t,e))})}(this,i)}})}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null==(t=this._currentUser)?void 0:t.toJSON()}}_setRedirectUser(t,e){return m(this,null,function*(){const i=yield this.getOrInitRedirectPersistenceManager(e);return null===t?i.removeCurrentUser():i.setCurrentUser(t)})}getOrInitRedirectPersistenceManager(t){return m(this,null,function*(){if(!this.redirectPersistenceManager){const e=t&&Ai(t)||this._popupRedirectResolver;qe(e,this,"argument-error"),this.redirectPersistenceManager=yield Ii.create(this,[Ai(e._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(t){return m(this,null,function*(){var e,i;return this._isInitialized&&(yield this.queue(()=>m(this,null,function*(){}))),(null==(e=this._currentUser)?void 0:e._redirectEventId)===t?this._currentUser:(null==(i=this.redirectUser)?void 0:i._redirectEventId)===t?this.redirectUser:null})}_persistUserIfCurrent(t){return m(this,null,function*(){if(t===this.currentUser)return this.queue(()=>m(this,null,function*(){return this.directlySetCurrentUser(t)}))})}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,e;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=null!=(e=null==(t=this.currentUser)?void 0:t.uid)?e:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,e,i,s){if(this._deleted)return()=>{};const n="function"==typeof e?e:e.next.bind(e);let r=!1;const o=this._isInitialized?Promise.resolve():this._initializationPromise;if(qe(o,this,"internal-error"),o.then(()=>{r||n(this.currentUser)}),"function"==typeof e){const n=t.addObserver(e,i,s);return()=>{r=!0,n()}}{const i=t.addObserver(e);return()=>{r=!0,i()}}}directlySetCurrentUser(t){return m(this,null,function*(){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?yield this.assertedPersistence.setCurrentUser(t):yield this.assertedPersistence.removeCurrentUser()})}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return qe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){t&&!this.frameworks.includes(t)&&(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=Xi(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return m(this,null,function*(){var t;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const i=yield null==(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))?void 0:t.getHeartbeatsHeader();i&&(e["X-Firebase-Client"]=i);const s=yield this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e})}_getAppCheckToken(){return m(this,null,function*(){var t;if(we(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=yield null==(t=this.appCheckServiceProvider.getImmediate({optional:!0}))?void 0:t.getToken();return(null==e?void 0:e.error)&&function(t,...e){Ve.logLevel<=dt.WARN&&Ve.warn(`Auth (${Ee}): ${t}`,...e)}(`Error while retrieving App Check token: ${e.error}`),null==e?void 0:e.token})}}function ji(t){return at(t)}class qi{constructor(t){this.auth=t,this.observer=null,this.addObserver=function(t,e){const i=new nt(t,e);return i.subscribe.bind(i)}(t=>this.observer=t)}get next(){return qe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */let Ki={loadJS(){return m(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function $i(t,e,i){const s=ji(t);qe(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const n=Zi(e),{host:r,port:o}=function(t){const e=Zi(t),i=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!i)return{host:"",port:null};const s=i[2].split("@").pop()||"",n=/^(\[[^\]]+\])(:|$)/.exec(s);if(n){const t=n[1];return{host:t,port:Ji(s.substr(t.length+1))}}{const[t,e]=s.split(":");return{host:t,port:Ji(e)}}}(e),a=null===o?"":`:${o}`,h={url:`${n}//${r}${a}/`},l=Object.freeze({host:r,port:o,protocol:n.replace(":",""),options:Object.freeze({disableWarnings:!1})});if(!s._canInitEmulator)return qe(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),void qe(et(h,s.config.emulator)&&et(l,s.emulatorConfig),s,"emulator-config-failed");s.config.emulator=h,s.emulatorConfig=l,s.settings.appVerificationDisabledForTesting=!0,z(r)?(U(`${n}//${r}${a}`),X("Auth",!0)):function(){function t(){const t=document.createElement("p"),e=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",e.position="fixed",e.width="100%",e.backgroundColor="#ffffff",e.border=".1em solid #000000",e.color="#b50000",e.bottom="0px",e.left="0px",e.margin="0px",e.zIndex="10000",e.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}"undefined"!=typeof console&&console.info,"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",t):t())}
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */()}function Zi(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Ji(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}class Qi{constructor(t,e){this.providerId=t,this.signInMethod=e}toJSON(){return Ke("not implemented")}_getIdTokenResponse(t){return Ke("not implemented")}_linkToIdToken(t,e){return Ke("not implemented")}_getReauthenticationResolver(t){return Ke("not implemented")}}
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function ts(t,e){return m(this,null,function*(){return li(t,"POST","/v1/accounts:signInWithIdp",oi(t,e))})}
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */class es extends Qi{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const e=new es(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(e.idToken=t.idToken),t.accessToken&&(e.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(e.nonce=t.nonce),t.pendingToken&&(e.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(e.accessToken=t.oauthToken,e.secret=t.oauthTokenSecret):Xe("argument-error"),e}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const e="string"==typeof t?JSON.parse(t):t,{providerId:i,signInMethod:s}=e,n=p(e,["providerId","signInMethod"]);if(!i||!s)return null;const r=new es(i,s);return r.idToken=n.idToken||void 0,r.accessToken=n.accessToken||void 0,r.secret=n.secret,r.nonce=n.nonce,r.pendingToken=n.pendingToken||null,r}_getIdTokenResponse(t){return ts(t,this.buildRequest())}_linkToIdToken(t,e){const i=this.buildRequest();return i.idToken=e,ts(t,i)}_getReauthenticationResolver(t){const e=this.buildRequest();return e.autoCreate=!1,ts(t,e)}buildRequest(){const t={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const e={};this.idToken&&(e.id_token=this.idToken),this.accessToken&&(e.access_token=this.accessToken),this.secret&&(e.oauth_token_secret=this.secret),e.providerId=this.providerId,this.nonce&&!this.pendingToken&&(e.nonce=this.nonce),t.postBody=st(e)}return t}}
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */class is{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */class ss extends is{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */class ns extends ss{constructor(){super("facebook.com")}static credential(t){return es._fromParams({providerId:ns.PROVIDER_ID,signInMethod:ns.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return ns.credentialFromTaggedObject(t)}static credentialFromError(t){return ns.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return ns.credential(t.oauthAccessToken)}catch(e){return null}}}ns.FACEBOOK_SIGN_IN_METHOD="facebook.com",ns.PROVIDER_ID="facebook.com";
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
class rs extends ss{constructor(){super("google.com"),this.addScope("profile")}static credential(t,e){return es._fromParams({providerId:rs.PROVIDER_ID,signInMethod:rs.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:e})}static credentialFromResult(t){return rs.credentialFromTaggedObject(t)}static credentialFromError(t){return rs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:e,oauthAccessToken:i}=t;if(!e&&!i)return null;try{return rs.credential(e,i)}catch(s){return null}}}rs.GOOGLE_SIGN_IN_METHOD="google.com",rs.PROVIDER_ID="google.com";
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
class os extends ss{constructor(){super("github.com")}static credential(t){return es._fromParams({providerId:os.PROVIDER_ID,signInMethod:os.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return os.credentialFromTaggedObject(t)}static credentialFromError(t){return os.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return os.credential(t.oauthAccessToken)}catch(e){return null}}}os.GITHUB_SIGN_IN_METHOD="github.com",os.PROVIDER_ID="github.com";
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
class as extends ss{constructor(){super("twitter.com")}static credential(t,e){return es._fromParams({providerId:as.PROVIDER_ID,signInMethod:as.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:e})}static credentialFromResult(t){return as.credentialFromTaggedObject(t)}static credentialFromError(t){return as.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:e,oauthTokenSecret:i}=t;if(!e||!i)return null;try{return as.credential(e,i)}catch(s){return null}}}as.TWITTER_SIGN_IN_METHOD="twitter.com",as.PROVIDER_ID="twitter.com";
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
class hs{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static _fromIdTokenResponse(t,e,i,s=!1){return m(this,null,function*(){const n=yield Ci._fromIdTokenResponse(t,i,s),r=ls(i);return new hs({user:n,providerId:r,_tokenResponse:i,operationType:e})})}static _forOperation(t,e,i){return m(this,null,function*(){yield t._updateTokensIfNecessary(i,!0);const s=ls(i);return new hs({user:t,providerId:s,_tokenResponse:i,operationType:e})})}}function ls(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function us(t){return m(this,null,function*(){var e;if(we(t.app))return Promise.reject(We(t));const i=ji(t);if(yield i._initializationPromise,null==(e=i.currentUser)?void 0:e.isAnonymous)return new hs({user:i.currentUser,providerId:null,operationType:"signIn"});const s=
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */yield function(t,e){return m(this,null,function*(){return li(t,"POST","/v1/accounts:signUp",oi(t,e))})}(i,{returnSecureToken:!0}),n=yield hs._fromIdTokenResponse(i,"signIn",s,!0);return yield i._updateCurrentUser(n.user),n})}
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */class cs extends J{constructor(t,e,i,s){var n;super(e.code,e.message),this.operationType=i,this.user=s,Object.setPrototypeOf(this,cs.prototype),this.customData={appName:t.name,tenantId:null!=(n=t.tenantId)?n:void 0,_serverResponse:e.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(t,e,i,s){return new cs(t,e,i,s)}}function ds(t,e,i,s){return("reauthenticate"===e?i._getReauthenticationResolver(t):i._getIdTokenResponse(t)).catch(i=>{if("auth/multi-factor-auth-required"===i.code)throw cs._fromErrorAndOperation(t,i,e,s);throw i})}const fs="__sak";
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */class ps{constructor(t,e){this.storageRetriever=t,this.type=e}_isAvailable(){try{return this.storage?(this.storage.setItem(fs,"1"),this.storage.removeItem(fs),Promise.resolve(!0)):Promise.resolve(!1)}catch(t){return Promise.resolve(!1)}}_set(t,e){return this.storage.setItem(t,JSON.stringify(e)),Promise.resolve()}_get(t){const e=this.storage.getItem(t);return Promise.resolve(e?JSON.parse(e):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */class gs extends ps{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,e)=>this.onStorageEvent(t,e),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Gi(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const e of Object.keys(this.listeners)){const i=this.storage.getItem(e),s=this.localCache[e];i!==s&&t(e,s,i)}}onStorageEvent(t,e=!1){if(!t.key)return void this.forAllChangedKeys((t,e,i)=>{this.notifyListeners(t,i)});const i=t.key;e?this.detachListener():this.stopPolling();const s=()=>{const t=this.storage.getItem(i);(e||this.localCache[i]!==t)&&this.notifyListeners(i,t)},n=this.storage.getItem(i);Vi()&&n!==t.newValue&&t.newValue!==t.oldValue?setTimeout(s,10):s()}notifyListeners(t,e){this.localCache[t]=e;const i=this.listeners[t];if(i)for(const s of Array.from(i))s(e?JSON.parse(e):e)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,e,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:e,newValue:i}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,e){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(t,e){return m(this,null,function*(){yield g(gs.prototype,this,"_set").call(this,t,e),this.localCache[t]=JSON.stringify(e)})}_get(t){return m(this,null,function*(){const e=yield g(gs.prototype,this,"_get").call(this,t);return this.localCache[t]=JSON.stringify(e),e})}_remove(t){return m(this,null,function*(){yield g(gs.prototype,this,"_remove").call(this,t),delete this.localCache[t]})}}gs.type="LOCAL";const ms=gs;
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */class vs extends ps{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,e){}_removeListener(t,e){}}vs.type="SESSION";const ys=vs;
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
class xs{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const e=this.receivers.find(e=>e.isListeningto(t));if(e)return e;const i=new xs(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}handleEvent(t){return m(this,null,function*(){const e=t,{eventId:i,eventType:s,data:n}=e.data,r=this.handlersMap[s];if(!(null==r?void 0:r.size))return;e.ports[0].postMessage({status:"ack",eventId:i,eventType:s});const o=Array.from(r).map(t=>m(this,null,function*(){return t(e.origin,n)})),a=yield function(t){return Promise.all(t.map(t=>m(null,null,function*(){try{return{fulfilled:!0,value:yield t}}catch(e){return{fulfilled:!1,reason:e}}})))}(o);e.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:a})})}_subscribe(t,e){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(e)}_unsubscribe(t,e){this.handlersMap[t]&&e&&this.handlersMap[t].delete(e),e&&0!==this.handlersMap[t].size||delete this.handlersMap[t],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
function Ts(t="",e=10){let i="";for(let s=0;s<e;s++)i+=Math.floor(10*Math.random());return t+i}
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */xs.receivers=[];class ws{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}_send(t,e,i=50){return m(this,null,function*(){const s="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let n,r;return new Promise((o,a)=>{const h=Ts("",20);s.port1.start();const l=setTimeout(()=>{a(new Error("unsupported_event"))},i);r={messageChannel:s,onMessage(t){const e=t;if(e.data.eventId===h)switch(e.data.status){case"ack":clearTimeout(l),n=setTimeout(()=>{a(new Error("timeout"))},3e3);break;case"done":clearTimeout(n),o(e.data.response);break;default:clearTimeout(l),clearTimeout(n),a(new Error("invalid_response"))}}},this.handlers.add(r),s.port1.addEventListener("message",r.onMessage),this.target.postMessage({eventType:t,eventId:h,data:e},[s.port2])}).finally(()=>{r&&this.removeMessageHandler(r)})})}}
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function bs(){return window}
/**
     * @license
     * Copyright 2020 Google LLC.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
function Ss(){return void 0!==bs().WorkerGlobalScope&&"function"==typeof bs().importScripts}
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
const Es="firebaseLocalStorageDb",Cs="firebaseLocalStorage",_s="fbase_key";class As{constructor(t){this.request=t}toPromise(){return new Promise((t,e)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{e(this.request.error)})})}}function Ms(t,e){return t.transaction([Cs],e?"readwrite":"readonly").objectStore(Cs)}function Ps(){const t=indexedDB.open(Es,1);return new Promise((e,i)=>{t.addEventListener("error",()=>{i(t.error)}),t.addEventListener("upgradeneeded",()=>{const e=t.result;try{e.createObjectStore(Cs,{keyPath:_s})}catch(s){i(s)}}),t.addEventListener("success",()=>m(null,null,function*(){const i=t.result;i.objectStoreNames.contains(Cs)?e(i):(i.close(),yield function(){const t=indexedDB.deleteDatabase(Es);return new As(t).toPromise()}(),e(yield Ps()))}))})}function Rs(t,e,i){return m(this,null,function*(){const s=Ms(t,!0).put({[_s]:e,value:i});return new As(s).toPromise()})}function Is(t,e){const i=Ms(t,!0).delete(e);return new As(i).toPromise()}class Os{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return m(this,null,function*(){return this.db||(this.db=yield Ps()),this.db})}_withRetries(t){return m(this,null,function*(){let e=0;for(;;)try{const e=yield this._openDb();return yield t(e)}catch(i){if(e++>3)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return m(this,null,function*(){return Ss()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return m(this,null,function*(){this.receiver=xs._getInstance(Ss()?self:null),this.receiver._subscribe("keyChanged",(t,e)=>m(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(e.key)}})),this.receiver._subscribe("ping",(t,e)=>m(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return m(this,null,function*(){var t,e;if(this.activeServiceWorker=yield function(){return m(this,null,function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(t){return null}})}(),!this.activeServiceWorker)return;this.sender=new ws(this.activeServiceWorker);const i=yield this.sender._send("ping",{},800);i&&(null==(t=i[0])?void 0:t.fulfilled)&&(null==(e=i[0])?void 0:e.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(t){return m(this,null,function*(){var e;if(this.sender&&this.activeServiceWorker&&((null==(e=null==navigator?void 0:navigator.serviceWorker)?void 0:e.controller)||null)===this.activeServiceWorker)try{yield this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch(i){}})}_isAvailable(){return m(this,null,function*(){try{if(!indexedDB)return!1;const t=yield Ps();return yield Rs(t,fs,"1"),yield Is(t,fs),!0}catch(t){}return!1})}_withPendingWrite(t){return m(this,null,function*(){this.pendingWrites++;try{yield t()}finally{this.pendingWrites--}})}_set(t,e){return m(this,null,function*(){return this._withPendingWrite(()=>m(this,null,function*(){return yield this._withRetries(i=>Rs(i,t,e)),this.localCache[t]=e,this.notifyServiceWorker(t)}))})}_get(t){return m(this,null,function*(){const e=yield this._withRetries(e=>function(t,e){return m(this,null,function*(){const i=Ms(t,!1).get(e),s=yield new As(i).toPromise();return void 0===s?null:s.value})}(e,t));return this.localCache[t]=e,e})}_remove(t){return m(this,null,function*(){return this._withPendingWrite(()=>m(this,null,function*(){return yield this._withRetries(e=>Is(e,t)),delete this.localCache[t],this.notifyServiceWorker(t)}))})}_poll(){return m(this,null,function*(){const t=yield this._withRetries(t=>{const e=Ms(t,!1).getAll();return new As(e).toPromise()});if(!t)return[];if(0!==this.pendingWrites)return[];const e=[],i=new Set;if(0!==t.length)for(const{fbase_key:s,value:n}of t)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(n)&&(this.notifyListeners(s,n),e.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),e.push(s));return e})}notifyListeners(t,e){this.localCache[t]=e;const i=this.listeners[t];if(i)for(const s of Array.from(i))s(e)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>m(this,null,function*(){return this._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,e){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&this.stopPolling()}}Os.type="LOCAL";const Ls=Os;new ti(3e4,6e4);
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
class Ds extends Qi{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return ts(t,this._buildIdpRequest())}_linkToIdToken(t,e){return ts(t,this._buildIdpRequest(e))}_getReauthenticationResolver(t){return ts(t,this._buildIdpRequest())}_buildIdpRequest(t){const e={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(e.idToken=t),e}}function ks(t){
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
return function(t,e,i=!1){return m(this,null,function*(){if(we(t.app))return Promise.reject(We(t));const s="signIn",n=yield ds(t,s,e),r=yield hs._fromIdTokenResponse(t,s,n);return i||(yield t._updateCurrentUser(r.user)),r})}(t.auth,new Ds(t),t.bypassAuthState)}function Fs(t){const{auth:e,user:i}=t;return qe(i,e,"internal-error"),
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
function(t,e,i=!1){return m(this,null,function*(){const{auth:s}=t;if(we(s.app))return Promise.reject(We(s));const n="reauthenticate";try{const r=yield yi(t,ds(s,n,e,t),i);qe(r.idToken,s,"internal-error");const o=mi(r.idToken);qe(o,s,"internal-error");const{sub:a}=o;return qe(t.uid===a,s,"user-mismatch"),hs._forOperation(t,n,r)}catch(r){throw"auth/user-not-found"===(null==r?void 0:r.code)&&Xe(s,"user-mismatch"),r}})}(i,new Ds(t),t.bypassAuthState)}function Bs(t){return m(this,null,function*(){const{auth:e,user:i}=t;return qe(i,e,"internal-error"),function(t,e,i=!1){return m(this,null,function*(){const s=yield yi(t,e._linkToIdToken(t.auth,yield t.getIdToken()),i);return hs._forOperation(t,"link",s)})}(i,new Ds(t),t.bypassAuthState)})}
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */class Ns{constructor(t,e,i,s,n=!1){this.auth=t,this.resolver=i,this.user=s,this.bypassAuthState=n,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(e)?e:[e]}execute(){return new Promise((t,e)=>m(this,null,function*(){this.pendingPromise={resolve:t,reject:e};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}}))}onAuthEvent(t){return m(this,null,function*(){const{urlResponse:e,sessionId:i,postBody:s,tenantId:n,error:r,type:o}=t;if(r)return void this.reject(r);const a={auth:this.auth,requestUri:e,sessionId:i,tenantId:n||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(o)(a))}catch(h){this.reject(h)}})}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return ks;case"linkViaPopup":case"linkViaRedirect":return Bs;case"reauthViaPopup":case"reauthViaRedirect":return Fs;default:Xe(this.auth,"internal-error")}}resolve(t){$e(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){$e(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */const zs=new ti(2e3,1e4);class Us extends Ns{constructor(t,e,i,s,n){super(t,e,s,n),this.provider=i,this.authWindow=null,this.pollId=null,Us.currentPopupAction&&Us.currentPopupAction.cancel(),Us.currentPopupAction=this}executeNotNull(){return m(this,null,function*(){const t=yield this.execute();return qe(t,this.auth,"internal-error"),t})}onExecution(){return m(this,null,function*(){$e(1===this.filter.length,"Popup operations only handle one event");const t=Ts();this.authWindow=yield this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Ye(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()})}get eventId(){var t;return(null==(t=this.authWindow)?void 0:t.associatedEvent)||null}cancel(){this.reject(Ye(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Us.currentPopupAction=null}pollUserCancellation(){const t=()=>{var e,i;(null==(i=null==(e=this.authWindow)?void 0:e.window)?void 0:i.closed)?this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ye(this.auth,"popup-closed-by-user"))},8e3):this.pollId=window.setTimeout(t,zs.get())};t()}}Us.currentPopupAction=null;
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
const Vs="pendingRedirect",Gs=new Map;class Xs extends Ns{constructor(t,e,i=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],e,void 0,i),this.eventId=null}execute(){return m(this,null,function*(){let t=Gs.get(this.auth._key());if(!t){try{const e=(yield function(t,e){return m(this,null,function*(){const i=function(t){return Ri(Vs,t.config.apiKey,t.name)}(e),s=function(t){return Ai(t._redirectPersistence)}(t);if(!(yield s._isAvailable()))return!1;const n="true"===(yield s._get(i));return yield s._remove(i),n})}(this.resolver,this.auth))?yield g(Xs.prototype,this,"execute").call(this):null;t=()=>Promise.resolve(e)}catch(e){t=()=>Promise.reject(e)}Gs.set(this.auth._key(),t)}return this.bypassAuthState||Gs.set(this.auth._key(),()=>Promise.resolve(null)),t()})}onAuthEvent(t){return m(this,null,function*(){if("signInViaRedirect"===t.type)return g(Xs.prototype,this,"onAuthEvent").call(this,t);if("unknown"!==t.type){if(t.eventId){const e=yield this.auth._redirectUserForId(t.eventId);if(e)return this.user=e,g(Xs.prototype,this,"onAuthEvent").call(this,t);this.resolve(null)}}else this.resolve(null)})}onExecution(){return m(this,null,function*(){})}cleanUp(){}}function Ys(t,e){Gs.set(t._key(),e)}function Hs(t,e,i=!1){return m(this,null,function*(){if(we(t.app))return Promise.reject(We(t));const s=ji(t),n=
/**
     * @license
     * Copyright 2021 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
function(t,e){return e?Ai(e):(qe(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}(s,e),r=new Xs(s,n,i),o=yield r.execute();return o&&!i&&(delete o.user._redirectEventId,yield s._persistUserIfCurrent(o.user),yield s._setRedirectUser(null,e)),o})}
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */class Ws{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let e=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(t,i)&&(e=!0,this.sendToConsumer(t,i),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!function(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return qs(t);default:return!1}}
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */(t)||(this.hasHandledPotentialRedirect=!0,e||(this.queuedRedirectEvent=t,e=!0)),e}sendToConsumer(t,e){var i;if(t.error&&!qs(t)){const s=(null==(i=t.error.code)?void 0:i.split("auth/")[1])||"internal-error";e.onError(Ye(this.auth,s))}else e.onAuthEvent(t)}isEventForConsumer(t,e){const i=null===e.eventId||!!t.eventId&&t.eventId===e.eventId;return e.filter.includes(t.type)&&i}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(js(t))}saveEventToCache(t){this.cachedEventUids.add(js(t)),this.lastProcessedEventTime=Date.now()}}function js(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(t=>t).join("-")}function qs({type:t,error:e}){return"unknown"===t&&"auth/no-auth-event"===(null==e?void 0:e.code)}
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
const Ks=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,$s=/^https?/;function Zs(t){return m(this,null,function*(){if(t.config.emulator)return;const{authorizedDomains:e}=yield function(t){return m(this,arguments,function*(t,e={}){return ai(t,"GET","/v1/projects",e)})}(t);for(const t of e)try{if(Js(t))return}catch(i){}Xe(t,"unauthorized-domain")})}function Js(t){const e=Ze(),{protocol:i,hostname:s}=new URL(e);if(t.startsWith("chrome-extension://")){const n=new URL(t);return""===n.hostname&&""===s?"chrome-extension:"===i&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):"chrome-extension:"===i&&n.hostname===s}if(!$s.test(i))return!1;if(Ks.test(t))return s===t;const n=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+n+"|"+n+")$","i").test(s)}
/**
     * @license
     * Copyright 2020 Google LLC.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */const Qs=new ti(3e4,6e4);function tn(){const t=bs().___jsl;if(null==t?void 0:t.H)for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let i=0;i<t.CP.length;i++)t.CP[i]=null}function en(t){return new Promise((e,i)=>{var s,n,r,o;function a(){tn(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{tn(),i(Ye(t,"network-request-failed"))},timeout:Qs.get()})}if(null==(n=null==(s=bs().gapi)?void 0:s.iframes)?void 0:n.Iframe)e(gapi.iframes.getContext());else{if(!(null==(r=bs().gapi)?void 0:r.load)){const e=`__iframefcb${Math.floor(1e6*Math.random())}`;return bs()[e]=()=>{gapi.load?a():i(Ye(t,"network-request-failed"))},(o=`${Ki.gapiScript}?onload=${e}`,Ki.loadJS(o)).catch(t=>i(t))}a()}}).catch(t=>{throw sn=null,t})}let sn=null;
/**
     * @license
     * Copyright 2020 Google LLC.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
const nn=new ti(5e3,15e3),rn={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},on=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function an(t){const e=t.config;qe(e.authDomain,t,"auth-domain-config-required");const i=e.emulator?ei(e,"emulator/auth/iframe"):`https://${t.config.authDomain}/__/auth/iframe`,s={apiKey:e.apiKey,appName:t.name,v:Ee},n=on.get(t.config.apiHost);n&&(s.eid=n);const r=t._getFrameworks();return r.length&&(s.fw=r.join(",")),`${i}?${st(s).slice(1)}`}function hn(t){return m(this,null,function*(){const e=yield function(t){return sn=sn||en(t),sn}(t),i=bs().gapi;return qe(i,t,"internal-error"),e.open({where:document.body,url:an(t),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:rn,dontclear:!0},e=>new Promise((i,s)=>m(null,null,function*(){yield e.restyle({setHideOnLeave:!1});const n=Ye(t,"network-request-failed"),r=bs().setTimeout(()=>{s(n)},nn.get());function o(){bs().clearTimeout(r),i(e)}e.ping(o).then(o,()=>{s(n)})})))})}
/**
     * @license
     * Copyright 2020 Google LLC.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */const ln={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class un{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(t){}}}function cn(t,e,i,s=500,n=600){const r=Math.max((window.screen.availHeight-n)/2,0).toString(),o=Math.max((window.screen.availWidth-s)/2,0).toString();let a="";const h=f(d({},ln),{width:s.toString(),height:n.toString(),top:r,left:o}),l=Y().toLowerCase();i&&(a=ki(l)?"_blank":i),Li(l)&&(e=e||"http://localhost",h.scrollbars="yes");const u=Object.entries(h).reduce((t,[e,i])=>`${t}${e}=${i},`,"");if(function(t=Y()){var e;return Ui(t)&&!!(null==(e=window.navigator)?void 0:e.standalone)}(l)&&"_self"!==a)return function(t,e){const i=document.createElement("a");i.href=t,i.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(s)}
/**
     * @license
     * Copyright 2021 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */(e||"",a),new un(null);const c=window.open(e||"",a,u);qe(c,t,"popup-blocked");try{c.focus()}catch(p){}return new un(c)}const dn="__/auth/handler",fn="emulator/auth/handler",pn=encodeURIComponent("fac");function gn(t,e,i,s,n,r){return m(this,null,function*(){qe(t.config.authDomain,t,"auth-domain-config-required"),qe(t.config.apiKey,t,"invalid-api-key");const r={apiKey:t.config.apiKey,appName:t.name,authType:i,redirectUrl:s,v:Ee,eventId:n};if(e instanceof is){e.setDefaultLanguage(t.languageCode),r.providerId=e.providerId||"",function(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}(e.getCustomParameters())||(r.customParameters=JSON.stringify(e.getCustomParameters()));for(const[t,e]of Object.entries({}))r[t]=e}if(e instanceof ss){const t=e.getScopes().filter(t=>""!==t);t.length>0&&(r.scopes=t.join(","))}t.tenantId&&(r.tid=t.tenantId);const o=r;for(const t of Object.keys(o))void 0===o[t]&&delete o[t];const a=yield t._getAppCheckToken(),h=a?`#${pn}=${encodeURIComponent(a)}`:"";return`${function({config:t}){return t.emulator?ei(t,fn):`https://${t.authDomain}/${dn}`}
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */(t)}?${st(o).slice(1)}${h}`})}const mn="webStorageSupport",vn=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ys,this._completeRedirectFn=Hs,this._overrideRedirectResult=Ys}_openPopup(t,e,i,s){return m(this,null,function*(){var n;$e(null==(n=this.eventManagers[t._key()])?void 0:n.manager,"_initialize() not called before _openPopup()");const r=yield gn(t,e,i,Ze(),s);return cn(t,r,Ts())})}_openRedirect(t,e,i,s){return m(this,null,function*(){return yield this._originValidation(t),function(t){bs().location.href=t}(yield gn(t,e,i,Ze(),s)),new Promise(()=>{})})}_initialize(t){const e=t._key();if(this.eventManagers[e]){const{manager:t,promise:i}=this.eventManagers[e];return t?Promise.resolve(t):($e(i,"If manager is not set, promise should be"),i)}const i=this.initAndGetManager(t);return this.eventManagers[e]={promise:i},i.catch(()=>{delete this.eventManagers[e]}),i}initAndGetManager(t){return m(this,null,function*(){const e=yield hn(t),i=new Ws(t);return e.register("authEvent",e=>(qe(null==e?void 0:e.authEvent,t,"invalid-auth-event"),{status:i.onEvent(e.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:i},this.iframes[t._key()]=e,i})}_isIframeWebStorageSupported(t,e){this.iframes[t._key()].send(mn,{type:mn},i=>{var s;const n=null==(s=null==i?void 0:i[0])?void 0:s[mn];void 0!==n&&e(!!n),Xe(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const e=t._key();return this.originValidationPromises[e]||(this.originValidationPromises[e]=Zs(t)),this.originValidationPromises[e]}get _shouldInitProactively(){return Gi()||Di()||Ui()}};var yn="@firebase/auth",xn="1.11.1";
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
class Tn{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),(null==(t=this.auth.currentUser)?void 0:t.uid)||null}getToken(t){return m(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(t)}:null})}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const e=this.auth.onIdTokenChanged(e=>{t((null==e?void 0:e.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,e),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const e=this.internalListeners.get(t);e&&(this.internalListeners.delete(t),e(),this.updateProactiveRefresh())}assertAuthConfigured(){qe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
/**
     * @license
     * Copyright 2021 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
const wn=B("authIdTokenMaxAge")||300;let bn=null;function Sn(t=_e()){const e=Te(t,"auth");if(e.isInitialized())return e.getImmediate();const i=
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
function(t,e){const i=Te(t,"auth");if(i.isInitialized()){const t=i.getImmediate();if(et(i.getOptions(),null!=e?e:{}))return t;Xe(t,"already-initialized")}return i.initialize({options:e})}(t,{popupRedirectResolver:vn,persistence:[Ls,ms,ys]}),s=B("authTokenSyncURL");if(s&&"boolean"==typeof isSecureContext&&isSecureContext){const t=new URL(s,location.origin);if(location.origin===t.origin){const e=(n=t.toString(),t=>m(null,null,function*(){const e=t&&(yield t.getIdTokenResult()),i=e&&((new Date).getTime()-Date.parse(e.issuedAtTime))/1e3;if(i&&i>wn)return;const s=null==e?void 0:e.token;bn!==s&&(bn=s,yield fetch(n,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))}));!function(t,e,i){at(t).beforeAuthStateChanged(e,i)}(i,e,()=>e(i.currentUser)),function(t,e,i,s){at(t).onIdTokenChanged(e,i,s)}(i,t=>e(t))}}var n;const r=k("auth");return r&&$i(i,`http://${r}`),i}var En;Ki={loadJS:t=>new Promise((e,i)=>{const s=document.createElement("script");var n,r;s.setAttribute("src",t),s.onload=e,s.onerror=t=>{const e=Ye("internal-error");e.customData=t,i(e)},s.type="text/javascript",s.charset="UTF-8",(null!=(r=null==(n=document.getElementsByTagName("head"))?void 0:n[0])?r:document).appendChild(s)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="},En="Browser",xe(new ht("auth",(t,{options:e})=>{const i=t.getProvider("app").getImmediate(),s=t.getProvider("heartbeat"),n=t.getProvider("app-check-internal"),{apiKey:r,authDomain:o}=i.options;qe(r&&!r.includes(":"),"invalid-api-key",{appName:i.name});const a={apiKey:r,authDomain:o,clientPlatform:En,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Xi(En)},h=new Wi(i,s,n,a);return function(t,e){const i=(null==e?void 0:e.persistence)||[],s=(Array.isArray(i)?i:[i]).map(Ai);(null==e?void 0:e.errorMap)&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(s,null==e?void 0:e.popupRedirectResolver)}(h,e),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,i)=>{t.getProvider("auth-internal").initialize()})),xe(new ht("auth-internal",t=>{const e=ji(t.getProvider("auth").getImmediate());return new Tn(e)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ae(yn,xn,function(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(En)),Ae(yn,xn,"esm2020");var Cn,_n,An="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};
/** @license
    Copyright The Closure Library Authors.
    SPDX-License-Identifier: Apache-2.0
    */(function(){var t;
/** @license
      
       Copyright The Closure Library Authors.
       SPDX-License-Identifier: Apache-2.0
      */function e(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}function i(t,e,i){i||(i=0);const s=Array(16);if("string"==typeof e)for(var n=0;n<16;++n)s[n]=e.charCodeAt(i++)|e.charCodeAt(i++)<<8|e.charCodeAt(i++)<<16|e.charCodeAt(i++)<<24;else for(n=0;n<16;++n)s[n]=e[i++]|e[i++]<<8|e[i++]<<16|e[i++]<<24;e=t.g[0],i=t.g[1],n=t.g[2];let r,o=t.g[3];r=e+(o^i&(n^o))+s[0]+3614090360&4294967295,r=o+(n^(e=i+(r<<7&4294967295|r>>>25))&(i^n))+s[1]+3905402710&4294967295,o=e+(r<<12&4294967295|r>>>20),r=n+(i^o&(e^i))+s[2]+606105819&4294967295,r=i+(e^(n=o+(r<<17&4294967295|r>>>15))&(o^e))+s[3]+3250441966&4294967295,r=e+(o^(i=n+(r<<22&4294967295|r>>>10))&(n^o))+s[4]+4118548399&4294967295,r=o+(n^(e=i+(r<<7&4294967295|r>>>25))&(i^n))+s[5]+1200080426&4294967295,o=e+(r<<12&4294967295|r>>>20),r=n+(i^o&(e^i))+s[6]+2821735955&4294967295,r=i+(e^(n=o+(r<<17&4294967295|r>>>15))&(o^e))+s[7]+4249261313&4294967295,r=e+(o^(i=n+(r<<22&4294967295|r>>>10))&(n^o))+s[8]+1770035416&4294967295,r=o+(n^(e=i+(r<<7&4294967295|r>>>25))&(i^n))+s[9]+2336552879&4294967295,o=e+(r<<12&4294967295|r>>>20),r=n+(i^o&(e^i))+s[10]+4294925233&4294967295,r=i+(e^(n=o+(r<<17&4294967295|r>>>15))&(o^e))+s[11]+2304563134&4294967295,r=e+(o^(i=n+(r<<22&4294967295|r>>>10))&(n^o))+s[12]+1804603682&4294967295,r=o+(n^(e=i+(r<<7&4294967295|r>>>25))&(i^n))+s[13]+4254626195&4294967295,o=e+(r<<12&4294967295|r>>>20),r=n+(i^o&(e^i))+s[14]+2792965006&4294967295,r=i+(e^(n=o+(r<<17&4294967295|r>>>15))&(o^e))+s[15]+1236535329&4294967295,r=e+(n^o&((i=n+(r<<22&4294967295|r>>>10))^n))+s[1]+4129170786&4294967295,r=o+(i^n&((e=i+(r<<5&4294967295|r>>>27))^i))+s[6]+3225465664&4294967295,o=e+(r<<9&4294967295|r>>>23),r=n+(e^i&(o^e))+s[11]+643717713&4294967295,r=i+(o^e&((n=o+(r<<14&4294967295|r>>>18))^o))+s[0]+3921069994&4294967295,r=e+(n^o&((i=n+(r<<20&4294967295|r>>>12))^n))+s[5]+3593408605&4294967295,r=o+(i^n&((e=i+(r<<5&4294967295|r>>>27))^i))+s[10]+38016083&4294967295,o=e+(r<<9&4294967295|r>>>23),r=n+(e^i&(o^e))+s[15]+3634488961&4294967295,r=i+(o^e&((n=o+(r<<14&4294967295|r>>>18))^o))+s[4]+3889429448&4294967295,r=e+(n^o&((i=n+(r<<20&4294967295|r>>>12))^n))+s[9]+568446438&4294967295,r=o+(i^n&((e=i+(r<<5&4294967295|r>>>27))^i))+s[14]+3275163606&4294967295,o=e+(r<<9&4294967295|r>>>23),r=n+(e^i&(o^e))+s[3]+4107603335&4294967295,r=i+(o^e&((n=o+(r<<14&4294967295|r>>>18))^o))+s[8]+1163531501&4294967295,r=e+(n^o&((i=n+(r<<20&4294967295|r>>>12))^n))+s[13]+2850285829&4294967295,r=o+(i^n&((e=i+(r<<5&4294967295|r>>>27))^i))+s[2]+4243563512&4294967295,o=e+(r<<9&4294967295|r>>>23),r=n+(e^i&(o^e))+s[7]+1735328473&4294967295,r=i+(o^e&((n=o+(r<<14&4294967295|r>>>18))^o))+s[12]+2368359562&4294967295,r=e+((i=n+(r<<20&4294967295|r>>>12))^n^o)+s[5]+4294588738&4294967295,r=o+((e=i+(r<<4&4294967295|r>>>28))^i^n)+s[8]+2272392833&4294967295,o=e+(r<<11&4294967295|r>>>21),r=n+(o^e^i)+s[11]+1839030562&4294967295,r=i+((n=o+(r<<16&4294967295|r>>>16))^o^e)+s[14]+4259657740&4294967295,r=e+((i=n+(r<<23&4294967295|r>>>9))^n^o)+s[1]+2763975236&4294967295,r=o+((e=i+(r<<4&4294967295|r>>>28))^i^n)+s[4]+1272893353&4294967295,o=e+(r<<11&4294967295|r>>>21),r=n+(o^e^i)+s[7]+4139469664&4294967295,r=i+((n=o+(r<<16&4294967295|r>>>16))^o^e)+s[10]+3200236656&4294967295,r=e+((i=n+(r<<23&4294967295|r>>>9))^n^o)+s[13]+681279174&4294967295,r=o+((e=i+(r<<4&4294967295|r>>>28))^i^n)+s[0]+3936430074&4294967295,o=e+(r<<11&4294967295|r>>>21),r=n+(o^e^i)+s[3]+3572445317&4294967295,r=i+((n=o+(r<<16&4294967295|r>>>16))^o^e)+s[6]+76029189&4294967295,r=e+((i=n+(r<<23&4294967295|r>>>9))^n^o)+s[9]+3654602809&4294967295,r=o+((e=i+(r<<4&4294967295|r>>>28))^i^n)+s[12]+3873151461&4294967295,o=e+(r<<11&4294967295|r>>>21),r=n+(o^e^i)+s[15]+530742520&4294967295,r=i+((n=o+(r<<16&4294967295|r>>>16))^o^e)+s[2]+3299628645&4294967295,r=e+(n^((i=n+(r<<23&4294967295|r>>>9))|~o))+s[0]+4096336452&4294967295,r=o+(i^((e=i+(r<<6&4294967295|r>>>26))|~n))+s[7]+1126891415&4294967295,o=e+(r<<10&4294967295|r>>>22),r=n+(e^(o|~i))+s[14]+2878612391&4294967295,r=i+(o^((n=o+(r<<15&4294967295|r>>>17))|~e))+s[5]+4237533241&4294967295,r=e+(n^((i=n+(r<<21&4294967295|r>>>11))|~o))+s[12]+1700485571&4294967295,r=o+(i^((e=i+(r<<6&4294967295|r>>>26))|~n))+s[3]+2399980690&4294967295,o=e+(r<<10&4294967295|r>>>22),r=n+(e^(o|~i))+s[10]+4293915773&4294967295,r=i+(o^((n=o+(r<<15&4294967295|r>>>17))|~e))+s[1]+2240044497&4294967295,r=e+(n^((i=n+(r<<21&4294967295|r>>>11))|~o))+s[8]+1873313359&4294967295,r=o+(i^((e=i+(r<<6&4294967295|r>>>26))|~n))+s[15]+4264355552&4294967295,o=e+(r<<10&4294967295|r>>>22),r=n+(e^(o|~i))+s[6]+2734768916&4294967295,r=i+(o^((n=o+(r<<15&4294967295|r>>>17))|~e))+s[13]+1309151649&4294967295,r=e+(n^((i=n+(r<<21&4294967295|r>>>11))|~o))+s[4]+4149444226&4294967295,r=o+(i^((e=i+(r<<6&4294967295|r>>>26))|~n))+s[11]+3174756917&4294967295,o=e+(r<<10&4294967295|r>>>22),r=n+(e^(o|~i))+s[2]+718787259&4294967295,r=i+(o^((n=o+(r<<15&4294967295|r>>>17))|~e))+s[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(n+(r<<21&4294967295|r>>>11))&4294967295,t.g[2]=t.g[2]+n&4294967295,t.g[3]=t.g[3]+o&4294967295}function s(t,e){this.h=e;const i=[];let s=!0;for(let n=t.length-1;n>=0;n--){const r=0|t[n];s&&r==e||(i[n]=r,s=!1)}this.g=i}!function(t,e){function i(){}i.prototype=e.prototype,t.F=e.prototype,t.prototype=new i,t.prototype.constructor=t,t.D=function(t,i,s){for(var n=Array(arguments.length-2),r=2;r<arguments.length;r++)n[r-2]=arguments[r];return e.prototype[i].apply(t,n)}}(e,function(){this.blockSize=-1}),e.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},e.prototype.v=function(t,e){void 0===e&&(e=t.length);const s=e-this.blockSize,n=this.C;let r=this.h,o=0;for(;o<e;){if(0==r)for(;o<=s;)i(this,t,o),o+=this.blockSize;if("string"==typeof t){for(;o<e;)if(n[r++]=t.charCodeAt(o++),r==this.blockSize){i(this,n),r=0;break}}else for(;o<e;)if(n[r++]=t[o++],r==this.blockSize){i(this,n),r=0;break}}this.h=r,this.o+=e},e.prototype.A=function(){var t=Array((this.h<56?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;e=8*this.o;for(var i=t.length-8;i<t.length;++i)t[i]=255&e,e/=256;for(this.v(t),t=Array(16),e=0,i=0;i<4;++i)for(let s=0;s<32;s+=8)t[e++]=this.g[i]>>>s&255;return t};var n={};function r(t){return-128<=t&&t<128?function(t,e){var i=n;return Object.prototype.hasOwnProperty.call(i,t)?i[t]:i[t]=e(t)}(t,function(t){return new s([0|t],t<0?-1:0)}):new s([0|t],t<0?-1:0)}function o(t){if(isNaN(t)||!isFinite(t))return a;if(t<0)return d(o(-t));const e=[];let i=1;for(let s=0;t>=i;s++)e[s]=t/i|0,i*=4294967296;return new s(e,0)}var a=r(0),h=r(1),l=r(16777216);function u(t){if(0!=t.h)return!1;for(let e=0;e<t.g.length;e++)if(0!=t.g[e])return!1;return!0}function c(t){return-1==t.h}function d(t){const e=t.g.length,i=[];for(let s=0;s<e;s++)i[s]=~t.g[s];return new s(i,~t.h).add(h)}function f(t,e){return t.add(d(e))}function p(t,e){for(;(65535&t[e])!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function g(t,e){this.g=t,this.h=e}function m(t,e){if(u(e))throw Error("division by zero");if(u(t))return new g(a,a);if(c(t))return e=m(d(t),e),new g(d(e.g),d(e.h));if(c(e))return e=m(t,d(e)),new g(d(e.g),e.h);if(t.g.length>30){if(c(t)||c(e))throw Error("slowDivide_ only works with positive integers.");for(var i=h,s=e;s.l(t)<=0;)i=v(i),s=v(s);var n=y(i,1),r=y(s,1);for(s=y(s,2),i=y(i,2);!u(s);){var l=r.add(s);l.l(t)<=0&&(n=n.add(i),r=l),s=y(s,1),i=y(i,1)}return e=f(t,n.j(e)),new g(n,e)}for(n=a;t.l(e)>=0;){for(i=Math.max(1,Math.floor(t.m()/e.m())),s=(s=Math.ceil(Math.log(i)/Math.LN2))<=48?1:Math.pow(2,s-48),l=(r=o(i)).j(e);c(l)||l.l(t)>0;)l=(r=o(i-=s)).j(e);u(r)&&(r=h),n=n.add(r),t=f(t,l)}return new g(n,t)}function v(t){const e=t.g.length+1,i=[];for(let s=0;s<e;s++)i[s]=t.i(s)<<1|t.i(s-1)>>>31;return new s(i,t.h)}function y(t,e){const i=e>>5;e%=32;const n=t.g.length-i,r=[];for(let s=0;s<n;s++)r[s]=e>0?t.i(s+i)>>>e|t.i(s+i+1)<<32-e:t.i(s+i);return new s(r,t.h)}(t=s.prototype).m=function(){if(c(this))return-d(this).m();let t=0,e=1;for(let i=0;i<this.g.length;i++){const s=this.i(i);t+=(s>=0?s:4294967296+s)*e,e*=4294967296}return t},t.toString=function(t){if((t=t||10)<2||36<t)throw Error("radix out of range: "+t);if(u(this))return"0";if(c(this))return"-"+d(this).toString(t);const e=o(Math.pow(t,6));var i=this;let s="";for(;;){const n=m(i,e).g;let r=(((i=f(i,n.j(e))).g.length>0?i.g[0]:i.h)>>>0).toString(t);if(u(i=n))return r+s;for(;r.length<6;)r="0"+r;s=r+s}},t.i=function(t){return t<0?0:t<this.g.length?this.g[t]:this.h},t.l=function(t){return c(t=f(this,t))?-1:u(t)?0:1},t.abs=function(){return c(this)?d(this):this},t.add=function(t){const e=Math.max(this.g.length,t.g.length),i=[];let n=0;for(let s=0;s<=e;s++){let e=n+(65535&this.i(s))+(65535&t.i(s)),r=(e>>>16)+(this.i(s)>>>16)+(t.i(s)>>>16);n=r>>>16,e&=65535,r&=65535,i[s]=r<<16|e}return new s(i,-2147483648&i[i.length-1]?-1:0)},t.j=function(t){if(u(this)||u(t))return a;if(c(this))return c(t)?d(this).j(d(t)):d(d(this).j(t));if(c(t))return d(this.j(d(t)));if(this.l(l)<0&&t.l(l)<0)return o(this.m()*t.m());const e=this.g.length+t.g.length,i=[];for(var n=0;n<2*e;n++)i[n]=0;for(n=0;n<this.g.length;n++)for(let e=0;e<t.g.length;e++){const s=this.i(n)>>>16,r=65535&this.i(n),o=t.i(e)>>>16,a=65535&t.i(e);i[2*n+2*e]+=r*a,p(i,2*n+2*e),i[2*n+2*e+1]+=s*a,p(i,2*n+2*e+1),i[2*n+2*e+1]+=r*o,p(i,2*n+2*e+1),i[2*n+2*e+2]+=s*o,p(i,2*n+2*e+2)}for(t=0;t<e;t++)i[t]=i[2*t+1]<<16|i[2*t];for(t=e;t<2*e;t++)i[t]=0;return new s(i,0)},t.B=function(t){return m(this,t).h},t.and=function(t){const e=Math.max(this.g.length,t.g.length),i=[];for(let s=0;s<e;s++)i[s]=this.i(s)&t.i(s);return new s(i,this.h&t.h)},t.or=function(t){const e=Math.max(this.g.length,t.g.length),i=[];for(let s=0;s<e;s++)i[s]=this.i(s)|t.i(s);return new s(i,this.h|t.h)},t.xor=function(t){const e=Math.max(this.g.length,t.g.length),i=[];for(let s=0;s<e;s++)i[s]=this.i(s)^t.i(s);return new s(i,this.h^t.h)},e.prototype.digest=e.prototype.A,e.prototype.reset=e.prototype.u,e.prototype.update=e.prototype.v,_n=e,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.B,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=o,s.fromString=function t(e,i){if(0==e.length)throw Error("number format error: empty string");if((i=i||10)<2||36<i)throw Error("radix out of range: "+i);if("-"==e.charAt(0))return d(t(e.substring(1),i));if(e.indexOf("-")>=0)throw Error('number format error: interior "-" character');const s=o(Math.pow(i,8));let n=a;for(let a=0;a<e.length;a+=8){var r=Math.min(8,e.length-a);const t=parseInt(e.substring(a,a+r),i);r<8?(r=o(Math.pow(i,r)),n=n.j(r).add(o(t))):(n=n.j(s),n=n.add(o(t)))}return n},Cn=s}).apply(void 0!==An?An:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});var Mn,Pn,Rn,In,On,Ln,Dn,kn,Fn="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};
/** @license
    Copyright The Closure Library Authors.
    SPDX-License-Identifier: Apache-2.0
    */(function(){var t,e=Object.defineProperty,i=function(t){t=["object"==typeof globalThis&&globalThis,t,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof Fn&&Fn];for(var e=0;e<t.length;++e){var i=t[e];if(i&&i.Math==Math)return i}throw Error("Cannot find global object")}(this);function s(t,s){if(s)t:{var n=i;t=t.split(".");for(var r=0;r<t.length-1;r++){var o=t[r];if(!(o in n))break t;n=n[o]}(s=s(r=n[t=t[t.length-1]]))!=r&&null!=s&&e(n,t,{configurable:!0,writable:!0,value:s})}}s("Symbol.dispose",function(t){return t||Symbol("Symbol.dispose")}),s("Array.prototype.values",function(t){return t||function(){return this[Symbol.iterator]()}}),s("Object.entries",function(t){return t||function(t){var e,i=[];for(e in t)Object.prototype.hasOwnProperty.call(t,e)&&i.push([e,t[e]]);return i}});
/** @license
      
       Copyright The Closure Library Authors.
       SPDX-License-Identifier: Apache-2.0
      */
var n=n||{},r=this||self;function o(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}function a(t,e,i){return t.call.apply(t.bind,arguments)}function h(t,e,i){return(h=a).apply(null,arguments)}function l(t,e){var i=Array.prototype.slice.call(arguments,1);return function(){var e=i.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function u(t,e){function i(){}i.prototype=e.prototype,t.Z=e.prototype,t.prototype=new i,t.prototype.constructor=t,t.Ob=function(t,i,s){for(var n=Array(arguments.length-2),r=2;r<arguments.length;r++)n[r-2]=arguments[r];return e.prototype[i].apply(t,n)}}var c="undefined"!=typeof AsyncContext&&"function"==typeof AsyncContext.Snapshot?t=>t&&AsyncContext.Snapshot.wrap(t):t=>t;function d(t){const e=t.length;if(e>0){const i=Array(e);for(let s=0;s<e;s++)i[s]=t[s];return i}return[]}function f(t,e){for(let s=1;s<arguments.length;s++){const e=arguments[s];var i=typeof e;if("array"==(i="object"!=i?i:e?Array.isArray(e)?"array":i:"null")||"object"==i&&"number"==typeof e.length){i=t.length||0;const s=e.length||0;t.length=i+s;for(let n=0;n<s;n++)t[i+n]=e[n]}else t.push(e)}}function p(t){r.setTimeout(()=>{throw t},0)}function g(){var t=T;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var m=new class{constructor(t,e){this.i=t,this.j=e,this.h=0,this.g=null}get(){let t;return this.h>0?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}(()=>new v,t=>t.reset());class v{constructor(){this.next=this.g=this.h=null}set(t,e){this.h=t,this.g=e,this.next=null}reset(){this.next=this.g=this.h=null}}let y,x=!1,T=new class{constructor(){this.h=this.g=null}add(t,e){const i=m.get();i.set(t,e),this.h?this.h.next=i:this.g=i,this.h=i}},w=()=>{const t=Promise.resolve(void 0);y=()=>{t.then(b)}};function b(){for(var t;t=g();){try{t.h.call(t.g)}catch(i){p(i)}var e=m;e.j(t),e.h<100&&(e.h++,t.next=e.g,e.g=t)}x=!1}function S(){this.u=this.u,this.C=this.C}function E(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}S.prototype.u=!1,S.prototype.dispose=function(){this.u||(this.u=!0,this.N())},S.prototype[Symbol.dispose]=function(){this.dispose()},S.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},E.prototype.h=function(){this.defaultPrevented=!0};var C=function(){if(!r.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{const t=()=>{};r.addEventListener("test",t,e),r.removeEventListener("test",t,e)}catch(i){}return t}();function _(t){return/^[\s\xa0]*$/.test(t)}function A(t,e){E.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t&&this.init(t,e)}u(A,E),A.prototype.init=function(t,e){const i=this.type=t.type,s=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;this.target=t.target||t.srcElement,this.g=e,(e=t.relatedTarget)||("mouseover"==i?e=t.fromElement:"mouseout"==i&&(e=t.toElement)),this.relatedTarget=e,s?(this.clientX=void 0!==s.clientX?s.clientX:s.pageX,this.clientY=void 0!==s.clientY?s.clientY:s.pageY,this.screenX=s.screenX||0,this.screenY=s.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=t.pointerType,this.state=t.state,this.i=t,t.defaultPrevented&&A.Z.h.call(this)},A.prototype.h=function(){A.Z.h.call(this);const t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var M="closure_listenable_"+(1e6*Math.random()|0),P=0;function R(t,e,i,s,n){this.listener=t,this.proxy=null,this.src=e,this.type=i,this.capture=!!s,this.ha=n,this.key=++P,this.da=this.fa=!1}function I(t){t.da=!0,t.listener=null,t.proxy=null,t.src=null,t.ha=null}function O(t,e,i){for(const s in t)e.call(i,t[s],s,t)}function L(t){const e={};for(const i in t)e[i]=t[i];return e}const D="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function k(t,e){let i,s;for(let n=1;n<arguments.length;n++){for(i in s=arguments[n],s)t[i]=s[i];for(let e=0;e<D.length;e++)i=D[e],Object.prototype.hasOwnProperty.call(s,i)&&(t[i]=s[i])}}function F(t){this.src=t,this.g={},this.h=0}function B(t,e){const i=e.type;if(i in t.g){var s,n=t.g[i],r=Array.prototype.indexOf.call(n,e,void 0);(s=r>=0)&&Array.prototype.splice.call(n,r,1),s&&(I(e),0==t.g[i].length&&(delete t.g[i],t.h--))}}function N(t,e,i,s){for(let n=0;n<t.length;++n){const r=t[n];if(!r.da&&r.listener==e&&r.capture==!!i&&r.ha==s)return n}return-1}F.prototype.add=function(t,e,i,s,n){const r=t.toString();(t=this.g[r])||(t=this.g[r]=[],this.h++);const o=N(t,e,s,n);return o>-1?(e=t[o],i||(e.fa=!1)):((e=new R(e,this.src,r,!!s,n)).fa=i,t.push(e)),e};var z="closure_lm_"+(1e6*Math.random()|0),U={};function V(t,e,i,s,n){if(Array.isArray(e)){for(let r=0;r<e.length;r++)V(t,e[r],i,s,n);return null}return i=q(i),t&&t[M]?t.J(e,i,!!o(s)&&!!s.capture,n):function(t,e,i,s,n,r){if(!e)throw Error("Invalid event type");const a=o(n)?!!n.capture:!!n;let h=W(t);if(h||(t[z]=h=new F(t)),(i=h.add(e,i,s,a,r)).proxy)return i;if(s=function(){function t(i){return e.call(t.src,t.listener,i)}const e=H;return t}(),i.proxy=s,s.src=t,s.listener=i,t.addEventListener)C||(n=a),void 0===n&&(n=!1),t.addEventListener(e.toString(),s,n);else if(t.attachEvent)t.attachEvent(Y(e.toString()),s);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(s)}return i}(t,e,i,!1,s,n)}function G(t,e,i,s,n){if(Array.isArray(e))for(var r=0;r<e.length;r++)G(t,e[r],i,s,n);else s=o(s)?!!s.capture:!!s,i=q(i),t&&t[M]?(t=t.i,(r=String(e).toString())in t.g&&(i=N(e=t.g[r],i,s,n))>-1&&(I(e[i]),Array.prototype.splice.call(e,i,1),0==e.length&&(delete t.g[r],t.h--))):t&&(t=W(t))&&(e=t.g[e.toString()],t=-1,e&&(t=N(e,i,s,n)),(i=t>-1?e[t]:null)&&X(i))}function X(t){if("number"!=typeof t&&t&&!t.da){var e=t.src;if(e&&e[M])B(e.i,t);else{var i=t.type,s=t.proxy;e.removeEventListener?e.removeEventListener(i,s,t.capture):e.detachEvent?e.detachEvent(Y(i),s):e.addListener&&e.removeListener&&e.removeListener(s),(i=W(e))?(B(i,t),0==i.h&&(i.src=null,e[z]=null)):I(t)}}}function Y(t){return t in U?U[t]:U[t]="on"+t}function H(t,e){if(t.da)t=!0;else{e=new A(e,this);const i=t.listener,s=t.ha||t.src;t.fa&&X(t),t=i.call(s,e)}return t}function W(t){return(t=t[z])instanceof F?t:null}var j="__closure_events_fn_"+(1e9*Math.random()>>>0);function q(t){return"function"==typeof t?t:(t[j]||(t[j]=function(e){return t.handleEvent(e)}),t[j])}function K(){S.call(this),this.i=new F(this),this.M=this,this.G=null}function $(t,e){var i,s=t.G;if(s)for(i=[];s;s=s.G)i.push(s);if(t=t.M,s=e.type||e,"string"==typeof e)e=new E(e,t);else if(e instanceof E)e.target=e.target||t;else{var n=e;k(e=new E(s,t),n)}let r,o;if(n=!0,i)for(o=i.length-1;o>=0;o--)r=e.g=i[o],n=Z(r,s,!0,e)&&n;if(r=e.g=t,n=Z(r,s,!0,e)&&n,n=Z(r,s,!1,e)&&n,i)for(o=0;o<i.length;o++)r=e.g=i[o],n=Z(r,s,!1,e)&&n}function Z(t,e,i,s){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();let n=!0;for(let r=0;r<e.length;++r){const o=e[r];if(o&&!o.da&&o.capture==i){const e=o.listener,i=o.ha||o.src;o.fa&&B(t.i,o),n=!1!==e.call(i,s)&&n}}return n&&!s.defaultPrevented}function J(t){t.g=function(t,e){if("function"!=typeof t){if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=h(t.handleEvent,t)}return Number(e)>2147483647?-1:r.setTimeout(t,e||0)}(()=>{t.g=null,t.i&&(t.i=!1,J(t))},t.l);const e=t.h;t.h=null,t.m.apply(null,e)}u(K,S),K.prototype[M]=!0,K.prototype.removeEventListener=function(t,e,i,s){G(this,t,e,i,s)},K.prototype.N=function(){if(K.Z.N.call(this),this.i){var t=this.i;for(const e in t.g){const i=t.g[e];for(let t=0;t<i.length;t++)I(i[t]);delete t.g[e],t.h--}}this.G=null},K.prototype.J=function(t,e,i,s){return this.i.add(String(t),e,!1,i,s)},K.prototype.K=function(t,e,i,s){return this.i.add(String(t),e,!0,i,s)};class Q extends S{constructor(t,e){super(),this.m=t,this.l=e,this.h=null,this.i=!1,this.g=null}j(t){this.h=arguments,this.g?this.i=!0:J(this)}N(){super.N(),this.g&&(r.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function tt(t){S.call(this),this.h=t,this.g={}}u(tt,S);var et=[];function it(t){O(t.g,function(t,e){this.g.hasOwnProperty(e)&&X(t)},t),t.g={}}tt.prototype.N=function(){tt.Z.N.call(this),it(this)},tt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var st=r.JSON.stringify,nt=r.JSON.parse,rt=class{stringify(t){return r.JSON.stringify(t,void 0)}parse(t){return r.JSON.parse(t,void 0)}};function ot(){}function at(){}var ht={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function lt(){E.call(this,"d")}function ut(){E.call(this,"c")}u(lt,E),u(ut,E);var ct={},dt=null;function ft(){return dt=dt||new K}function pt(t){E.call(this,ct.Ia,t)}function gt(t){const e=ft();$(e,new pt(e))}function mt(t,e){E.call(this,ct.STAT_EVENT,t),this.stat=e}function vt(t){const e=ft();$(e,new mt(e,t))}function yt(t,e){E.call(this,ct.Ja,t),this.size=e}function xt(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return r.setTimeout(function(){t()},e)}function Tt(){this.g=!0}function wt(t,e,i,s){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.g)return e;if(!e)return null;try{const r=JSON.parse(e);if(r)for(t=0;t<r.length;t++)if(Array.isArray(r[t])){var i=r[t];if(!(i.length<2)){var s=i[1];if(Array.isArray(s)&&!(s.length<1)){var n=s[0];if("noop"!=n&&"stop"!=n&&"close"!=n)for(let t=1;t<s.length;t++)s[t]=""}}}return st(r)}catch(r){return e}}(t,i)+(s?" "+s:"")})}ct.Ia="serverreachability",u(pt,E),ct.STAT_EVENT="statevent",u(mt,E),ct.Ja="timingevent",u(yt,E),Tt.prototype.ua=function(){this.g=!1},Tt.prototype.info=function(){};var bt,St={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Et={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"};function Ct(){}function _t(t){return encodeURIComponent(String(t))}function At(t){var e=1;t=t.split(":");const i=[];for(;e>0&&t.length;)i.push(t.shift()),e--;return t.length&&i.push(t.join(":")),i}function Mt(t,e,i,s){this.j=t,this.i=e,this.l=i,this.S=s||1,this.V=new tt(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Pt}function Pt(){this.i=null,this.g="",this.h=!1}u(Ct,ot),Ct.prototype.g=function(){return new XMLHttpRequest},bt=new Ct;var Rt={},It={};function Ot(t,e,i){t.M=1,t.A=se(Jt(e)),t.u=i,t.R=!0,Lt(t,null)}function Lt(t,e){t.F=Date.now(),Ft(t),t.B=Jt(t.A);var i=t.B,s=t.S;Array.isArray(s)||(s=[String(s)]),ve(i.i,"t",s),t.C=0,i=t.j.L,t.h=new Pt,t.g=si(t.j,i?e:null,!t.u),t.P>0&&(t.O=new Q(h(t.Y,t,t.g),t.P)),e=t.V,i=t.g,s=t.ba;var n="readystatechange";Array.isArray(n)||(n&&(et[0]=n.toString()),n=et);for(let r=0;r<n.length;r++){const t=V(i,n[r],s||e.handleEvent,!1,e.h||e);if(!t)break;e.g[t.key]=t}e=t.J?L(t.J):{},t.u?(t.v||(t.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ea(t.B,t.v,t.u,e)):(t.v="GET",t.g.ea(t.B,t.v,null,e)),gt(),function(t,e,i,s,n,r){t.info(function(){if(t.g)if(r){var o="",a=r.split("&");for(let t=0;t<a.length;t++){var h=a[t].split("=");if(h.length>1){const t=h[0];h=h[1];const e=t.split("_");o=e.length>=2&&"type"==e[1]?o+(t+"=")+h+"&":o+(t+"=redacted&")}}}else o=null;else o=r;return"XMLHTTP REQ ("+s+") [attempt "+n+"]: "+e+"\n"+i+"\n"+o})}(t.i,t.v,t.B,t.l,t.S,t.u)}function Dt(t){return!!t.g&&"GET"==t.v&&2!=t.M&&t.j.Aa}function kt(t,e){var i=t.C,s=e.indexOf("\n",i);return-1==s?It:(i=Number(e.substring(i,s)),isNaN(i)?Rt:(s+=1)+i>e.length?It:(e=e.slice(s,s+i),t.C=s+i,e))}function Ft(t){t.T=Date.now()+t.H,Bt(t,t.H)}function Bt(t,e){if(null!=t.D)throw Error("WatchDog timer not null");t.D=xt(h(t.aa,t),e)}function Nt(t){t.D&&(r.clearTimeout(t.D),t.D=null)}function zt(t){0==t.j.I||t.K||Je(t.j,t)}function Ut(t){Nt(t);var e=t.O;e&&"function"==typeof e.dispose&&e.dispose(),t.O=null,it(t.V),t.g&&(e=t.g,t.g=null,e.abort(),e.dispose())}function Vt(t,e){try{var i=t.j;if(0!=i.I&&(i.g==t||Wt(i.h,t)))if(!t.L&&Wt(i.h,t)&&3==i.I){try{var s=i.Ba.g.parse(e)}catch(u){s=null}if(Array.isArray(s)&&3==s.length){var n=s;if(0==n[0]){t:if(!i.v){if(i.g){if(!(i.g.F+3e3<t.F))break t;Ze(i),Ve(i)}qe(i),vt(18)}}else i.xa=n[1],0<i.xa-i.K&&n[2]<37500&&i.F&&0==i.A&&!i.C&&(i.C=xt(h(i.Va,i),6e3));Ht(i.h)<=1&&i.ta&&(i.ta=void 0)}else ti(i,11)}else if((t.L||i.g==t)&&Ze(i),!_(e))for(n=i.Ba.g.parse(e),e=0;e<n.length;e++){let h=n[e];const u=h[0];if(!(u<=i.K))if(i.K=u,h=h[1],2==i.I)if("c"==h[0]){i.M=h[1],i.ba=h[2];const e=h[3];null!=e&&(i.ka=e,i.j.info("VER="+i.ka));const n=h[4];null!=n&&(i.za=n,i.j.info("SVER="+i.za));const u=h[5];null!=u&&"number"==typeof u&&u>0&&(s=1.5*u,i.O=s,i.j.info("backChannelRequestTimeoutMs_="+s)),s=i;const c=t.g;if(c){const t=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(t){var r=s.h;r.g||-1==t.indexOf("spdy")&&-1==t.indexOf("quic")&&-1==t.indexOf("h2")||(r.j=r.l,r.g=new Set,r.h&&(jt(r,r.h),r.h=null))}if(s.G){const t=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;t&&(s.wa=t,ie(s.J,s.G,t))}}i.I=3,i.l&&i.l.ra(),i.aa&&(i.T=Date.now()-t.F,i.j.info("Handshake RTT: "+i.T+"ms"));var o=t;if((s=i).na=ii(s,s.L?s.ba:null,s.W),o.L){qt(s.h,o);var a=o,l=s.O;l&&(a.H=l),a.D&&(Nt(a),Ft(a)),s.g=o}else je(s);i.i.length>0&&Xe(i)}else"stop"!=h[0]&&"close"!=h[0]||ti(i,7);else 3==i.I&&("stop"==h[0]||"close"==h[0]?"stop"==h[0]?ti(i,7):Ue(i):"noop"!=h[0]&&i.l&&i.l.qa(h),i.A=0)}gt()}catch(u){}}Mt.prototype.ba=function(t){t=t.target;const e=this.O;e&&3==Fe(t)?e.j():this.Y(t)},Mt.prototype.Y=function(t){try{if(t==this.g)t:{const h=Fe(this.g),l=this.g.ya();if(this.g.ca(),!(h<3)&&(3!=h||this.g&&(this.h.h||this.g.la()||Be(this.g)))){this.K||4!=h||7==l||gt(),Nt(this);var e=this.g.ca();this.X=e;var i=function(t){if(!Dt(t))return t.g.la();const e=Be(t.g);if(""===e)return"";let i="";const s=e.length,n=4==Fe(t.g);if(!t.h.i){if("undefined"==typeof TextDecoder)return Ut(t),zt(t),"";t.h.i=new r.TextDecoder}for(let r=0;r<s;r++)t.h.h=!0,i+=t.h.i.decode(e[r],{stream:!(n&&r==s-1)});return e.length=0,t.h.g+=i,t.C=0,t.h.g}(this);if(this.o=200==e,function(t,e,i,s,n,r,o){t.info(function(){return"XMLHTTP RESP ("+s+") [ attempt "+n+"]: "+e+"\n"+i+"\n"+r+" "+o})}(this.i,this.v,this.B,this.l,this.S,h,e),this.o){if(this.U&&!this.L){e:{if(this.g){var s,n=this.g;if((s=n.g?n.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!_(s)){var o=s;break e}}o=null}if(!(t=o)){this.o=!1,this.m=3,vt(12),Ut(this),zt(this);break t}wt(this.i,this.l,t,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Vt(this,t)}if(this.R){let e;for(t=!0;!this.K&&this.C<i.length;){if(e=kt(this,i),e==It){4==h&&(this.m=4,vt(14),t=!1),wt(this.i,this.l,null,"[Incomplete Response]");break}if(e==Rt){this.m=4,vt(15),wt(this.i,this.l,i,"[Invalid Chunk]"),t=!1;break}wt(this.i,this.l,e,null),Vt(this,e)}if(Dt(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=h||0!=i.length||this.h.h||(this.m=1,vt(16),t=!1),this.o=this.o&&t,t){if(i.length>0&&!this.W){this.W=!0;var a=this.j;a.g==this&&a.aa&&!a.P&&(a.j.info("Great, no buffering proxy detected. Bytes received: "+i.length),Ke(a),a.P=!0,vt(11))}}else wt(this.i,this.l,i,"[Invalid Chunked Response]"),Ut(this),zt(this)}else wt(this.i,this.l,i,null),Vt(this,i);4==h&&Ut(this),this.o&&!this.K&&(4==h?Je(this.j,this):(this.o=!1,Ft(this)))}else(function(t){const e={};t=(t.g&&Fe(t)>=2&&t.g.getAllResponseHeaders()||"").split("\r\n");for(let s=0;s<t.length;s++){if(_(t[s]))continue;var i=At(t[s]);const n=i[0];if("string"!=typeof(i=i[1]))continue;i=i.trim();const r=e[n]||[];e[n]=r,r.push(i)}!function(t,e){for(const i in t)e.call(void 0,t[i],i,t)}(e,function(t){return t.join(", ")})})(this.g),400==e&&i.indexOf("Unknown SID")>0?(this.m=3,vt(12)):(this.m=0,vt(13)),Ut(this),zt(this)}}}catch(h){}},Mt.prototype.cancel=function(){this.K=!0,Ut(this)},Mt.prototype.aa=function(){this.D=null;const t=Date.now();t-this.T>=0?(function(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.i,this.B),2!=this.M&&(gt(),vt(17)),Ut(this),this.m=2,zt(this)):Bt(this,this.T-t)};var Gt=class{constructor(t,e){this.g=t,this.map=e}};function Xt(t){this.l=t||10,t=r.PerformanceNavigationTiming?(t=r.performance.getEntriesByType("navigation")).length>0&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(r.chrome&&r.chrome.loadTimes&&r.chrome.loadTimes()&&r.chrome.loadTimes().wasFetchedViaSpdy),this.j=t?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Yt(t){return!!t.h||!!t.g&&t.g.size>=t.j}function Ht(t){return t.h?1:t.g?t.g.size:0}function Wt(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function jt(t,e){t.g?t.g.add(e):t.h=e}function qt(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function Kt(t){if(null!=t.h)return t.i.concat(t.h.G);if(null!=t.g&&0!==t.g.size){let e=t.i;for(const i of t.g.values())e=e.concat(i.G);return e}return d(t.i)}Xt.prototype.cancel=function(){if(this.i=Kt(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const t of this.g.values())t.cancel();this.g.clear()}};var $t=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Zt(t){let e;this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1,t instanceof Zt?(this.l=t.l,Qt(this,t.j),this.o=t.o,this.g=t.g,te(this,t.u),this.h=t.h,ee(this,ye(t.i)),this.m=t.m):t&&(e=String(t).match($t))?(this.l=!1,Qt(this,e[1]||"",!0),this.o=ne(e[2]||""),this.g=ne(e[3]||"",!0),te(this,e[4]),this.h=ne(e[5]||"",!0),ee(this,e[6]||"",!0),this.m=ne(e[7]||"")):(this.l=!1,this.i=new de(null,this.l))}function Jt(t){return new Zt(t)}function Qt(t,e,i){t.j=i?ne(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function te(t,e){if(e){if(e=Number(e),isNaN(e)||e<0)throw Error("Bad port number "+e);t.u=e}else t.u=null}function ee(t,e,i){e instanceof de?(t.i=e,function(t,e){e&&!t.j&&(fe(t),t.i=null,t.g.forEach(function(t,e){const i=e.toLowerCase();e!=i&&(pe(this,e),ve(this,i,t))},t)),t.j=e}(t.i,t.l)):(i||(e=re(e,ue)),t.i=new de(e,t.l))}function ie(t,e,i){t.i.set(e,i)}function se(t){return ie(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function ne(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function re(t,e,i){return"string"==typeof t?(t=encodeURI(t).replace(e,oe),i&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function oe(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Zt.prototype.toString=function(){const t=[];var e=this.j;e&&t.push(re(e,ae,!0),":");var i=this.g;return(i||"file"==e)&&(t.push("//"),(e=this.o)&&t.push(re(e,ae,!0),"@"),t.push(_t(i).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(i=this.u)&&t.push(":",String(i))),(i=this.h)&&(this.g&&"/"!=i.charAt(0)&&t.push("/"),t.push(re(i,"/"==i.charAt(0)?le:he,!0))),(i=this.i.toString())&&t.push("?",i),(i=this.m)&&t.push("#",re(i,ce)),t.join("")},Zt.prototype.resolve=function(t){const e=Jt(this);let i=!!t.j;i?Qt(e,t.j):i=!!t.o,i?e.o=t.o:i=!!t.g,i?e.g=t.g:i=null!=t.u;var s=t.h;if(i)te(e,t.u);else if(i=!!t.h){if("/"!=s.charAt(0))if(this.g&&!this.h)s="/"+s;else{var n=e.h.lastIndexOf("/");-1!=n&&(s=e.h.slice(0,n+1)+s)}if(".."==(n=s)||"."==n)s="";else if(-1!=n.indexOf("./")||-1!=n.indexOf("/.")){s=0==n.lastIndexOf("/",0),n=n.split("/");const t=[];for(let e=0;e<n.length;){const i=n[e++];"."==i?s&&e==n.length&&t.push(""):".."==i?((t.length>1||1==t.length&&""!=t[0])&&t.pop(),s&&e==n.length&&t.push("")):(t.push(i),s=!0)}s=t.join("/")}else s=n}return i?e.h=s:i=""!==t.i.toString(),i?ee(e,ye(t.i)):i=!!t.m,i&&(e.m=t.m),e};var ae=/[#\/\?@]/g,he=/[#\?:]/g,le=/[#\?]/g,ue=/[#\?@]/g,ce=/#/g;function de(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function fe(t){t.g||(t.g=new Map,t.h=0,t.i&&function(t,e){if(t){t=t.split("&");for(let i=0;i<t.length;i++){const s=t[i].indexOf("=");let n,r=null;s>=0?(n=t[i].substring(0,s),r=t[i].substring(s+1)):n=t[i],e(n,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(t.i,function(e,i){t.add(decodeURIComponent(e.replace(/\+/g," ")),i)}))}function pe(t,e){fe(t),e=xe(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function ge(t,e){return fe(t),e=xe(t,e),t.g.has(e)}function me(t,e){fe(t);let i=[];if("string"==typeof e)ge(t,e)&&(i=i.concat(t.g.get(xe(t,e))));else for(t=Array.from(t.g.values()),e=0;e<t.length;e++)i=i.concat(t[e]);return i}function ve(t,e,i){pe(t,e),i.length>0&&(t.i=null,t.g.set(xe(t,e),d(i)),t.h+=i.length)}function ye(t){const e=new de;return e.i=t.i,t.g&&(e.g=new Map(t.g),e.h=t.h),e}function xe(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function Te(t,e,i,s,n){try{n&&(n.onload=null,n.onerror=null,n.onabort=null,n.ontimeout=null),s(i)}catch(r){}}function we(){this.g=new rt}function be(t){this.i=t.Sb||null,this.h=t.ab||!1}function Se(t,e){K.call(this),this.H=t,this.o=e,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}function Ee(t){t.j.read().then(t.Ma.bind(t)).catch(t.ga.bind(t))}function Ce(t){t.readyState=4,t.l=null,t.j=null,t.B=null,_e(t)}function _e(t){t.onreadystatechange&&t.onreadystatechange.call(t)}function Ae(t){let e="";return O(t,function(t,i){e+=i,e+=":",e+=t,e+="\r\n"}),e}function Me(t,e,i){t:{for(s in i){var s=!1;break t}s=!0}s||(i=Ae(i),"string"==typeof t?null!=i&&_t(i):ie(t,e,i))}function Pe(t){K.call(this),this.headers=new Map,this.L=t||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}(t=de.prototype).add=function(t,e){fe(this),this.i=null,t=xe(this,t);let i=this.g.get(t);return i||this.g.set(t,i=[]),i.push(e),this.h+=1,this},t.forEach=function(t,e){fe(this),this.g.forEach(function(i,s){i.forEach(function(i){t.call(e,i,s,this)},this)},this)},t.set=function(t,e){return fe(this),this.i=null,ge(this,t=xe(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},t.get=function(t,e){return t&&(t=me(this,t)).length>0?String(t[0]):e},t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(let s=0;s<e.length;s++){var i=e[s];const n=_t(i);i=me(this,i);for(let e=0;e<i.length;e++){let s=n;""!==i[e]&&(s+="="+_t(i[e])),t.push(s)}}return this.i=t.join("&")},u(be,ot),be.prototype.g=function(){return new Se(this.i,this.h)},u(Se,K),(t=Se.prototype).open=function(t,e){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.F=t,this.D=e,this.readyState=1,_e(this)},t.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const e={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};t&&(e.body=t),(this.H||r).fetch(new Request(this.D,e)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&4!=this.readyState&&(this.g=!1,Ce(this)),this.readyState=0},t.Pa=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,_e(this)),this.g&&(this.readyState=3,_e(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(void 0!==r.ReadableStream&&"body"in t){if(this.j=t.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Ee(this)}else t.text().then(this.Oa.bind(this),this.ga.bind(this))},t.Ma=function(t){if(this.g){if(this.o&&t.value)this.response.push(t.value);else if(!this.o){var e=t.value?t.value:new Uint8Array(0);(e=this.B.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Ce(this):_e(this),3==this.readyState&&Ee(this)}},t.Oa=function(t){this.g&&(this.response=this.responseText=t,Ce(this))},t.Na=function(t){this.g&&(this.response=t,Ce(this))},t.ga=function(){this.g&&Ce(this)},t.setRequestHeader=function(t,e){this.A.append(t,e)},t.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var i=e.next();!i.done;)i=i.value,t.push(i[0]+": "+i[1]),i=e.next();return t.join("\r\n")},Object.defineProperty(Se.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}}),u(Pe,K);var Re=/^https?$/i,Ie=["POST","PUT"];function Oe(t,e){t.h=!1,t.g&&(t.j=!0,t.g.abort(),t.j=!1),t.l=e,t.o=5,Le(t),ke(t)}function Le(t){t.A||(t.A=!0,$(t,"complete"),$(t,"error"))}function De(t){if(t.h&&void 0!==n)if(t.v&&4==Fe(t))setTimeout(t.Ca.bind(t),0);else if($(t,"readystatechange"),4==Fe(t)){t.h=!1;try{const n=t.ca();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break t;default:e=!1}var i;if(!(i=e)){var s;if(s=0===n){let e=String(t.D).match($t)[1]||null;!e&&r.self&&r.self.location&&(e=r.self.location.protocol.slice(0,-1)),s=!Re.test(e?e.toLowerCase():"")}i=s}if(i)$(t,"complete"),$(t,"success");else{t.o=6;try{var o=Fe(t)>2?t.g.statusText:""}catch(a){o=""}t.l=o+" ["+t.ca()+"]",Le(t)}}finally{ke(t)}}}function ke(t,e){if(t.g){t.m&&(clearTimeout(t.m),t.m=null);const s=t.g;t.g=null,e||$(t,"ready");try{s.onreadystatechange=null}catch(i){}}}function Fe(t){return t.g?t.g.readyState:0}function Be(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.F){case"":case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch(e){return null}}function Ne(t,e,i){return i&&i.internalChannelParams&&i.internalChannelParams[t]||e}function ze(t){this.za=0,this.i=[],this.j=new Tt,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ne("failFast",!1,t),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ne("baseRetryDelayMs",5e3,t),this.Za=Ne("retryDelaySeedMs",1e4,t),this.Ta=Ne("forwardChannelMaxRetries",2,t),this.va=Ne("forwardChannelRequestTimeoutMs",2e4,t),this.ma=t&&t.xmlHttpFactory||void 0,this.Ua=t&&t.Rb||void 0,this.Aa=t&&t.useFetchStreams||!1,this.O=void 0,this.L=t&&t.supportsCrossDomainXhr||!1,this.M="",this.h=new Xt(t&&t.concurrentRequestLimit),this.Ba=new we,this.S=t&&t.fastHandshake||!1,this.R=t&&t.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=t&&t.Pb||!1,t&&t.ua&&this.j.ua(),t&&t.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&t&&t.detectBufferingProxy||!1,this.ia=void 0,t&&t.longPollingTimeout&&t.longPollingTimeout>0&&(this.ia=t.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}function Ue(t){if(Ge(t),3==t.I){var e=t.V++,i=Jt(t.J);if(ie(i,"SID",t.M),ie(i,"RID",e),ie(i,"TYPE","terminate"),He(t,i),(e=new Mt(t,t.j,e)).M=2,e.A=se(Jt(i)),i=!1,r.navigator&&r.navigator.sendBeacon)try{i=r.navigator.sendBeacon(e.A.toString(),"")}catch(s){}!i&&r.Image&&((new Image).src=e.A,i=!0),i||(e.g=si(e.j,null),e.g.ea(e.A)),e.F=Date.now(),Ft(e)}ei(t)}function Ve(t){t.g&&(Ke(t),t.g.cancel(),t.g=null)}function Ge(t){Ve(t),t.v&&(r.clearTimeout(t.v),t.v=null),Ze(t),t.h.cancel(),t.m&&("number"==typeof t.m&&r.clearTimeout(t.m),t.m=null)}function Xe(t){if(!Yt(t.h)&&!t.m){t.m=!0;var e=t.Ea;y||w(),x||(y(),x=!0),T.add(e,t),t.D=0}}function Ye(t,e){var i;i=e?e.l:t.V++;const s=Jt(t.J);ie(s,"SID",t.M),ie(s,"RID",i),ie(s,"AID",t.K),He(t,s),t.u&&t.o&&Me(s,t.u,t.o),i=new Mt(t,t.j,i,t.D+1),null===t.u&&(i.J=t.o),e&&(t.i=e.G.concat(t.i)),e=We(t,i,1e3),i.H=Math.round(.5*t.va)+Math.round(.5*t.va*Math.random()),jt(t.h,i),Ot(i,s,e)}function He(t,e){t.H&&O(t.H,function(t,i){ie(e,i,t)}),t.l&&O({},function(t,i){ie(e,i,t)})}function We(t,e,i){i=Math.min(t.i.length,i);const s=t.l?h(t.l.Ka,t.l,t):null;t:{var n=t.i;let e=-1;for(;;){const t=["count="+i];-1==e?i>0?(e=n[0].g,t.push("ofs="+e)):e=0:t.push("ofs="+e);let h=!0;for(let u=0;u<i;u++){var r=n[u].g;const i=n[u].map;if((r-=e)<0)e=Math.max(0,n[u].g-100),h=!1;else try{r="req"+r+"_"||"";try{var a=i instanceof Map?i:Object.entries(i);for(const[e,i]of a){let s=i;o(i)&&(s=st(i)),t.push(r+e+"="+encodeURIComponent(s))}}catch(l){throw t.push(r+"type="+encodeURIComponent("_badmap")),l}}catch(l){s&&s(i)}}if(h){a=t.join("&");break t}}a=void 0}return t=t.i.splice(0,i),e.G=t,a}function je(t){if(!t.g&&!t.v){t.Y=1;var e=t.Da;y||w(),x||(y(),x=!0),T.add(e,t),t.A=0}}function qe(t){return!(t.g||t.v||t.A>=3||(t.Y++,t.v=xt(h(t.Da,t),Qe(t,t.A)),t.A++,0))}function Ke(t){null!=t.B&&(r.clearTimeout(t.B),t.B=null)}function $e(t){t.g=new Mt(t,t.j,"rpc",t.Y),null===t.u&&(t.g.J=t.o),t.g.P=0;var e=Jt(t.na);ie(e,"RID","rpc"),ie(e,"SID",t.M),ie(e,"AID",t.K),ie(e,"CI",t.F?"0":"1"),!t.F&&t.ia&&ie(e,"TO",t.ia),ie(e,"TYPE","xmlhttp"),He(t,e),t.u&&t.o&&Me(e,t.u,t.o),t.O&&(t.g.H=t.O);var i=t.g;t=t.ba,i.M=1,i.A=se(Jt(e)),i.u=null,i.R=!0,Lt(i,t)}function Ze(t){null!=t.C&&(r.clearTimeout(t.C),t.C=null)}function Je(t,e){var i=null;if(t.g==e){Ze(t),Ke(t),t.g=null;var s=2}else{if(!Wt(t.h,e))return;i=e.G,qt(t.h,e),s=1}if(0!=t.I)if(e.o)if(1==s){i=e.u?e.u.length:0,e=Date.now()-e.F;var n=t.D;$(s=ft(),new yt(s,i)),Xe(t)}else je(t);else if(3==(n=e.m)||0==n&&e.X>0||!(1==s&&function(t,e){return!(Ht(t.h)>=t.h.j-(t.m?1:0)||(t.m?(t.i=e.G.concat(t.i),0):1==t.I||2==t.I||t.D>=(t.Sa?0:t.Ta)||(t.m=xt(h(t.Ea,t,e),Qe(t,t.D)),t.D++,0)))}(t,e)||2==s&&qe(t)))switch(i&&i.length>0&&(e=t.h,e.i=e.i.concat(i)),n){case 1:ti(t,5);break;case 4:ti(t,10);break;case 3:ti(t,6);break;default:ti(t,2)}}function Qe(t,e){let i=t.Qa+Math.floor(Math.random()*t.Za);return t.isActive()||(i*=2),i*e}function ti(t,e){if(t.j.info("Error code "+e),2==e){var i=h(t.bb,t),s=t.Ua;const e=!s;s=new Zt(s||"//www.google.com/images/cleardot.gif"),r.location&&"http"==r.location.protocol||Qt(s,"https"),se(s),e?function(t,e){const i=new Tt;if(r.Image){const s=new Image;s.onload=l(Te,i,"TestLoadImage: loaded",!0,e,s),s.onerror=l(Te,i,"TestLoadImage: error",!1,e,s),s.onabort=l(Te,i,"TestLoadImage: abort",!1,e,s),s.ontimeout=l(Te,i,"TestLoadImage: timeout",!1,e,s),r.setTimeout(function(){s.ontimeout&&s.ontimeout()},1e4),s.src=t}else e(!1)}(s.toString(),i):function(t,e){new Tt;const i=new AbortController,s=setTimeout(()=>{i.abort(),Te(0,0,!1,e)},1e4);fetch(t,{signal:i.signal}).then(t=>{clearTimeout(s),t.ok?Te(0,0,!0,e):Te(0,0,!1,e)}).catch(()=>{clearTimeout(s),Te(0,0,!1,e)})}(s.toString(),i)}else vt(2);t.I=0,t.l&&t.l.pa(e),ei(t),Ge(t)}function ei(t){if(t.I=0,t.ja=[],t.l){const e=Kt(t.h);0==e.length&&0==t.i.length||(f(t.ja,e),f(t.ja,t.i),t.h.i.length=0,d(t.i),t.i.length=0),t.l.oa()}}function ii(t,e,i){var s=i instanceof Zt?Jt(i):new Zt(i);if(""!=s.g)e&&(s.g=e+"."+s.g),te(s,s.u);else{var n=r.location;s=n.protocol,e=e?e+"."+n.hostname:n.hostname,n=+n.port;const t=new Zt(null);s&&Qt(t,s),e&&(t.g=e),n&&te(t,n),i&&(t.h=i),s=t}return i=t.G,e=t.wa,i&&e&&ie(s,i,e),ie(s,"VER",t.ka),He(t,s),s}function si(t,e,i){if(e&&!t.L)throw Error("Can't create secondary domain capable XhrIo object.");return(e=t.Aa&&!t.ma?new Pe(new be({ab:i})):new Pe(t.ma)).Fa(t.L),e}function ni(){}function ri(){}function oi(t,e){K.call(this),this.g=new ze(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.o=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.sa&&(t?t["X-WebChannel-Client-Profile"]=e.sa:t={"X-WebChannel-Client-Profile":e.sa}),this.g.U=t,(t=e&&e.Qb)&&!_(t)&&(this.g.u=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!_(e)&&(this.g.G=e,null!==(t=this.h)&&e in t&&e in(t=this.h)&&delete t[e]),this.j=new li(this)}function ai(t){lt.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){t:{for(const i in e){t=i;break t}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function hi(){ut.call(this),this.status=1}function li(t){this.g=t}(t=Pe.prototype).Fa=function(t){this.H=t},t.ea=function(t,e,i,s){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+t);e=e?e.toUpperCase():"GET",this.D=t,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():bt.g(),this.g.onreadystatechange=c(h(this.Ca,this));try{this.B=!0,this.g.open(e,String(t),!0),this.B=!1}catch(o){return void Oe(this,o)}if(t=i||"",i=new Map(this.headers),s)if(Object.getPrototypeOf(s)===Object.prototype)for(var n in s)i.set(n,s[n]);else{if("function"!=typeof s.keys||"function"!=typeof s.get)throw Error("Unknown input type for opt_headers: "+String(s));for(const t of s.keys())i.set(t,s.get(t))}s=Array.from(i.keys()).find(t=>"content-type"==t.toLowerCase()),n=r.FormData&&t instanceof r.FormData,!(Array.prototype.indexOf.call(Ie,e,void 0)>=0)||s||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[r,a]of i)this.g.setRequestHeader(r,a);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(t),this.v=!1}catch(o){Oe(this,o)}},t.abort=function(t){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=t||7,$(this,"complete"),$(this,"abort"),ke(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ke(this,!0)),Pe.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?De(this):this.Xa())},t.Xa=function(){De(this)},t.isActive=function(){return!!this.g},t.ca=function(){try{return Fe(this)>2?this.g.status:-1}catch(t){return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch(t){return""}},t.La=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),nt(e)}},t.ya=function(){return this.o},t.Ha=function(){return"string"==typeof this.l?this.l:String(this.l)},(t=ze.prototype).ka=8,t.I=1,t.connect=function(t,e,i,s){vt(0),this.W=t,this.H=e||{},i&&void 0!==s&&(this.H.OSID=i,this.H.OAID=s),this.F=this.X,this.J=ii(this,null,this.W),Xe(this)},t.Ea=function(t){if(this.m)if(this.m=null,1==this.I){if(!t){this.V=Math.floor(1e5*Math.random()),t=this.V++;const n=new Mt(this,this.j,t);let r=this.o;if(this.U&&(r?(r=L(r),k(r,this.U)):r=this.U),null!==this.u||this.R||(n.J=r,r=null),this.S)t:{for(var e=0,i=0;i<this.i.length;i++){var s=this.i[i];if(void 0===(s="__data__"in s.map&&"string"==typeof(s=s.map.__data__)?s.length:void 0))break;if((e+=s)>4096){e=i;break t}if(4096===e||i===this.i.length-1){e=i+1;break t}}e=1e3}else e=1e3;e=We(this,n,e),ie(i=Jt(this.J),"RID",t),ie(i,"CVER",22),this.G&&ie(i,"X-HTTP-Session-Id",this.G),He(this,i),r&&(this.R?e="headers="+_t(Ae(r))+"&"+e:this.u&&Me(i,this.u,r)),jt(this.h,n),this.Ra&&ie(i,"TYPE","init"),this.S?(ie(i,"$req",e),ie(i,"SID","null"),n.U=!0,Ot(n,i,null)):Ot(n,i,e),this.I=2}}else 3==this.I&&(t?Ye(this,t):0==this.i.length||Yt(this.h)||Ye(this))},t.Da=function(){if(this.v=null,$e(this),this.aa&&!(this.P||null==this.g||this.T<=0)){var t=4*this.T;this.j.info("BP detection timer enabled: "+t),this.B=xt(h(this.Wa,this),t)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,vt(10),Ve(this),$e(this))},t.Va=function(){null!=this.C&&(this.C=null,Ve(this),qe(this),vt(19))},t.bb=function(t){t?(this.j.info("Successfully pinged google.com"),vt(2)):(this.j.info("Failed to ping google.com"),vt(1))},t.isActive=function(){return!!this.l&&this.l.isActive(this)},(t=ni.prototype).ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){},ri.prototype.g=function(t,e){return new oi(t,e)},u(oi,K),oi.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},oi.prototype.close=function(){Ue(this.g)},oi.prototype.o=function(t){var e=this.g;if("string"==typeof t){var i={};i.__data__=t,t=i}else this.v&&((i={}).__data__=st(t),t=i);e.i.push(new Gt(e.Ya++,t)),3==e.I&&Xe(e)},oi.prototype.N=function(){this.g.l=null,delete this.j,Ue(this.g),delete this.g,oi.Z.N.call(this)},u(ai,lt),u(hi,ut),u(li,ni),li.prototype.ra=function(){$(this.g,"a")},li.prototype.qa=function(t){$(this.g,new ai(t))},li.prototype.pa=function(t){$(this.g,new hi)},li.prototype.oa=function(){$(this.g,"b")},ri.prototype.createWebChannel=ri.prototype.g,oi.prototype.send=oi.prototype.o,oi.prototype.open=oi.prototype.m,oi.prototype.close=oi.prototype.close,kn=function(){return new ri},Dn=function(){return ft()},Ln=ct,On={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},St.NO_ERROR=0,St.TIMEOUT=8,St.HTTP_ERROR=6,In=St,Et.COMPLETE="complete",Rn=Et,at.EventType=ht,ht.OPEN="a",ht.CLOSE="b",ht.ERROR="c",ht.MESSAGE="d",K.prototype.listen=K.prototype.J,Pn=at,Pe.prototype.listenOnce=Pe.prototype.K,Pe.prototype.getLastError=Pe.prototype.Ha,Pe.prototype.getLastErrorCode=Pe.prototype.ya,Pe.prototype.getStatus=Pe.prototype.ca,Pe.prototype.getResponseJson=Pe.prototype.La,Pe.prototype.getResponseText=Pe.prototype.la,Pe.prototype.send=Pe.prototype.ea,Pe.prototype.setWithCredentials=Pe.prototype.Fa,Mn=Pe}).apply(void 0!==Fn?Fn:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});const Bn="@firebase/firestore",Nn="4.9.2";
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */class zn{constructor(t){this.uid=t}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}zn.UNAUTHENTICATED=new zn(null),zn.GOOGLE_CREDENTIALS=new zn("google-credentials-uid"),zn.FIRST_PARTY=new zn("first-party-uid"),zn.MOCK_USER=new zn("mock-user");
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
let Un="12.3.0";
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */const Vn=new yt("@firebase/firestore");function Gn(){return Vn.logLevel}function Xn(t,...e){if(Vn.logLevel<=dt.DEBUG){const i=e.map(Wn);Vn.debug(`Firestore (${Un}): ${t}`,...i)}}function Yn(t,...e){if(Vn.logLevel<=dt.ERROR){const i=e.map(Wn);Vn.error(`Firestore (${Un}): ${t}`,...i)}}function Hn(t,...e){if(Vn.logLevel<=dt.WARN){const i=e.map(Wn);Vn.warn(`Firestore (${Un}): ${t}`,...i)}}function Wn(t){if("string"==typeof t)return t;try{
/**
        * @license
        * Copyright 2020 Google LLC
        *
        * Licensed under the Apache License, Version 2.0 (the "License");
        * you may not use this file except in compliance with the License.
        * You may obtain a copy of the License at
        *
        *   http://www.apache.org/licenses/LICENSE-2.0
        *
        * Unless required by applicable law or agreed to in writing, software
        * distributed under the License is distributed on an "AS IS" BASIS,
        * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
        * See the License for the specific language governing permissions and
        * limitations under the License.
        */
return e=t,JSON.stringify(e)}catch(i){return t}var e}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function jn(t,e,i){let s="Unexpected state";"string"==typeof e?s=e:i=e,qn(t,s,i)}function qn(t,e,i){let s=`FIRESTORE (${Un}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(void 0!==i)try{s+=" CONTEXT: "+JSON.stringify(i)}catch(n){s+=" CONTEXT: "+i}throw Yn(s),new Error(s)}function Kn(t,e,i,s){let n="Unexpected state";"string"==typeof i?n=i:s=i,t||qn(e,n,s)}function $n(t,e){return t}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */const Zn={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Jn extends J{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */class Qn{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */class tr{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class er{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e(zn.UNAUTHENTICATED))}shutdown(){}}class ir{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}}class sr{constructor(t){this.t=t,this.currentUser=zn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){Kn(void 0===this.o,42304);let i=this.i;const s=t=>this.i!==i?(i=this.i,e(t)):Promise.resolve();let n=new Qn;this.o=()=>{this.i++,this.currentUser=this.u(),n.resolve(),n=new Qn,t.enqueueRetryable(()=>s(this.currentUser))};const r=()=>{const e=n;t.enqueueRetryable(()=>m(this,null,function*(){yield e.promise,yield s(this.currentUser)}))},o=t=>{Xn("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=t,this.o&&(this.auth.addAuthTokenListener(this.o),r())};this.t.onInit(t=>o(t)),setTimeout(()=>{if(!this.auth){const t=this.t.getImmediate({optional:!0});t?o(t):(Xn("FirebaseAuthCredentialsProvider","Auth not yet detected"),n.resolve(),n=new Qn)}},0),r()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(e=>this.i!==t?(Xn("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):e?(Kn("string"==typeof e.accessToken,31837,{l:e}),new tr(e.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Kn(null===t||"string"==typeof t,2055,{h:t}),new zn(t)}}class nr{constructor(t,e,i){this.P=t,this.T=e,this.I=i,this.type="FirstParty",this.user=zn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class rr{constructor(t,e,i){this.P=t,this.T=e,this.I=i}getToken(){return Promise.resolve(new nr(this.P,this.T,this.I))}start(t,e){t.enqueueRetryable(()=>e(zn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class or{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ar{constructor(t,e){this.V=e,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,we(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,e){Kn(void 0===this.o,3512);const i=t=>{null!=t.error&&Xn("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${t.error.message}`);const i=t.token!==this.m;return this.m=t.token,Xn("FirebaseAppCheckTokenProvider",`Received ${i?"new":"existing"} token.`),i?e(t.token):Promise.resolve()};this.o=e=>{t.enqueueRetryable(()=>i(e))};const s=t=>{Xn("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=t,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(t=>s(t)),setTimeout(()=>{if(!this.appCheck){const t=this.V.getImmediate({optional:!0});t?s(t):Xn("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new or(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(t=>t?(Kn("string"==typeof t.token,44558,{tokenResult:t}),this.m=t.token,new or(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function hr(t){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),i=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(i);else for(let s=0;s<t;s++)i[s]=Math.floor(256*Math.random());return i}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */class lr{static newId(){const t=62*Math.floor(256/62);let e="";for(;e.length<20;){const i=hr(40);for(let s=0;s<i.length;++s)e.length<20&&i[s]<t&&(e+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(i[s]%62))}return e}}function ur(t,e){return t<e?-1:t>e?1:0}function cr(t,e){const i=Math.min(t.length,e.length);for(let s=0;s<i;s++){const i=t.charAt(s),n=e.charAt(s);if(i!==n)return dr(i)===dr(n)?ur(i,n):dr(i)?1:-1}return ur(t.length,e.length)}function dr(t){const e=t.charCodeAt(0);return e>=55296&&e<=57343}function fr(t,e,i){return t.length===e.length&&t.every((t,s)=>i(t,e[s]))}function pr(t){return t+"\0"}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */const gr="__name__";class mr{constructor(t,e,i){void 0===e?e=0:e>t.length&&jn(637,{offset:e,range:t.length}),void 0===i?i=t.length-e:i>t.length-e&&jn(1746,{length:i,range:t.length-e}),this.segments=t,this.offset=e,this.len=i}get length(){return this.len}isEqual(t){return 0===mr.comparator(this,t)}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof mr?t.forEach(t=>{e.push(t)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return t=void 0===t?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return 0===this.length}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,i=this.limit();e<i;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const i=Math.min(t.length,e.length);for(let s=0;s<i;s++){const i=mr.compareSegments(t.get(s),e.get(s));if(0!==i)return i}return ur(t.length,e.length)}static compareSegments(t,e){const i=mr.isNumericId(t),s=mr.isNumericId(e);return i&&!s?-1:!i&&s?1:i&&s?mr.extractNumericId(t).compare(mr.extractNumericId(e)):cr(t,e)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Cn.fromString(t.substring(4,t.length-2))}}class vr extends mr{construct(t,e,i){return new vr(t,e,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const e=[];for(const i of t){if(i.indexOf("//")>=0)throw new Jn(Zn.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter(t=>t.length>0))}return new vr(e)}static emptyPath(){return new vr([])}}const yr=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class xr extends mr{construct(t,e,i){return new xr(t,e,i)}static isValidIdentifier(t){return yr.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),xr.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&this.get(0)===gr}static keyField(){return new xr([gr])}static fromServerFormat(t){const e=[];let i="",s=0;const n=()=>{if(0===i.length)throw new Jn(Zn.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(i),i=""};let r=!1;for(;s<t.length;){const e=t[s];if("\\"===e){if(s+1===t.length)throw new Jn(Zn.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const e=t[s+1];if("\\"!==e&&"."!==e&&"`"!==e)throw new Jn(Zn.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=e,s+=2}else"`"===e?(r=!r,s++):"."!==e||r?(i+=e,s++):(n(),s++)}if(n(),r)throw new Jn(Zn.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new xr(e)}static emptyPath(){return new xr([])}}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */class Tr{constructor(t){this.path=t}static fromPath(t){return new Tr(vr.fromString(t))}static fromName(t){return new Tr(vr.fromString(t).popFirst(5))}static empty(){return new Tr(vr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return null!==t&&0===vr.comparator(this.path,t.path)}toString(){return this.path.toString()}static comparator(t,e){return vr.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Tr(new vr(t.slice()))}}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function wr(t){if(!Tr.isDocumentKey(t))throw new Jn(Zn.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function br(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Jn(Zn.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=function(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";{const i=(e=t).constructor?e.constructor.name:null;return i?`a custom ${i} object`:"an object"}}var e;return"function"==typeof t?"a function":jn(12329,{type:typeof t})}(t);throw new Jn(Zn.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return t}
/**
     * @license
     * Copyright 2025 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function Sr(t,e){const i={typeString:t};return e&&(i.value=e),i}function Er(t,e){if(!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(t))throw new Jn(Zn.INVALID_ARGUMENT,"JSON must be an object");let i;for(const s in e)if(e[s]){const n=e[s].typeString,r="value"in e[s]?{value:e[s].value}:void 0;if(!(s in t)){i=`JSON missing required field: '${s}'`;break}const o=t[s];if(n&&typeof o!==n){i=`JSON field '${s}' must be a ${n}.`;break}if(void 0!==r&&o!==r.value){i=`Expected '${s}' field to equal '${r.value}'`;break}}if(i)throw new Jn(Zn.INVALID_ARGUMENT,i);return!0}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */const Cr=-62135596800,_r=1e6;class Ar{static now(){return Ar.fromMillis(Date.now())}static fromDate(t){return Ar.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),i=Math.floor((t-1e3*e)*_r);return new Ar(e,i)}constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new Jn(Zn.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new Jn(Zn.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<Cr)throw new Jn(Zn.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Jn(Zn.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/_r}_compareTo(t){return this.seconds===t.seconds?ur(this.nanoseconds,t.nanoseconds):ur(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Ar._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Er(t,Ar._jsonSchema))return new Ar(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-Cr;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Ar._jsonSchemaVersion="firestore/timestamp/1.0",Ar._jsonSchema={type:Sr("string",Ar._jsonSchemaVersion),seconds:Sr("number"),nanoseconds:Sr("number")};
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
class Mr{static fromTimestamp(t){return new Mr(t)}static min(){return new Mr(new Ar(0,0))}static max(){return new Mr(new Ar(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}
/**
     * @license
     * Copyright 2021 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */class Pr{constructor(t,e,i,s){this.indexId=t,this.collectionGroup=e,this.fields=i,this.indexState=s}}function Rr(t){return t.fields.find(t=>2===t.kind)}function Ir(t){return t.fields.filter(t=>2!==t.kind)}Pr.UNKNOWN_ID=-1;class Or{constructor(t,e){this.fieldPath=t,this.kind=e}}class Lr{constructor(t,e){this.sequenceNumber=t,this.offset=e}static empty(){return new Lr(0,kr.min())}}function Dr(t){return new kr(t.readTime,t.key,-1)}class kr{constructor(t,e,i){this.readTime=t,this.documentKey=e,this.largestBatchId=i}static min(){return new kr(Mr.min(),Tr.empty(),-1)}static max(){return new kr(Mr.max(),Tr.empty(),-1)}}function Fr(t,e){let i=t.readTime.compareTo(e.readTime);return 0!==i?i:(i=Tr.comparator(t.documentKey,e.documentKey),0!==i?i:ur(t.largestBatchId,e.largestBatchId)
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */)}const Br="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Nr{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function zr(t){return m(this,null,function*(){if(t.code!==Zn.FAILED_PRECONDITION||t.message!==Br)throw t;Xn("LocalStore","Unexpectedly lost primary lease")})}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */class Ur{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&jn(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new Ur((i,s)=>{this.nextCallback=e=>{this.wrapSuccess(t,e).next(i,s)},this.catchCallback=t=>{this.wrapFailure(e,t).next(i,s)}})}toPromise(){return new Promise((t,e)=>{this.next(t,e)})}wrapUserFunction(t){try{const e=t();return e instanceof Ur?e:Ur.resolve(e)}catch(e){return Ur.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction(()=>t(e)):Ur.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction(()=>t(e)):Ur.reject(e)}static resolve(t){return new Ur((e,i)=>{e(t)})}static reject(t){return new Ur((e,i)=>{i(t)})}static waitFor(t){return new Ur((e,i)=>{let s=0,n=0,r=!1;t.forEach(t=>{++s,t.next(()=>{++n,r&&n===s&&e()},t=>i(t))}),r=!0,n===s&&e()})}static or(t){let e=Ur.resolve(!1);for(const i of t)e=e.next(t=>t?Ur.resolve(t):i());return e}static forEach(t,e){const i=[];return t.forEach((t,s)=>{i.push(e.call(this,t,s))}),this.waitFor(i)}static mapArray(t,e){return new Ur((i,s)=>{const n=t.length,r=new Array(n);let o=0;for(let a=0;a<n;a++){const h=a;e(t[h]).next(t=>{r[h]=t,++o,o===n&&i(r)},t=>s(t))}})}static doWhile(t,e){return new Ur((i,s)=>{const n=()=>{!0===t()?e().next(()=>{n()},s):i()};n()})}}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */const Vr="SimpleDb";class Gr{static open(t,e,i,s){try{return new Gr(e,t.transaction(s,i))}catch(n){throw new Wr(e,n)}}constructor(t,e){this.action=t,this.transaction=e,this.aborted=!1,this.S=new Qn,this.transaction.oncomplete=()=>{this.S.resolve()},this.transaction.onabort=()=>{e.error?this.S.reject(new Wr(t,e.error)):this.S.resolve()},this.transaction.onerror=e=>{const i=Zr(e.target.error);this.S.reject(new Wr(t,i))}}get D(){return this.S.promise}abort(t){t&&this.S.reject(t),this.aborted||(Xn(Vr,"Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}C(){const t=this.transaction;this.aborted||"function"!=typeof t.commit||t.commit()}store(t){const e=this.transaction.objectStore(t);return new qr(e)}}class Xr{static delete(t){return Xn(Vr,"Removing database:",t),Kr(L().indexedDB.deleteDatabase(t)).toPromise()}static v(){if(!K())return!1;if(Xr.F())return!0;const t=Y(),e=Xr.M(t),i=0<e&&e<10,s=Yr(t),n=0<s&&s<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||i||n)}static F(){var t;return"undefined"!=typeof process&&"YES"===(null==(t=process.__PRIVATE_env)?void 0:t.__PRIVATE_USE_MOCK_PERSISTENCE)}static O(t,e){return t.store(e)}static M(t){const e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(i)}constructor(t,e,i){this.name=t,this.version=e,this.N=i,this.B=null,12.2===Xr.M(Y())&&Yn("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}L(t){return m(this,null,function*(){return this.db||(Xn(Vr,"Opening database:",this.name),this.db=yield new Promise((e,i)=>{const s=indexedDB.open(this.name,this.version);s.onsuccess=t=>{const i=t.target.result;e(i)},s.onblocked=()=>{i(new Wr(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},s.onerror=e=>{const s=e.target.error;"VersionError"===s.name?i(new Jn(Zn.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===s.name?i(new Jn(Zn.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+s)):i(new Wr(t,s))},s.onupgradeneeded=t=>{Xn(Vr,'Database "'+this.name+'" requires upgrade from version:',t.oldVersion);const e=t.target.result;this.N.k(e,s.transaction,t.oldVersion,this.version).next(()=>{Xn(Vr,"Database upgrade to version "+this.version+" complete")})}})),this.q&&(this.db.onversionchange=t=>this.q(t)),this.db})}$(t){this.q=t,this.db&&(this.db.onversionchange=e=>t(e))}runTransaction(t,e,i,s){return m(this,null,function*(){const n="readonly"===e;let r=0;for(;;){++r;try{this.db=yield this.L(t);const e=Gr.open(this.db,t,n?"readonly":"readwrite",i),r=s(e).next(t=>(e.C(),t)).catch(t=>(e.abort(t),Ur.reject(t))).toPromise();return r.catch(()=>{}),yield e.D,r}catch(o){const t=o,e="FirebaseError"!==t.name&&r<3;if(Xn(Vr,"Transaction failed with error:",t.message,"Retrying:",e),this.close(),!e)return Promise.reject(t)}}})}close(){this.db&&this.db.close(),this.db=void 0}}function Yr(t){const e=t.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}class Hr{constructor(t){this.U=t,this.K=!1,this.W=null}get isDone(){return this.K}get G(){return this.W}set cursor(t){this.U=t}done(){this.K=!0}j(t){this.W=t}delete(){return Kr(this.U.delete())}}class Wr extends Jn{constructor(t,e){super(Zn.UNAVAILABLE,`IndexedDB transaction '${t}' failed: ${e}`),this.name="IndexedDbTransactionError"}}function jr(t){return"IndexedDbTransactionError"===t.name}class qr{constructor(t){this.store=t}put(t,e){let i;return void 0!==e?(Xn(Vr,"PUT",this.store.name,t,e),i=this.store.put(e,t)):(Xn(Vr,"PUT",this.store.name,"<auto-key>",t),i=this.store.put(t)),Kr(i)}add(t){return Xn(Vr,"ADD",this.store.name,t,t),Kr(this.store.add(t))}get(t){return Kr(this.store.get(t)).next(e=>(void 0===e&&(e=null),Xn(Vr,"GET",this.store.name,t,e),e))}delete(t){return Xn(Vr,"DELETE",this.store.name,t),Kr(this.store.delete(t))}count(){return Xn(Vr,"COUNT",this.store.name),Kr(this.store.count())}J(t,e){const i=this.options(t,e),s=i.index?this.store.index(i.index):this.store;if("function"==typeof s.getAll){const t=s.getAll(i.range);return new Ur((e,i)=>{t.onerror=t=>{i(t.target.error)},t.onsuccess=t=>{e(t.target.result)}})}{const t=this.cursor(i),e=[];return this.H(t,(t,i)=>{e.push(i)}).next(()=>e)}}Y(t,e){const i=this.store.getAll(t,null===e?void 0:e);return new Ur((t,e)=>{i.onerror=t=>{e(t.target.error)},i.onsuccess=e=>{t(e.target.result)}})}Z(t,e){Xn(Vr,"DELETE ALL",this.store.name);const i=this.options(t,e);i.X=!1;const s=this.cursor(i);return this.H(s,(t,e,i)=>i.delete())}ee(t,e){let i;e?i=t:(i={},e=t);const s=this.cursor(i);return this.H(s,e)}te(t){const e=this.cursor({});return new Ur((i,s)=>{e.onerror=t=>{const e=Zr(t.target.error);s(e)},e.onsuccess=e=>{const s=e.target.result;s?t(s.primaryKey,s.value).next(t=>{t?s.continue():i()}):i()}})}H(t,e){const i=[];return new Ur((s,n)=>{t.onerror=t=>{n(t.target.error)},t.onsuccess=t=>{const n=t.target.result;if(!n)return void s();const r=new Hr(n),o=e(n.primaryKey,n.value,r);if(o instanceof Ur){const t=o.catch(t=>(r.done(),Ur.reject(t)));i.push(t)}r.isDone?s():null===r.G?n.continue():n.continue(r.G)}}).next(()=>Ur.waitFor(i))}options(t,e){let i;return void 0!==t&&("string"==typeof t?i=t:e=t),{index:i,range:e}}cursor(t){let e="next";if(t.reverse&&(e="prev"),t.index){const i=this.store.index(t.index);return t.X?i.openKeyCursor(t.range,e):i.openCursor(t.range,e)}return this.store.openCursor(t.range,e)}}function Kr(t){return new Ur((e,i)=>{t.onsuccess=t=>{const i=t.target.result;e(i)},t.onerror=t=>{const e=Zr(t.target.error);i(e)}})}let $r=!1;function Zr(t){const e=Xr.M(Y());if(e>=12.2&&e<13){const e="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(e)>=0){const t=new Jn("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${e}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return $r||($r=!0,setTimeout(()=>{throw t},0)),t}}return t}const Jr="IndexBackfiller";class Qr{constructor(t,e){this.asyncQueue=t,this.ne=e,this.task=null}start(){this.re(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}re(t){Xn(Jr,`Scheduled in ${t}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",t,()=>m(this,null,function*(){this.task=null;try{const t=yield this.ne.ie();Xn(Jr,`Documents written: ${t}`)}catch(t){jr(t)?Xn(Jr,"Ignoring IndexedDB error during index backfill: ",t):yield zr(t)}yield this.re(6e4)}))}}class to{constructor(t,e){this.localStore=t,this.persistence=e}ie(t=50){return m(this,null,function*(){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",e=>this.se(e,t))})}se(t,e){const i=new Set;let s=e,n=!0;return Ur.doWhile(()=>!0===n&&s>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(t).next(e=>{if(null!==e&&!i.has(e))return Xn(Jr,`Processing collection: ${e}`),this.oe(t,e,s).next(t=>{s-=t,i.add(e)});n=!1})).next(()=>e-s)}oe(t,e,i){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(t,e).next(s=>this.localStore.localDocuments.getNextDocuments(t,e,s,i).next(i=>{const n=i.changes;return this.localStore.indexManager.updateIndexEntries(t,n).next(()=>this._e(s,i)).next(i=>(Xn(Jr,`Updating offset: ${i}`),this.localStore.indexManager.updateCollectionGroup(t,e,i))).next(()=>n.size)}))}_e(t,e){let i=t;return e.changes.forEach((t,e)=>{const s=Dr(e);Fr(s,i)>0&&(i=s)}),new kr(i.readTime,i.documentKey,Math.max(e.batchId,t.largestBatchId))}}
/**
     * @license
     * Copyright 2018 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */class eo{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=t=>this.ae(t),this.ue=t=>e.writeSequenceNumber(t))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}eo.ce=-1;
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
const io=-1;function so(t){return null==t}function no(t){return 0===t&&1/t==-1/0}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */const ro="";function oo(t){let e="";for(let i=0;i<t.length;i++)e.length>0&&(e=ho(e)),e=ao(t.get(i),e);return ho(e)}function ao(t,e){let i=e;const s=t.length;for(let n=0;n<s;n++){const e=t.charAt(n);switch(e){case"\0":i+="";break;case ro:i+="";break;default:i+=e}}return i}function ho(t){return t+ro+""}function lo(t){const e=t.length;if(Kn(e>=2,64408,{path:t}),2===e)return Kn(t.charAt(0)===ro&&""===t.charAt(1),56145,{path:t}),vr.emptyPath();const i=e-2,s=[];let n="";for(let r=0;r<e;){const e=t.indexOf(ro,r);switch((e<0||e>i)&&jn(50515,{path:t}),t.charAt(e+1)){case"":const i=t.substring(r,e);let o;0===n.length?o=i:(n+=i,o=n,n=""),s.push(o);break;case"":n+=t.substring(r,e),n+="\0";break;case"":n+=t.substring(r,e+1);break;default:jn(61167,{path:t})}r=e+2}return new vr(s)}
/**
     * @license
     * Copyright 2022 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */const uo="remoteDocuments",co="owner",fo="owner",po="mutationQueues",go="mutations",mo="batchId",vo="userMutationsIndex",yo=["userId","batchId"];
/**
     * @license
     * Copyright 2022 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function xo(t,e){return[t,oo(e)]}function To(t,e,i){return[t,oo(e),i]}const wo={},bo="documentMutations",So="remoteDocumentsV14",Eo=["prefixPath","collectionGroup","readTime","documentId"],Co="documentKeyIndex",_o=["prefixPath","collectionGroup","documentId"],Ao="collectionGroupIndex",Mo=["collectionGroup","readTime","prefixPath","documentId"],Po="remoteDocumentGlobal",Ro="remoteDocumentGlobalKey",Io="targets",Oo="queryTargetsIndex",Lo=["canonicalId","targetId"],Do="targetDocuments",ko=["targetId","path"],Fo="documentTargetsIndex",Bo=["path","targetId"],No="targetGlobalKey",zo="targetGlobal",Uo="collectionParents",Vo=["collectionId","parent"],Go="clientMetadata",Xo="bundles",Yo="namedQueries",Ho="indexConfiguration",Wo="collectionGroupIndex",jo="indexState",qo=["indexId","uid"],Ko="sequenceNumberIndex",$o=["uid","sequenceNumber"],Zo="indexEntries",Jo=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Qo="documentKeyIndex",ta=["indexId","uid","orderedDocumentKey"],ea="documentOverlays",ia=["userId","collectionPath","documentId"],sa="collectionPathOverlayIndex",na=["userId","collectionPath","largestBatchId"],ra="collectionGroupOverlayIndex",oa=["userId","collectionGroup","largestBatchId"],aa="globals",ha=[po,go,bo,uo,Io,co,zo,Do,Go,Po,Uo,Xo,Yo],la=[...ha,ea],ua=[po,go,bo,So,Io,co,zo,Do,Go,Po,Uo,Xo,Yo,ea],ca=ua,da=[...ca,Ho,jo,Zo],fa=da,pa=[...da,aa],ga=pa;
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */class ma extends Nr{constructor(t,e){super(),this.le=t,this.currentSequenceNumber=e}}function va(t,e){const i=$n(t);return Xr.O(i.le,e)}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function ya(t){let e=0;for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&e++;return e}function xa(t,e){for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&e(i,t[i])}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
class Ta{constructor(t,e){this.comparator=t,this.root=e||ba.EMPTY}insert(t,e){return new Ta(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,ba.BLACK,null,null))}remove(t){return new Ta(this.comparator,this.root.remove(t,this.comparator).copy(null,null,ba.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const i=this.comparator(t,e.key);if(0===i)return e.value;i<0?e=e.left:i>0&&(e=e.right)}return null}indexOf(t){let e=0,i=this.root;for(;!i.isEmpty();){const s=this.comparator(t,i.key);if(0===s)return e+i.left.size;s<0?i=i.left:(e+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((e,i)=>(t(e,i),!1))}toString(){const t=[];return this.inorderTraversal((e,i)=>(t.push(`${e}:${i}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new wa(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new wa(this.root,t,this.comparator,!1)}getReverseIterator(){return new wa(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new wa(this.root,t,this.comparator,!0)}}class wa{constructor(t,e,i,s){this.isReverse=s,this.nodeStack=[];let n=1;for(;!t.isEmpty();)if(n=e?i(t.key,e):1,e&&s&&(n*=-1),n<0)t=this.isReverse?t.left:t.right;else{if(0===n){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class ba{constructor(t,e,i,s,n){this.key=t,this.value=e,this.color=null!=i?i:ba.RED,this.left=null!=s?s:ba.EMPTY,this.right=null!=n?n:ba.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,i,s,n){return new ba(null!=t?t:this.key,null!=e?e:this.value,null!=i?i:this.color,null!=s?s:this.left,null!=n?n:this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,i){let s=this;const n=i(t,s.key);return s=n<0?s.copy(null,null,null,s.left.insert(t,e,i),null):0===n?s.copy(null,e,null,null,null):s.copy(null,null,null,null,s.right.insert(t,e,i)),s.fixUp()}removeMin(){if(this.left.isEmpty())return ba.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let i,s=this;if(e(t,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(t,e),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),0===e(t,s.key)){if(s.right.isEmpty())return ba.EMPTY;i=s.right.min(),s=s.copy(i.key,i.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(t,e))}return s.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,ba.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,ba.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw jn(43730,{key:this.key,value:this.value});if(this.right.isRed())throw jn(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw jn(27949);return t+(this.isRed()?0:1)}}ba.EMPTY=null,ba.RED=!0,ba.BLACK=!1,ba.EMPTY=new class{constructor(){this.size=0}get key(){throw jn(57766)}get value(){throw jn(16141)}get color(){throw jn(16727)}get left(){throw jn(29726)}get right(){throw jn(36894)}copy(t,e,i,s,n){return this}insert(t,e,i){return new ba(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
class Sa{constructor(t){this.comparator=t,this.data=new Ta(this.comparator)}has(t){return null!==this.data.get(t)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((e,i)=>(t(e),!1))}forEachInRange(t,e){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const s=i.getNext();if(this.comparator(s.key,t[1])>=0)return;e(s.key)}}forEachWhile(t,e){let i;for(i=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new Ea(this.data.getIterator())}getIteratorFrom(t){return new Ea(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach(t=>{e=e.add(t)}),e}isEqual(t){if(!(t instanceof Sa))return!1;if(this.size!==t.size)return!1;const e=this.data.getIterator(),i=t.data.getIterator();for(;e.hasNext();){const t=e.getNext().key,s=i.getNext().key;if(0!==this.comparator(t,s))return!1}return!0}toArray(){const t=[];return this.forEach(e=>{t.push(e)}),t}toString(){const t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(t){const e=new Sa(this.comparator);return e.data=t,e}}class Ea{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Ca(t){return t.hasNext()?t.getNext():void 0}
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */class _a{constructor(t){this.fields=t,t.sort(xr.comparator)}static empty(){return new _a([])}unionWith(t){let e=new Sa(xr.comparator);for(const i of this.fields)e=e.add(i);for(const i of t)e=e.add(i);return new _a(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return fr(this.fields,t.fields,(t,e)=>t.isEqual(e))}}
/**
     * @license
     * Copyright 2023 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */class Aa extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */class Ma{constructor(t){this.binaryString=t}static fromBase64String(t){const e=function(t){try{return atob(t)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new Aa("Invalid base64 string: "+e):e}}(t);return new Ma(e)}static fromUint8Array(t){const e=function(t){let e="";for(let i=0;i<t.length;++i)e+=String.fromCharCode(t[i]);return e}(t);return new Ma(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return t=this.binaryString,btoa(t);var t}toUint8Array(){return function(t){const e=new Uint8Array(t.length);for(let i=0;i<t.length;i++)e[i]=t.charCodeAt(i);return e}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return ur(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Ma.EMPTY_BYTE_STRING=new Ma("");const Pa=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ra(t){if(Kn(!!t,39018),"string"==typeof t){let e=0;const i=Pa.exec(t);if(Kn(!!i,46558,{timestamp:t}),i[1]){let t=i[1];t=(t+"000000000").substr(0,9),e=Number(t)}const s=new Date(t);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Ia(t.seconds),nanos:Ia(t.nanos)}}function Ia(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function Oa(t){return"string"==typeof t?Ma.fromBase64String(t):Ma.fromUint8Array(t)}
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */const La="server_timestamp",Da="__type__",ka="__previous_value__",Fa="__local_write_time__";function Ba(t){var e,i;return(null==(i=((null==(e=null==t?void 0:t.mapValue)?void 0:e.fields)||{})[Da])?void 0:i.stringValue)===La}function Na(t){const e=t.mapValue.fields[ka];return Ba(e)?Na(e):e}function za(t){const e=Ra(t.mapValue.fields[Fa].timestampValue);return new Ar(e.seconds,e.nanos)}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */class Ua{constructor(t,e,i,s,n,r,o,a,h,l){this.databaseId=t,this.appId=e,this.persistenceKey=i,this.host=s,this.ssl=n,this.forceLongPolling=r,this.autoDetectLongPolling=o,this.longPollingOptions=a,this.useFetchStreams=h,this.isUsingEmulator=l}}const Va="(default)";class Ga{constructor(t,e){this.projectId=t,this.database=e||Va}static empty(){return new Ga("","")}get isDefaultDatabase(){return this.database===Va}isEqual(t){return t instanceof Ga&&t.projectId===this.projectId&&t.database===this.database}}
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */const Xa="__type__",Ya="__max__",Ha={mapValue:{fields:{__type__:{stringValue:Ya}}}},Wa="__vector__",ja="value",qa={nullValue:"NULL_VALUE"};function Ka(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Ba(t)?4:dh(t)?9007199254740991:uh(t)?10:11:jn(28295,{value:t})}function $a(t,e){if(t===e)return!0;const i=Ka(t);if(i!==Ka(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return za(t).isEqual(za(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;const i=Ra(t.timestampValue),s=Ra(e.timestampValue);return i.seconds===s.seconds&&i.nanos===s.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return s=e,Oa(t.bytesValue).isEqual(Oa(s.bytesValue));case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return Ia(t.geoPointValue.latitude)===Ia(e.geoPointValue.latitude)&&Ia(t.geoPointValue.longitude)===Ia(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return Ia(t.integerValue)===Ia(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){const i=Ia(t.doubleValue),s=Ia(e.doubleValue);return i===s?no(i)===no(s):isNaN(i)&&isNaN(s)}return!1}(t,e);case 9:return fr(t.arrayValue.values||[],e.arrayValue.values||[],$a);case 10:case 11:return function(t,e){const i=t.mapValue.fields||{},s=e.mapValue.fields||{};if(ya(i)!==ya(s))return!1;for(const n in i)if(i.hasOwnProperty(n)&&(void 0===s[n]||!$a(i[n],s[n])))return!1;return!0}(t,e);default:return jn(52216,{left:t})}var s}function Za(t,e){return void 0!==(t.values||[]).find(t=>$a(t,e))}function Ja(t,e){if(t===e)return 0;const i=Ka(t),s=Ka(e);if(i!==s)return ur(i,s);switch(i){case 0:case 9007199254740991:return 0;case 1:return ur(t.booleanValue,e.booleanValue);case 2:return function(t,e){const i=Ia(t.integerValue||t.doubleValue),s=Ia(e.integerValue||e.doubleValue);return i<s?-1:i>s?1:i===s?0:isNaN(i)?isNaN(s)?0:-1:1}(t,e);case 3:return Qa(t.timestampValue,e.timestampValue);case 4:return Qa(za(t),za(e));case 5:return cr(t.stringValue,e.stringValue);case 6:return function(t,e){const i=Oa(t),s=Oa(e);return i.compareTo(s)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){const i=t.split("/"),s=e.split("/");for(let n=0;n<i.length&&n<s.length;n++){const t=ur(i[n],s[n]);if(0!==t)return t}return ur(i.length,s.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){const i=ur(Ia(t.latitude),Ia(e.latitude));return 0!==i?i:ur(Ia(t.longitude),Ia(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return th(t.arrayValue,e.arrayValue);case 10:return function(t,e){var i,s,n,r;const o=t.fields||{},a=e.fields||{},h=null==(i=o[ja])?void 0:i.arrayValue,l=null==(s=a[ja])?void 0:s.arrayValue,u=ur((null==(n=null==h?void 0:h.values)?void 0:n.length)||0,(null==(r=null==l?void 0:l.values)?void 0:r.length)||0);return 0!==u?u:th(h,l)}(t.mapValue,e.mapValue);case 11:return function(t,e){if(t===Ha.mapValue&&e===Ha.mapValue)return 0;if(t===Ha.mapValue)return 1;if(e===Ha.mapValue)return-1;const i=t.fields||{},s=Object.keys(i),n=e.fields||{},r=Object.keys(n);s.sort(),r.sort();for(let o=0;o<s.length&&o<r.length;++o){const t=cr(s[o],r[o]);if(0!==t)return t;const e=Ja(i[s[o]],n[r[o]]);if(0!==e)return e}return ur(s.length,r.length)}(t.mapValue,e.mapValue);default:throw jn(23264,{he:i})}}function Qa(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return ur(t,e);const i=Ra(t),s=Ra(e),n=ur(i.seconds,s.seconds);return 0!==n?n:ur(i.nanos,s.nanos)}function th(t,e){const i=t.values||[],s=e.values||[];for(let n=0;n<i.length&&n<s.length;++n){const t=Ja(i[n],s[n]);if(t)return t}return ur(i.length,s.length)}function eh(t){return ih(t)}function ih(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(t){const e=Ra(t);return`time(${e.seconds},${e.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Oa(t.bytesValue).toBase64():"referenceValue"in t?function(t){return Tr.fromName(t).toString()}(t.referenceValue):"geoPointValue"in t?function(t){return`geo(${t.latitude},${t.longitude})`}(t.geoPointValue):"arrayValue"in t?function(t){let e="[",i=!0;for(const s of t.values||[])i?i=!1:e+=",",e+=ih(s);return e+"]"}(t.arrayValue):"mapValue"in t?function(t){const e=Object.keys(t.fields||{}).sort();let i="{",s=!0;for(const n of e)s?s=!1:i+=",",i+=`${n}:${ih(t.fields[n])}`;return i+"}"}(t.mapValue):jn(61005,{value:t})}function sh(t){switch(Ka(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Na(t);return e?16+sh(e):16;case 5:return 2*t.stringValue.length;case 6:return Oa(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(t.arrayValue.values||[]).reduce((t,e)=>t+sh(e),0);case 10:case 11:return function(t){let e=0;return xa(t.fields,(t,i)=>{e+=t.length+sh(i)}),e}(t.mapValue);default:throw jn(13486,{value:t})}}function nh(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function rh(t){return!!t&&"integerValue"in t}function oh(t){return!!t&&"arrayValue"in t}function ah(t){return!!t&&"nullValue"in t}function hh(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function lh(t){return!!t&&"mapValue"in t}function uh(t){var e,i;return(null==(i=((null==(e=null==t?void 0:t.mapValue)?void 0:e.fields)||{})[Xa])?void 0:i.stringValue)===Wa}function ch(t){if(t.geoPointValue)return{geoPointValue:d({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:d({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return xa(t.mapValue.fields,(t,i)=>e.mapValue.fields[t]=ch(i)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(t.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=ch(t.arrayValue.values[i]);return e}return d({},t)}function dh(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===Ya}const fh={mapValue:{fields:{[Xa]:{stringValue:Wa},[ja]:{arrayValue:{}}}}};function ph(t){return"nullValue"in t?qa:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?nh(Ga.empty(),Tr.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?uh(t)?fh:{mapValue:{}}:jn(35942,{value:t})}function gh(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?nh(Ga.empty(),Tr.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?fh:"mapValue"in t?uh(t)?{mapValue:{}}:Ha:jn(61959,{value:t})}function mh(t,e){const i=Ja(t.value,e.value);return 0!==i?i:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function vh(t,e){const i=Ja(t.value,e.value);return 0!==i?i:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */class yh{constructor(t){this.value=t}static empty(){return new yh({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let i=0;i<t.length-1;++i)if(e=(e.mapValue.fields||{})[t.get(i)],!lh(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=ch(e)}setAll(t){let e=xr.emptyPath(),i={},s=[];t.forEach((t,n)=>{if(!e.isImmediateParentOf(n)){const t=this.getFieldsMap(e);this.applyChanges(t,i,s),i={},s=[],e=n.popLast()}t?i[n.lastSegment()]=ch(t):s.push(n.lastSegment())});const n=this.getFieldsMap(e);this.applyChanges(n,i,s)}delete(t){const e=this.field(t.popLast());lh(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return $a(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let i=0;i<t.length;++i){let s=e.mapValue.fields[t.get(i)];lh(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},e.mapValue.fields[t.get(i)]=s),e=s}return e.mapValue.fields}applyChanges(t,e,i){xa(e,(e,i)=>t[e]=i);for(const s of i)delete t[s]}clone(){return new yh(ch(this.value))}}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */class xh{constructor(t,e,i,s,n,r,o){this.key=t,this.documentType=e,this.version=i,this.readTime=s,this.createTime=n,this.data=r,this.documentState=o}static newInvalidDocument(t){return new xh(t,0,Mr.min(),Mr.min(),Mr.min(),yh.empty(),0)}static newFoundDocument(t,e,i,s){return new xh(t,1,e,Mr.min(),i,s,0)}static newNoDocument(t,e){return new xh(t,2,e,Mr.min(),Mr.min(),yh.empty(),0)}static newUnknownDocument(t,e){return new xh(t,3,e,Mr.min(),Mr.min(),yh.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(Mr.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=yh.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=yh.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Mr.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(t){return t instanceof xh&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new xh(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}
/**
     * @license
     * Copyright 2022 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */class Th{constructor(t,e){this.position=t,this.inclusive=e}}function wh(t,e,i){let s=0;for(let n=0;n<t.position.length;n++){const r=e[n],o=t.position[n];if(s=r.field.isKeyField()?Tr.comparator(Tr.fromName(o.referenceValue),i.key):Ja(o,i.data.field(r.field)),"desc"===r.dir&&(s*=-1),0!==s)break}return s}function bh(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let i=0;i<t.position.length;i++)if(!$a(t.position[i],e.position[i]))return!1;return!0}
/**
     * @license
     * Copyright 2022 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */class Sh{constructor(t,e="asc"){this.field=t,this.dir=e}}function Eh(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}
/**
     * @license
     * Copyright 2022 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */class Ch{}class _h extends Ch{constructor(t,e,i){super(),this.field=t,this.op=e,this.value=i}static create(t,e,i){return t.isKeyField()?"in"===e||"not-in"===e?this.createKeyFieldInFilter(t,e,i):new Fh(t,e,i):"array-contains"===e?new Uh(t,i):"in"===e?new Vh(t,i):"not-in"===e?new Gh(t,i):"array-contains-any"===e?new Xh(t,i):new _h(t,e,i)}static createKeyFieldInFilter(t,e,i){return"in"===e?new Bh(t,i):new Nh(t,i)}matches(t){const e=t.data.field(this.field);return"!="===this.op?null!==e&&void 0===e.nullValue&&this.matchesComparison(Ja(e,this.value)):null!==e&&Ka(this.value)===Ka(e)&&this.matchesComparison(Ja(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return jn(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ah extends Ch{constructor(t,e){super(),this.filters=t,this.op=e,this.Pe=null}static create(t,e){return new Ah(t,e)}matches(t){return Mh(this)?void 0===this.filters.find(e=>!e.matches(t)):void 0!==this.filters.find(e=>e.matches(t))}getFlattenedFilters(){return null!==this.Pe||(this.Pe=this.filters.reduce((t,e)=>t.concat(e.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Mh(t){return"and"===t.op}function Ph(t){return"or"===t.op}function Rh(t){return Ih(t)&&Mh(t)}function Ih(t){for(const e of t.filters)if(e instanceof Ah)return!1;return!0}function Oh(t){if(t instanceof _h)return t.field.canonicalString()+t.op.toString()+eh(t.value);if(Rh(t))return t.filters.map(t=>Oh(t)).join(",");{const e=t.filters.map(t=>Oh(t)).join(",");return`${t.op}(${e})`}}function Lh(t,e){return t instanceof _h?(i=t,(s=e)instanceof _h&&i.op===s.op&&i.field.isEqual(s.field)&&$a(i.value,s.value)):t instanceof Ah?function(t,e){return e instanceof Ah&&t.op===e.op&&t.filters.length===e.filters.length&&t.filters.reduce((t,i,s)=>t&&Lh(i,e.filters[s]),!0)}(t,e):void jn(19439);var i,s}function Dh(t,e){const i=t.filters.concat(e);return Ah.create(i,t.op)}function kh(t){return t instanceof _h?`${(e=t).field.canonicalString()} ${e.op} ${eh(e.value)}`:t instanceof Ah?function(t){return t.op.toString()+" {"+t.getFilters().map(kh).join(" ,")+"}"}(t):"Filter";var e}class Fh extends _h{constructor(t,e,i){super(t,e,i),this.key=Tr.fromName(i.referenceValue)}matches(t){const e=Tr.comparator(t.key,this.key);return this.matchesComparison(e)}}class Bh extends _h{constructor(t,e){super(t,"in",e),this.keys=zh(0,e)}matches(t){return this.keys.some(e=>e.isEqual(t.key))}}class Nh extends _h{constructor(t,e){super(t,"not-in",e),this.keys=zh(0,e)}matches(t){return!this.keys.some(e=>e.isEqual(t.key))}}function zh(t,e){var i;return((null==(i=e.arrayValue)?void 0:i.values)||[]).map(t=>Tr.fromName(t.referenceValue))}class Uh extends _h{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return oh(e)&&Za(e.arrayValue,this.value)}}class Vh extends _h{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return null!==e&&Za(this.value.arrayValue,e)}}class Gh extends _h{constructor(t,e){super(t,"not-in",e)}matches(t){if(Za(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return null!==e&&void 0===e.nullValue&&!Za(this.value.arrayValue,e)}}class Xh extends _h{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!oh(e)||!e.arrayValue.values)&&e.arrayValue.values.some(t=>Za(this.value.arrayValue,t))}}
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */class Yh{constructor(t,e=null,i=[],s=[],n=null,r=null,o=null){this.path=t,this.collectionGroup=e,this.orderBy=i,this.filters=s,this.limit=n,this.startAt=r,this.endAt=o,this.Te=null}}function Hh(t,e=null,i=[],s=[],n=null,r=null,o=null){return new Yh(t,e,i,s,n,r,o)}function Wh(t){const e=$n(t);if(null===e.Te){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(t=>Oh(t)).join(","),t+="|ob:",t+=e.orderBy.map(t=>{return(e=t).field.canonicalString()+e.dir;var e}).join(","),so(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(t=>eh(t)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(t=>eh(t)).join(",")),e.Te=t}return e.Te}function jh(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<t.orderBy.length;i++)if(!Eh(t.orderBy[i],e.orderBy[i]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let i=0;i<t.filters.length;i++)if(!Lh(t.filters[i],e.filters[i]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!bh(t.startAt,e.startAt)&&bh(t.endAt,e.endAt)}function qh(t){return Tr.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}function Kh(t,e){return t.filters.filter(t=>t instanceof _h&&t.field.isEqual(e))}function $h(t,e,i){let s=qa,n=!0;for(const r of Kh(t,e)){let t=qa,e=!0;switch(r.op){case"<":case"<=":t=ph(r.value);break;case"==":case"in":case">=":t=r.value;break;case">":t=r.value,e=!1;break;case"!=":case"not-in":t=qa}mh({value:s,inclusive:n},{value:t,inclusive:e})<0&&(s=t,n=e)}if(null!==i)for(let r=0;r<t.orderBy.length;++r)if(t.orderBy[r].field.isEqual(e)){const t=i.position[r];mh({value:s,inclusive:n},{value:t,inclusive:i.inclusive})<0&&(s=t,n=i.inclusive);break}return{value:s,inclusive:n}}function Zh(t,e,i){let s=Ha,n=!0;for(const r of Kh(t,e)){let t=Ha,e=!0;switch(r.op){case">=":case">":t=gh(r.value),e=!1;break;case"==":case"in":case"<=":t=r.value;break;case"<":t=r.value,e=!1;break;case"!=":case"not-in":t=Ha}vh({value:s,inclusive:n},{value:t,inclusive:e})>0&&(s=t,n=e)}if(null!==i)for(let r=0;r<t.orderBy.length;++r)if(t.orderBy[r].field.isEqual(e)){const t=i.position[r];vh({value:s,inclusive:n},{value:t,inclusive:i.inclusive})>0&&(s=t,n=i.inclusive);break}return{value:s,inclusive:n}}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */class Jh{constructor(t,e=null,i=[],s=[],n=null,r="F",o=null,a=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=i,this.filters=s,this.limit=n,this.limitType=r,this.startAt=o,this.endAt=a,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function Qh(t){return new Jh(t)}function tl(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}function el(t){const e=$n(t);if(null===e.Ie){e.Ie=[];const t=new Set;for(const s of e.explicitOrderBy)e.Ie.push(s),t.add(s.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(t){let e=new Sa(xr.comparator);return t.filters.forEach(t=>{t.getFlattenedFilters().forEach(t=>{t.isInequality()&&(e=e.add(t.field))})}),e})(e).forEach(s=>{t.has(s.canonicalString())||s.isKeyField()||e.Ie.push(new Sh(s,i))}),t.has(xr.keyField().canonicalString())||e.Ie.push(new Sh(xr.keyField(),i))}return e.Ie}function il(t){const e=$n(t);return e.Ee||(e.Ee=function(t,e){if("F"===t.limitType)return Hh(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(t=>{const e="desc"===t.dir?"asc":"desc";return new Sh(t.field,e)});const i=t.endAt?new Th(t.endAt.position,t.endAt.inclusive):null,s=t.startAt?new Th(t.startAt.position,t.startAt.inclusive):null;return Hh(t.path,t.collectionGroup,e,t.filters,t.limit,i,s)}}(e,el(t))),e.Ee}function sl(t,e,i){return new Jh(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,i,t.startAt,t.endAt)}function nl(t,e){return jh(il(t),il(e))&&t.limitType===e.limitType}function rl(t){return`${Wh(il(t))}|lt:${t.limitType}`}function ol(t){return`Query(target=${function(t){let e=t.path.canonicalString();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=`, filters: [${t.filters.map(t=>kh(t)).join(", ")}]`),so(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=`, orderBy: [${t.orderBy.map(t=>{return`${(e=t).field.canonicalString()} (${e.dir})`;var e}).join(", ")}]`),t.startAt&&(e+=", startAt: ",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(t=>eh(t)).join(",")),t.endAt&&(e+=", endAt: ",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(t=>eh(t)).join(",")),`Target(${e})`}(il(t))}; limitType=${t.limitType})`}function al(t,e){return e.isFoundDocument()&&function(t,e){const i=e.key.path;return null!==t.collectionGroup?e.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(i):Tr.isDocumentKey(t.path)?t.path.isEqual(i):t.path.isImmediateParentOf(i)}(t,e)&&function(t,e){for(const i of el(t))if(!i.field.isKeyField()&&null===e.data.field(i.field))return!1;return!0}(t,e)&&function(t,e){for(const i of t.filters)if(!i.matches(e))return!1;return!0}(t,e)&&(s=e,!((i=t).startAt&&!function(t,e,i){const s=wh(t,e,i);return t.inclusive?s<=0:s<0}(i.startAt,el(i),s)||i.endAt&&!function(t,e,i){const s=wh(t,e,i);return t.inclusive?s>=0:s>0}(i.endAt,el(i),s)));var i,s}function hl(t){return(e,i)=>{let s=!1;for(const n of el(t)){const t=ll(n,e,i);if(0!==t)return t;s=s||n.field.isKeyField()}return 0}}function ll(t,e,i){const s=t.field.isKeyField()?Tr.comparator(e.key,i.key):function(t,e,i){const s=e.data.field(t),n=i.data.field(t);return null!==s&&null!==n?Ja(s,n):jn(42886)}(t.field,e,i);switch(t.dir){case"asc":return s;case"desc":return-1*s;default:return jn(19790,{direction:t.dir})}}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */class ul{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),i=this.inner[e];if(void 0!==i)for(const[s,n]of i)if(this.equalsFn(s,t))return n}has(t){return void 0!==this.get(t)}set(t,e){const i=this.mapKeyFn(t),s=this.inner[i];if(void 0===s)return this.inner[i]=[[t,e]],void this.innerSize++;for(let n=0;n<s.length;n++)if(this.equalsFn(s[n][0],t))return void(s[n]=[t,e]);s.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),i=this.inner[e];if(void 0===i)return!1;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],t))return 1===i.length?delete this.inner[e]:i.splice(s,1),this.innerSize--,!0;return!1}forEach(t){xa(this.inner,(e,i)=>{for(const[s,n]of i)t(s,n)})}isEmpty(){return function(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}(this.inner)}size(){return this.innerSize}}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */const cl=new Ta(Tr.comparator);function dl(){return cl}const fl=new Ta(Tr.comparator);function pl(...t){let e=fl;for(const i of t)e=e.insert(i.key,i);return e}function gl(t){let e=fl;return t.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function ml(){return yl()}function vl(){return yl()}function yl(){return new ul(t=>t.toString(),(t,e)=>t.isEqual(e))}const xl=new Ta(Tr.comparator),Tl=new Sa(Tr.comparator);function wl(...t){let e=Tl;for(const i of t)e=e.add(i);return e}const bl=new Sa(ur);
/**
     * @license
     * Copyright 2018 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
class Sl{constructor(){this._=void 0}}function El(t,e,i){return t instanceof _l?function(t,e){const i={fields:{[Da]:{stringValue:La},[Fa]:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&Ba(e)&&(e=Na(e)),e&&(i.fields[ka]=e),{mapValue:i}}(i,e):t instanceof Al?Ml(t,e):t instanceof Pl?Rl(t,e):function(t,e){const i=function(t,e){return t instanceof Il?function(t){return rh(t)||!!(e=t)&&"doubleValue"in e;var e}(e)?e:{integerValue:0}:null}(t,e),s=Ol(i)+Ol(t.Ae);return rh(i)&&rh(t.Ae)?function(t){return{integerValue:""+t}}(s):
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
function(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:no(e)?"-0":e}}(t.serializer,s)}(t,e)}function Cl(t,e,i){return t instanceof Al?Ml(t,e):t instanceof Pl?Rl(t,e):i}class _l extends Sl{}class Al extends Sl{constructor(t){super(),this.elements=t}}function Ml(t,e){const i=Ll(e);for(const s of t.elements)i.some(t=>$a(t,s))||i.push(s);return{arrayValue:{values:i}}}class Pl extends Sl{constructor(t){super(),this.elements=t}}function Rl(t,e){let i=Ll(e);for(const s of t.elements)i=i.filter(t=>!$a(t,s));return{arrayValue:{values:i}}}class Il extends Sl{constructor(t,e){super(),this.serializer=t,this.Ae=e}}function Ol(t){return Ia(t.integerValue||t.doubleValue)}function Ll(t){return oh(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */class Dl{constructor(t,e){this.field=t,this.transform=e}}class kl{constructor(t,e){this.version=t,this.transformResults=e}}class Fl{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new Fl}static exists(t){return new Fl(void 0,t)}static updateTime(t){return new Fl(t)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Bl(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}class Nl{}function zl(t,e){if(!t.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return t.isNoDocument()?new ql(t.key,Fl.none()):new Xl(t.key,t.data,Fl.none());{const i=t.data,s=yh.empty();let n=new Sa(xr.comparator);for(let t of e.fields)if(!n.has(t)){let e=i.field(t);null===e&&t.length>1&&(t=t.popLast(),e=i.field(t)),null===e?s.delete(t):s.set(t,e),n=n.add(t)}return new Yl(t.key,s,new _a(n.toArray()),Fl.none())}}function Ul(t,e,i){var s;t instanceof Xl?function(t,e,i){const s=t.value.clone(),n=Wl(t.fieldTransforms,e,i.transformResults);s.setAll(n),e.convertToFoundDocument(i.version,s).setHasCommittedMutations()}(t,e,i):t instanceof Yl?function(t,e,i){if(!Bl(t.precondition,e))return void e.convertToUnknownDocument(i.version);const s=Wl(t.fieldTransforms,e,i.transformResults),n=e.data;n.setAll(Hl(t)),n.setAll(s),e.convertToFoundDocument(i.version,n).setHasCommittedMutations()}(t,e,i):(s=i,e.convertToNoDocument(s.version).setHasCommittedMutations())}function Vl(t,e,i,s){return t instanceof Xl?function(t,e,i,s){if(!Bl(t.precondition,e))return i;const n=t.value.clone(),r=jl(t.fieldTransforms,s,e);return n.setAll(r),e.convertToFoundDocument(e.version,n).setHasLocalMutations(),null}(t,e,i,s):t instanceof Yl?function(t,e,i,s){if(!Bl(t.precondition,e))return i;const n=jl(t.fieldTransforms,s,e),r=e.data;return r.setAll(Hl(t)),r.setAll(n),e.convertToFoundDocument(e.version,r).setHasLocalMutations(),null===i?null:i.unionWith(t.fieldMask.fields).unionWith(t.fieldTransforms.map(t=>t.field))}(t,e,i,s):(n=e,r=i,Bl(t.precondition,n)?(n.convertToNoDocument(n.version).setHasLocalMutations(),null):r);var n,r}function Gl(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&(i=t.fieldTransforms,s=e.fieldTransforms,!!(void 0===i&&void 0===s||i&&s&&fr(i,s,(t,e)=>function(t,e){return t.field.isEqual(e.field)&&(i=t.transform,s=e.transform,i instanceof Al&&s instanceof Al||i instanceof Pl&&s instanceof Pl?fr(i.elements,s.elements,$a):i instanceof Il&&s instanceof Il?$a(i.Ae,s.Ae):i instanceof _l&&s instanceof _l);var i,s}(t,e)))&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask)));var i,s}class Xl extends Nl{constructor(t,e,i,s=[]){super(),this.key=t,this.value=e,this.precondition=i,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Yl extends Nl{constructor(t,e,i,s,n=[]){super(),this.key=t,this.data=e,this.fieldMask=i,this.precondition=s,this.fieldTransforms=n,this.type=1}getFieldMask(){return this.fieldMask}}function Hl(t){const e=new Map;return t.fieldMask.fields.forEach(i=>{if(!i.isEmpty()){const s=t.data.field(i);e.set(i,s)}}),e}function Wl(t,e,i){const s=new Map;Kn(t.length===i.length,32656,{Re:i.length,Ve:t.length});for(let n=0;n<i.length;n++){const r=t[n],o=r.transform,a=e.data.field(r.field);s.set(r.field,Cl(o,a,i[n]))}return s}function jl(t,e,i){const s=new Map;for(const n of t){const t=n.transform,r=i.data.field(n.field);s.set(n.field,El(t,r,e))}return s}class ql extends Nl{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Kl extends Nl{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */class $l{constructor(t,e,i,s){this.batchId=t,this.localWriteTime=e,this.baseMutations=i,this.mutations=s}applyToRemoteDocument(t,e){const i=e.mutationResults;for(let s=0;s<this.mutations.length;s++){const e=this.mutations[s];e.key.isEqual(t.key)&&Ul(e,t,i[s])}}applyToLocalView(t,e){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(e=Vl(i,t,e,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(e=Vl(i,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const i=vl();return this.mutations.forEach(s=>{const n=t.get(s.key),r=n.overlayedDocument;let o=this.applyToLocalView(r,n.mutatedFields);o=e.has(s.key)?null:o;const a=zl(r,o);null!==a&&i.set(s.key,a),r.isValidDocument()||r.convertToNoDocument(Mr.min())}),i}keys(){return this.mutations.reduce((t,e)=>t.add(e.key),wl())}isEqual(t){return this.batchId===t.batchId&&fr(this.mutations,t.mutations,(t,e)=>Gl(t,e))&&fr(this.baseMutations,t.baseMutations,(t,e)=>Gl(t,e))}}class Zl{constructor(t,e,i,s){this.batch=t,this.commitVersion=e,this.mutationResults=i,this.docVersions=s}static from(t,e,i){Kn(t.mutations.length===i.length,58842,{me:t.mutations.length,fe:i.length});let s=function(){return xl}();const n=t.mutations;for(let r=0;r<n.length;r++)s=s.insert(n[r].key,i[r].version);return new Zl(t,e,i,s)}}
/**
     * @license
     * Copyright 2022 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */class Jl{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return null!==t&&this.mutation===t.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */class Ql{constructor(t,e){this.count=t,this.unchangedNames=e}}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var tu,eu;function iu(t){if(void 0===t)return Yn("GRPC error has no .code"),Zn.UNKNOWN;switch(t){case tu.OK:return Zn.OK;case tu.CANCELLED:return Zn.CANCELLED;case tu.UNKNOWN:return Zn.UNKNOWN;case tu.DEADLINE_EXCEEDED:return Zn.DEADLINE_EXCEEDED;case tu.RESOURCE_EXHAUSTED:return Zn.RESOURCE_EXHAUSTED;case tu.INTERNAL:return Zn.INTERNAL;case tu.UNAVAILABLE:return Zn.UNAVAILABLE;case tu.UNAUTHENTICATED:return Zn.UNAUTHENTICATED;case tu.INVALID_ARGUMENT:return Zn.INVALID_ARGUMENT;case tu.NOT_FOUND:return Zn.NOT_FOUND;case tu.ALREADY_EXISTS:return Zn.ALREADY_EXISTS;case tu.PERMISSION_DENIED:return Zn.PERMISSION_DENIED;case tu.FAILED_PRECONDITION:return Zn.FAILED_PRECONDITION;case tu.ABORTED:return Zn.ABORTED;case tu.OUT_OF_RANGE:return Zn.OUT_OF_RANGE;case tu.UNIMPLEMENTED:return Zn.UNIMPLEMENTED;case tu.DATA_LOSS:return Zn.DATA_LOSS;default:return jn(39323,{code:t})}}(eu=tu||(tu={}))[eu.OK=0]="OK",eu[eu.CANCELLED=1]="CANCELLED",eu[eu.UNKNOWN=2]="UNKNOWN",eu[eu.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",eu[eu.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",eu[eu.NOT_FOUND=5]="NOT_FOUND",eu[eu.ALREADY_EXISTS=6]="ALREADY_EXISTS",eu[eu.PERMISSION_DENIED=7]="PERMISSION_DENIED",eu[eu.UNAUTHENTICATED=16]="UNAUTHENTICATED",eu[eu.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",eu[eu.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",eu[eu.ABORTED=10]="ABORTED",eu[eu.OUT_OF_RANGE=11]="OUT_OF_RANGE",eu[eu.UNIMPLEMENTED=12]="UNIMPLEMENTED",eu[eu.INTERNAL=13]="INTERNAL",eu[eu.UNAVAILABLE=14]="UNAVAILABLE",eu[eu.DATA_LOSS=15]="DATA_LOSS";
/**
     * @license
     * Copyright 2022 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
const su=new Cn([4294967295,4294967295],0);function nu(t){const e=(new TextEncoder).encode(t),i=new _n;return i.update(e),new Uint8Array(i.digest())}function ru(t){const e=new DataView(t.buffer),i=e.getUint32(0,!0),s=e.getUint32(4,!0),n=e.getUint32(8,!0),r=e.getUint32(12,!0);return[new Cn([i,s],0),new Cn([n,r],0)]}class ou{constructor(t,e,i){if(this.bitmap=t,this.padding=e,this.hashCount=i,e<0||e>=8)throw new au(`Invalid padding: ${e}`);if(i<0)throw new au(`Invalid hash count: ${i}`);if(t.length>0&&0===this.hashCount)throw new au(`Invalid hash count: ${i}`);if(0===t.length&&0!==e)throw new au(`Invalid padding when bitmap length is 0: ${e}`);this.ge=8*t.length-e,this.pe=Cn.fromNumber(this.ge)}ye(t,e,i){let s=t.add(e.multiply(Cn.fromNumber(i)));return 1===s.compare(su)&&(s=new Cn([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(0===this.ge)return!1;const e=nu(t),[i,s]=ru(e);for(let n=0;n<this.hashCount;n++){const t=this.ye(i,s,n);if(!this.we(t))return!1}return!0}static create(t,e,i){const s=t%8==0?0:8-t%8,n=new Uint8Array(Math.ceil(t/8)),r=new ou(n,s,e);return i.forEach(t=>r.insert(t)),r}insert(t){if(0===this.ge)return;const e=nu(t),[i,s]=ru(e);for(let n=0;n<this.hashCount;n++){const t=this.ye(i,s,n);this.Se(t)}}Se(t){const e=Math.floor(t/8),i=t%8;this.bitmap[e]|=1<<i}}class au extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */class hu{constructor(t,e,i,s,n){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=i,this.documentUpdates=s,this.resolvedLimboDocuments=n}static createSynthesizedRemoteEventForCurrentChange(t,e,i){const s=new Map;return s.set(t,lu.createSynthesizedTargetChangeForCurrentChange(t,e,i)),new hu(Mr.min(),s,new Ta(ur),dl(),wl())}}class lu{constructor(t,e,i,s,n){this.resumeToken=t,this.current=e,this.addedDocuments=i,this.modifiedDocuments=s,this.removedDocuments=n}static createSynthesizedTargetChangeForCurrentChange(t,e,i){return new lu(i,e,wl(),wl(),wl())}}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */class uu{constructor(t,e,i,s){this.be=t,this.removedTargetIds=e,this.key=i,this.De=s}}class cu{constructor(t,e){this.targetId=t,this.Ce=e}}class du{constructor(t,e,i=Ma.EMPTY_BYTE_STRING,s=null){this.state=t,this.targetIds=e,this.resumeToken=i,this.cause=s}}class fu{constructor(){this.ve=0,this.Fe=mu(),this.Me=Ma.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return 0!==this.ve}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=wl(),e=wl(),i=wl();return this.Fe.forEach((s,n)=>{switch(n){case 0:t=t.add(s);break;case 2:e=e.add(s);break;case 1:i=i.add(s);break;default:jn(38017,{changeType:n})}}),new lu(this.Me,this.xe,t,e,i)}qe(){this.Oe=!1,this.Fe=mu()}Qe(t,e){this.Oe=!0,this.Fe=this.Fe.insert(t,e)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,Kn(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class pu{constructor(t){this.Ge=t,this.ze=new Map,this.je=dl(),this.Je=gu(),this.He=gu(),this.Ye=new Ta(ur)}Ze(t){for(const e of t.be)t.De&&t.De.isFoundDocument()?this.Xe(e,t.De):this.et(e,t.key,t.De);for(const e of t.removedTargetIds)this.et(e,t.key,t.De)}tt(t){this.forEachTarget(t,e=>{const i=this.nt(e);switch(t.state){case 0:this.rt(e)&&i.Le(t.resumeToken);break;case 1:i.Ke(),i.Ne||i.qe(),i.Le(t.resumeToken);break;case 2:i.Ke(),i.Ne||this.removeTarget(e);break;case 3:this.rt(e)&&(i.We(),i.Le(t.resumeToken));break;case 4:this.rt(e)&&(this.it(e),i.Le(t.resumeToken));break;default:jn(56790,{state:t.state})}})}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.ze.forEach((t,i)=>{this.rt(i)&&e(i)})}st(t){const e=t.targetId,i=t.Ce.count,s=this.ot(e);if(s){const n=s.target;if(qh(n))if(0===i){const t=new Tr(n.path);this.et(e,t,xh.newNoDocument(t,Mr.min()))}else Kn(1===i,20013,{expectedCount:i});else{const s=this._t(e);if(s!==i){const i=this.ut(t),n=i?this.ct(i,t,s):1;if(0!==n){this.it(e);const t=2===n?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(e,t)}}}}}ut(t){const e=t.Ce.unchangedNames;if(!e||!e.bits)return null;const{bits:{bitmap:i="",padding:s=0},hashCount:n=0}=e;let r,o;try{r=Oa(i).toUint8Array()}catch(a){if(a instanceof Aa)return Hn("Decoding the base64 bloom filter in existence filter failed ("+a.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw a}try{o=new ou(r,s,n)}catch(a){return Hn(a instanceof au?"BloomFilter error: ":"Applying bloom filter failed: ",a),null}return 0===o.ge?null:o}ct(t,e,i){return e.Ce.count===i-this.Pt(t,e.targetId)?0:2}Pt(t,e){const i=this.Ge.getRemoteKeysForTarget(e);let s=0;return i.forEach(i=>{const n=this.Ge.ht(),r=`projects/${n.projectId}/databases/${n.database}/documents/${i.path.canonicalString()}`;t.mightContain(r)||(this.et(e,i,null),s++)}),s}Tt(t){const e=new Map;this.ze.forEach((i,s)=>{const n=this.ot(s);if(n){if(i.current&&qh(n.target)){const e=new Tr(n.target.path);this.It(e).has(s)||this.Et(s,e)||this.et(s,e,xh.newNoDocument(e,t))}i.Be&&(e.set(s,i.ke()),i.qe())}});let i=wl();this.He.forEach((t,e)=>{let s=!0;e.forEachWhile(t=>{const e=this.ot(t);return!e||"TargetPurposeLimboResolution"===e.purpose||(s=!1,!1)}),s&&(i=i.add(t))}),this.je.forEach((e,i)=>i.setReadTime(t));const s=new hu(t,e,this.Ye,this.je,i);return this.je=dl(),this.Je=gu(),this.He=gu(),this.Ye=new Ta(ur),s}Xe(t,e){if(!this.rt(t))return;const i=this.Et(t,e.key)?2:0;this.nt(t).Qe(e.key,i),this.je=this.je.insert(e.key,e),this.Je=this.Je.insert(e.key,this.It(e.key).add(t)),this.He=this.He.insert(e.key,this.dt(e.key).add(t))}et(t,e,i){if(!this.rt(t))return;const s=this.nt(t);this.Et(t,e)?s.Qe(e,1):s.$e(e),this.He=this.He.insert(e,this.dt(e).delete(t)),this.He=this.He.insert(e,this.dt(e).add(t)),i&&(this.je=this.je.insert(e,i))}removeTarget(t){this.ze.delete(t)}_t(t){const e=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let e=this.ze.get(t);return e||(e=new fu,this.ze.set(t,e)),e}dt(t){let e=this.He.get(t);return e||(e=new Sa(ur),this.He=this.He.insert(t,e)),e}It(t){let e=this.Je.get(t);return e||(e=new Sa(ur),this.Je=this.Je.insert(t,e)),e}rt(t){const e=null!==this.ot(t);return e||Xn("WatchChangeAggregator","Detected inactive target",t),e}ot(t){const e=this.ze.get(t);return e&&e.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new fu),this.Ge.getRemoteKeysForTarget(t).forEach(e=>{this.et(t,e,null)})}Et(t,e){return this.Ge.getRemoteKeysForTarget(t).has(e)}}function gu(){return new Ta(Tr.comparator)}function mu(){return new Ta(Tr.comparator)}const vu=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),yu=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),xu=(()=>({and:"AND",or:"OR"}))();class Tu{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function wu(t,e){return t.useProto3Json||so(e)?e:{value:e}}function bu(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Su(t,e){return bu(t,e.toTimestamp())}function Eu(t){return Kn(!!t,49232),Mr.fromTimestamp(function(t){const e=Ra(t);return new Ar(e.seconds,e.nanos)}(t))}function Cu(t,e){return _u(t,e).canonicalString()}function _u(t,e){const i=(s=t,new vr(["projects",s.projectId,"databases",s.database])).child("documents");var s;return void 0===e?i:i.child(e)}function Au(t){const e=vr.fromString(t);return Kn(qu(e),10190,{key:e.toString()}),e}function Mu(t,e){return Cu(t.databaseId,e.path)}function Pu(t,e){const i=Au(e);if(i.get(1)!==t.databaseId.projectId)throw new Jn(Zn.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+t.databaseId.projectId);if(i.get(3)!==t.databaseId.database)throw new Jn(Zn.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+t.databaseId.database);return new Tr(Lu(i))}function Ru(t,e){return Cu(t.databaseId,e)}function Iu(t){const e=Au(t);return 4===e.length?vr.emptyPath():Lu(e)}function Ou(t){return new vr(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Lu(t){return Kn(t.length>4&&"documents"===t.get(4),29091,{key:t.toString()}),t.popFirst(5)}function Du(t,e,i){return{name:Mu(t,e),fields:i.value.mapValue.fields}}function ku(t,e){let i;if(e instanceof Xl)i={update:Du(t,e.key,e.value)};else if(e instanceof ql)i={delete:Mu(t,e.key)};else if(e instanceof Yl)i={update:Du(t,e.key,e.data),updateMask:ju(e.fieldMask)};else{if(!(e instanceof Kl))return jn(16599,{Vt:e.type});i={verify:Mu(t,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map(t=>function(t,e){const i=e.transform;if(i instanceof _l)return{fieldPath:e.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(i instanceof Al)return{fieldPath:e.field.canonicalString(),appendMissingElements:{values:i.elements}};if(i instanceof Pl)return{fieldPath:e.field.canonicalString(),removeAllFromArray:{values:i.elements}};if(i instanceof Il)return{fieldPath:e.field.canonicalString(),increment:i.Ae};throw jn(20930,{transform:e.transform})}(0,t))),e.precondition.isNone||(i.currentDocument=(s=t,void 0!==(n=e.precondition).updateTime?{updateTime:Su(s,n.updateTime)}:void 0!==n.exists?{exists:n.exists}:jn(27497))),i;var s,n}function Fu(t,e){const i=e.currentDocument?void 0!==(n=e.currentDocument).updateTime?Fl.updateTime(Eu(n.updateTime)):void 0!==n.exists?Fl.exists(n.exists):Fl.none():Fl.none(),s=e.updateTransforms?e.updateTransforms.map(e=>function(t,e){let i=null;if("setToServerValue"in e)Kn("REQUEST_TIME"===e.setToServerValue,16630,{proto:e}),i=new _l;else if("appendMissingElements"in e){const t=e.appendMissingElements.values||[];i=new Al(t)}else if("removeAllFromArray"in e){const t=e.removeAllFromArray.values||[];i=new Pl(t)}else"increment"in e?i=new Il(t,e.increment):jn(16584,{proto:e});const s=xr.fromServerFormat(e.fieldPath);return new Dl(s,i)}(t,e)):[];var n;if(e.update){e.update.name;const n=Pu(t,e.update.name),r=new yh({mapValue:{fields:e.update.fields}});if(e.updateMask){const t=function(t){const e=t.fieldPaths||[];return new _a(e.map(t=>xr.fromServerFormat(t)))}(e.updateMask);return new Yl(n,r,t,i,s)}return new Xl(n,r,i,s)}if(e.delete){const s=Pu(t,e.delete);return new ql(s,i)}if(e.verify){const s=Pu(t,e.verify);return new Kl(s,i)}return jn(1463,{proto:e})}function Bu(t,e){return{documents:[Ru(t,e.path)]}}function Nu(t,e){const i={structuredQuery:{}},s=e.path;let n;null!==e.collectionGroup?(n=s,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n=s.popLast(),i.structuredQuery.from=[{collectionId:s.lastSegment()}]),i.parent=Ru(t,n);const r=function(t){if(0!==t.length)return Wu(Ah.create(t,"and"))}(e.filters);r&&(i.structuredQuery.where=r);const o=function(t){if(0!==t.length)return t.map(t=>{return{field:Yu((e=t).field),direction:Vu(e.dir)};var e})}(e.orderBy);o&&(i.structuredQuery.orderBy=o);const a=wu(t,e.limit);return null!==a&&(i.structuredQuery.limit=a),e.startAt&&(i.structuredQuery.startAt={before:(h=e.startAt).inclusive,values:h.position}),e.endAt&&(i.structuredQuery.endAt=function(t){return{before:!t.inclusive,values:t.position}}(e.endAt)),{ft:i,parent:n};var h}function zu(t){let e=Iu(t.parent);const i=t.structuredQuery,s=i.from?i.from.length:0;let n=null;if(s>0){Kn(1===s,65062);const t=i.from[0];t.allDescendants?n=t.collectionId:e=e.child(t.collectionId)}let r=[];i.where&&(r=function(t){const e=Uu(t);return e instanceof Ah&&Rh(e)?e.getFilters():[e]}(i.where));let o=[];i.orderBy&&(o=i.orderBy.map(t=>{return new Sh(Hu((e=t).field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction));var e}));let a=null;i.limit&&(a=function(t){let e;return e="object"==typeof t?t.value:t,so(e)?null:e}(i.limit));let h=null;i.startAt&&(h=function(t){const e=!!t.before,i=t.values||[];return new Th(i,e)}(i.startAt));let l=null;return i.endAt&&(l=function(t){const e=!t.before,i=t.values||[];return new Th(i,e)}(i.endAt)),function(t,e,i,s,n,r,o,a){return new Jh(t,e,i,s,n,r,o,a)}(e,n,o,r,a,"F",h,l)}function Uu(t){return void 0!==t.unaryFilter?function(t){switch(t.unaryFilter.op){case"IS_NAN":const e=Hu(t.unaryFilter.field);return _h.create(e,"==",{doubleValue:NaN});case"IS_NULL":const i=Hu(t.unaryFilter.field);return _h.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Hu(t.unaryFilter.field);return _h.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const n=Hu(t.unaryFilter.field);return _h.create(n,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return jn(61313);default:return jn(60726)}}(t):void 0!==t.fieldFilter?(e=t,_h.create(Hu(e.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return jn(58110);default:return jn(50506)}}(e.fieldFilter.op),e.fieldFilter.value)):void 0!==t.compositeFilter?function(t){return Ah.create(t.compositeFilter.filters.map(t=>Uu(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return jn(1026)}}(t.compositeFilter.op))}(t):jn(30097,{filter:t});var e}function Vu(t){return vu[t]}function Gu(t){return yu[t]}function Xu(t){return xu[t]}function Yu(t){return{fieldPath:t.canonicalString()}}function Hu(t){return xr.fromServerFormat(t.fieldPath)}function Wu(t){return t instanceof _h?function(t){if("=="===t.op){if(hh(t.value))return{unaryFilter:{field:Yu(t.field),op:"IS_NAN"}};if(ah(t.value))return{unaryFilter:{field:Yu(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(hh(t.value))return{unaryFilter:{field:Yu(t.field),op:"IS_NOT_NAN"}};if(ah(t.value))return{unaryFilter:{field:Yu(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Yu(t.field),op:Gu(t.op),value:t.value}}}(t):t instanceof Ah?function(t){const e=t.getFilters().map(t=>Wu(t));return 1===e.length?e[0]:{compositeFilter:{op:Xu(t.op),filters:e}}}(t):jn(54877,{filter:t})}function ju(t){const e=[];return t.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function qu(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */class Ku{constructor(t,e,i,s,n=Mr.min(),r=Mr.min(),o=Ma.EMPTY_BYTE_STRING,a=null){this.target=t,this.targetId=e,this.purpose=i,this.sequenceNumber=s,this.snapshotVersion=n,this.lastLimboFreeSnapshotVersion=r,this.resumeToken=o,this.expectedCount=a}withSequenceNumber(t){return new Ku(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new Ku(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Ku(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Ku(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */class $u{constructor(t){this.yt=t}}function Zu(t,e){let i;if(e.document)i=function(t,e,i){const s=Pu(t,e.name),n=Eu(e.updateTime),r=e.createTime?Eu(e.createTime):Mr.min(),o=new yh({mapValue:{fields:e.fields}}),a=xh.newFoundDocument(s,n,r,o);return i&&a.setHasCommittedMutations(),i?a.setHasCommittedMutations():a}(t.yt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const t=Tr.fromSegments(e.noDocument.path),s=ec(e.noDocument.readTime);i=xh.newNoDocument(t,s),e.hasCommittedMutations&&i.setHasCommittedMutations()}else{if(!e.unknownDocument)return jn(56709);{const t=Tr.fromSegments(e.unknownDocument.path),s=ec(e.unknownDocument.version);i=xh.newUnknownDocument(t,s)}}return e.readTime&&i.setReadTime(function(t){const e=new Ar(t[0],t[1]);return Mr.fromTimestamp(e)}(e.readTime)),i}function Ju(t,e){const i=e.key,s={prefixPath:i.getCollectionPath().popLast().toArray(),collectionGroup:i.collectionGroup,documentId:i.path.lastSegment(),readTime:Qu(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())s.document={name:Mu(n=t.yt,(r=e).key),fields:r.data.value.mapValue.fields,updateTime:bu(n,r.version.toTimestamp()),createTime:bu(n,r.createTime.toTimestamp())};else if(e.isNoDocument())s.noDocument={path:i.path.toArray(),readTime:tc(e.version)};else{if(!e.isUnknownDocument())return jn(57904,{document:e});s.unknownDocument={path:i.path.toArray(),version:tc(e.version)}}var n,r;return s}function Qu(t){const e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function tc(t){const e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function ec(t){const e=new Ar(t.seconds,t.nanoseconds);return Mr.fromTimestamp(e)}function ic(t,e){const i=(e.baseMutations||[]).map(e=>Fu(t.yt,e));for(let r=0;r<e.mutations.length-1;++r){const t=e.mutations[r];if(r+1<e.mutations.length&&void 0!==e.mutations[r+1].transform){const i=e.mutations[r+1];t.updateTransforms=i.transform.fieldTransforms,e.mutations.splice(r+1,1),++r}}const s=e.mutations.map(e=>Fu(t.yt,e)),n=Ar.fromMillis(e.localWriteTimeMs);return new $l(e.batchId,n,i,s)}function sc(t){const e=ec(t.readTime),i=void 0!==t.lastLimboFreeSnapshotVersion?ec(t.lastLimboFreeSnapshotVersion):Mr.min();let s;return s=void 0!==t.query.documents?function(t){const e=t.documents.length;return Kn(1===e,1966,{count:e}),il(Qh(Iu(t.documents[0])))}(t.query):function(t){return il(zu(t))}(t.query),new Ku(s,t.targetId,"TargetPurposeListen",t.lastListenSequenceNumber,e,i,Ma.fromBase64String(t.resumeToken))}function nc(t,e){const i=tc(e.snapshotVersion),s=tc(e.lastLimboFreeSnapshotVersion);let n;n=qh(e.target)?Bu(t.yt,e.target):Nu(t.yt,e.target).ft;const r=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Wh(e.target),readTime:i,resumeToken:r,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:s,query:n}}function rc(t){const e=zu({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?sl(e,e.limit,"L"):e}function oc(t,e){return new Jl(e.largestBatchId,Fu(t.yt,e.overlayMutation))}function ac(t,e){const i=e.path.lastSegment();return[t,oo(e.path.popLast()),i]}function hc(t,e,i,s){return{indexId:t,uid:e,sequenceNumber:i,readTime:tc(s.readTime),documentKey:oo(s.documentKey.path),largestBatchId:s.largestBatchId}}
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */class lc{getBundleMetadata(t,e){return uc(t).get(e).next(t=>{if(t)return{id:(e=t).bundleId,createTime:ec(e.createTime),version:e.version};var e})}saveBundleMetadata(t,e){return uc(t).put({bundleId:(i=e).id,createTime:tc(Eu(i.createTime)),version:i.version});var i}getNamedQuery(t,e){return cc(t).get(e).next(t=>{if(t)return{name:(e=t).name,query:rc(e.bundledQuery),readTime:ec(e.readTime)};var e})}saveNamedQuery(t,e){return cc(t).put({name:(i=e).name,readTime:tc(Eu(i.readTime)),bundledQuery:i.bundledQuery});var i}}function uc(t){return va(t,Xo)}function cc(t){return va(t,Yo)}
/**
     * @license
     * Copyright 2022 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */class dc{constructor(t,e){this.serializer=t,this.userId=e}static wt(t,e){const i=e.uid||"";return new dc(t,i)}getOverlay(t,e){return fc(t).get(ac(this.userId,e)).next(t=>t?oc(this.serializer,t):null)}getOverlays(t,e){const i=ml();return Ur.forEach(e,e=>this.getOverlay(t,e).next(t=>{null!==t&&i.set(e,t)})).next(()=>i)}saveOverlays(t,e,i){const s=[];return i.forEach((i,n)=>{const r=new Jl(e,n);s.push(this.St(t,r))}),Ur.waitFor(s)}removeOverlaysForBatchId(t,e,i){const s=new Set;e.forEach(t=>s.add(oo(t.getCollectionPath())));const n=[];return s.forEach(e=>{const s=IDBKeyRange.bound([this.userId,e,i],[this.userId,e,i+1],!1,!0);n.push(fc(t).Z(sa,s))}),Ur.waitFor(n)}getOverlaysForCollection(t,e,i){const s=ml(),n=oo(e),r=IDBKeyRange.bound([this.userId,n,i],[this.userId,n,Number.POSITIVE_INFINITY],!0);return fc(t).J(sa,r).next(t=>{for(const e of t){const t=oc(this.serializer,e);s.set(t.getKey(),t)}return s})}getOverlaysForCollectionGroup(t,e,i,s){const n=ml();let r;const o=IDBKeyRange.bound([this.userId,e,i],[this.userId,e,Number.POSITIVE_INFINITY],!0);return fc(t).ee({index:ra,range:o},(t,e,i)=>{const o=oc(this.serializer,e);n.size()<s||o.largestBatchId===r?(n.set(o.getKey(),o),r=o.largestBatchId):i.done()}).next(()=>n)}St(t,e){return fc(t).put(function(t,e,i){const[s,n,r]=ac(e,i.mutation.key);return{userId:e,collectionPath:n,documentId:r,collectionGroup:i.mutation.key.getCollectionGroup(),largestBatchId:i.largestBatchId,overlayMutation:ku(t.yt,i.mutation)}}(this.serializer,this.userId,e))}}function fc(t){return va(t,ea)}
/**
     * @license
     * Copyright 2024 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */class pc{bt(t){return va(t,aa)}getSessionToken(t){return this.bt(t).get("sessionToken").next(t=>{const e=null==t?void 0:t.value;return e?Ma.fromUint8Array(e):Ma.EMPTY_BYTE_STRING})}setSessionToken(t,e){return this.bt(t).put({name:"sessionToken",value:e.toUint8Array()})}}
/**
     * @license
     * Copyright 2021 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */class gc{constructor(){}Dt(t,e){this.Ct(t,e),e.vt()}Ct(t,e){if("nullValue"in t)this.Ft(e,5);else if("booleanValue"in t)this.Ft(e,10),e.Mt(t.booleanValue?1:0);else if("integerValue"in t)this.Ft(e,15),e.Mt(Ia(t.integerValue));else if("doubleValue"in t){const i=Ia(t.doubleValue);isNaN(i)?this.Ft(e,13):(this.Ft(e,15),no(i)?e.Mt(0):e.Mt(i))}else if("timestampValue"in t){let i=t.timestampValue;this.Ft(e,20),"string"==typeof i&&(i=Ra(i)),e.xt(`${i.seconds||""}`),e.Mt(i.nanos||0)}else if("stringValue"in t)this.Ot(t.stringValue,e),this.Nt(e);else if("bytesValue"in t)this.Ft(e,30),e.Bt(Oa(t.bytesValue)),this.Nt(e);else if("referenceValue"in t)this.Lt(t.referenceValue,e);else if("geoPointValue"in t){const i=t.geoPointValue;this.Ft(e,45),e.Mt(i.latitude||0),e.Mt(i.longitude||0)}else"mapValue"in t?dh(t)?this.Ft(e,Number.MAX_SAFE_INTEGER):uh(t)?this.kt(t.mapValue,e):(this.qt(t.mapValue,e),this.Nt(e)):"arrayValue"in t?(this.Qt(t.arrayValue,e),this.Nt(e)):jn(19022,{$t:t})}Ot(t,e){this.Ft(e,25),this.Ut(t,e)}Ut(t,e){e.xt(t)}qt(t,e){const i=t.fields||{};this.Ft(e,55);for(const s of Object.keys(i))this.Ot(s,e),this.Ct(i[s],e)}kt(t,e){var i,s;const n=t.fields||{};this.Ft(e,53);const r=ja,o=(null==(s=null==(i=n[r].arrayValue)?void 0:i.values)?void 0:s.length)||0;this.Ft(e,15),e.Mt(Ia(o)),this.Ot(r,e),this.Ct(n[r],e)}Qt(t,e){const i=t.values||[];this.Ft(e,50);for(const s of i)this.Ct(s,e)}Lt(t,e){this.Ft(e,37),Tr.fromName(t).path.forEach(t=>{this.Ft(e,60),this.Ut(t,e)})}Ft(t,e){t.Mt(e)}Nt(t){t.Mt(2)}}gc.Kt=new gc;
/**
     * @license
     * Copyright 2021 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law | agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES | CONDITIONS OF ANY KIND, either express | implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
const mc=255;function vc(t){if(0===t)return 8;let e=0;return t>>4||(e+=4,t<<=4),t>>6||(e+=2,t<<=2),t>>7||(e+=1),e}function yc(t){const e=64-function(t){let e=0;for(let i=0;i<8;++i){const s=vc(255&t[i]);if(e+=s,8!==s)break}return e}(t);return Math.ceil(e/8)}class xc{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Wt(t){const e=t[Symbol.iterator]();let i=e.next();for(;!i.done;)this.Gt(i.value),i=e.next();this.zt()}jt(t){const e=t[Symbol.iterator]();let i=e.next();for(;!i.done;)this.Jt(i.value),i=e.next();this.Ht()}Yt(t){for(const e of t){const t=e.charCodeAt(0);if(t<128)this.Gt(t);else if(t<2048)this.Gt(960|t>>>6),this.Gt(128|63&t);else if(e<"\ud800"||"\udbff"<e)this.Gt(480|t>>>12),this.Gt(128|63&t>>>6),this.Gt(128|63&t);else{const t=e.codePointAt(0);this.Gt(240|t>>>18),this.Gt(128|63&t>>>12),this.Gt(128|63&t>>>6),this.Gt(128|63&t)}}this.zt()}Zt(t){for(const e of t){const t=e.charCodeAt(0);if(t<128)this.Jt(t);else if(t<2048)this.Jt(960|t>>>6),this.Jt(128|63&t);else if(e<"\ud800"||"\udbff"<e)this.Jt(480|t>>>12),this.Jt(128|63&t>>>6),this.Jt(128|63&t);else{const t=e.codePointAt(0);this.Jt(240|t>>>18),this.Jt(128|63&t>>>12),this.Jt(128|63&t>>>6),this.Jt(128|63&t)}}this.Ht()}Xt(t){const e=this.en(t),i=yc(e);this.tn(1+i),this.buffer[this.position++]=255&i;for(let s=e.length-i;s<e.length;++s)this.buffer[this.position++]=255&e[s]}nn(t){const e=this.en(t),i=yc(e);this.tn(1+i),this.buffer[this.position++]=~(255&i);for(let s=e.length-i;s<e.length;++s)this.buffer[this.position++]=~(255&e[s])}rn(){this.sn(mc),this.sn(255)}_n(){this.an(mc),this.an(255)}reset(){this.position=0}seed(t){this.tn(t.length),this.buffer.set(t,this.position),this.position+=t.length}un(){return this.buffer.slice(0,this.position)}en(t){const e=function(t){const e=new DataView(new ArrayBuffer(8));return e.setFloat64(0,t,!1),new Uint8Array(e.buffer)}(t),i=!!(128&e[0]);e[0]^=i?255:128;for(let s=1;s<e.length;++s)e[s]^=i?255:0;return e}Gt(t){const e=255&t;0===e?(this.sn(0),this.sn(255)):e===mc?(this.sn(mc),this.sn(0)):this.sn(e)}Jt(t){const e=255&t;0===e?(this.an(0),this.an(255)):e===mc?(this.an(mc),this.an(0)):this.an(t)}zt(){this.sn(0),this.sn(1)}Ht(){this.an(0),this.an(1)}sn(t){this.tn(1),this.buffer[this.position++]=t}an(t){this.tn(1),this.buffer[this.position++]=~t}tn(t){const e=t+this.position;if(e<=this.buffer.length)return;let i=2*this.buffer.length;i<e&&(i=e);const s=new Uint8Array(i);s.set(this.buffer),this.buffer=s}}class Tc{constructor(t){this.cn=t}Bt(t){this.cn.Wt(t)}xt(t){this.cn.Yt(t)}Mt(t){this.cn.Xt(t)}vt(){this.cn.rn()}}class wc{constructor(t){this.cn=t}Bt(t){this.cn.jt(t)}xt(t){this.cn.Zt(t)}Mt(t){this.cn.nn(t)}vt(){this.cn._n()}}class bc{constructor(){this.cn=new xc,this.ln=new Tc(this.cn),this.hn=new wc(this.cn)}seed(t){this.cn.seed(t)}Pn(t){return 0===t?this.ln:this.hn}un(){return this.cn.un()}reset(){this.cn.reset()}}
/**
     * @license
     * Copyright 2022 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */class Sc{constructor(t,e,i,s){this.Tn=t,this.In=e,this.En=i,this.dn=s}An(){const t=this.dn.length,e=0===t||255===this.dn[t-1]?t+1:t,i=new Uint8Array(e);return i.set(this.dn,0),e!==t?i.set([0],this.dn.length):++i[i.length-1],new Sc(this.Tn,this.In,this.En,i)}Rn(t,e,i){return{indexId:this.Tn,uid:t,arrayValue:_c(this.En),directionalValue:_c(this.dn),orderedDocumentKey:_c(e),documentKey:i.path.toArray()}}Vn(t,e,i){const s=this.Rn(t,e,i);return[s.indexId,s.uid,s.arrayValue,s.directionalValue,s.orderedDocumentKey,s.documentKey]}}function Ec(t,e){let i=t.Tn-e.Tn;return 0!==i?i:(i=Cc(t.En,e.En),0!==i?i:(i=Cc(t.dn,e.dn),0!==i?i:Tr.comparator(t.In,e.In)))}function Cc(t,e){for(let i=0;i<t.length&&i<e.length;++i){const s=t[i]-e[i];if(0!==s)return s}return t.length-e.length}function _c(t){return q()?function(t){let e="";for(let i=0;i<t.length;i++)e+=String.fromCharCode(t[i]);return e}(t):t}function Ac(t){return"string"!=typeof t?t:function(t){const e=new Uint8Array(t.length);for(let i=0;i<t.length;i++)e[i]=t.charCodeAt(i);return e}(t)}class Mc{constructor(t){this.mn=new Sa((t,e)=>xr.comparator(t.field,e.field)),this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.fn=t.orderBy,this.gn=[];for(const e of t.filters){const t=e;t.isInequality()?this.mn=this.mn.add(t):this.gn.push(t)}}get pn(){return this.mn.size>1}yn(t){if(Kn(t.collectionGroup===this.collectionId,49279),this.pn)return!1;const e=Rr(t);if(void 0!==e&&!this.wn(e))return!1;const i=Ir(t);let s=new Set,n=0,r=0;for(;n<i.length&&this.wn(i[n]);++n)s=s.add(i[n].fieldPath.canonicalString());if(n===i.length)return!0;if(this.mn.size>0){const t=this.mn.getIterator().getNext();if(!s.has(t.field.canonicalString())){const e=i[n];if(!this.Sn(t,e)||!this.bn(this.fn[r++],e))return!1}++n}for(;n<i.length;++n){const t=i[n];if(r>=this.fn.length||!this.bn(this.fn[r++],t))return!1}return!0}Dn(){if(this.pn)return null;let t=new Sa(xr.comparator);const e=[];for(const i of this.gn)if(!i.field.isKeyField())if("array-contains"===i.op||"array-contains-any"===i.op)e.push(new Or(i.field,2));else{if(t.has(i.field))continue;t=t.add(i.field),e.push(new Or(i.field,0))}for(const i of this.fn)i.field.isKeyField()||t.has(i.field)||(t=t.add(i.field),e.push(new Or(i.field,"asc"===i.dir?0:1)));return new Pr(Pr.UNKNOWN_ID,this.collectionId,e,Lr.empty())}wn(t){for(const e of this.gn)if(this.Sn(e,t))return!0;return!1}Sn(t,e){if(void 0===t||!t.field.isEqual(e.fieldPath))return!1;const i="array-contains"===t.op||"array-contains-any"===t.op;return 2===e.kind===i}bn(t,e){return!!t.field.isEqual(e.fieldPath)&&(0===e.kind&&"asc"===t.dir||1===e.kind&&"desc"===t.dir)}}
/**
     * @license
     * Copyright 2022 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function Pc(t){var e,i;if(Kn(t instanceof _h||t instanceof Ah,20012),t instanceof _h){if(t instanceof Vh){const s=(null==(i=null==(e=t.value.arrayValue)?void 0:e.values)?void 0:i.map(e=>_h.create(t.field,"==",e)))||[];return Ah.create(s,"or")}return t}const s=t.filters.map(t=>Pc(t));return Ah.create(s,t.op)}function Rc(t){if(0===t.getFilters().length)return[];const e=Dc(Pc(t));return Kn(Lc(e),7391),Ic(e)||Oc(e)?[e]:e.getFilters()}function Ic(t){return t instanceof _h}function Oc(t){return t instanceof Ah&&Rh(t)}function Lc(t){return Ic(t)||Oc(t)||function(t){if(t instanceof Ah&&Ph(t)){for(const e of t.getFilters())if(!Ic(e)&&!Oc(e))return!1;return!0}return!1}(t)}function Dc(t){if(Kn(t instanceof _h||t instanceof Ah,34018),t instanceof _h)return t;if(1===t.filters.length)return Dc(t.filters[0]);const e=t.filters.map(t=>Dc(t));let i=Ah.create(e,t.op);return i=Bc(i),Lc(i)?i:(Kn(i instanceof Ah,64498),Kn(Mh(i),40251),Kn(i.filters.length>1,57927),i.filters.reduce((t,e)=>kc(t,e)))}function kc(t,e){let i;return Kn(t instanceof _h||t instanceof Ah,38388),Kn(e instanceof _h||e instanceof Ah,25473),i=t instanceof _h?e instanceof _h?(s=t,n=e,Ah.create([s,n],"and")):Fc(t,e):e instanceof _h?Fc(e,t):function(t,e){if(Kn(t.filters.length>0&&e.filters.length>0,48005),Mh(t)&&Mh(e))return Dh(t,e.getFilters());const i=Ph(t)?t:e,s=Ph(t)?e:t,n=i.filters.map(t=>kc(t,s));return Ah.create(n,"or")}(t,e),Bc(i);var s,n}function Fc(t,e){if(Mh(e))return Dh(e,t.getFilters());{const i=e.filters.map(e=>kc(t,e));return Ah.create(i,"or")}}function Bc(t){if(Kn(t instanceof _h||t instanceof Ah,11850),t instanceof _h)return t;const e=t.getFilters();if(1===e.length)return Bc(e[0]);if(Ih(t))return t;const i=e.map(t=>Bc(t)),s=[];return i.forEach(e=>{e instanceof _h?s.push(e):e instanceof Ah&&(e.op===t.op?s.push(...e.filters):s.push(e))}),1===s.length?s[0]:Ah.create(s,t.op)
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */}class Nc{constructor(){this.Cn=new zc}addToCollectionParentIndex(t,e){return this.Cn.add(e),Ur.resolve()}getCollectionParents(t,e){return Ur.resolve(this.Cn.getEntries(e))}addFieldIndex(t,e){return Ur.resolve()}deleteFieldIndex(t,e){return Ur.resolve()}deleteAllFieldIndexes(t){return Ur.resolve()}createTargetIndexes(t,e){return Ur.resolve()}getDocumentsMatchingTarget(t,e){return Ur.resolve(null)}getIndexType(t,e){return Ur.resolve(0)}getFieldIndexes(t,e){return Ur.resolve([])}getNextCollectionGroupToUpdate(t){return Ur.resolve(null)}getMinOffset(t,e){return Ur.resolve(kr.min())}getMinOffsetFromCollectionGroup(t,e){return Ur.resolve(kr.min())}updateCollectionGroup(t,e,i){return Ur.resolve()}updateIndexEntries(t,e){return Ur.resolve()}}class zc{constructor(){this.index={}}add(t){const e=t.lastSegment(),i=t.popLast(),s=this.index[e]||new Sa(vr.comparator),n=!s.has(i);return this.index[e]=s.add(i),n}has(t){const e=t.lastSegment(),i=t.popLast(),s=this.index[e];return s&&s.has(i)}getEntries(t){return(this.index[t]||new Sa(vr.comparator)).toArray()}}
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */const Uc="IndexedDbIndexManager",Vc=new Uint8Array(0);class Gc{constructor(t,e){this.databaseId=e,this.vn=new zc,this.Fn=new ul(t=>Wh(t),(t,e)=>jh(t,e)),this.uid=t.uid||""}addToCollectionParentIndex(t,e){if(!this.vn.has(e)){const i=e.lastSegment(),s=e.popLast();t.addOnCommittedListener(()=>{this.vn.add(e)});const n={collectionId:i,parent:oo(s)};return Xc(t).put(n)}return Ur.resolve()}getCollectionParents(t,e){const i=[],s=IDBKeyRange.bound([e,""],[pr(e),""],!1,!0);return Xc(t).J(s).next(t=>{for(const s of t){if(s.collectionId!==e)break;i.push(lo(s.parent))}return i})}addFieldIndex(t,e){const i=Hc(t),s={indexId:(n=e).indexId,collectionGroup:n.collectionGroup,fields:n.fields.map(t=>[t.fieldPath.canonicalString(),t.kind])};var n;delete s.indexId;const r=i.add(s);if(e.indexState){const i=Wc(t);return r.next(t=>{i.put(hc(t,this.uid,e.indexState.sequenceNumber,e.indexState.offset))})}return r.next()}deleteFieldIndex(t,e){const i=Hc(t),s=Wc(t),n=Yc(t);return i.delete(e.indexId).next(()=>s.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0))).next(()=>n.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0)))}deleteAllFieldIndexes(t){const e=Hc(t),i=Yc(t),s=Wc(t);return e.Z().next(()=>i.Z()).next(()=>s.Z())}createTargetIndexes(t,e){return Ur.forEach(this.Mn(e),e=>this.getIndexType(t,e).next(i=>{if(0===i||1===i){const i=new Mc(e).Dn();if(null!=i)return this.addFieldIndex(t,i)}}))}getDocumentsMatchingTarget(t,e){const i=Yc(t);let s=!0;const n=new Map;return Ur.forEach(this.Mn(e),e=>this.xn(t,e).next(t=>{s&&(s=!!t),n.set(e,t)})).next(()=>{if(s){let t=wl();const s=[];return Ur.forEach(n,(n,r)=>{var o;Xn(Uc,`Using index ${o=n,`id=${o.indexId}|cg=${o.collectionGroup}|f=${o.fields.map(t=>`${t.fieldPath}:${t.kind}`).join(",")}`} to execute ${Wh(e)}`);const a=function(t,e){const i=Rr(e);if(void 0===i)return null;for(const s of Kh(t,i.fieldPath))switch(s.op){case"array-contains-any":return s.value.arrayValue.values||[];case"array-contains":return[s.value]}return null}(r,n),h=function(t,e){const i=new Map;for(const s of Ir(e))for(const e of Kh(t,s.fieldPath))switch(e.op){case"==":case"in":i.set(s.fieldPath.canonicalString(),e.value);break;case"not-in":case"!=":return i.set(s.fieldPath.canonicalString(),e.value),Array.from(i.values())}return null}(r,n),l=function(t,e){const i=[];let s=!0;for(const n of Ir(e)){const e=0===n.kind?$h(t,n.fieldPath,t.startAt):Zh(t,n.fieldPath,t.startAt);i.push(e.value),s&&(s=e.inclusive)}return new Th(i,s)}(r,n),u=function(t,e){const i=[];let s=!0;for(const n of Ir(e)){const e=0===n.kind?Zh(t,n.fieldPath,t.endAt):$h(t,n.fieldPath,t.endAt);i.push(e.value),s&&(s=e.inclusive)}return new Th(i,s)}(r,n),c=this.On(n,r,l),d=this.On(n,r,u),f=this.Nn(n,r,h),p=this.Bn(n.indexId,a,c,l.inclusive,d,u.inclusive,f);return Ur.forEach(p,n=>i.Y(n,e.limit).next(e=>{e.forEach(e=>{const i=Tr.fromSegments(e.documentKey);t.has(i)||(t=t.add(i),s.push(i))})}))}).next(()=>s)}return Ur.resolve(null)})}Mn(t){let e=this.Fn.get(t);return e||(e=0===t.filters.length?[t]:Rc(Ah.create(t.filters,"and")).map(e=>Hh(t.path,t.collectionGroup,t.orderBy,e.getFilters(),t.limit,t.startAt,t.endAt)),this.Fn.set(t,e),e)}Bn(t,e,i,s,n,r,o){const a=(null!=e?e.length:1)*Math.max(i.length,n.length),h=a/(null!=e?e.length:1),l=[];for(let u=0;u<a;++u){const a=e?this.Ln(e[u/h]):Vc,c=this.kn(t,a,i[u%h],s),d=this.qn(t,a,n[u%h],r),f=o.map(e=>this.kn(t,a,e,!0));l.push(...this.createRange(c,d,f))}return l}kn(t,e,i,s){const n=new Sc(t,Tr.empty(),e,i);return s?n:n.An()}qn(t,e,i,s){const n=new Sc(t,Tr.empty(),e,i);return s?n.An():n}xn(t,e){const i=new Mc(e),s=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment();return this.getFieldIndexes(t,s).next(t=>{let e=null;for(const s of t)i.yn(s)&&(!e||s.fields.length>e.fields.length)&&(e=s);return e})}getIndexType(t,e){let i=2;const s=this.Mn(e);return Ur.forEach(s,e=>this.xn(t,e).next(t=>{t?0!==i&&t.fields.length<function(t){let e=new Sa(xr.comparator),i=!1;for(const s of t.filters)for(const t of s.getFlattenedFilters())t.field.isKeyField()||("array-contains"===t.op||"array-contains-any"===t.op?i=!0:e=e.add(t.field));for(const s of t.orderBy)s.field.isKeyField()||(e=e.add(s.field));return e.size+(i?1:0)}(e)&&(i=1):i=0})).next(()=>null!==e.limit&&s.length>1&&2===i?1:i)}Qn(t,e){const i=new bc;for(const s of Ir(t)){const t=e.data.field(s.fieldPath);if(null==t)return null;const n=i.Pn(s.kind);gc.Kt.Dt(t,n)}return i.un()}Ln(t){const e=new bc;return gc.Kt.Dt(t,e.Pn(0)),e.un()}$n(t,e){const i=new bc;return gc.Kt.Dt(nh(this.databaseId,e),i.Pn(function(t){const e=Ir(t);return 0===e.length?0:e[e.length-1].kind}(t))),i.un()}Nn(t,e,i){if(null===i)return[];let s=[];s.push(new bc);let n=0;for(const r of Ir(t)){const t=i[n++];for(const i of s)if(this.Un(e,r.fieldPath)&&oh(t))s=this.Kn(s,r,t);else{const e=i.Pn(r.kind);gc.Kt.Dt(t,e)}}return this.Wn(s)}On(t,e,i){return this.Nn(t,e,i.position)}Wn(t){const e=[];for(let i=0;i<t.length;++i)e[i]=t[i].un();return e}Kn(t,e,i){const s=[...t],n=[];for(const r of i.arrayValue.values||[])for(const t of s){const i=new bc;i.seed(t.un()),gc.Kt.Dt(r,i.Pn(e.kind)),n.push(i)}return n}Un(t,e){return!!t.filters.find(t=>t instanceof _h&&t.field.isEqual(e)&&("in"===t.op||"not-in"===t.op))}getFieldIndexes(t,e){const i=Hc(t),s=Wc(t);return(e?i.J(Wo,IDBKeyRange.bound(e,e)):i.J()).next(t=>{const e=[];return Ur.forEach(t,t=>s.get([t.indexId,this.uid]).next(i=>{e.push(function(t,e){const i=e?new Lr(e.sequenceNumber,new kr(ec(e.readTime),new Tr(lo(e.documentKey)),e.largestBatchId)):Lr.empty(),s=t.fields.map(([t,e])=>new Or(xr.fromServerFormat(t),e));return new Pr(t.indexId,t.collectionGroup,s,i)}(t,i))})).next(()=>e)})}getNextCollectionGroupToUpdate(t){return this.getFieldIndexes(t).next(t=>0===t.length?null:(t.sort((t,e)=>{const i=t.indexState.sequenceNumber-e.indexState.sequenceNumber;return 0!==i?i:ur(t.collectionGroup,e.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(t,e,i){const s=Hc(t),n=Wc(t);return this.Gn(t).next(t=>s.J(Wo,IDBKeyRange.bound(e,e)).next(e=>Ur.forEach(e,e=>n.put(hc(e.indexId,this.uid,t,i)))))}updateIndexEntries(t,e){const i=new Map;return Ur.forEach(e,(e,s)=>{const n=i.get(e.collectionGroup);return(n?Ur.resolve(n):this.getFieldIndexes(t,e.collectionGroup)).next(n=>(i.set(e.collectionGroup,n),Ur.forEach(n,i=>this.zn(t,e,i).next(e=>{const n=this.jn(s,i);return e.isEqual(n)?Ur.resolve():this.Jn(t,s,i,e,n)}))))})}Hn(t,e,i,s){return Yc(t).put(s.Rn(this.uid,this.$n(i,e.key),e.key))}Yn(t,e,i,s){return Yc(t).delete(s.Vn(this.uid,this.$n(i,e.key),e.key))}zn(t,e,i){const s=Yc(t);let n=new Sa(Ec);return s.ee({index:Qo,range:IDBKeyRange.only([i.indexId,this.uid,_c(this.$n(i,e))])},(t,s)=>{n=n.add(new Sc(i.indexId,e,Ac(s.arrayValue),Ac(s.directionalValue)))}).next(()=>n)}jn(t,e){let i=new Sa(Ec);const s=this.Qn(e,t);if(null==s)return i;const n=Rr(e);if(null!=n){const r=t.data.field(n.fieldPath);if(oh(r))for(const n of r.arrayValue.values||[])i=i.add(new Sc(e.indexId,t.key,this.Ln(n),s))}else i=i.add(new Sc(e.indexId,t.key,Vc,s));return i}Jn(t,e,i,s,n){Xn(Uc,"Updating index entries for document '%s'",e.key);const r=[];return function(t,e,i,s,n){const r=t.getIterator(),o=e.getIterator();let a=Ca(r),h=Ca(o);for(;a||h;){let t=!1,e=!1;if(a&&h){const s=i(a,h);s<0?e=!0:s>0&&(t=!0)}else null!=a?e=!0:t=!0;t?(s(h),h=Ca(o)):e?(n(a),a=Ca(r)):(a=Ca(r),h=Ca(o))}}(s,n,Ec,s=>{r.push(this.Hn(t,e,i,s))},s=>{r.push(this.Yn(t,e,i,s))}),Ur.waitFor(r)}Gn(t){let e=1;return Wc(t).ee({index:Ko,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(t,i,s)=>{s.done(),e=i.sequenceNumber+1}).next(()=>e)}createRange(t,e,i){i=i.sort((t,e)=>Ec(t,e)).filter((t,e,i)=>!e||0!==Ec(t,i[e-1]));const s=[];s.push(t);for(const r of i){const i=Ec(r,t),n=Ec(r,e);if(0===i)s[0]=t.An();else if(i>0&&n<0)s.push(r),s.push(r.An());else if(n>0)break}s.push(e);const n=[];for(let r=0;r<s.length;r+=2){if(this.Zn(s[r],s[r+1]))return[];const t=s[r].Vn(this.uid,Vc,Tr.empty()),e=s[r+1].Vn(this.uid,Vc,Tr.empty());n.push(IDBKeyRange.bound(t,e))}return n}Zn(t,e){return Ec(t,e)>0}getMinOffsetFromCollectionGroup(t,e){return this.getFieldIndexes(t,e).next(jc)}getMinOffset(t,e){return Ur.mapArray(this.Mn(e),e=>this.xn(t,e).next(t=>t||jn(44426))).next(jc)}}function Xc(t){return va(t,Uo)}function Yc(t){return va(t,Zo)}function Hc(t){return va(t,Ho)}function Wc(t){return va(t,jo)}function jc(t){Kn(0!==t.length,28825);let e=t[0].indexState.offset,i=e.largestBatchId;for(let s=1;s<t.length;s++){const n=t[s].indexState.offset;Fr(n,e)<0&&(e=n),i<n.largestBatchId&&(i=n.largestBatchId)}return new kr(e.readTime,e.documentKey,i)}
/**
     * @license
     * Copyright 2018 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */const qc={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Kc=41943040;class $c{static withCacheSize(t){return new $c(t,$c.DEFAULT_COLLECTION_PERCENTILE,$c.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,e,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=i}}
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function Zc(t,e,i){const s=t.store(go),n=t.store(bo),r=[],o=IDBKeyRange.only(i.batchId);let a=0;const h=s.ee({range:o},(t,e,i)=>(a++,i.delete()));r.push(h.next(()=>{Kn(1===a,47070,{batchId:i.batchId})}));const l=[];for(const u of i.mutations){const t=To(e,u.key.path,i.batchId);r.push(n.delete(t)),l.push(u.key)}return Ur.waitFor(r).next(()=>l)}function Jc(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw jn(14731);e=t.noDocument}return JSON.stringify(e).length}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */$c.DEFAULT_COLLECTION_PERCENTILE=10,$c.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,$c.DEFAULT=new $c(Kc,$c.DEFAULT_COLLECTION_PERCENTILE,$c.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),$c.DISABLED=new $c(-1,0,0);class Qc{constructor(t,e,i,s){this.userId=t,this.serializer=e,this.indexManager=i,this.referenceDelegate=s,this.Xn={}}static wt(t,e,i,s){Kn(""!==t.uid,64387);const n=t.isAuthenticated()?t.uid:"";return new Qc(n,e,i,s)}checkEmpty(t){let e=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return ed(t).ee({index:vo,range:i},(t,i,s)=>{e=!1,s.done()}).next(()=>e)}addMutationBatch(t,e,i,s){const n=id(t),r=ed(t);return r.add({}).next(o=>{Kn("number"==typeof o,49019);const a=new $l(o,e,i,s),h=function(t,e,i){const s=i.baseMutations.map(e=>ku(t.yt,e)),n=i.mutations.map(e=>ku(t.yt,e));return{userId:e,batchId:i.batchId,localWriteTimeMs:i.localWriteTime.toMillis(),baseMutations:s,mutations:n}}(this.serializer,this.userId,a),l=[];let u=new Sa((t,e)=>ur(t.canonicalString(),e.canonicalString()));for(const t of s){const e=To(this.userId,t.key.path,o);u=u.add(t.key.path.popLast()),l.push(r.put(h)),l.push(n.put(e,wo))}return u.forEach(e=>{l.push(this.indexManager.addToCollectionParentIndex(t,e))}),t.addOnCommittedListener(()=>{this.Xn[o]=a.keys()}),Ur.waitFor(l).next(()=>a)})}lookupMutationBatch(t,e){return ed(t).get(e).next(t=>t?(Kn(t.userId===this.userId,48,"Unexpected user for mutation batch",{userId:t.userId,batchId:e}),ic(this.serializer,t)):null)}er(t,e){return this.Xn[e]?Ur.resolve(this.Xn[e]):this.lookupMutationBatch(t,e).next(t=>{if(t){const i=t.keys();return this.Xn[e]=i,i}return null})}getNextMutationBatchAfterBatchId(t,e){const i=e+1,s=IDBKeyRange.lowerBound([this.userId,i]);let n=null;return ed(t).ee({index:vo,range:s},(t,e,s)=>{e.userId===this.userId&&(Kn(e.batchId>=i,47524,{tr:i}),n=ic(this.serializer,e)),s.done()}).next(()=>n)}getHighestUnacknowledgedBatchId(t){const e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=io;return ed(t).ee({index:vo,range:e,reverse:!0},(t,e,s)=>{i=e.batchId,s.done()}).next(()=>i)}getAllMutationBatches(t){const e=IDBKeyRange.bound([this.userId,io],[this.userId,Number.POSITIVE_INFINITY]);return ed(t).J(vo,e).next(t=>t.map(t=>ic(this.serializer,t)))}getAllMutationBatchesAffectingDocumentKey(t,e){const i=xo(this.userId,e.path),s=IDBKeyRange.lowerBound(i),n=[];return id(t).ee({range:s},(i,s,r)=>{const[o,a,h]=i,l=lo(a);if(o===this.userId&&e.path.isEqual(l))return ed(t).get(h).next(t=>{if(!t)throw jn(61480,{nr:i,batchId:h});Kn(t.userId===this.userId,10503,"Unexpected user for mutation batch",{userId:t.userId,batchId:h}),n.push(ic(this.serializer,t))});r.done()}).next(()=>n)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new Sa(ur);const s=[];return e.forEach(e=>{const n=xo(this.userId,e.path),r=IDBKeyRange.lowerBound(n),o=id(t).ee({range:r},(t,s,n)=>{const[r,o,a]=t,h=lo(o);r===this.userId&&e.path.isEqual(h)?i=i.add(a):n.done()});s.push(o)}),Ur.waitFor(s).next(()=>this.rr(t,i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,s=i.length+1,n=xo(this.userId,i),r=IDBKeyRange.lowerBound(n);let o=new Sa(ur);return id(t).ee({range:r},(t,e,n)=>{const[r,a,h]=t,l=lo(a);r===this.userId&&i.isPrefixOf(l)?l.length===s&&(o=o.add(h)):n.done()}).next(()=>this.rr(t,o))}rr(t,e){const i=[],s=[];return e.forEach(e=>{s.push(ed(t).get(e).next(t=>{if(null===t)throw jn(35274,{batchId:e});Kn(t.userId===this.userId,9748,"Unexpected user for mutation batch",{userId:t.userId,batchId:e}),i.push(ic(this.serializer,t))}))}),Ur.waitFor(s).next(()=>i)}removeMutationBatch(t,e){return Zc(t.le,this.userId,e).next(i=>(t.addOnCommittedListener(()=>{this.ir(e.batchId)}),Ur.forEach(i,e=>this.referenceDelegate.markPotentiallyOrphaned(t,e))))}ir(t){delete this.Xn[t]}performConsistencyCheck(t){return this.checkEmpty(t).next(e=>{if(!e)return Ur.resolve();const i=IDBKeyRange.lowerBound(function(t){return[t]}(this.userId)),s=[];return id(t).ee({range:i},(t,e,i)=>{if(t[0]===this.userId){const e=lo(t[1]);s.push(e)}else i.done()}).next(()=>{Kn(0===s.length,56720,{sr:s.map(t=>t.canonicalString())})})})}containsKey(t,e){return td(t,this.userId,e)}_r(t){return sd(t).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:io,lastStreamToken:""})}}function td(t,e,i){const s=xo(e,i.path),n=s[1],r=IDBKeyRange.lowerBound(s);let o=!1;return id(t).ee({range:r,X:!0},(t,i,s)=>{const[r,a,h]=t;r===e&&a===n&&(o=!0),s.done()}).next(()=>o)}function ed(t){return va(t,go)}function id(t){return va(t,bo)}function sd(t){return va(t,po)}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */class nd{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new nd(0)}static cr(){return new nd(-1)}}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */class rd{constructor(t,e){this.referenceDelegate=t,this.serializer=e}allocateTargetId(t){return this.lr(t).next(e=>{const i=new nd(e.highestTargetId);return e.highestTargetId=i.next(),this.hr(t,e).next(()=>e.highestTargetId)})}getLastRemoteSnapshotVersion(t){return this.lr(t).next(t=>Mr.fromTimestamp(new Ar(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(t){return this.lr(t).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(t,e,i){return this.lr(t).next(s=>(s.highestListenSequenceNumber=e,i&&(s.lastRemoteSnapshotVersion=i.toTimestamp()),e>s.highestListenSequenceNumber&&(s.highestListenSequenceNumber=e),this.hr(t,s)))}addTargetData(t,e){return this.Pr(t,e).next(()=>this.lr(t).next(i=>(i.targetCount+=1,this.Tr(e,i),this.hr(t,i))))}updateTargetData(t,e){return this.Pr(t,e)}removeTargetData(t,e){return this.removeMatchingKeysForTargetId(t,e.targetId).next(()=>od(t).delete(e.targetId)).next(()=>this.lr(t)).next(e=>(Kn(e.targetCount>0,8065),e.targetCount-=1,this.hr(t,e)))}removeTargets(t,e,i){let s=0;const n=[];return od(t).ee((r,o)=>{const a=sc(o);a.sequenceNumber<=e&&null===i.get(a.targetId)&&(s++,n.push(this.removeTargetData(t,a)))}).next(()=>Ur.waitFor(n)).next(()=>s)}forEachTarget(t,e){return od(t).ee((t,i)=>{const s=sc(i);e(s)})}lr(t){return ad(t).get(No).next(t=>(Kn(null!==t,2888),t))}hr(t,e){return ad(t).put(No,e)}Pr(t,e){return od(t).put(nc(this.serializer,e))}Tr(t,e){let i=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,i=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,i=!0),i}getTargetCount(t){return this.lr(t).next(t=>t.targetCount)}getTargetData(t,e){const i=Wh(e),s=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let n=null;return od(t).ee({range:s,index:Oo},(t,i,s)=>{const r=sc(i);jh(e,r.target)&&(n=r,s.done())}).next(()=>n)}addMatchingKeys(t,e,i){const s=[],n=hd(t);return e.forEach(e=>{const r=oo(e.path);s.push(n.put({targetId:i,path:r})),s.push(this.referenceDelegate.addReference(t,i,e))}),Ur.waitFor(s)}removeMatchingKeys(t,e,i){const s=hd(t);return Ur.forEach(e,e=>{const n=oo(e.path);return Ur.waitFor([s.delete([i,n]),this.referenceDelegate.removeReference(t,i,e)])})}removeMatchingKeysForTargetId(t,e){const i=hd(t),s=IDBKeyRange.bound([e],[e+1],!1,!0);return i.delete(s)}getMatchingKeysForTargetId(t,e){const i=IDBKeyRange.bound([e],[e+1],!1,!0),s=hd(t);let n=wl();return s.ee({range:i,X:!0},(t,e,i)=>{const s=lo(t[1]),r=new Tr(s);n=n.add(r)}).next(()=>n)}containsKey(t,e){const i=oo(e.path),s=IDBKeyRange.bound([i],[pr(i)],!1,!0);let n=0;return hd(t).ee({index:Fo,X:!0,range:s},([t,e],i,s)=>{0!==t&&(n++,s.done())}).next(()=>n>0)}At(t,e){return od(t).get(e).next(t=>t?sc(t):null)}}function od(t){return va(t,Io)}function ad(t){return va(t,zo)}function hd(t){return va(t,Do)}
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */const ld="LruGarbageCollector";function ud([t,e],[i,s]){const n=ur(t,i);return 0===n?ur(e,s):n}class cd{constructor(t){this.Ir=t,this.buffer=new Sa(ud),this.Er=0}dr(){return++this.Er}Ar(t){const e=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(e);else{const t=this.buffer.last();ud(e,t)<0&&(this.buffer=this.buffer.delete(t).add(e))}}get maxValue(){return this.buffer.last()[0]}}class dd{constructor(t,e,i){this.garbageCollector=t,this.asyncQueue=e,this.localStore=i,this.Rr=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return null!==this.Rr}Vr(t){Xn(ld,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,()=>m(this,null,function*(){this.Rr=null;try{yield this.localStore.collectGarbage(this.garbageCollector)}catch(t){jr(t)?Xn(ld,"Ignoring IndexedDB error during garbage collection: ",t):yield zr(t)}yield this.Vr(3e5)}))}}class fd{constructor(t,e){this.mr=t,this.params=e}calculateTargetCount(t,e){return this.mr.gr(t).next(t=>Math.floor(e/100*t))}nthSequenceNumber(t,e){if(0===e)return Ur.resolve(eo.ce);const i=new cd(e);return this.mr.forEachTarget(t,t=>i.Ar(t.sequenceNumber)).next(()=>this.mr.pr(t,t=>i.Ar(t))).next(()=>i.maxValue)}removeTargets(t,e,i){return this.mr.removeTargets(t,e,i)}removeOrphanedDocuments(t,e){return this.mr.removeOrphanedDocuments(t,e)}collect(t,e){return-1===this.params.cacheSizeCollectionThreshold?(Xn("LruGarbageCollector","Garbage collection skipped; disabled"),Ur.resolve(qc)):this.getCacheSize(t).next(i=>i<this.params.cacheSizeCollectionThreshold?(Xn("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),qc):this.yr(t,e))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,e){let i,s,n,r,o,a,h;const l=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(e=>(e>this.params.maximumSequenceNumbersToCollect?(Xn("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${e}`),s=this.params.maximumSequenceNumbersToCollect):s=e,r=Date.now(),this.nthSequenceNumber(t,s))).next(s=>(i=s,o=Date.now(),this.removeTargets(t,i,e))).next(e=>(n=e,a=Date.now(),this.removeOrphanedDocuments(t,i))).next(t=>(h=Date.now(),Gn()<=dt.DEBUG&&Xn("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${r-l}ms\n\tDetermined least recently used ${s} in `+(o-r)+`ms\n\tRemoved ${n} targets in `+(a-o)+`ms\n\tRemoved ${t} documents in `+(h-a)+`ms\nTotal Duration: ${h-l}ms`),Ur.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:n,documentsRemoved:t})))}}function pd(t,e){return new fd(t,e)}
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */class gd{constructor(t,e){this.db=t,this.garbageCollector=pd(this,e)}gr(t){const e=this.wr(t);return this.db.getTargetCache().getTargetCount(t).next(t=>e.next(e=>t+e))}wr(t){let e=0;return this.pr(t,t=>{e++}).next(()=>e)}forEachTarget(t,e){return this.db.getTargetCache().forEachTarget(t,e)}pr(t,e){return this.Sr(t,(t,i)=>e(i))}addReference(t,e,i){return md(t,i)}removeReference(t,e,i){return md(t,i)}removeTargets(t,e,i){return this.db.getTargetCache().removeTargets(t,e,i)}markPotentiallyOrphaned(t,e){return md(t,e)}br(t,e){return function(t,e){let i=!1;return sd(t).te(s=>td(t,s,e).next(t=>(t&&(i=!0),Ur.resolve(!t)))).next(()=>i)}(t,e)}removeOrphanedDocuments(t,e){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),s=[];let n=0;return this.Sr(t,(r,o)=>{if(o<=e){const e=this.br(t,r).next(e=>{if(!e)return n++,i.getEntry(t,r).next(()=>(i.removeEntry(r,Mr.min()),hd(t).delete([0,oo(r.path)])))});s.push(e)}}).next(()=>Ur.waitFor(s)).next(()=>i.apply(t)).next(()=>n)}removeTarget(t,e){const i=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,i)}updateLimboDocument(t,e){return md(t,e)}Sr(t,e){const i=hd(t);let s,n=eo.ce;return i.ee({index:Fo},([t,i],{path:r,sequenceNumber:o})=>{0===t?(n!==eo.ce&&e(new Tr(lo(s)),n),n=o,s=r):n=eo.ce}).next(()=>{n!==eo.ce&&e(new Tr(lo(s)),n)})}getCacheSize(t){return this.db.getRemoteDocumentCache().getSize(t)}}function md(t,e){return hd(t).put((i=e,s=t.currentSequenceNumber,{targetId:0,path:oo(i.path),sequenceNumber:s}));var i,s}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */class vd{constructor(){this.changes=new ul(t=>t.toString(),(t,e)=>t.isEqual(e)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,xh.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const i=this.changes.get(e);return void 0!==i?Ur.resolve(i):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */class yd{constructor(t){this.serializer=t}setIndexManager(t){this.indexManager=t}addEntry(t,e,i){return bd(t).put(i)}removeEntry(t,e,i){return bd(t).delete(function(t,e){const i=t.path.toArray();return[i.slice(0,i.length-2),i[i.length-2],Qu(e),i[i.length-1]]}(e,i))}updateMetadata(t,e){return this.getMetadata(t).next(i=>(i.byteSize+=e,this.Dr(t,i)))}getEntry(t,e){let i=xh.newInvalidDocument(e);return bd(t).ee({index:Co,range:IDBKeyRange.only(Sd(e))},(t,s)=>{i=this.Cr(e,s)}).next(()=>i)}vr(t,e){let i={size:0,document:xh.newInvalidDocument(e)};return bd(t).ee({index:Co,range:IDBKeyRange.only(Sd(e))},(t,s)=>{i={document:this.Cr(e,s),size:Jc(s)}}).next(()=>i)}getEntries(t,e){let i=dl();return this.Fr(t,e,(t,e)=>{const s=this.Cr(t,e);i=i.insert(t,s)}).next(()=>i)}Mr(t,e){let i=dl(),s=new Ta(Tr.comparator);return this.Fr(t,e,(t,e)=>{const n=this.Cr(t,e);i=i.insert(t,n),s=s.insert(t,Jc(e))}).next(()=>({documents:i,Or:s}))}Fr(t,e,i){if(e.isEmpty())return Ur.resolve();let s=new Sa(Cd);e.forEach(t=>s=s.add(t));const n=IDBKeyRange.bound(Sd(s.first()),Sd(s.last())),r=s.getIterator();let o=r.getNext();return bd(t).ee({index:Co,range:n},(t,e,s)=>{const n=Tr.fromSegments([...e.prefixPath,e.collectionGroup,e.documentId]);for(;o&&Cd(o,n)<0;)i(o,null),o=r.getNext();o&&o.isEqual(n)&&(i(o,e),o=r.hasNext()?r.getNext():null),o?s.j(Sd(o)):s.done()}).next(()=>{for(;o;)i(o,null),o=r.hasNext()?r.getNext():null})}getDocumentsMatchingQuery(t,e,i,s,n){const r=e.path,o=[r.popLast().toArray(),r.lastSegment(),Qu(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],a=[r.popLast().toArray(),r.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return bd(t).J(IDBKeyRange.bound(o,a,!0)).next(t=>{null==n||n.incrementDocumentReadCount(t.length);let i=dl();for(const n of t){const t=this.Cr(Tr.fromSegments(n.prefixPath.concat(n.collectionGroup,n.documentId)),n);t.isFoundDocument()&&(al(e,t)||s.has(t.key))&&(i=i.insert(t.key,t))}return i})}getAllFromCollectionGroup(t,e,i,s){let n=dl();const r=Ed(e,i),o=Ed(e,kr.max());return bd(t).ee({index:Ao,range:IDBKeyRange.bound(r,o,!0)},(t,e,i)=>{const r=this.Cr(Tr.fromSegments(e.prefixPath.concat(e.collectionGroup,e.documentId)),e);n=n.insert(r.key,r),n.size===s&&i.done()}).next(()=>n)}newChangeBuffer(t){return new Td(this,!!t&&t.trackRemovals)}getSize(t){return this.getMetadata(t).next(t=>t.byteSize)}getMetadata(t){return wd(t).get(Ro).next(t=>(Kn(!!t,20021),t))}Dr(t,e){return wd(t).put(Ro,e)}Cr(t,e){if(e){const t=Zu(this.serializer,e);if(!t.isNoDocument()||!t.version.isEqual(Mr.min()))return t}return xh.newInvalidDocument(t)}}function xd(t){return new yd(t)}class Td extends vd{constructor(t,e){super(),this.Nr=t,this.trackRemovals=e,this.Br=new ul(t=>t.toString(),(t,e)=>t.isEqual(e))}applyChanges(t){const e=[];let i=0,s=new Sa((t,e)=>ur(t.canonicalString(),e.canonicalString()));return this.changes.forEach((n,r)=>{const o=this.Br.get(n);if(e.push(this.Nr.removeEntry(t,n,o.readTime)),r.isValidDocument()){const a=Ju(this.Nr.serializer,r);s=s.add(n.path.popLast());const h=Jc(a);i+=h-o.size,e.push(this.Nr.addEntry(t,n,a))}else if(i-=o.size,this.trackRemovals){const i=Ju(this.Nr.serializer,r.convertToNoDocument(Mr.min()));e.push(this.Nr.addEntry(t,n,i))}}),s.forEach(i=>{e.push(this.Nr.indexManager.addToCollectionParentIndex(t,i))}),e.push(this.Nr.updateMetadata(t,i)),Ur.waitFor(e)}getFromCache(t,e){return this.Nr.vr(t,e).next(t=>(this.Br.set(e,{size:t.size,readTime:t.document.readTime}),t.document))}getAllFromCache(t,e){return this.Nr.Mr(t,e).next(({documents:t,Or:e})=>(e.forEach((e,i)=>{this.Br.set(e,{size:i,readTime:t.get(e).readTime})}),t))}}function wd(t){return va(t,Po)}function bd(t){return va(t,So)}function Sd(t){const e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function Ed(t,e){const i=e.documentKey.path.toArray();return[t,Qu(e.readTime),i.slice(0,i.length-2),i.length>0?i[i.length-1]:""]}function Cd(t,e){const i=t.path.toArray(),s=e.path.toArray();let n=0;for(let r=0;r<i.length-2&&r<s.length-2;++r)if(n=ur(i[r],s[r]),n)return n;return n=ur(i.length,s.length),n||(n=ur(i[i.length-2],s[s.length-2]),n||ur(i[i.length-1],s[s.length-1])
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
/**
     * @license
     * Copyright 2022 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */)}class _d{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */class Ad{constructor(t,e,i,s){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=i,this.indexManager=s}getDocument(t,e){let i=null;return this.documentOverlayCache.getOverlay(t,e).next(s=>(i=s,this.remoteDocumentCache.getEntry(t,e))).next(t=>(null!==i&&Vl(i.mutation,t,_a.empty(),Ar.now()),t))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next(e=>this.getLocalViewOfDocuments(t,e,wl()).next(()=>e))}getLocalViewOfDocuments(t,e,i=wl()){const s=ml();return this.populateOverlays(t,s,e).next(()=>this.computeViews(t,e,s,i).next(t=>{let e=pl();return t.forEach((t,i)=>{e=e.insert(t,i.overlayedDocument)}),e}))}getOverlayedDocuments(t,e){const i=ml();return this.populateOverlays(t,i,e).next(()=>this.computeViews(t,e,i,wl()))}populateOverlays(t,e,i){const s=[];return i.forEach(t=>{e.has(t)||s.push(t)}),this.documentOverlayCache.getOverlays(t,s).next(t=>{t.forEach((t,i)=>{e.set(t,i)})})}computeViews(t,e,i,s){let n=dl();const r=yl(),o=yl();return e.forEach((t,e)=>{const o=i.get(e.key);s.has(e.key)&&(void 0===o||o.mutation instanceof Yl)?n=n.insert(e.key,e):void 0!==o?(r.set(e.key,o.mutation.getFieldMask()),Vl(o.mutation,e,o.mutation.getFieldMask(),Ar.now())):r.set(e.key,_a.empty())}),this.recalculateAndSaveOverlays(t,n).next(t=>(t.forEach((t,e)=>r.set(t,e)),e.forEach((t,e)=>{var i;return o.set(t,new _d(e,null!=(i=r.get(t))?i:null))}),o))}recalculateAndSaveOverlays(t,e){const i=yl();let s=new Ta((t,e)=>t-e),n=wl();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next(t=>{for(const n of t)n.keys().forEach(t=>{const r=e.get(t);if(null===r)return;let o=i.get(t)||_a.empty();o=n.applyToLocalView(r,o),i.set(t,o);const a=(s.get(n.batchId)||wl()).add(t);s=s.insert(n.batchId,a)})}).next(()=>{const r=[],o=s.getReverseIterator();for(;o.hasNext();){const s=o.getNext(),a=s.key,h=s.value,l=vl();h.forEach(t=>{if(!n.has(t)){const s=zl(e.get(t),i.get(t));null!==s&&l.set(t,s),n=n.add(t)}}),r.push(this.documentOverlayCache.saveOverlays(t,a,l))}return Ur.waitFor(r)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next(e=>this.recalculateAndSaveOverlays(t,e))}getDocumentsMatchingQuery(t,e,i,s){return n=e,Tr.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length?this.getDocumentsMatchingDocumentQuery(t,e.path):function(t){return null!==t.collectionGroup}(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,i,s):this.getDocumentsMatchingCollectionQuery(t,e,i,s);var n}getNextDocuments(t,e,i,s){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,i,s).next(n=>{const r=s-n.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,i.largestBatchId,s-n.size):Ur.resolve(ml());let o=-1,a=n;return r.next(e=>Ur.forEach(e,(e,i)=>(o<i.largestBatchId&&(o=i.largestBatchId),n.get(e)?Ur.resolve():this.remoteDocumentCache.getEntry(t,e).next(t=>{a=a.insert(e,t)}))).next(()=>this.populateOverlays(t,e,n)).next(()=>this.computeViews(t,a,e,wl())).next(t=>({batchId:o,changes:gl(t)})))})}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new Tr(e)).next(t=>{let e=pl();return t.isFoundDocument()&&(e=e.insert(t.key,t)),e})}getDocumentsMatchingCollectionGroupQuery(t,e,i,s){const n=e.collectionGroup;let r=pl();return this.indexManager.getCollectionParents(t,n).next(o=>Ur.forEach(o,o=>{const a=(h=e,l=o.child(n),new Jh(l,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt));var h,l;return this.getDocumentsMatchingCollectionQuery(t,a,i,s).next(t=>{t.forEach((t,e)=>{r=r.insert(t,e)})})}).next(()=>r))}getDocumentsMatchingCollectionQuery(t,e,i,s){let n;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,i.largestBatchId).next(r=>(n=r,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,i,n,s))).next(t=>{n.forEach((e,i)=>{const s=i.getKey();null===t.get(s)&&(t=t.insert(s,xh.newInvalidDocument(s)))});let i=pl();return t.forEach((t,s)=>{const r=n.get(t);void 0!==r&&Vl(r.mutation,s,_a.empty(),Ar.now()),al(e,s)&&(i=i.insert(t,s))}),i})}}
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */class Md{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,e){return Ur.resolve(this.Lr.get(e))}saveBundleMetadata(t,e){return this.Lr.set(e.id,{id:(i=e).id,version:i.version,createTime:Eu(i.createTime)}),Ur.resolve();var i}getNamedQuery(t,e){return Ur.resolve(this.kr.get(e))}saveNamedQuery(t,e){return this.kr.set(e.name,{name:(i=e).name,query:rc(i.bundledQuery),readTime:Eu(i.readTime)}),Ur.resolve();var i}}
/**
     * @license
     * Copyright 2022 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */class Pd{constructor(){this.overlays=new Ta(Tr.comparator),this.qr=new Map}getOverlay(t,e){return Ur.resolve(this.overlays.get(e))}getOverlays(t,e){const i=ml();return Ur.forEach(e,e=>this.getOverlay(t,e).next(t=>{null!==t&&i.set(e,t)})).next(()=>i)}saveOverlays(t,e,i){return i.forEach((i,s)=>{this.St(t,e,s)}),Ur.resolve()}removeOverlaysForBatchId(t,e,i){const s=this.qr.get(i);return void 0!==s&&(s.forEach(t=>this.overlays=this.overlays.remove(t)),this.qr.delete(i)),Ur.resolve()}getOverlaysForCollection(t,e,i){const s=ml(),n=e.length+1,r=new Tr(e.child("")),o=this.overlays.getIteratorFrom(r);for(;o.hasNext();){const t=o.getNext().value,r=t.getKey();if(!e.isPrefixOf(r.path))break;r.path.length===n&&t.largestBatchId>i&&s.set(t.getKey(),t)}return Ur.resolve(s)}getOverlaysForCollectionGroup(t,e,i,s){let n=new Ta((t,e)=>t-e);const r=this.overlays.getIterator();for(;r.hasNext();){const t=r.getNext().value;if(t.getKey().getCollectionGroup()===e&&t.largestBatchId>i){let e=n.get(t.largestBatchId);null===e&&(e=ml(),n=n.insert(t.largestBatchId,e)),e.set(t.getKey(),t)}}const o=ml(),a=n.getIterator();for(;a.hasNext()&&(a.getNext().value.forEach((t,e)=>o.set(t,e)),!(o.size()>=s)););return Ur.resolve(o)}St(t,e,i){const s=this.overlays.get(i.key);if(null!==s){const t=this.qr.get(s.largestBatchId).delete(i.key);this.qr.set(s.largestBatchId,t)}this.overlays=this.overlays.insert(i.key,new Jl(e,i));let n=this.qr.get(e);void 0===n&&(n=wl(),this.qr.set(e,n)),this.qr.set(e,n.add(i.key))}}
/**
     * @license
     * Copyright 2024 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */class Rd{constructor(){this.sessionToken=Ma.EMPTY_BYTE_STRING}getSessionToken(t){return Ur.resolve(this.sessionToken)}setSessionToken(t,e){return this.sessionToken=e,Ur.resolve()}}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */class Id{constructor(){this.Qr=new Sa(Od.$r),this.Ur=new Sa(Od.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,e){const i=new Od(t,e);this.Qr=this.Qr.add(i),this.Ur=this.Ur.add(i)}Wr(t,e){t.forEach(t=>this.addReference(t,e))}removeReference(t,e){this.Gr(new Od(t,e))}zr(t,e){t.forEach(t=>this.removeReference(t,e))}jr(t){const e=new Tr(new vr([])),i=new Od(e,t),s=new Od(e,t+1),n=[];return this.Ur.forEachInRange([i,s],t=>{this.Gr(t),n.push(t.key)}),n}Jr(){this.Qr.forEach(t=>this.Gr(t))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const e=new Tr(new vr([])),i=new Od(e,t),s=new Od(e,t+1);let n=wl();return this.Ur.forEachInRange([i,s],t=>{n=n.add(t.key)}),n}containsKey(t){const e=new Od(t,0),i=this.Qr.firstAfterOrEqual(e);return null!==i&&t.isEqual(i.key)}}class Od{constructor(t,e){this.key=t,this.Yr=e}static $r(t,e){return Tr.comparator(t.key,e.key)||ur(t.Yr,e.Yr)}static Kr(t,e){return ur(t.Yr,e.Yr)||Tr.comparator(t.key,e.key)}}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */class Ld{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.tr=1,this.Zr=new Sa(Od.$r)}checkEmpty(t){return Ur.resolve(0===this.mutationQueue.length)}addMutationBatch(t,e,i,s){const n=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const r=new $l(n,e,i,s);this.mutationQueue.push(r);for(const o of s)this.Zr=this.Zr.add(new Od(o.key,n)),this.indexManager.addToCollectionParentIndex(t,o.key.path.popLast());return Ur.resolve(r)}lookupMutationBatch(t,e){return Ur.resolve(this.Xr(e))}getNextMutationBatchAfterBatchId(t,e){const i=e+1,s=this.ei(i),n=s<0?0:s;return Ur.resolve(this.mutationQueue.length>n?this.mutationQueue[n]:null)}getHighestUnacknowledgedBatchId(){return Ur.resolve(0===this.mutationQueue.length?io:this.tr-1)}getAllMutationBatches(t){return Ur.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const i=new Od(e,0),s=new Od(e,Number.POSITIVE_INFINITY),n=[];return this.Zr.forEachInRange([i,s],t=>{const e=this.Xr(t.Yr);n.push(e)}),Ur.resolve(n)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new Sa(ur);return e.forEach(t=>{const e=new Od(t,0),s=new Od(t,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([e,s],t=>{i=i.add(t.Yr)})}),Ur.resolve(this.ti(i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,s=i.length+1;let n=i;Tr.isDocumentKey(n)||(n=n.child(""));const r=new Od(new Tr(n),0);let o=new Sa(ur);return this.Zr.forEachWhile(t=>{const e=t.key.path;return!!i.isPrefixOf(e)&&(e.length===s&&(o=o.add(t.Yr)),!0)},r),Ur.resolve(this.ti(o))}ti(t){const e=[];return t.forEach(t=>{const i=this.Xr(t);null!==i&&e.push(i)}),e}removeMutationBatch(t,e){Kn(0===this.ni(e.batchId,"removed"),55003),this.mutationQueue.shift();let i=this.Zr;return Ur.forEach(e.mutations,s=>{const n=new Od(s.key,e.batchId);return i=i.delete(n),this.referenceDelegate.markPotentiallyOrphaned(t,s.key)}).next(()=>{this.Zr=i})}ir(t){}containsKey(t,e){const i=new Od(e,0),s=this.Zr.firstAfterOrEqual(i);return Ur.resolve(e.isEqual(s&&s.key))}performConsistencyCheck(t){return this.mutationQueue.length,Ur.resolve()}ni(t,e){return this.ei(t)}ei(t){return 0===this.mutationQueue.length?0:t-this.mutationQueue[0].batchId}Xr(t){const e=this.ei(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */class Dd{constructor(t){this.ri=t,this.docs=new Ta(Tr.comparator),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const i=e.key,s=this.docs.get(i),n=s?s.size:0,r=this.ri(e);return this.docs=this.docs.insert(i,{document:e.mutableCopy(),size:r}),this.size+=r-n,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const i=this.docs.get(e);return Ur.resolve(i?i.document.mutableCopy():xh.newInvalidDocument(e))}getEntries(t,e){let i=dl();return e.forEach(t=>{const e=this.docs.get(t);i=i.insert(t,e?e.document.mutableCopy():xh.newInvalidDocument(t))}),Ur.resolve(i)}getDocumentsMatchingQuery(t,e,i,s){let n=dl();const r=e.path,o=new Tr(r.child("__id-9223372036854775808__")),a=this.docs.getIteratorFrom(o);for(;a.hasNext();){const{key:t,value:{document:o}}=a.getNext();if(!r.isPrefixOf(t.path))break;t.path.length>r.length+1||Fr(Dr(o),i)<=0||(s.has(o.key)||al(e,o))&&(n=n.insert(o.key,o.mutableCopy()))}return Ur.resolve(n)}getAllFromCollectionGroup(t,e,i,s){jn(9500)}ii(t,e){return Ur.forEach(this.docs,t=>e(t))}newChangeBuffer(t){return new kd(this)}getSize(t){return Ur.resolve(this.size)}}class kd extends vd{constructor(t){super(),this.Nr=t}applyChanges(t){const e=[];return this.changes.forEach((i,s)=>{s.isValidDocument()?e.push(this.Nr.addEntry(t,s)):this.Nr.removeEntry(i)}),Ur.waitFor(e)}getFromCache(t,e){return this.Nr.getEntry(t,e)}getAllFromCache(t,e){return this.Nr.getEntries(t,e)}}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */class Fd{constructor(t){this.persistence=t,this.si=new ul(t=>Wh(t),jh),this.lastRemoteSnapshotVersion=Mr.min(),this.highestTargetId=0,this.oi=0,this._i=new Id,this.targetCount=0,this.ai=nd.ur()}forEachTarget(t,e){return this.si.forEach((t,i)=>e(i)),Ur.resolve()}getLastRemoteSnapshotVersion(t){return Ur.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return Ur.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),Ur.resolve(this.highestTargetId)}setTargetsMetadata(t,e,i){return i&&(this.lastRemoteSnapshotVersion=i),e>this.oi&&(this.oi=e),Ur.resolve()}Pr(t){this.si.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.ai=new nd(e),this.highestTargetId=e),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,e){return this.Pr(e),this.targetCount+=1,Ur.resolve()}updateTargetData(t,e){return this.Pr(e),Ur.resolve()}removeTargetData(t,e){return this.si.delete(e.target),this._i.jr(e.targetId),this.targetCount-=1,Ur.resolve()}removeTargets(t,e,i){let s=0;const n=[];return this.si.forEach((r,o)=>{o.sequenceNumber<=e&&null===i.get(o.targetId)&&(this.si.delete(r),n.push(this.removeMatchingKeysForTargetId(t,o.targetId)),s++)}),Ur.waitFor(n).next(()=>s)}getTargetCount(t){return Ur.resolve(this.targetCount)}getTargetData(t,e){const i=this.si.get(e)||null;return Ur.resolve(i)}addMatchingKeys(t,e,i){return this._i.Wr(e,i),Ur.resolve()}removeMatchingKeys(t,e,i){this._i.zr(e,i);const s=this.persistence.referenceDelegate,n=[];return s&&e.forEach(e=>{n.push(s.markPotentiallyOrphaned(t,e))}),Ur.waitFor(n)}removeMatchingKeysForTargetId(t,e){return this._i.jr(e),Ur.resolve()}getMatchingKeysForTargetId(t,e){const i=this._i.Hr(e);return Ur.resolve(i)}containsKey(t,e){return Ur.resolve(this._i.containsKey(e))}}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */class Bd{constructor(t,e){this.ui={},this.overlays={},this.ci=new eo(0),this.li=!1,this.li=!0,this.hi=new Rd,this.referenceDelegate=t(this),this.Pi=new Fd(this),this.indexManager=new Nc,this.remoteDocumentCache=new Dd(t=>this.referenceDelegate.Ti(t)),this.serializer=new $u(e),this.Ii=new Md(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new Pd,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let i=this.ui[t.toKey()];return i||(i=new Ld(e,this.referenceDelegate),this.ui[t.toKey()]=i),i}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,e,i){Xn("MemoryPersistence","Starting transaction:",t);const s=new Nd(this.ci.next());return this.referenceDelegate.Ei(),i(s).next(t=>this.referenceDelegate.di(s).next(()=>t)).toPromise().then(t=>(s.raiseOnCommittedEvent(),t))}Ai(t,e){return Ur.or(Object.values(this.ui).map(i=>()=>i.containsKey(t,e)))}}class Nd extends Nr{constructor(t){super(),this.currentSequenceNumber=t}}class zd{constructor(t){this.persistence=t,this.Ri=new Id,this.Vi=null}static mi(t){return new zd(t)}get fi(){if(this.Vi)return this.Vi;throw jn(60996)}addReference(t,e,i){return this.Ri.addReference(i,e),this.fi.delete(i.toString()),Ur.resolve()}removeReference(t,e,i){return this.Ri.removeReference(i,e),this.fi.add(i.toString()),Ur.resolve()}markPotentiallyOrphaned(t,e){return this.fi.add(e.toString()),Ur.resolve()}removeTarget(t,e){this.Ri.jr(e.targetId).forEach(t=>this.fi.add(t.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,e.targetId).next(t=>{t.forEach(t=>this.fi.add(t.toString()))}).next(()=>i.removeTargetData(t,e))}Ei(){this.Vi=new Set}di(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ur.forEach(this.fi,i=>{const s=Tr.fromPath(i);return this.gi(t,s).next(t=>{t||e.removeEntry(s,Mr.min())})}).next(()=>(this.Vi=null,e.apply(t)))}updateLimboDocument(t,e){return this.gi(t,e).next(t=>{t?this.fi.delete(e.toString()):this.fi.add(e.toString())})}Ti(t){return 0}gi(t,e){return Ur.or([()=>Ur.resolve(this.Ri.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Ai(t,e)])}}class Ud{constructor(t,e){this.persistence=t,this.pi=new ul(t=>oo(t.path),(t,e)=>t.isEqual(e)),this.garbageCollector=pd(this,e)}static mi(t,e){return new Ud(t,e)}Ei(){}di(t){return Ur.resolve()}forEachTarget(t,e){return this.persistence.getTargetCache().forEachTarget(t,e)}gr(t){const e=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next(t=>e.next(e=>t+e))}wr(t){let e=0;return this.pr(t,t=>{e++}).next(()=>e)}pr(t,e){return Ur.forEach(this.pi,(i,s)=>this.br(t,i,s).next(t=>t?Ur.resolve():e(s)))}removeTargets(t,e,i){return this.persistence.getTargetCache().removeTargets(t,e,i)}removeOrphanedDocuments(t,e){let i=0;const s=this.persistence.getRemoteDocumentCache(),n=s.newChangeBuffer();return s.ii(t,s=>this.br(t,s,e).next(t=>{t||(i++,n.removeEntry(s,Mr.min()))})).next(()=>n.apply(t)).next(()=>i)}markPotentiallyOrphaned(t,e){return this.pi.set(e,t.currentSequenceNumber),Ur.resolve()}removeTarget(t,e){const i=e.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,i)}addReference(t,e,i){return this.pi.set(i,t.currentSequenceNumber),Ur.resolve()}removeReference(t,e,i){return this.pi.set(i,t.currentSequenceNumber),Ur.resolve()}updateLimboDocument(t,e){return this.pi.set(e,t.currentSequenceNumber),Ur.resolve()}Ti(t){let e=t.key.toString().length;return t.isFoundDocument()&&(e+=sh(t.data.value)),e}br(t,e,i){return Ur.or([()=>this.persistence.Ai(t,e),()=>this.persistence.getTargetCache().containsKey(t,e),()=>{const t=this.pi.get(e);return Ur.resolve(void 0!==t&&t>i)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */class Vd{constructor(t){this.serializer=t}k(t,e,i,s){const n=new Gr("createOrUpgrade",e);i<1&&s>=1&&(t.createObjectStore(co),function(t){t.createObjectStore(po,{keyPath:"userId"}),t.createObjectStore(go,{keyPath:mo,autoIncrement:!0}).createIndex(vo,yo,{unique:!0}),t.createObjectStore(bo)}(t),Gd(t),function(t){t.createObjectStore(uo)}(t));let r=Ur.resolve();return i<3&&s>=3&&(0!==i&&(function(t){t.deleteObjectStore(Do),t.deleteObjectStore(Io),t.deleteObjectStore(zo)}(t),Gd(t)),r=r.next(()=>function(t){const e=t.store(zo),i={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Mr.min().toTimestamp(),targetCount:0};return e.put(No,i)}(n))),i<4&&s>=4&&(0!==i&&(r=r.next(()=>function(t,e){return e.store(go).J().next(i=>{t.deleteObjectStore(go),t.createObjectStore(go,{keyPath:mo,autoIncrement:!0}).createIndex(vo,yo,{unique:!0});const s=e.store(go),n=i.map(t=>s.put(t));return Ur.waitFor(n)})}(t,n))),r=r.next(()=>{!function(t){t.createObjectStore(Go,{keyPath:"clientId"})}(t)})),i<5&&s>=5&&(r=r.next(()=>this.yi(n))),i<6&&s>=6&&(r=r.next(()=>(function(t){t.createObjectStore(Po)}(t),this.wi(n)))),i<7&&s>=7&&(r=r.next(()=>this.Si(n))),i<8&&s>=8&&(r=r.next(()=>this.bi(t,n))),i<9&&s>=9&&(r=r.next(()=>{!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t)})),i<10&&s>=10&&(r=r.next(()=>this.Di(n))),i<11&&s>=11&&(r=r.next(()=>{!function(t){t.createObjectStore(Xo,{keyPath:"bundleId"})}(t),function(t){t.createObjectStore(Yo,{keyPath:"name"})}(t)})),i<12&&s>=12&&(r=r.next(()=>{!function(t){const e=t.createObjectStore(ea,{keyPath:ia});e.createIndex(sa,na,{unique:!1}),e.createIndex(ra,oa,{unique:!1})}(t)})),i<13&&s>=13&&(r=r.next(()=>function(t){const e=t.createObjectStore(So,{keyPath:Eo});e.createIndex(Co,_o),e.createIndex(Ao,Mo)}(t)).next(()=>this.Ci(t,n)).next(()=>t.deleteObjectStore(uo))),i<14&&s>=14&&(r=r.next(()=>this.Fi(t,n))),i<15&&s>=15&&(r=r.next(()=>function(t){t.createObjectStore(Ho,{keyPath:"indexId",autoIncrement:!0}).createIndex(Wo,"collectionGroup",{unique:!1}),t.createObjectStore(jo,{keyPath:qo}).createIndex(Ko,$o,{unique:!1}),t.createObjectStore(Zo,{keyPath:Jo}).createIndex(Qo,ta,{unique:!1})}(t))),i<16&&s>=16&&(r=r.next(()=>{e.objectStore(jo).clear()}).next(()=>{e.objectStore(Zo).clear()})),i<17&&s>=17&&(r=r.next(()=>{!function(t){t.createObjectStore(aa,{keyPath:"name"})}(t)})),i<18&&s>=18&&q()&&(r=r.next(()=>{e.objectStore(jo).clear()}).next(()=>{e.objectStore(Zo).clear()})),r}wi(t){let e=0;return t.store(uo).ee((t,i)=>{e+=Jc(i)}).next(()=>{const i={byteSize:e};return t.store(Po).put(Ro,i)})}yi(t){const e=t.store(po),i=t.store(go);return e.J().next(e=>Ur.forEach(e,e=>{const s=IDBKeyRange.bound([e.userId,io],[e.userId,e.lastAcknowledgedBatchId]);return i.J(vo,s).next(i=>Ur.forEach(i,i=>{Kn(i.userId===e.userId,18650,"Cannot process batch from unexpected user",{batchId:i.batchId});const s=ic(this.serializer,i);return Zc(t,e.userId,s).next(()=>{})}))}))}Si(t){const e=t.store(Do),i=t.store(uo);return t.store(zo).get(No).next(t=>{const s=[];return i.ee((i,n)=>{const r=new vr(i),o=[0,oo(r)];s.push(e.get(o).next(i=>{return i?Ur.resolve():(s=r,e.put({targetId:0,path:oo(s),sequenceNumber:t.highestListenSequenceNumber}));var s}))}).next(()=>Ur.waitFor(s))})}bi(t,e){t.createObjectStore(Uo,{keyPath:Vo});const i=e.store(Uo),s=new zc,n=t=>{if(s.add(t)){const e=t.lastSegment(),s=t.popLast();return i.put({collectionId:e,parent:oo(s)})}};return e.store(uo).ee({X:!0},(t,e)=>{const i=new vr(t);return n(i.popLast())}).next(()=>e.store(bo).ee({X:!0},([t,e,i],s)=>{const r=lo(e);return n(r.popLast())}))}Di(t){const e=t.store(Io);return e.ee((t,i)=>{const s=sc(i),n=nc(this.serializer,s);return e.put(n)})}Ci(t,e){const i=e.store(uo),s=[];return i.ee((t,i)=>{const n=e.store(So),r=(a=i,a.document?new Tr(vr.fromString(a.document.name).popFirst(5)):a.noDocument?Tr.fromSegments(a.noDocument.path):a.unknownDocument?Tr.fromSegments(a.unknownDocument.path):jn(36783)).path.toArray(),o={prefixPath:r.slice(0,r.length-2),collectionGroup:r[r.length-2],documentId:r[r.length-1],readTime:i.readTime||[0,0],unknownDocument:i.unknownDocument,noDocument:i.noDocument,document:i.document,hasCommittedMutations:!!i.hasCommittedMutations};var a;s.push(n.put(o))}).next(()=>Ur.waitFor(s))}Fi(t,e){const i=e.store(go),s=xd(this.serializer),n=new Bd(zd.mi,this.serializer.yt);return i.J().next(t=>{const i=new Map;return t.forEach(t=>{var e;let s=null!=(e=i.get(t.userId))?e:wl();ic(this.serializer,t).keys().forEach(t=>s=s.add(t)),i.set(t.userId,s)}),Ur.forEach(i,(t,i)=>{const r=new zn(i),o=dc.wt(this.serializer,r),a=n.getIndexManager(r),h=Qc.wt(r,this.serializer,a,n.referenceDelegate);return new Ad(s,h,o,a).recalculateAndSaveOverlaysForDocumentKeys(new ma(e,eo.ce),t).next()})})}}function Gd(t){t.createObjectStore(Do,{keyPath:ko}).createIndex(Fo,Bo,{unique:!0}),t.createObjectStore(Io,{keyPath:"targetId"}).createIndex(Oo,Lo,{unique:!0}),t.createObjectStore(zo)}const Xd="IndexedDbPersistence",Yd=18e5,Hd=5e3,Wd="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class jd{constructor(t,e,i,s,n,r,o,a,h,l,u=18){if(this.allowTabSynchronization=t,this.persistenceKey=e,this.clientId=i,this.Mi=n,this.window=r,this.document=o,this.xi=h,this.Oi=l,this.Ni=u,this.ci=null,this.li=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Bi=null,this.inForeground=!1,this.Li=null,this.ki=null,this.qi=Number.NEGATIVE_INFINITY,this.Qi=t=>Promise.resolve(),!jd.v())throw new Jn(Zn.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new gd(this,s),this.$i=e+"main",this.serializer=new $u(a),this.Ui=new Xr(this.$i,this.Ni,new Vd(this.serializer)),this.hi=new pc,this.Pi=new rd(this.referenceDelegate,this.serializer),this.remoteDocumentCache=xd(this.serializer),this.Ii=new lc,this.window&&this.window.localStorage?this.Ki=this.window.localStorage:(this.Ki=null,!1===l&&Yn(Xd,"LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Wi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Jn(Zn.FAILED_PRECONDITION,Wd);return this.Gi(),this.zi(),this.ji(),this.runTransaction("getHighestListenSequenceNumber","readonly",t=>this.Pi.getHighestSequenceNumber(t))}).then(t=>{this.ci=new eo(t,this.xi)}).then(()=>{this.li=!0}).catch(t=>(this.Ui&&this.Ui.close(),Promise.reject(t)))}Ji(t){return this.Qi=e=>m(this,null,function*(){if(this.started)return t(e)}),t(this.isPrimary)}setDatabaseDeletedListener(t){this.Ui.$(e=>m(this,null,function*(){null===e.newVersion&&(yield t())}))}setNetworkEnabled(t){this.networkEnabled!==t&&(this.networkEnabled=t,this.Mi.enqueueAndForget(()=>m(this,null,function*(){this.started&&(yield this.Wi())})))}Wi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",t=>Kd(t).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Hi(t).next(t=>{t||(this.isPrimary=!1,this.Mi.enqueueRetryable(()=>this.Qi(!1)))})}).next(()=>this.Yi(t)).next(e=>this.isPrimary&&!e?this.Zi(t).next(()=>!1):!!e&&this.Xi(t).next(()=>!0))).catch(t=>{if(jr(t))return Xn(Xd,"Failed to extend owner lease: ",t),this.isPrimary;if(!this.allowTabSynchronization)throw t;return Xn(Xd,"Releasing owner lease after error during lease refresh",t),!1}).then(t=>{this.isPrimary!==t&&this.Mi.enqueueRetryable(()=>this.Qi(t)),this.isPrimary=t})}Hi(t){return qd(t).get(fo).next(t=>Ur.resolve(this.es(t)))}ts(t){return Kd(t).delete(this.clientId)}ns(){return m(this,null,function*(){if(this.isPrimary&&!this.rs(this.qi,Yd)){this.qi=Date.now();const t=yield this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",t=>{const e=va(t,Go);return e.J().next(t=>{const i=this.ss(t,Yd),s=t.filter(t=>-1===i.indexOf(t));return Ur.forEach(s,t=>e.delete(t.clientId)).next(()=>s)})}).catch(()=>[]);if(this.Ki)for(const e of t)this.Ki.removeItem(this._s(e.clientId))}})}ji(){this.ki=this.Mi.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Wi().then(()=>this.ns()).then(()=>this.ji()))}es(t){return!!t&&t.ownerId===this.clientId}Yi(t){return this.Oi?Ur.resolve(!0):qd(t).get(fo).next(e=>{if(null!==e&&this.rs(e.leaseTimestampMs,Hd)&&!this.us(e.ownerId)){if(this.es(e)&&this.networkEnabled)return!0;if(!this.es(e)){if(!e.allowTabSynchronization)throw new Jn(Zn.FAILED_PRECONDITION,Wd);return!1}}return!(!this.networkEnabled||!this.inForeground)||Kd(t).J().next(t=>void 0===this.ss(t,Hd).find(t=>{if(this.clientId!==t.clientId){const e=!this.networkEnabled&&t.networkEnabled,i=!this.inForeground&&t.inForeground,s=this.networkEnabled===t.networkEnabled;if(e||i&&s)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&Xn(Xd,`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){return m(this,null,function*(){this.li=!1,this.cs(),this.ki&&(this.ki.cancel(),this.ki=null),this.ls(),this.hs(),yield this.Ui.runTransaction("shutdown","readwrite",[co,Go],t=>{const e=new ma(t,eo.ce);return this.Zi(e).next(()=>this.ts(e))}),this.Ui.close(),this.Ps()})}ss(t,e){return t.filter(t=>this.rs(t.updateTimeMs,e)&&!this.us(t.clientId))}Ts(){return this.runTransaction("getActiveClients","readonly",t=>Kd(t).J().next(t=>this.ss(t,Yd).map(t=>t.clientId)))}get started(){return this.li}getGlobalsCache(){return this.hi}getMutationQueue(t,e){return Qc.wt(t,this.serializer,e,this.referenceDelegate)}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(t){return new Gc(t,this.serializer.yt.databaseId)}getDocumentOverlayCache(t){return dc.wt(this.serializer,t)}getBundleCache(){return this.Ii}runTransaction(t,e,i){Xn(Xd,"Starting transaction:",t);const s="readonly"===e?"readonly":"readwrite",n=18===(r=this.Ni)?ga:17===r?pa:16===r?fa:15===r?da:14===r?ca:13===r?ua:12===r?la:11===r?ha:void jn(60245);var r;let o;return this.Ui.runTransaction(t,s,n,s=>(o=new ma(s,this.ci?this.ci.next():eo.ce),"readwrite-primary"===e?this.Hi(o).next(t=>!!t||this.Yi(o)).next(e=>{if(!e)throw Yn(`Failed to obtain primary lease for action '${t}'.`),this.isPrimary=!1,this.Mi.enqueueRetryable(()=>this.Qi(!1)),new Jn(Zn.FAILED_PRECONDITION,Br);return i(o)}).next(t=>this.Xi(o).next(()=>t)):this.Is(o).next(()=>i(o)))).then(t=>(o.raiseOnCommittedEvent(),t))}Is(t){return qd(t).get(fo).next(t=>{if(null!==t&&this.rs(t.leaseTimestampMs,Hd)&&!this.us(t.ownerId)&&!this.es(t)&&!(this.Oi||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Jn(Zn.FAILED_PRECONDITION,Wd)})}Xi(t){const e={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return qd(t).put(fo,e)}static v(){return Xr.v()}Zi(t){const e=qd(t);return e.get(fo).next(t=>this.es(t)?(Xn(Xd,"Releasing primary lease."),e.delete(fo)):Ur.resolve())}rs(t,e){const i=Date.now();return!(t<i-e||t>i&&(Yn(`Detected an update time that is in the future: ${t} > ${i}`),1))}Gi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Li=()=>{this.Mi.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.Wi()))},this.document.addEventListener("visibilitychange",this.Li),this.inForeground="visible"===this.document.visibilityState)}ls(){this.Li&&(this.document.removeEventListener("visibilitychange",this.Li),this.Li=null)}zi(){var t;"function"==typeof(null==(t=this.window)?void 0:t.addEventListener)&&(this.Bi=()=>{this.cs();const t=/(?:Version|Mobile)\/1[456]/;j()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.Mi.enterRestrictedMode(!0),this.Mi.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Bi))}hs(){this.Bi&&(this.window.removeEventListener("pagehide",this.Bi),this.Bi=null)}us(t){var e;try{const i=null!==(null==(e=this.Ki)?void 0:e.getItem(this._s(t)));return Xn(Xd,`Client '${t}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(i){return Yn(Xd,"Failed to get zombied client id.",i),!1}}cs(){if(this.Ki)try{this.Ki.setItem(this._s(this.clientId),String(Date.now()))}catch(t){Yn("Failed to set zombie client id.",t)}}Ps(){if(this.Ki)try{this.Ki.removeItem(this._s(this.clientId))}catch(t){}}_s(t){return`firestore_zombie_${this.persistenceKey}_${t}`}}function qd(t){return va(t,co)}function Kd(t){return va(t,Go)}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
class $d{constructor(t,e,i,s){this.targetId=t,this.fromCache=e,this.Es=i,this.ds=s}static As(t,e){let i=wl(),s=wl();for(const n of e.docChanges)switch(n.type){case 0:i=i.add(n.doc.key);break;case 1:s=s.add(n.doc.key)}return new $d(t,e.fromCache,i,s)}}
/**
     * @license
     * Copyright 2023 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */class Zd{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */class Jd{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=j()?8:Yr(Y())>0?6:4}initialize(t,e){this.ps=t,this.indexManager=e,this.Rs=!0}getDocumentsMatchingQuery(t,e,i,s){const n={result:null};return this.ys(t,e).next(t=>{n.result=t}).next(()=>{if(!n.result)return this.ws(t,e,s,i).next(t=>{n.result=t})}).next(()=>{if(n.result)return;const i=new Zd;return this.Ss(t,e,i).next(s=>{if(n.result=s,this.Vs)return this.bs(t,e,i,s.size)})}).next(()=>n.result)}bs(t,e,i,s){return i.documentReadCount<this.fs?(Gn()<=dt.DEBUG&&Xn("QueryEngine","SDK will not create cache indexes for query:",ol(e),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Ur.resolve()):(Gn()<=dt.DEBUG&&Xn("QueryEngine","Query:",ol(e),"scans",i.documentReadCount,"local documents and returns",s,"documents as results."),i.documentReadCount>this.gs*s?(Gn()<=dt.DEBUG&&Xn("QueryEngine","The SDK decides to create cache indexes for query:",ol(e),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,il(e))):Ur.resolve())}ys(t,e){if(tl(e))return Ur.resolve(null);let i=il(e);return this.indexManager.getIndexType(t,i).next(s=>0===s?null:(null!==e.limit&&1===s&&(e=sl(e,null,"F"),i=il(e)),this.indexManager.getDocumentsMatchingTarget(t,i).next(s=>{const n=wl(...s);return this.ps.getDocuments(t,n).next(s=>this.indexManager.getMinOffset(t,i).next(i=>{const r=this.Ds(e,s);return this.Cs(e,r,n,i.readTime)?this.ys(t,sl(e,null,"F")):this.vs(t,r,e,i)}))})))}ws(t,e,i,s){return tl(e)||s.isEqual(Mr.min())?Ur.resolve(null):this.ps.getDocuments(t,i).next(n=>{const r=this.Ds(e,n);return this.Cs(e,r,i,s)?Ur.resolve(null):(Gn()<=dt.DEBUG&&Xn("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),ol(e)),this.vs(t,r,e,function(t,e){const i=t.toTimestamp().seconds,s=t.toTimestamp().nanoseconds+1,n=Mr.fromTimestamp(1e9===s?new Ar(i+1,0):new Ar(i,s));return new kr(n,Tr.empty(),e)}(s,-1)).next(t=>t))})}Ds(t,e){let i=new Sa(hl(t));return e.forEach((e,s)=>{al(t,s)&&(i=i.add(s))}),i}Cs(t,e,i,s){if(null===t.limit)return!1;if(i.size!==e.size)return!0;const n="F"===t.limitType?e.last():e.first();return!!n&&(n.hasPendingWrites||n.version.compareTo(s)>0)}Ss(t,e,i){return Gn()<=dt.DEBUG&&Xn("QueryEngine","Using full collection scan to execute query:",ol(e)),this.ps.getDocumentsMatchingQuery(t,e,kr.min(),i)}vs(t,e,i,s){return this.ps.getDocumentsMatchingQuery(t,i,s).next(t=>(e.forEach(e=>{t=t.insert(e.key,e)}),t))}}
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */const Qd="LocalStore";class tf{constructor(t,e,i,s){this.persistence=t,this.Fs=e,this.serializer=s,this.Ms=new Ta(ur),this.xs=new ul(t=>Wh(t),jh),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(i)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new Ad(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>t.collect(e,this.Ms))}}function ef(t,e,i,s){return new tf(t,e,i,s)}function sf(t,e){return m(this,null,function*(){const i=$n(t);return yield i.persistence.runTransaction("Handle user change","readonly",t=>{let s;return i.mutationQueue.getAllMutationBatches(t).next(n=>(s=n,i.Bs(e),i.mutationQueue.getAllMutationBatches(t))).next(e=>{const n=[],r=[];let o=wl();for(const t of s){n.push(t.batchId);for(const e of t.mutations)o=o.add(e.key)}for(const t of e){r.push(t.batchId);for(const e of t.mutations)o=o.add(e.key)}return i.localDocuments.getDocuments(t,o).next(t=>({Ls:t,removedBatchIds:n,addedBatchIds:r}))})})})}function nf(t){const e=$n(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Pi.getLastRemoteSnapshotVersion(t))}function rf(t,e){const i=$n(t),s=e.snapshotVersion;let n=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",t=>{const r=i.Ns.newChangeBuffer({trackRemovals:!0});n=i.Ms;const o=[];e.targetChanges.forEach((r,a)=>{const h=n.get(a);if(!h)return;o.push(i.Pi.removeMatchingKeys(t,r.removedDocuments,a).next(()=>i.Pi.addMatchingKeys(t,r.addedDocuments,a)));let l=h.withSequenceNumber(t.currentSequenceNumber);var u,c,d;null!==e.targetMismatches.get(a)?l=l.withResumeToken(Ma.EMPTY_BYTE_STRING,Mr.min()).withLastLimboFreeSnapshotVersion(Mr.min()):r.resumeToken.approximateByteSize()>0&&(l=l.withResumeToken(r.resumeToken,s)),n=n.insert(a,l),c=l,d=r,(0===(u=h).resumeToken.approximateByteSize()||c.snapshotVersion.toMicroseconds()-u.snapshotVersion.toMicroseconds()>=3e8||d.addedDocuments.size+d.modifiedDocuments.size+d.removedDocuments.size>0)&&o.push(i.Pi.updateTargetData(t,l))});let a=dl(),h=wl();if(e.documentUpdates.forEach(s=>{e.resolvedLimboDocuments.has(s)&&o.push(i.persistence.referenceDelegate.updateLimboDocument(t,s))}),o.push(function(t,e,i){let s=wl(),n=wl();return i.forEach(t=>s=s.add(t)),e.getEntries(t,s).next(t=>{let s=dl();return i.forEach((i,r)=>{const o=t.get(i);r.isFoundDocument()!==o.isFoundDocument()&&(n=n.add(i)),r.isNoDocument()&&r.version.isEqual(Mr.min())?(e.removeEntry(i,r.readTime),s=s.insert(i,r)):!o.isValidDocument()||r.version.compareTo(o.version)>0||0===r.version.compareTo(o.version)&&o.hasPendingWrites?(e.addEntry(r),s=s.insert(i,r)):Xn(Qd,"Ignoring outdated watch update for ",i,". Current version:",o.version," Watch version:",r.version)}),{ks:s,qs:n}})}(t,r,e.documentUpdates).next(t=>{a=t.ks,h=t.qs})),!s.isEqual(Mr.min())){const e=i.Pi.getLastRemoteSnapshotVersion(t).next(e=>i.Pi.setTargetsMetadata(t,t.currentSequenceNumber,s));o.push(e)}return Ur.waitFor(o).next(()=>r.apply(t)).next(()=>i.localDocuments.getLocalViewOfDocuments(t,a,h)).next(()=>a)}).then(t=>(i.Ms=n,t))}function of(t,e){const i=$n(t);return i.persistence.runTransaction("Get next mutation batch","readonly",t=>(void 0===e&&(e=io),i.mutationQueue.getNextMutationBatchAfterBatchId(t,e)))}function af(t,e,i){return m(this,null,function*(){const s=$n(t),n=s.Ms.get(e),r=i?"readwrite":"readwrite-primary";try{i||(yield s.persistence.runTransaction("Release target",r,t=>s.persistence.referenceDelegate.removeTarget(t,n)))}catch(o){if(!jr(o))throw o;Xn(Qd,`Failed to update sequence numbers for target ${e}: ${o}`)}s.Ms=s.Ms.remove(e),s.xs.delete(n.target)})}function hf(t,e,i){const s=$n(t);let n=Mr.min(),r=wl();return s.persistence.runTransaction("Execute query","readwrite",t=>function(t,e,i){const s=$n(t),n=s.xs.get(i);return void 0!==n?Ur.resolve(s.Ms.get(n)):s.Pi.getTargetData(e,i)}(s,t,il(e)).next(e=>{if(e)return n=e.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(t,e.targetId).next(t=>{r=t})}).next(()=>s.Fs.getDocumentsMatchingQuery(t,e,i?n:Mr.min(),i?r:wl())).next(t=>(function(t,e,i){let s=t.Os.get(e)||Mr.min();i.forEach((t,e)=>{e.readTime.compareTo(s)>0&&(s=e.readTime)}),t.Os.set(e,s)}(s,function(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}(e),t),{documents:t,Qs:r})))}class lf{constructor(){this.activeTargetIds=bl}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class uf{constructor(){this.Mo=new lf,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,i){}addLocalQueryTarget(t,e=!0){return e&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,e,i){this.xo[t]=e}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new lf,Promise.resolve()}handleUserChange(t,e,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */class cf{Oo(t){}shutdown(){}}
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */const df="ConnectivityMonitor";class ff{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Xn(df,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){Xn(df,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}
/**
     * @license
     * Copyright 2023 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */let pf=null;function gf(){return null===pf?pf=268435456+Math.round(2147483648*Math.random()):pf++,"0x"+pf.toString(16)
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */}const mf="RestConnection",vf={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class yf{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const e=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Uo=e+"://"+t.host,this.Ko=`projects/${i}/databases/${s}`,this.Wo=this.databaseId.database===Va?`project_id=${i}`:`project_id=${i}&database_id=${s}`}Go(t,e,i,s,n){const r=gf(),o=this.zo(t,e.toUriEncodedString());Xn(mf,`Sending RPC '${t}' ${r}:`,o,i);const a={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(a,s,n);const{host:h}=new URL(o),l=z(h);return this.Jo(t,o,a,i,l).then(e=>(Xn(mf,`Received RPC '${t}' ${r}: `,e),e),e=>{throw Hn(mf,`RPC '${t}' ${r} failed with error: `,e,"url: ",o,"request:",i),e})}Ho(t,e,i,s,n,r){return this.Go(t,e,i,s,n)}jo(t,e,i){t["X-Goog-Api-Client"]="gl-js/ fire/"+Un,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach((e,i)=>t[i]=e),i&&i.headers.forEach((e,i)=>t[i]=e)}zo(t,e){const i=vf[t];return`${this.Uo}/v1/${e}:${i}`}terminate(){}}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */class xf{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */const Tf="WebChannelConnection";class wf extends yf{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,e,i,s,n){const r=gf();return new Promise((n,o)=>{const a=new Mn;a.setWithCredentials(!0),a.listenOnce(Rn.COMPLETE,()=>{try{switch(a.getLastErrorCode()){case In.NO_ERROR:const e=a.getResponseJson();Xn(Tf,`XHR for RPC '${t}' ${r} received:`,JSON.stringify(e)),n(e);break;case In.TIMEOUT:Xn(Tf,`RPC '${t}' ${r} timed out`),o(new Jn(Zn.DEADLINE_EXCEEDED,"Request time out"));break;case In.HTTP_ERROR:const i=a.getStatus();if(Xn(Tf,`RPC '${t}' ${r} failed with status:`,i,"response text:",a.getResponseText()),i>0){let t=a.getResponseJson();Array.isArray(t)&&(t=t[0]);const e=null==t?void 0:t.error;if(e&&e.status&&e.message){const t=function(t){const e=t.toLowerCase().replace(/_/g,"-");return Object.values(Zn).indexOf(e)>=0?e:Zn.UNKNOWN}(e.status);o(new Jn(t,e.message))}else o(new Jn(Zn.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new Jn(Zn.UNAVAILABLE,"Connection failed."));break;default:jn(9055,{l_:t,streamId:r,h_:a.getLastErrorCode(),P_:a.getLastError()})}}finally{Xn(Tf,`RPC '${t}' ${r} completed.`)}});const h=JSON.stringify(s);Xn(Tf,`RPC '${t}' ${r} sending request:`,s),a.send(e,"POST",h,i,15)})}T_(t,e,i){const s=gf(),n=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=kn(),o=Dn(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;void 0!==h&&(a.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(a.useFetchStreams=!0),this.jo(a.initMessageHeaders,e,i),a.encodeInitMessageHeaders=!0;const l=n.join("");Xn(Tf,`Creating RPC '${t}' stream ${s}: ${l}`,a);const u=r.createWebChannel(l,a);this.I_(u);let c=!1,d=!1;const f=new xf({Yo:e=>{d?Xn(Tf,`Not sending because RPC '${t}' stream ${s} is closed:`,e):(c||(Xn(Tf,`Opening RPC '${t}' stream ${s} transport.`),u.open(),c=!0),Xn(Tf,`RPC '${t}' stream ${s} sending:`,e),u.send(e))},Zo:()=>u.close()}),p=(t,e,i)=>{t.listen(e,t=>{try{i(t)}catch(e){setTimeout(()=>{throw e},0)}})};return p(u,Pn.EventType.OPEN,()=>{d||(Xn(Tf,`RPC '${t}' stream ${s} transport opened.`),f.o_())}),p(u,Pn.EventType.CLOSE,()=>{d||(d=!0,Xn(Tf,`RPC '${t}' stream ${s} transport closed`),f.a_(),this.E_(u))}),p(u,Pn.EventType.ERROR,e=>{d||(d=!0,Hn(Tf,`RPC '${t}' stream ${s} transport errored. Name:`,e.name,"Message:",e.message),f.a_(new Jn(Zn.UNAVAILABLE,"The operation could not be completed")))}),p(u,Pn.EventType.MESSAGE,e=>{var i;if(!d){const n=e.data[0];Kn(!!n,16349);const r=n,o=(null==r?void 0:r.error)||(null==(i=r[0])?void 0:i.error);if(o){Xn(Tf,`RPC '${t}' stream ${s} received error:`,o);const e=o.status;let i=function(t){const e=tu[t];if(void 0!==e)return iu(e)}(e),n=o.message;void 0===i&&(i=Zn.INTERNAL,n="Unknown error status: "+e+" with message "+o.message),d=!0,f.a_(new Jn(i,n)),u.close()}else Xn(Tf,`RPC '${t}' stream ${s} received:`,n),f.u_(n)}}),p(o,Ln.STAT_EVENT,e=>{e.stat===On.PROXY?Xn(Tf,`RPC '${t}' stream ${s} detected buffering proxy`):e.stat===On.NOPROXY&&Xn(Tf,`RPC '${t}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{f.__()},0),f}terminate(){this.c_.forEach(t=>t.close()),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter(e=>e===t)}}
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function bf(){return"undefined"!=typeof document?document:null}
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function Sf(t){return new Tu(t,!0)}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */class Ef{constructor(t,e,i=1e3,s=1.5,n=6e4){this.Mi=t,this.timerId=e,this.d_=i,this.A_=s,this.R_=n,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const e=Math.floor(this.V_+this.y_()),i=Math.max(0,Date.now()-this.f_),s=Math.max(0,e-i);s>0&&Xn("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.V_} ms, delay with jitter: ${e} ms, last attempt: ${i} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,s,()=>(this.f_=Date.now(),t())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){null!==this.m_&&(this.m_.skipDelay(),this.m_=null)}cancel(){null!==this.m_&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */const Cf="PersistentStream";class _f{constructor(t,e,i,s,n,r,o,a){this.Mi=t,this.S_=i,this.b_=s,this.connection=n,this.authCredentialsProvider=r,this.appCheckCredentialsProvider=o,this.listener=a,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Ef(t,e)}x_(){return 1===this.state||5===this.state||this.O_()}O_(){return 2===this.state||3===this.state}start(){this.F_=0,4!==this.state?this.auth():this.N_()}stop(){return m(this,null,function*(){this.x_()&&(yield this.close(0))})}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&null===this.C_&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(t){this.Q_(),this.stream.send(t)}k_(){return m(this,null,function*(){if(this.O_())return this.close(0)})}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}close(t,e){return m(this,null,function*(){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,4!==t?this.M_.reset():e&&e.code===Zn.RESOURCE_EXHAUSTED?(Yn(e.toString()),Yn("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):e&&e.code===Zn.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,yield this.listener.r_(e)})}K_(){}auth(){this.state=1;const t=this.W_(this.D_),e=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([t,i])=>{this.D_===e&&this.G_(t,i)},e=>{t(()=>{const t=new Jn(Zn.UNKNOWN,"Fetching auth token failed: "+e.message);return this.z_(t)})})}G_(t,e){const i=this.W_(this.D_);this.stream=this.j_(t,e),this.stream.Xo(()=>{i(()=>this.listener.Xo())}),this.stream.t_(()=>{i(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(t=>{i(()=>this.z_(t))}),this.stream.onMessage(t=>{i(()=>1==++this.F_?this.J_(t):this.onNext(t))})}N_(){this.state=5,this.M_.p_(()=>m(this,null,function*(){this.state=0,this.start()}))}z_(t){return Xn(Cf,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return e=>{this.Mi.enqueueAndForget(()=>this.D_===t?e():(Xn(Cf,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Af extends _f{constructor(t,e,i,s,n,r){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,i,s,r),this.serializer=n}j_(t,e){return this.connection.T_("Listen",t,e)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const e=function(t,e){let i;if("targetChange"in e){e.targetChange;const n="NO_CHANGE"===(s=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===s?1:"REMOVE"===s?2:"CURRENT"===s?3:"RESET"===s?4:jn(39313,{state:s}),r=e.targetChange.targetIds||[],o=function(t,e){return t.useProto3Json?(Kn(void 0===e||"string"==typeof e,58123),Ma.fromBase64String(e||"")):(Kn(void 0===e||e instanceof Buffer||e instanceof Uint8Array,16193),Ma.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),a=e.targetChange.cause,h=a&&function(t){const e=void 0===t.code?Zn.UNKNOWN:iu(t.code);return new Jn(e,t.message||"")}(a);i=new du(n,r,o,h||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const n=Pu(t,s.document.name),r=Eu(s.document.updateTime),o=s.document.createTime?Eu(s.document.createTime):Mr.min(),a=new yh({mapValue:{fields:s.document.fields}}),h=xh.newFoundDocument(n,r,o,a),l=s.targetIds||[],u=s.removedTargetIds||[];i=new uu(l,u,h.key,h)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const n=Pu(t,s.document),r=s.readTime?Eu(s.readTime):Mr.min(),o=xh.newNoDocument(n,r),a=s.removedTargetIds||[];i=new uu([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const n=Pu(t,s.document),r=s.removedTargetIds||[];i=new uu([],r,n,null)}else{if(!("filter"in e))return jn(11601,{Rt:e});{e.filter;const t=e.filter;t.targetId;const{count:s=0,unchangedNames:n}=t,r=new Ql(s,n),o=t.targetId;i=new cu(o,r)}}var s;return i}(this.serializer,t),i=function(t){if(!("targetChange"in t))return Mr.min();const e=t.targetChange;return e.targetIds&&e.targetIds.length?Mr.min():e.readTime?Eu(e.readTime):Mr.min()}(t);return this.listener.H_(e,i)}Y_(t){const e={};e.database=Ou(this.serializer),e.addTarget=function(t,e){let i;const s=e.target;if(i=qh(s)?{documents:Bu(t,s)}:{query:Nu(t,s).ft},i.targetId=e.targetId,e.resumeToken.approximateByteSize()>0){i.resumeToken=function(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}(t,e.resumeToken);const s=wu(t,e.expectedCount);null!==s&&(i.expectedCount=s)}else if(e.snapshotVersion.compareTo(Mr.min())>0){i.readTime=bu(t,e.snapshotVersion.toTimestamp());const s=wu(t,e.expectedCount);null!==s&&(i.expectedCount=s)}return i}(this.serializer,t);const i=function(t,e){const i=function(t){switch(t){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return jn(28987,{purpose:t})}}(e.purpose);return null==i?null:{"goog-listen-tags":i}}(this.serializer,t);i&&(e.labels=i),this.q_(e)}Z_(t){const e={};e.database=Ou(this.serializer),e.removeTarget=t,this.q_(e)}}class Mf extends _f{constructor(t,e,i,s,n,r){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,i,s,r),this.serializer=n}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,e){return this.connection.T_("Write",t,e)}J_(t){return Kn(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Kn(!t.writeResults||0===t.writeResults.length,55816),this.listener.ta()}onNext(t){Kn(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const e=function(t,e){return t&&t.length>0?(Kn(void 0!==e,14353),t.map(t=>function(t,e){let i=t.updateTime?Eu(t.updateTime):Eu(e);return i.isEqual(Mr.min())&&(i=Eu(e)),new kl(i,t.transformResults||[])}(t,e))):[]}(t.writeResults,t.commitTime),i=Eu(t.commitTime);return this.listener.na(i,e)}ra(){const t={};t.database=Ou(this.serializer),this.q_(t)}ea(t){const e={streamToken:this.lastStreamToken,writes:t.map(t=>ku(this.serializer,t))};this.q_(e)}}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */class Pf{}class Rf extends Pf{constructor(t,e,i,s){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=i,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new Jn(Zn.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,e,i,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([n,r])=>this.connection.Go(t,_u(e,i),s,n,r)).catch(t=>{throw"FirebaseError"===t.name?(t.code===Zn.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),t):new Jn(Zn.UNKNOWN,t.toString())})}Ho(t,e,i,s,n){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,o])=>this.connection.Ho(t,_u(e,i),s,r,o,n)).catch(t=>{throw"FirebaseError"===t.name?(t.code===Zn.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),t):new Jn(Zn.UNKNOWN,t.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class If{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){0===this.oa&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(t){"Online"===this.state?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,"Online"===t&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const e=`Could not reach Cloud Firestore backend. ${t}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Yn(e),this.aa=!1):Xn("OnlineStateTracker",e)}Pa(){null!==this._a&&(this._a.cancel(),this._a=null)}}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */const Of="RemoteStore";class Lf{constructor(t,e,i,s,n){this.localStore=t,this.datastore=e,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=n,this.Aa.Oo(t=>{i.enqueueAndForget(()=>m(this,null,function*(){Gf(this)&&(Xn(Of,"Restarting streams for network reachability change."),yield function(t){return m(this,null,function*(){const e=$n(t);e.Ea.add(4),yield kf(e),e.Ra.set("Unknown"),e.Ea.delete(4),yield Df(e)})}(this))}))}),this.Ra=new If(i,s)}}function Df(t){return m(this,null,function*(){if(Gf(t))for(const e of t.da)yield e(!0)})}function kf(t){return m(this,null,function*(){for(const e of t.da)yield e(!1)})}function Ff(t,e){const i=$n(t);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),Vf(i)?Uf(i):op(i).O_()&&Nf(i,e))}function Bf(t,e){const i=$n(t),s=op(i);i.Ia.delete(e),s.O_()&&zf(i,e),0===i.Ia.size&&(s.O_()?s.L_():Gf(i)&&i.Ra.set("Unknown"))}function Nf(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Mr.min())>0){const i=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}op(t).Y_(e)}function zf(t,e){t.Va.Ue(e),op(t).Z_(e)}function Uf(t){t.Va=new pu({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),op(t).start(),t.Ra.ua()}function Vf(t){return Gf(t)&&!op(t).x_()&&t.Ia.size>0}function Gf(t){return 0===$n(t).Ea.size}function Xf(t){t.Va=void 0}function Yf(t){return m(this,null,function*(){t.Ra.set("Online")})}function Hf(t){return m(this,null,function*(){t.Ia.forEach((e,i)=>{Nf(t,e)})})}function Wf(t,e){return m(this,null,function*(){Xf(t),Vf(t)?(t.Ra.ha(e),Uf(t)):t.Ra.set("Unknown")})}function jf(t,e,i){return m(this,null,function*(){if(t.Ra.set("Online"),e instanceof du&&2===e.state&&e.cause)try{yield function(t,e){return m(this,null,function*(){const i=e.cause;for(const s of e.targetIds)t.Ia.has(s)&&(yield t.remoteSyncer.rejectListen(s,i),t.Ia.delete(s),t.Va.removeTarget(s))})}(t,e)}catch(s){Xn(Of,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),yield qf(t,s)}else if(e instanceof uu?t.Va.Ze(e):e instanceof cu?t.Va.st(e):t.Va.tt(e),!i.isEqual(Mr.min()))try{const e=yield nf(t.localStore);i.compareTo(e)>=0&&(yield function(t,e){const i=t.Va.Tt(e);return i.targetChanges.forEach((i,s)=>{if(i.resumeToken.approximateByteSize()>0){const n=t.Ia.get(s);n&&t.Ia.set(s,n.withResumeToken(i.resumeToken,e))}}),i.targetMismatches.forEach((e,i)=>{const s=t.Ia.get(e);if(!s)return;t.Ia.set(e,s.withResumeToken(Ma.EMPTY_BYTE_STRING,s.snapshotVersion)),zf(t,e);const n=new Ku(s.target,e,i,s.sequenceNumber);Nf(t,n)}),t.remoteSyncer.applyRemoteEvent(i)}(t,i))}catch(n){Xn(Of,"Failed to raise snapshot:",n),yield qf(t,n)}})}function qf(t,e,i){return m(this,null,function*(){if(!jr(e))throw e;t.Ea.add(1),yield kf(t),t.Ra.set("Offline"),i||(i=()=>nf(t.localStore)),t.asyncQueue.enqueueRetryable(()=>m(null,null,function*(){Xn(Of,"Retrying IndexedDB access"),yield i(),t.Ea.delete(1),yield Df(t)}))})}function Kf(t,e){return e().catch(i=>qf(t,i,e))}function $f(t){return m(this,null,function*(){const e=$n(t),i=ap(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:io;for(;Zf(e);)try{const t=yield of(e.localStore,s);if(null===t){0===e.Ta.length&&i.L_();break}s=t.batchId,Jf(e,t)}catch(n){yield qf(e,n)}Qf(e)&&tp(e)})}function Zf(t){return Gf(t)&&t.Ta.length<10}function Jf(t,e){t.Ta.push(e);const i=ap(t);i.O_()&&i.X_&&i.ea(e.mutations)}function Qf(t){return Gf(t)&&!ap(t).x_()&&t.Ta.length>0}function tp(t){ap(t).start()}function ep(t){return m(this,null,function*(){ap(t).ra()})}function ip(t){return m(this,null,function*(){const e=ap(t);for(const i of t.Ta)e.ea(i.mutations)})}function sp(t,e,i){return m(this,null,function*(){const s=t.Ta.shift(),n=Zl.from(s,e,i);yield Kf(t,()=>t.remoteSyncer.applySuccessfulWrite(n)),yield $f(t)})}function np(t,e){return m(this,null,function*(){e&&ap(t).X_&&(yield function(t,e){return m(this,null,function*(){if(function(t){switch(t){case Zn.OK:return jn(64938);case Zn.CANCELLED:case Zn.UNKNOWN:case Zn.DEADLINE_EXCEEDED:case Zn.RESOURCE_EXHAUSTED:case Zn.INTERNAL:case Zn.UNAVAILABLE:case Zn.UNAUTHENTICATED:return!1;case Zn.INVALID_ARGUMENT:case Zn.NOT_FOUND:case Zn.ALREADY_EXISTS:case Zn.PERMISSION_DENIED:case Zn.FAILED_PRECONDITION:case Zn.ABORTED:case Zn.OUT_OF_RANGE:case Zn.UNIMPLEMENTED:case Zn.DATA_LOSS:return!0;default:return jn(15467,{code:t})}}(i=e.code)&&i!==Zn.ABORTED){const i=t.Ta.shift();ap(t).B_(),yield Kf(t,()=>t.remoteSyncer.rejectFailedWrite(i.batchId,e)),yield $f(t)}var i})}(t,e)),Qf(t)&&tp(t)})}function rp(t,e){return m(this,null,function*(){const i=$n(t);i.asyncQueue.verifyOperationInProgress(),Xn(Of,"RemoteStore received new credentials");const s=Gf(i);i.Ea.add(3),yield kf(i),s&&i.Ra.set("Unknown"),yield i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),yield Df(i)})}function op(t){return t.ma||(t.ma=function(t,e,i){const s=$n(t);return s.sa(),new Af(e,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Xo:Yf.bind(null,t),t_:Hf.bind(null,t),r_:Wf.bind(null,t),H_:jf.bind(null,t)}),t.da.push(e=>m(null,null,function*(){e?(t.ma.B_(),Vf(t)?Uf(t):t.Ra.set("Unknown")):(yield t.ma.stop(),Xf(t))}))),t.ma}function ap(t){return t.fa||(t.fa=function(t,e,i){const s=$n(t);return s.sa(),new Mf(e,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:ep.bind(null,t),r_:np.bind(null,t),ta:ip.bind(null,t),na:sp.bind(null,t)}),t.da.push(e=>m(null,null,function*(){e?(t.fa.B_(),yield $f(t)):(yield t.fa.stop(),t.Ta.length>0&&(Xn(Of,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */}class hp{constructor(t,e,i,s,n){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=i,this.op=s,this.removalCallback=n,this.deferred=new Qn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(t=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,e,i,s,n){const r=Date.now()+i,o=new hp(t,e,r,s,n);return o.start(i),o}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Jn(Zn.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function lp(t,e){if(Yn("AsyncQueue",`${e}: ${t}`),jr(t))return new Jn(Zn.UNAVAILABLE,`${e}: ${t}`);throw t}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */class up{static emptySet(t){return new up(t.comparator)}constructor(t){this.comparator=t?(e,i)=>t(e,i)||Tr.comparator(e.key,i.key):(t,e)=>Tr.comparator(t.key,e.key),this.keyedMap=pl(),this.sortedSet=new Ta(this.comparator)}has(t){return null!=this.keyedMap.get(t)}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((e,i)=>(t(e),!1))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof up))return!1;if(this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;e.hasNext();){const t=e.getNext().key,s=i.getNext().key;if(!t.isEqual(s))return!1}return!0}toString(){const t=[];return this.forEach(e=>{t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"}copy(t,e){const i=new up;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=e,i}}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */class cp{constructor(){this.ga=new Ta(Tr.comparator)}track(t){const e=t.doc.key,i=this.ga.get(e);i?0!==t.type&&3===i.type?this.ga=this.ga.insert(e,t):3===t.type&&1!==i.type?this.ga=this.ga.insert(e,{type:i.type,doc:t.doc}):2===t.type&&2===i.type?this.ga=this.ga.insert(e,{type:2,doc:t.doc}):2===t.type&&0===i.type?this.ga=this.ga.insert(e,{type:0,doc:t.doc}):1===t.type&&0===i.type?this.ga=this.ga.remove(e):1===t.type&&2===i.type?this.ga=this.ga.insert(e,{type:1,doc:i.doc}):0===t.type&&1===i.type?this.ga=this.ga.insert(e,{type:2,doc:t.doc}):jn(63341,{Rt:t,pa:i}):this.ga=this.ga.insert(e,t)}ya(){const t=[];return this.ga.inorderTraversal((e,i)=>{t.push(i)}),t}}class dp{constructor(t,e,i,s,n,r,o,a,h){this.query=t,this.docs=e,this.oldDocs=i,this.docChanges=s,this.mutatedKeys=n,this.fromCache=r,this.syncStateChanged=o,this.excludesMetadataChanges=a,this.hasCachedResults=h}static fromInitialDocuments(t,e,i,s,n){const r=[];return e.forEach(t=>{r.push({type:0,doc:t})}),new dp(t,e,up.emptySet(e),r,i,s,!0,!1,n)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&nl(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,i=t.docChanges;if(e.length!==i.length)return!1;for(let s=0;s<e.length;s++)if(e[s].type!==i[s].type||!e[s].doc.isEqual(i[s].doc))return!1;return!0}}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */class fp{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(t=>t.Da())}}class pp{constructor(){this.queries=gp(),this.onlineState="Unknown",this.Ca=new Set}terminate(){!function(t,e){const i=$n(t),s=i.queries;i.queries=gp(),s.forEach((t,i)=>{for(const s of i.Sa)s.onError(e)})}(this,new Jn(Zn.ABORTED,"Firestore shutting down"))}}function gp(){return new ul(t=>rl(t),nl)}function mp(t,e){const i=$n(t);let s=!1;for(const n of e){const t=n.query,e=i.queries.get(t);if(e){for(const t of e.Sa)t.Fa(n)&&(s=!0);e.wa=n}}s&&yp(i)}function vp(t,e,i){const s=$n(t),n=s.queries.get(e);if(n)for(const r of n.Sa)r.onError(i);s.queries.delete(e)}function yp(t){t.Ca.forEach(t=>{t.next()})}var xp,Tp;(Tp=xp||(xp={})).Ma="default",Tp.Cache="cache";class wp{constructor(t,e,i){this.query=t,this.xa=e,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(t){if(!this.options.includeMetadataChanges){const e=[];for(const i of t.docChanges)3!==i.type&&e.push(i);t=new dp(t.query,t.docs,t.oldDocs,e,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),e=!0):this.La(t,this.onlineState)&&(this.ka(t),e=!0),this.Na=t,e}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let e=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),e=!0),e}La(t,e){if(!t.fromCache)return!0;if(!this.Da())return!0;const i="Offline"!==e;return(!this.options.qa||!i)&&(!t.docs.isEmpty()||t.hasCachedResults||"Offline"===e)}Ba(t){if(t.docChanges.length>0)return!0;const e=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&!0===this.options.includeMetadataChanges}ka(t){t=dp.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==xp.Cache}}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */class bp{constructor(t){this.key=t}}class Sp{constructor(t){this.key=t}}class Ep{constructor(t,e){this.query=t,this.Ya=e,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=wl(),this.mutatedKeys=wl(),this.eu=hl(t),this.tu=new up(this.eu)}get nu(){return this.Ya}ru(t,e){const i=e?e.iu:new cp,s=e?e.tu:this.tu;let n=e?e.mutatedKeys:this.mutatedKeys,r=s,o=!1;const a="F"===this.query.limitType&&s.size===this.query.limit?s.last():null,h="L"===this.query.limitType&&s.size===this.query.limit?s.first():null;if(t.inorderTraversal((t,e)=>{const l=s.get(t),u=al(this.query,e)?e:null,c=!!l&&this.mutatedKeys.has(l.key),d=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let f=!1;l&&u?l.data.isEqual(u.data)?c!==d&&(i.track({type:3,doc:u}),f=!0):this.su(l,u)||(i.track({type:2,doc:u}),f=!0,(a&&this.eu(u,a)>0||h&&this.eu(u,h)<0)&&(o=!0)):!l&&u?(i.track({type:0,doc:u}),f=!0):l&&!u&&(i.track({type:1,doc:l}),f=!0,(a||h)&&(o=!0)),f&&(u?(r=r.add(u),n=d?n.add(t):n.delete(t)):(r=r.delete(t),n=n.delete(t)))}),null!==this.query.limit)for(;r.size>this.query.limit;){const t="F"===this.query.limitType?r.last():r.first();r=r.delete(t.key),n=n.delete(t.key),i.track({type:1,doc:t})}return{tu:r,iu:i,Cs:o,mutatedKeys:n}}su(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,i,s){const n=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const r=t.iu.ya();r.sort((t,e)=>function(t,e){const i=t=>{switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return jn(20277,{Rt:t})}};return i(t)-i(e)}(t.type,e.type)||this.eu(t.doc,e.doc)),this.ou(i),s=null!=s&&s;const o=e&&!s?this._u():[],a=0===this.Xa.size&&this.current&&!s?1:0,h=a!==this.Za;return this.Za=a,0!==r.length||h?{snapshot:new dp(this.query,t.tu,n,r,t.mutatedKeys,0===a,h,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:o}:{au:o}}va(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({tu:this.tu,iu:new cp,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach(t=>this.Ya=this.Ya.add(t)),t.modifiedDocuments.forEach(t=>{}),t.removedDocuments.forEach(t=>this.Ya=this.Ya.delete(t)),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=wl(),this.tu.forEach(t=>{this.uu(t.key)&&(this.Xa=this.Xa.add(t.key))});const e=[];return t.forEach(t=>{this.Xa.has(t)||e.push(new Sp(t))}),this.Xa.forEach(i=>{t.has(i)||e.push(new bp(i))}),e}cu(t){this.Ya=t.Qs,this.Xa=wl();const e=this.ru(t.documents);return this.applyChanges(e,!0)}lu(){return dp.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,0===this.Za,this.hasCachedResults)}}const Cp="SyncEngine";class _p{constructor(t,e,i){this.query=t,this.targetId=e,this.view=i}}class Ap{constructor(t){this.key=t,this.hu=!1}}class Mp{constructor(t,e,i,s,n,r){this.localStore=t,this.remoteStore=e,this.eventManager=i,this.sharedClientState=s,this.currentUser=n,this.maxConcurrentLimboResolutions=r,this.Pu={},this.Tu=new ul(t=>rl(t),nl),this.Iu=new Map,this.Eu=new Set,this.du=new Ta(Tr.comparator),this.Au=new Map,this.Ru=new Id,this.Vu={},this.mu=new Map,this.fu=nd.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return!0===this.gu}}function Pp(t,e,i=!0){return m(this,null,function*(){const s=Kp(t);let n;const r=s.Tu.get(e);return r?(s.sharedClientState.addLocalQueryTarget(r.targetId),n=r.view.lu()):n=yield Ip(s,e,i,!0),n})}function Rp(t,e){return m(this,null,function*(){const i=Kp(t);yield Ip(i,e,!0,!1)})}function Ip(t,e,i,s){return m(this,null,function*(){const n=yield function(t,e){const i=$n(t);return i.persistence.runTransaction("Allocate target","readwrite",t=>{let s;return i.Pi.getTargetData(t,e).next(n=>n?(s=n,Ur.resolve(s)):i.Pi.allocateTargetId(t).next(n=>(s=new Ku(e,n,"TargetPurposeListen",t.currentSequenceNumber),i.Pi.addTargetData(t,s).next(()=>s))))}).then(t=>{const s=i.Ms.get(t.targetId);return(null===s||t.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(t.targetId,t),i.xs.set(e,t.targetId)),t})}(t.localStore,il(e)),r=n.targetId,o=t.sharedClientState.addLocalQueryTarget(r,i);let a;return s&&(a=yield function(t,e,i,s,n){return m(this,null,function*(){t.pu=(e,i,s)=>function(t,e,i,s){return m(this,null,function*(){let n=e.view.ru(i);n.Cs&&(n=yield hf(t.localStore,e.query,!1).then(({documents:t})=>e.view.ru(t,n)));const r=s&&s.targetChanges.get(e.targetId),o=s&&null!=s.targetMismatches.get(e.targetId),a=e.view.applyChanges(n,t.isPrimaryClient,r,o);return Xp(t,e.targetId,a.au),a.snapshot})}(t,e,i,s);const r=yield hf(t.localStore,e,!0),o=new Ep(e,r.Qs),a=o.ru(r.documents),h=lu.createSynthesizedTargetChangeForCurrentChange(i,s&&"Offline"!==t.onlineState,n),l=o.applyChanges(a,t.isPrimaryClient,h);Xp(t,i,l.au);const u=new _p(e,i,o);return t.Tu.set(e,u),t.Iu.has(i)?t.Iu.get(i).push(e):t.Iu.set(i,[e]),l.snapshot})}(t,e,r,"current"===o,n.resumeToken)),t.isPrimaryClient&&i&&Ff(t.remoteStore,n),a})}function Op(t,e,i){return m(this,null,function*(){const s=$n(t),n=s.Tu.get(e),r=s.Iu.get(n.targetId);if(r.length>1)return s.Iu.set(n.targetId,r.filter(t=>!nl(t,e))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(n.targetId),s.sharedClientState.isActiveQueryTarget(n.targetId)||(yield af(s.localStore,n.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(n.targetId),i&&Bf(s.remoteStore,n.targetId),Vp(s,n.targetId)}).catch(zr))):(Vp(s,n.targetId),yield af(s.localStore,n.targetId,!0))})}function Lp(t,e){return m(this,null,function*(){const i=$n(t),s=i.Tu.get(e),n=i.Iu.get(s.targetId);i.isPrimaryClient&&1===n.length&&(i.sharedClientState.removeLocalQueryTarget(s.targetId),Bf(i.remoteStore,s.targetId))})}function Dp(t,e){return m(this,null,function*(){const i=$n(t);try{const t=yield rf(i.localStore,e);e.targetChanges.forEach((t,e)=>{const s=i.Au.get(e);s&&(Kn(t.addedDocuments.size+t.modifiedDocuments.size+t.removedDocuments.size<=1,22616),t.addedDocuments.size>0?s.hu=!0:t.modifiedDocuments.size>0?Kn(s.hu,14607):t.removedDocuments.size>0&&(Kn(s.hu,42227),s.hu=!1))}),yield Wp(i,t,e)}catch(s){yield zr(s)}})}function kp(t,e,i){const s=$n(t);if(s.isPrimaryClient&&0===i||!s.isPrimaryClient&&1===i){const t=[];s.Tu.forEach((i,s)=>{const n=s.view.va(e);n.snapshot&&t.push(n.snapshot)}),function(t,e){const i=$n(t);i.onlineState=e;let s=!1;i.queries.forEach((t,i)=>{for(const n of i.Sa)n.va(e)&&(s=!0)}),s&&yp(i)}(s.eventManager,e),t.length&&s.Pu.H_(t),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}function Fp(t,e,i){return m(this,null,function*(){const s=$n(t);s.sharedClientState.updateQueryState(e,"rejected",i);const n=s.Au.get(e),r=n&&n.key;if(r){let t=new Ta(Tr.comparator);t=t.insert(r,xh.newNoDocument(r,Mr.min()));const i=wl().add(r),n=new hu(Mr.min(),new Map,new Ta(ur),t,i);yield Dp(s,n),s.du=s.du.remove(r),s.Au.delete(e),Hp(s)}else yield af(s.localStore,e,!1).then(()=>Vp(s,e,i)).catch(zr)})}function Bp(t,e){return m(this,null,function*(){const i=$n(t),s=e.batch.batchId;try{const t=yield function(t,e){const i=$n(t);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",t=>{const s=e.batch.keys(),n=i.Ns.newChangeBuffer({trackRemovals:!0});return function(t,e,i,s){const n=i.batch,r=n.keys();let o=Ur.resolve();return r.forEach(t=>{o=o.next(()=>s.getEntry(e,t)).next(e=>{const r=i.docVersions.get(t);Kn(null!==r,48541),e.version.compareTo(r)<0&&(n.applyToRemoteDocument(e,i),e.isValidDocument()&&(e.setReadTime(i.commitVersion),s.addEntry(e)))})}),o.next(()=>t.mutationQueue.removeMutationBatch(e,n))}(i,t,e,n).next(()=>n.apply(t)).next(()=>i.mutationQueue.performConsistencyCheck(t)).next(()=>i.documentOverlayCache.removeOverlaysForBatchId(t,s,e.batch.batchId)).next(()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(t,function(t){let e=wl();for(let i=0;i<t.mutationResults.length;++i)t.mutationResults[i].transformResults.length>0&&(e=e.add(t.batch.mutations[i].key));return e}(e))).next(()=>i.localDocuments.getDocuments(t,s))})}(i.localStore,e);Up(i,s,null),zp(i,s),i.sharedClientState.updateMutationState(s,"acknowledged"),yield Wp(i,t)}catch(n){yield zr(n)}})}function Np(t,e,i){return m(this,null,function*(){const s=$n(t);try{const t=yield function(t,e){const i=$n(t);return i.persistence.runTransaction("Reject batch","readwrite-primary",t=>{let s;return i.mutationQueue.lookupMutationBatch(t,e).next(e=>(Kn(null!==e,37113),s=e.keys(),i.mutationQueue.removeMutationBatch(t,e))).next(()=>i.mutationQueue.performConsistencyCheck(t)).next(()=>i.documentOverlayCache.removeOverlaysForBatchId(t,s,e)).next(()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(t,s)).next(()=>i.localDocuments.getDocuments(t,s))})}(s.localStore,e);Up(s,e,i),zp(s,e),s.sharedClientState.updateMutationState(e,"rejected",i),yield Wp(s,t)}catch(n){yield zr(n)}})}function zp(t,e){(t.mu.get(e)||[]).forEach(t=>{t.resolve()}),t.mu.delete(e)}function Up(t,e,i){const s=$n(t);let n=s.Vu[s.currentUser.toKey()];if(n){const t=n.get(e);t&&(i?t.reject(i):t.resolve(),n=n.remove(e)),s.Vu[s.currentUser.toKey()]=n}}function Vp(t,e,i=null){t.sharedClientState.removeLocalQueryTarget(e);for(const s of t.Iu.get(e))t.Tu.delete(s),i&&t.Pu.yu(s,i);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(e=>{t.Ru.containsKey(e)||Gp(t,e)})}function Gp(t,e){t.Eu.delete(e.path.canonicalString());const i=t.du.get(e);null!==i&&(Bf(t.remoteStore,i),t.du=t.du.remove(e),t.Au.delete(i),Hp(t))}function Xp(t,e,i){for(const s of i)s instanceof bp?(t.Ru.addReference(s.key,e),Yp(t,s)):s instanceof Sp?(Xn(Cp,"Document no longer in limbo: "+s.key),t.Ru.removeReference(s.key,e),t.Ru.containsKey(s.key)||Gp(t,s.key)):jn(19791,{wu:s})}function Yp(t,e){const i=e.key,s=i.path.canonicalString();t.du.get(i)||t.Eu.has(s)||(Xn(Cp,"New document in limbo: "+i),t.Eu.add(s),Hp(t))}function Hp(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const i=new Tr(vr.fromString(e)),s=t.fu.next();t.Au.set(s,new Ap(i)),t.du=t.du.insert(i,s),Ff(t.remoteStore,new Ku(il(Qh(i.path)),s,"TargetPurposeLimboResolution",eo.ce))}}function Wp(t,e,i){return m(this,null,function*(){const s=$n(t),n=[],r=[],o=[];s.Tu.isEmpty()||(s.Tu.forEach((t,a)=>{o.push(s.pu(a,e,i).then(t=>{var e;if((t||i)&&s.isPrimaryClient){const n=t?!t.fromCache:null==(e=null==i?void 0:i.targetChanges.get(a.targetId))?void 0:e.current;s.sharedClientState.updateQueryState(a.targetId,n?"current":"not-current")}if(t){n.push(t);const e=$d.As(a.targetId,t);r.push(e)}}))}),yield Promise.all(o),s.Pu.H_(n),yield function(t,e){return m(this,null,function*(){const i=$n(t);try{yield i.persistence.runTransaction("notifyLocalViewChanges","readwrite",t=>Ur.forEach(e,e=>Ur.forEach(e.Es,s=>i.persistence.referenceDelegate.addReference(t,e.targetId,s)).next(()=>Ur.forEach(e.ds,s=>i.persistence.referenceDelegate.removeReference(t,e.targetId,s)))))}catch(s){if(!jr(s))throw s;Xn(Qd,"Failed to update sequence numbers: "+s)}for(const t of e){const e=t.targetId;if(!t.fromCache){const t=i.Ms.get(e),s=t.snapshotVersion,n=t.withLastLimboFreeSnapshotVersion(s);i.Ms=i.Ms.insert(e,n)}}})}(s.localStore,r))})}function jp(t,e){return m(this,null,function*(){const i=$n(t);if(!i.currentUser.isEqual(e)){Xn(Cp,"User change. New user:",e.toKey());const t=yield sf(i.localStore,e);i.currentUser=e,n="'waitForPendingWrites' promise is rejected due to a user change.",(s=i).mu.forEach(t=>{t.forEach(t=>{t.reject(new Jn(Zn.CANCELLED,n))})}),s.mu.clear(),i.sharedClientState.handleUserChange(e,t.removedBatchIds,t.addedBatchIds),yield Wp(i,t.Ls)}var s,n})}function qp(t,e){const i=$n(t),s=i.Au.get(e);if(s&&s.hu)return wl().add(s.key);{let t=wl();const s=i.Iu.get(e);if(!s)return t;for(const e of s){const s=i.Tu.get(e);t=t.unionWith(s.view.nu)}return t}}function Kp(t){const e=$n(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Dp.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=qp.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Fp.bind(null,e),e.Pu.H_=mp.bind(null,e.eventManager),e.Pu.yu=vp.bind(null,e.eventManager),e}function $p(t){const e=$n(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Bp.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Np.bind(null,e),e}class Zp{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(t){return m(this,null,function*(){this.serializer=Sf(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),yield this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)})}Fu(t,e){return null}Mu(t,e){return null}vu(t){return ef(this.persistence,new Jd,t.initialUser,this.serializer)}Cu(t){return new Bd(zd.mi,this.serializer)}Du(t){return new uf}terminate(){return m(this,null,function*(){var t,e;null==(t=this.gcScheduler)||t.stop(),null==(e=this.indexBackfillerScheduler)||e.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}Zp.provider={build:()=>new Zp};class Jp extends Zp{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,e){Kn(this.persistence.referenceDelegate instanceof Ud,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new dd(i,t.asyncQueue,e)}Cu(t){const e=void 0!==this.cacheSizeBytes?$c.withCacheSize(this.cacheSizeBytes):$c.DEFAULT;return new Bd(t=>Ud.mi(t,e),this.serializer)}}class Qp extends Zp{constructor(t,e,i){super(),this.xu=t,this.cacheSizeBytes=e,this.forceOwnership=i,this.kind="persistent",this.synchronizeTabs=!1}initialize(t){return m(this,null,function*(){yield g(Qp.prototype,this,"initialize").call(this,t),yield this.xu.initialize(this,t),yield $p(this.xu.syncEngine),yield $f(this.xu.remoteStore),yield this.persistence.Ji(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))})}vu(t){return ef(this.persistence,new Jd,t.initialUser,this.serializer)}Fu(t,e){const i=this.persistence.referenceDelegate.garbageCollector;return new dd(i,t.asyncQueue,e)}Mu(t,e){const i=new to(e,this.persistence);return new Qr(t.asyncQueue,i)}Cu(t){const e=function(t,e){let i=t.projectId;return t.isDefaultDatabase||(i+="."+t.database),"firestore/"+e+"/"+i+"/"}(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),i=void 0!==this.cacheSizeBytes?$c.withCacheSize(this.cacheSizeBytes):$c.DEFAULT;return new jd(this.synchronizeTabs,e,t.clientId,i,t.asyncQueue,"undefined"!=typeof window?window:null,bf(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Du(t){return new uf}}class tg{initialize(t,e){return m(this,null,function*(){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=t=>kp(this.syncEngine,t,1),this.remoteStore.remoteSyncer.handleCredentialChange=jp.bind(null,this.syncEngine),yield function(t,e){return m(this,null,function*(){const i=$n(t);e?(i.Ea.delete(2),yield Df(i)):e||(i.Ea.add(2),yield kf(i),i.Ra.set("Unknown"))})}(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(t){return new pp}createDatastore(t){const e=Sf(t.databaseInfo.databaseId),i=(s=t.databaseInfo,new wf(s));var s;return function(t,e,i,s){return new Rf(t,e,i,s)}(t.authCredentials,t.appCheckCredentials,i,e)}createRemoteStore(t){return e=this.localStore,i=this.datastore,s=t.asyncQueue,n=t=>kp(this.syncEngine,t,0),r=ff.v()?new ff:new cf,new Lf(e,i,s,n,r);var e,i,s,n,r}createSyncEngine(t,e){return function(t,e,i,s,n,r,o){const a=new Mp(t,e,i,s,n,r);return o&&(a.gu=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}terminate(){return m(this,null,function*(){var t,e;yield function(t){return m(this,null,function*(){const e=$n(t);Xn(Of,"RemoteStore shutting down."),e.Ea.add(5),yield kf(e),e.Aa.shutdown(),e.Ra.set("Unknown")})}(this.remoteStore),null==(t=this.datastore)||t.terminate(),null==(e=this.eventManager)||e.terminate()})}}tg.provider={build:()=>new tg};
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
class eg{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):Yn("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,e){setTimeout(()=>{this.muted||t(e)},0)}}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */const ig="FirestoreClient";class sg{constructor(t,e,i,s,n){this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=i,this.databaseInfo=s,this.user=zn.UNAUTHENTICATED,this.clientId=lr.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=n,this.authCredentials.start(i,t=>m(this,null,function*(){Xn(ig,"Received user=",t.uid),yield this.authCredentialListener(t),this.user=t})),this.appCheckCredentials.start(i,t=>(Xn(ig,"Received new app check token=",t),this.appCheckCredentialListener(t,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Qn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>m(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(e){const i=lp(e,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function ng(t,e){return m(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),Xn(ig,"Initializing OfflineComponentProvider");const i=t.configuration;yield e.initialize(i);let s=i.initialUser;t.setCredentialChangeListener(t=>m(null,null,function*(){s.isEqual(t)||(yield sf(e.localStore,t),s=t)})),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e})}function rg(t,e){return m(this,null,function*(){t.asyncQueue.verifyOperationInProgress();const i=yield function(t){return m(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Xn(ig,"Using user provided OfflineComponentProvider");try{yield ng(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!("FirebaseError"===(i=n).name?i.code===Zn.FAILED_PRECONDITION||i.code===Zn.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&i instanceof DOMException)||22===i.code||20===i.code||11===i.code))throw n;Hn("Error using user provided cache. Falling back to memory cache: "+n),yield ng(t,new Zp)}}else Xn(ig,"Using default OfflineComponentProvider"),yield ng(t,new Jp(void 0));var i;return t._offlineComponents})}(t);Xn(ig,"Initializing OnlineComponentProvider"),yield e.initialize(i,t.configuration),t.setCredentialChangeListener(t=>rp(e.remoteStore,t)),t.setAppCheckTokenChangeListener((t,i)=>rp(e.remoteStore,i)),t._onlineComponents=e})}function og(t){return m(this,null,function*(){const e=yield function(t){return m(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?(Xn(ig,"Using user provided OnlineComponentProvider"),yield rg(t,t._uninitializedComponentsProvider._online)):(Xn(ig,"Using default OnlineComponentProvider"),yield rg(t,new tg))),t._onlineComponents})}(t),i=e.eventManager;return i.onListen=Pp.bind(null,e.syncEngine),i.onUnlisten=Op.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=Rp.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=Lp.bind(null,e.syncEngine),i})}function ag(t,e,i={}){const s=new Qn;return t.asyncQueue.enqueueAndForget(()=>m(null,null,function*(){return function(t,e,i,s,n){const r=new eg({next:a=>{r.Nu(),e.enqueueAndForget(()=>function(t,e){return m(this,null,function*(){const i=$n(t),s=e.query;let n=3;const r=i.queries.get(s);if(r){const t=r.Sa.indexOf(e);t>=0&&(r.Sa.splice(t,1),0===r.Sa.length?n=e.Da()?0:1:!r.ba()&&e.Da()&&(n=2))}switch(n){case 0:return i.queries.delete(s),i.onUnlisten(s,!0);case 1:return i.queries.delete(s),i.onUnlisten(s,!1);case 2:return i.onLastRemoteStoreUnlisten(s);default:return}})}(t,o));const h=a.docs.has(i);!h&&a.fromCache?n.reject(new Jn(Zn.UNAVAILABLE,"Failed to get document because the client is offline.")):h&&a.fromCache&&s&&"server"===s.source?n.reject(new Jn(Zn.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):n.resolve(a)},error:t=>n.reject(t)}),o=new wp(Qh(i.path),r,{includeMetadataChanges:!0,qa:!0});return function(e,i){return m(this,null,function*(){const s=$n(e);let n=3;const r=i.query;let o=s.queries.get(r);o?!o.ba()&&i.Da()&&(n=2):(o=new fp,n=i.Da()?0:1);try{switch(n){case 0:o.wa=yield s.onListen(r,!0);break;case 1:o.wa=yield s.onListen(r,!1);break;case 2:yield s.onFirstRemoteStoreListen(r)}}catch(t){const s=lp(t,`Initialization of query '${ol(i.query)}' failed`);return void i.onError(s)}s.queries.set(r,o),o.Sa.push(i),i.va(s.onlineState),o.wa&&i.Fa(o.wa)&&yp(s)})}(t,o)}(yield og(t),t.asyncQueue,e,i,s)})),s.promise
/**
     * @license
     * Copyright 2023 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */}function hg(t){const e={};return void 0!==t.timeoutSeconds&&(e.timeoutSeconds=t.timeoutSeconds),e
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */}const lg=new Map,ug="firestore.googleapis.com",cg=!0;
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */class dg{constructor(t){var e,i;if(void 0===t.host){if(void 0!==t.ssl)throw new Jn(Zn.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=ug,this.ssl=cg}else this.host=t.host,this.ssl=null!=(e=t.ssl)?e:cg;if(this.isUsingEmulator=void 0!==t.emulatorOptions,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,void 0===t.cacheSizeBytes)this.cacheSizeBytes=Kc;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Jn(Zn.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}(function(t,e,i,s){if(!0===e&&!0===s)throw new Jn(Zn.INVALID_ARGUMENT,`${t} and ${i} cannot be used together.`)})("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===t.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=hg(null!=(i=t.experimentalLongPollingOptions)?i:{}),function(t){if(void 0!==t.timeoutSeconds){if(isNaN(t.timeoutSeconds))throw new Jn(Zn.INVALID_ARGUMENT,`invalid long polling timeout: ${t.timeoutSeconds} (must not be NaN)`);if(t.timeoutSeconds<5)throw new Jn(Zn.INVALID_ARGUMENT,`invalid long polling timeout: ${t.timeoutSeconds} (minimum allowed value is 5)`);if(t.timeoutSeconds>30)throw new Jn(Zn.INVALID_ARGUMENT,`invalid long polling timeout: ${t.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(e=this.experimentalLongPollingOptions,i=t.experimentalLongPollingOptions,e.timeoutSeconds===i.timeoutSeconds)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams;var e,i}}class fg{constructor(t,e,i,s){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=i,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new dg({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Jn(Zn.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(t){if(this._settingsFrozen)throw new Jn(Zn.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new dg(t),this._emulatorOptions=t.emulatorOptions||{},void 0!==t.credentials&&(this._authCredentials=function(t){if(!t)return new er;switch(t.type){case"firstParty":return new rr(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new Jn(Zn.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return m(this,null,function*(){"notTerminated"===this._terminateTask?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const e=lg.get(t);e&&(Xn("ComponentProvider","Removing Datastore"),lg.delete(t),e.terminate())}(this),Promise.resolve()}}function pg(t,e,i,s={}){var n;t=br(t,fg);const r=z(e),o=t._getSettings(),a=f(d({},o),{emulatorOptions:t._getEmulatorOptions()}),h=`${e}:${i}`;r&&(U(`https://${h}`),X("Firestore",!0)),o.host!==ug&&o.host!==h&&Hn("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l=f(d({},o),{host:h,ssl:r,emulatorOptions:s});if(!et(l,a)&&(t._setSettings(l),s.mockUserToken)){let e,i;if("string"==typeof s.mockUserToken)e=s.mockUserToken,i=zn.MOCK_USER;else{e=function(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i=e||"demo-project",s=t.iat||0,n=t.sub||t.user_id;if(!n)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const r=d({iss:`https://securetoken.google.com/${i}`,aud:i,iat:s,exp:s+3600,auth_time:s,sub:n,user_id:n,firebase:{sign_in_provider:"custom",identities:{}}},t);return[I(JSON.stringify({alg:"none",type:"JWT"})),I(JSON.stringify(r)),""].join(".")}(s.mockUserToken,null==(n=t._app)?void 0:n.options.projectId);const r=s.mockUserToken.sub||s.mockUserToken.user_id;if(!r)throw new Jn(Zn.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");i=new zn(r)}t._authCredentials=new ir(new tr(e,i))}}
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */class gg{constructor(t,e,i){this.converter=e,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new gg(this.firestore,t,this._query)}}class mg{constructor(t,e,i){this.converter=e,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new vg(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new mg(this.firestore,t,this._key)}toJSON(){return{type:mg._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,e,i){if(Er(e,mg._jsonSchema))return new mg(t,i||null,new Tr(vr.fromString(e.referencePath)))}}mg._jsonSchemaVersion="firestore/documentReference/1.0",mg._jsonSchema={type:Sr("string",mg._jsonSchemaVersion),referencePath:Sr("string")};class vg extends gg{constructor(t,e,i){super(t,e,Qh(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new mg(this.firestore,null,new Tr(t))}withConverter(t){return new vg(this.firestore,t,this._path)}}function yg(t,e,...i){if(t=at(t),1===arguments.length&&(e=lr.newId()),function(t,e,i){if(!i)throw new Jn(Zn.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}("doc","path",e),t instanceof fg){const s=vr.fromString(e,...i);return wr(s),new mg(t,null,new Tr(s))}{if(!(t instanceof mg||t instanceof vg))throw new Jn(Zn.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(vr.fromString(e,...i));return wr(s),new mg(t.firestore,t instanceof vg?t.converter:null,new Tr(s))}}
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */const xg="AsyncQueue";class Tg{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Ef(this,"async_queue_retry"),this._c=()=>{const t=bf();t&&Xn(xg,"Visibility state changed to "+t.visibilityState),this.M_.w_()},this.ac=t;const e=bf();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const e=bf();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise(()=>{});const e=new Qn;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Xu.push(t),this.lc()))}lc(){return m(this,null,function*(){if(0!==this.Xu.length){try{yield this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!jr(t))throw t;Xn(xg,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}})}cc(t){const e=this.ac.then(()=>(this.rc=!0,t().catch(t=>{throw this.nc=t,this.rc=!1,Yn("INTERNAL UNHANDLED ERROR: ",wg(t)),t}).then(t=>(this.rc=!1,t))));return this.ac=e,e}enqueueAfterDelay(t,e,i){this.uc(),this.oc.indexOf(t)>-1&&(e=0);const s=hp.createAndSchedule(this,t,e,i,t=>this.hc(t));return this.tc.push(s),s}uc(){this.nc&&jn(47125,{Pc:wg(this.nc)})}verifyOperationInProgress(){}Tc(){return m(this,null,function*(){let t;do{t=this.ac,yield t}while(t!==this.ac)})}Ic(t){for(const e of this.tc)if(e.timerId===t)return!0;return!1}Ec(t){return this.Tc().then(()=>{this.tc.sort((t,e)=>t.targetTimeMs-e.targetTimeMs);for(const e of this.tc)if(e.skipDelay(),"all"!==t&&e.timerId===t)break;return this.Tc()})}dc(t){this.oc.push(t)}hc(t){const e=this.tc.indexOf(t);this.tc.splice(e,1)}}function wg(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}class bg extends fg{constructor(t,e,i,s){super(t,e,i,s),this.type="firestore",this._queue=new Tg,this._persistenceKey=(null==s?void 0:s.name)||"[DEFAULT]"}_terminate(){return m(this,null,function*(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new Tg(t),this._firestoreClient=void 0,yield t}})}}function Sg(t,e){const i="object"==typeof t?t:_e(),s="string"==typeof t?t:Va,n=Te(i,"firestore").getImmediate({identifier:s});if(!n._initialized){const t=(t=>{const e=k(t);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(i+1),10);return"["===e[0]?[e.substring(1,i-1),s]:[e.substring(0,i),s]})("firestore");t&&pg(n,...t)}return n}function Eg(t){var e,i,s;const n=t._freezeSettings(),r=(o=t._databaseId,a=(null==(e=t._app)?void 0:e.options.appId)||"",h=t._persistenceKey,new Ua(o,a,h,(l=n).host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,hg(l.experimentalLongPollingOptions),l.useFetchStreams,l.isUsingEmulator));var o,a,h,l;t._componentsProvider||(null==(i=n.localCache)?void 0:i._offlineComponentProvider)&&(null==(s=n.localCache)?void 0:s._onlineComponentProvider)&&(t._componentsProvider={_offline:n.localCache._offlineComponentProvider,_online:n.localCache._onlineComponentProvider}),t._firestoreClient=new sg(t._authCredentials,t._appCheckCredentials,t._queue,r,t._componentsProvider&&function(t){const e=null==t?void 0:t._online.build();return{_offline:null==t?void 0:t._offline.build(e),_online:e}}(t._componentsProvider))}function Cg(t,e){Hn("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const i=t._freezeSettings();return function(t,e,i){if((t=br(t,bg))._firestoreClient||t._terminated)throw new Jn(Zn.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(t._componentsProvider||t._getSettings().localCache)throw new Jn(Zn.FAILED_PRECONDITION,"SDK cache is already specified.");t._componentsProvider={_online:e,_offline:i},Eg(t)}
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */(t,tg.provider,{build:t=>new Qp(t,i.cacheSizeBytes,null==e?void 0:e.forceOwnership)}),Promise.resolve()}class _g{constructor(t){this._byteString=t}static fromBase64String(t){try{return new _g(Ma.fromBase64String(t))}catch(e){throw new Jn(Zn.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new _g(Ma.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:_g._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Er(t,_g._jsonSchema))return _g.fromBase64String(t.bytes)}}_g._jsonSchemaVersion="firestore/bytes/1.0",_g._jsonSchema={type:Sr("string",_g._jsonSchemaVersion),bytes:Sr("string")};
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
class Ag{constructor(...t){for(let e=0;e<t.length;++e)if(0===t[e].length)throw new Jn(Zn.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new xr(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */class Mg{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new Jn(Zn.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new Jn(Zn.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return ur(this._lat,t._lat)||ur(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Mg._jsonSchemaVersion}}static fromJSON(t){if(Er(t,Mg._jsonSchema))return new Mg(t.latitude,t.longitude)}}Mg._jsonSchemaVersion="firestore/geoPoint/1.0",Mg._jsonSchema={type:Sr("string",Mg._jsonSchemaVersion),latitude:Sr("number"),longitude:Sr("number")};
/**
     * @license
     * Copyright 2024 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
class Pg{constructor(t){this._values=(t||[]).map(t=>t)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(t,e){if(t.length!==e.length)return!1;for(let i=0;i<t.length;++i)if(t[i]!==e[i])return!1;return!0}(this._values,t._values)}toJSON(){return{type:Pg._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Er(t,Pg._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every(t=>"number"==typeof t))return new Pg(t.vectorValues);throw new Jn(Zn.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Pg._jsonSchemaVersion="firestore/vectorValue/1.0",Pg._jsonSchema={type:Sr("string",Pg._jsonSchemaVersion),vectorValues:Sr("object")};const Rg=new RegExp("[~\\*/\\[\\]]");function Ig(t,e,i,s,n){let r=`Function ${e}() called with invalid data`;return r+=". ",new Jn(Zn.INVALID_ARGUMENT,r+t+"")}
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */class Og{constructor(t,e,i,s,n){this._firestore=t,this._userDataWriter=e,this._key=i,this._document=s,this._converter=n}get id(){return this._key.path.lastSegment()}get ref(){return new mg(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const t=new Lg(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(Dg("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}}}class Lg extends Og{data(){return super.data()}}function Dg(t,e){return"string"==typeof e?function(t,e){if(e.search(Rg)>=0)throw Ig(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t);try{return new Ag(...e.split("."))._internalPath}catch(i){throw Ig(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t)}}(t,e):e instanceof Ag?e._internalPath:e._delegate._internalPath}class kg{convertValue(t,e="none"){switch(Ka(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Ia(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(Oa(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 11:return this.convertObject(t.mapValue,e);case 10:return this.convertVectorValue(t.mapValue);default:throw jn(62114,{value:t})}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){const i={};return xa(t,(t,s)=>{i[t]=this.convertValue(s,e)}),i}convertVectorValue(t){var e,i,s;const n=null==(s=null==(i=null==(e=t.fields)?void 0:e[ja].arrayValue)?void 0:i.values)?void 0:s.map(t=>Ia(t.doubleValue));return new Pg(n)}convertGeoPoint(t){return new Mg(Ia(t.latitude),Ia(t.longitude))}convertArray(t,e){return(t.values||[]).map(t=>this.convertValue(t,e))}convertServerTimestamp(t,e){switch(e){case"previous":const i=Na(t);return null==i?null:this.convertValue(i,e);case"estimate":return this.convertTimestamp(za(t));default:return null}}convertTimestamp(t){const e=Ra(t);return new Ar(e.seconds,e.nanos)}convertDocumentKey(t,e){const i=vr.fromString(t);Kn(qu(i),9688,{name:t});const s=new Ga(i.get(1),i.get(3)),n=new Tr(i.popFirst(5));return s.isEqual(e)||Yn(`Document ${n} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),n}}class Fg{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Bg extends Og{constructor(t,e,i,s,n,r){super(t,e,i,s,r),this._firestore=t,this._firestoreImpl=t,this.metadata=n}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new Ng(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const i=this._document.data.field(Dg("DocumentSnapshot.get",t));if(null!==i)return this._userDataWriter.convertValue(i,e.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Jn(Zn.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,e={};return e.type=Bg._jsonSchemaVersion,e.bundle="",e.bundleSource="DocumentSnapshot",e.bundleName=this._key.toString(),t&&t.isValidDocument()&&t.isFoundDocument()?(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),e.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),e):e}}Bg._jsonSchemaVersion="firestore/documentSnapshot/1.0",Bg._jsonSchema={type:Sr("string",Bg._jsonSchemaVersion),bundleSource:Sr("string","DocumentSnapshot"),bundleName:Sr("string"),bundle:Sr("string")};class Ng extends Bg{data(t={}){return super.data(t)}}class zg{constructor(t,e,i,s){this._firestore=t,this._userDataWriter=e,this._snapshot=s,this.metadata=new Fg(s.hasPendingWrites,s.fromCache),this.query=i}get docs(){const t=[];return this.forEach(e=>t.push(e)),t}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(t,e){this._snapshot.docs.forEach(i=>{t.call(e,new Ng(this._firestore,this._userDataWriter,i.key,i,new Fg(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Jn(Zn.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(t,e){if(t._snapshot.oldDocs.isEmpty()){let e=0;return t._snapshot.docChanges.map(i=>{const s=new Ng(t._firestore,t._userDataWriter,i.doc.key,i.doc,new Fg(t._snapshot.mutatedKeys.has(i.doc.key),t._snapshot.fromCache),t.query.converter);return i.doc,{type:"added",doc:s,oldIndex:-1,newIndex:e++}})}{let i=t._snapshot.oldDocs;return t._snapshot.docChanges.filter(t=>e||3!==t.type).map(e=>{const s=new Ng(t._firestore,t._userDataWriter,e.doc.key,e.doc,new Fg(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query.converter);let n=-1,r=-1;return 0!==e.type&&(n=i.indexOf(e.doc.key),i=i.delete(e.doc.key)),1!==e.type&&(i=i.add(e.doc),r=i.indexOf(e.doc.key)),{type:Ug(e.type),doc:s,oldIndex:n,newIndex:r}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Jn(Zn.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=zg._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=lr.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const e=[],i=[],s=[];return this.docs.forEach(t=>{null!==t._document&&(e.push(t._document),i.push(this._userDataWriter.convertObjectMap(t._document.data.value.mapValue.fields,"previous")),s.push(t.ref.path))}),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function Ug(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return jn(61501,{type:t})}}
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function Vg(t){t=br(t,mg);const e=br(t.firestore,bg);return ag(function(t){if(t._terminated)throw new Jn(Zn.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||Eg(t),t._firestoreClient}(e),t._key).then(i=>function(t,e,i){const s=i.docs.get(e._key),n=new Gg(t);return new Bg(t,n,e._key,s,new Fg(i.hasPendingWrites,i.fromCache),e.converter)}(e,t,i))}zg._jsonSchemaVersion="firestore/querySnapshot/1.0",zg._jsonSchema={type:Sr("string",zg._jsonSchemaVersion),bundleSource:Sr("string","QuerySnapshot"),bundleName:Sr("string"),bundle:Sr("string")};class Gg extends kg{constructor(t){super(),this.firestore=t}convertBytes(t){return new _g(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new mg(this.firestore,null,e)}}!function(t,e=!0){Un=Ee,xe(new ht("firestore",(t,{instanceIdentifier:i,options:s})=>{const n=t.getProvider("app").getImmediate(),r=new bg(new sr(t.getProvider("auth-internal")),new ar(n,t.getProvider("app-check-internal")),function(t,e){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new Jn(Zn.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ga(t.options.projectId,e)}(n,i),n);return s=d({useFetchStreams:e},s),r._setSettings(s),r},"PUBLIC").setMultipleInstances(!0)),Ae(Bn,Nn,t),Ae(Bn,Nn,"esm2020")}();const Xg="@firebase/installations",Yg="0.6.19",Hg=1e4,Wg=`w:${Yg}`,jg="FIS_v2",qg=36e5,Kg=new Q("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function $g(t){return t instanceof J&&t.code.includes("request-failed")}
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function Zg({projectId:t}){return`https://firebaseinstallations.googleapis.com/v1/projects/${t}/installations`}function Jg(t){return{token:t.token,requestStatus:2,expiresIn:(e=t.expiresIn,Number(e.replace("s","000"))),creationTime:Date.now()};var e}function Qg(t,e){return m(this,null,function*(){const i=(yield e.json()).error;return Kg.create("request-failed",{requestName:t,serverCode:i.code,serverMessage:i.message,serverStatus:i.status})})}function tm({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function em(t,{refreshToken:e}){const i=tm(t);return i.append("Authorization",function(t){return`${jg} ${t}`}
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */(e)),i}function im(t){return m(this,null,function*(){const e=yield t();return e.status>=500&&e.status<600?t():e})}
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
function sm(t){return new Promise(e=>{setTimeout(e,t)})}
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
const nm=/^[cdef][\w-]{21}$/;function rm(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const e=function(t){const e=(i=t,btoa(String.fromCharCode(...i)).replace(/\+/g,"-").replace(/\//g,"_"));var i;return e.substr(0,22)}
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */(t);return nm.test(e)?e:""}catch(t){return""}}function om(t){return`${t.appName}!${t.appId}`}
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */const am=new Map;function hm(t,e){const i=om(t);lm(i,e),function(t,e){const i=(!um&&"BroadcastChannel"in self&&(um=new BroadcastChannel("[Firebase] FID Change"),um.onmessage=t=>{lm(t.data.key,t.data.fid)}),um);i&&i.postMessage({key:t,fid:e}),0===am.size&&um&&(um.close(),um=null)}(i,e)}function lm(t,e){const i=am.get(t);if(i)for(const s of i)s(e)}let um=null;
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
const cm="firebase-installations-store";let dm=null;function fm(){return dm||(dm=It("firebase-installations-database",1,{upgrade:(t,e)=>{0===e&&t.createObjectStore(cm)}})),dm}function pm(t,e){return m(this,null,function*(){const i=om(t),s=(yield fm()).transaction(cm,"readwrite"),n=s.objectStore(cm),r=yield n.get(i);return yield n.put(e,i),yield s.done,r&&r.fid===e.fid||hm(t,e.fid),e})}function gm(t){return m(this,null,function*(){const e=om(t),i=(yield fm()).transaction(cm,"readwrite");yield i.objectStore(cm).delete(e),yield i.done})}function mm(t,e){return m(this,null,function*(){const i=om(t),s=(yield fm()).transaction(cm,"readwrite"),n=s.objectStore(cm),r=yield n.get(i),o=e(r);return void 0===o?yield n.delete(i):yield n.put(o,i),yield s.done,!o||r&&r.fid===o.fid||hm(t,o.fid),o})}
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function vm(t){return m(this,null,function*(){let e;const i=yield mm(t.appConfig,i=>{const s=function(t){const e=t||{fid:rm(),registrationStatus:0};return Tm(e)}(i),n=function(t,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(Kg.create("app-offline"))};const i={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},s=function(t,e){return m(this,null,function*(){try{const i=yield function(t,e){return m(this,arguments,function*({appConfig:t,heartbeatServiceProvider:e},{fid:i}){const s=Zg(t),n=tm(t),r=e.getImmediate({optional:!0});if(r){const t=yield r.getHeartbeatsHeader();t&&n.append("x-firebase-client",t)}const o={fid:i,authVersion:jg,appId:t.appId,sdkVersion:Wg},a={method:"POST",headers:n,body:JSON.stringify(o)},h=yield im(()=>fetch(s,a));if(h.ok){const t=yield h.json();return{fid:t.fid||i,registrationStatus:2,refreshToken:t.refreshToken,authToken:Jg(t.authToken)}}throw yield Qg("Create Installation",h)})}(t,e);return pm(t.appConfig,i)}catch(i){throw $g(i)&&409===i.customData.serverCode?yield gm(t.appConfig):yield pm(t.appConfig,{fid:e.fid,registrationStatus:0}),i}})}(t,i);return{installationEntry:i,registrationPromise:s}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:ym(t)}:{installationEntry:e}}(t,s);return e=n.registrationPromise,n.installationEntry});return""===i.fid?{installationEntry:yield e}:{installationEntry:i,registrationPromise:e}})}function ym(t){return m(this,null,function*(){let e=yield xm(t.appConfig);for(;1===e.registrationStatus;)yield sm(100),e=yield xm(t.appConfig);if(0===e.registrationStatus){const{installationEntry:e,registrationPromise:i}=yield vm(t);return i||e}return e})}function xm(t){return mm(t,t=>{if(!t)throw Kg.create("installation-not-found");return Tm(t)})}function Tm(t){return 1===(e=t).registrationStatus&&e.registrationTime+Hg<Date.now()?{fid:t.fid,registrationStatus:0}:t;var e;
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */}function wm(t,e){return m(this,arguments,function*({appConfig:t,heartbeatServiceProvider:e},i){const s=function(t,{fid:e}){return`${Zg(t)}/${e}/authTokens:generate`}
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */(t,i),n=em(t,i),r=e.getImmediate({optional:!0});if(r){const t=yield r.getHeartbeatsHeader();t&&n.append("x-firebase-client",t)}const o={installation:{sdkVersion:Wg,appId:t.appId}},a={method:"POST",headers:n,body:JSON.stringify(o)},h=yield im(()=>fetch(s,a));if(h.ok)return Jg(yield h.json());throw yield Qg("Generate Auth Token",h)})}function bm(t,e=!1){return m(this,null,function*(){let i;const s=yield mm(t.appConfig,s=>{if(!Em(s))throw Kg.create("not-registered");const n=s.authToken;if(!e&&function(t){return 2===t.requestStatus&&!function(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+qg}(t)}(n))return s;if(1===n.requestStatus)return i=function(t,e){return m(this,null,function*(){let i=yield Sm(t.appConfig);for(;1===i.authToken.requestStatus;)yield sm(100),i=yield Sm(t.appConfig);const s=i.authToken;return 0===s.requestStatus?bm(t,e):s})}(t,e),s;{if(!navigator.onLine)throw Kg.create("app-offline");const e=function(t){const e={requestStatus:1,requestTime:Date.now()};return f(d({},t),{authToken:e})}(s);return i=function(t,e){return m(this,null,function*(){try{const i=yield wm(t,e),s=f(d({},e),{authToken:i});return yield pm(t.appConfig,s),i}catch(i){if(!$g(i)||401!==i.customData.serverCode&&404!==i.customData.serverCode){const i=f(d({},e),{authToken:{requestStatus:0}});yield pm(t.appConfig,i)}else yield gm(t.appConfig);throw i}})}(t,e),e}});return i?yield i:s.authToken})}function Sm(t){return mm(t,t=>{if(!Em(t))throw Kg.create("not-registered");const e=t.authToken;return 1===(i=e).requestStatus&&i.requestTime+Hg<Date.now()?f(d({},t),{authToken:{requestStatus:0}}):t;var i;
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */})}function Em(t){return void 0!==t&&2===t.registrationStatus}
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
function Cm(t,e=!1){return m(this,null,function*(){const i=t;return yield function(t){return m(this,null,function*(){const{registrationPromise:e}=yield vm(t);e&&(yield e)})}
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */(i),(yield bm(i,e)).token})}function _m(t){return Kg.create("missing-app-config-values",{valueName:t})}
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */const Am="installations",Mm=t=>{const e=Te(t.getProvider("app").getImmediate(),Am).getImmediate();return{getId:()=>function(t){return m(this,null,function*(){const e=t,{installationEntry:i,registrationPromise:s}=yield vm(e);return s?s.catch(console.error):bm(e).catch(console.error),i.fid})}(e),getToken:t=>Cm(e,t)}};xe(new ht(Am,t=>{const e=t.getProvider("app").getImmediate(),i=function(t){if(!t||!t.options)throw _m("App Configuration");if(!t.name)throw _m("App Name");const e=["projectId","apiKey","appId"];for(const i of e)if(!t.options[i])throw _m(i);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}(e);return{app:e,appConfig:i,heartbeatServiceProvider:Te(e,"heartbeat"),_delete:()=>Promise.resolve()}},"PUBLIC")),xe(new ht("installations-internal",Mm,"PRIVATE")),Ae(Xg,Yg),Ae(Xg,Yg,"esm2020");const Pm="@firebase/remote-config",Rm="0.7.0";
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
class Im{constructor(){this.listeners=[]}addEventListener(t){this.listeners.push(t)}abort(){this.listeners.forEach(t=>t())}}
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */const Om="remote-config",Lm=new Q("remoteconfig","Remote Config",{"already-initialized":"Remote Config already initialized","registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser","custom-signal-max-allowed-signals":"Setting more than {$maxSignals} custom signals is not supported.","stream-error":"The stream was not able to connect to the backend: {$originalErrorMessage}.","realtime-unavailable":"The Realtime service is unavailable: {$originalErrorMessage}","update-message-invalid":"The stream invalidation message was unparsable: {$originalErrorMessage}","update-not-fetched":"Unable to fetch the latest config: {$originalErrorMessage}"}),Dm=["1","true","t","yes","y","on"];class km{constructor(t,e=""){this._source=t,this._value=e}asString(){return this._value}asBoolean(){return"static"!==this._source&&Dm.indexOf(this._value.toLowerCase())>=0}asNumber(){if("static"===this._source)return 0;let t=Number(this._value);return isNaN(t)&&(t=0),t}getSource(){return this._source}}
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function Fm(t){return m(this,null,function*(){const e=at(t),i=new Im;setTimeout(()=>m(null,null,function*(){i.abort()}),e.settings.fetchTimeoutMillis);const s=e._storageCache.getCustomSignals();s&&e._logger.debug(`Fetching config with custom signals: ${JSON.stringify(s)}`);try{yield e._client.fetch({cacheMaxAgeMillis:e.settings.minimumFetchIntervalMillis,signal:i,customSignals:s}),yield e._storageCache.setLastFetchStatus("success")}catch(n){const t=function(t,e){return t instanceof J&&-1!==t.code.indexOf(e)}
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */(n,"fetch-throttle")?"throttle":"failure";throw yield e._storageCache.setLastFetchStatus(t),n}})}function Bm(t,e){return zm(at(t),e).asBoolean()}function Nm(t,e){return zm(at(t),e).asString()}function zm(t,e){const i=at(t);i._isInitializationComplete||i._logger.debug(`A value was requested for key "${e}" before SDK initialization completed. Await on ensureInitialized if the intent was to get a previously activated value.`);const s=i._storageCache.getActiveConfig();return s&&void 0!==s[e]?new km("remote",s[e]):i.defaultConfig&&void 0!==i.defaultConfig[e]?new km("default",String(i.defaultConfig[e])):(i._logger.debug(`Returning static value for key "${e}". Define a default or remote value if this is unintentional.`),new km("static"))}
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */class Um{constructor(t,e,i,s){this.client=t,this.storage=e,this.storageCache=i,this.logger=s}isCachedDataFresh(t,e){if(!e)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const i=Date.now()-e,s=i<=t;return this.logger.debug(`Config fetch cache check. Cache age millis: ${i}. Cache max age millis (minimumFetchIntervalMillis setting): ${t}. Is cache hit: ${s}.`),s}fetch(t){return m(this,null,function*(){const[e,i]=yield Promise.all([this.storage.getLastSuccessfulFetchTimestampMillis(),this.storage.getLastSuccessfulFetchResponse()]);if(i&&this.isCachedDataFresh(t.cacheMaxAgeMillis,e))return i;t.eTag=i&&i.eTag;const s=yield this.client.fetch(t),n=[this.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===s.status&&n.push(this.storage.setLastSuccessfulFetchResponse(s)),yield Promise.all(n),s})}}
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function Vm(t=navigator){return t.languages&&t.languages[0]||t.language}
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */class Gm{constructor(t,e,i,s,n,r){this.firebaseInstallations=t,this.sdkVersion=e,this.namespace=i,this.projectId=s,this.apiKey=n,this.appId=r}fetch(t){return m(this,null,function*(){const[e,i]=yield Promise.all([this.firebaseInstallations.getId(),this.firebaseInstallations.getToken()]),s=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${this.projectId}/namespaces/${this.namespace}:fetch?key=${this.apiKey}`,n={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":t.eTag||"*"},r={sdk_version:this.sdkVersion,app_instance_id:e,app_instance_id_token:i,app_id:this.appId,language_code:Vm(),custom_signals:t.customSignals},o={method:"POST",headers:n,body:JSON.stringify(r)},a=fetch(s,o),h=new Promise((e,i)=>{t.signal.addEventListener(()=>{const t=new Error("The operation was aborted.");t.name="AbortError",i(t)})});let l;try{yield Promise.race([a,h]),l=yield a}catch(g){let t="fetch-client-network";throw"AbortError"===(null==g?void 0:g.name)&&(t="fetch-timeout"),Lm.create(t,{originalErrorMessage:null==g?void 0:g.message})}let u=l.status;const c=l.headers.get("ETag")||void 0;let d,f,p;if(200===l.status){let t;try{t=yield l.json()}catch(g){throw Lm.create("fetch-client-parse",{originalErrorMessage:null==g?void 0:g.message})}d=t.entries,f=t.state,p=t.templateVersion}if("INSTANCE_STATE_UNSPECIFIED"===f?u=500:"NO_CHANGE"===f?u=304:"NO_TEMPLATE"!==f&&"EMPTY_CONFIG"!==f||(d={}),304!==u&&200!==u)throw Lm.create("fetch-status",{httpStatus:u});return{status:u,eTag:c,config:d,templateVersion:p}})}}
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */class Xm{constructor(t,e){this.client=t,this.storage=e}fetch(t){return m(this,null,function*(){const e=(yield this.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return this.attemptFetch(t,e)})}attemptFetch(t,e){return m(this,arguments,function*(t,{throttleEndTimeMillis:e,backoffCount:i}){yield function(t,e){return new Promise((i,s)=>{const n=Math.max(e-Date.now(),0),r=setTimeout(i,n);t.addEventListener(()=>{clearTimeout(r),s(Lm.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(t.signal,e);try{const e=yield this.client.fetch(t);return yield this.storage.deleteThrottleMetadata(),e}catch(s){if(!function(t){if(!(t instanceof J&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(s))throw s;const e={throttleEndTimeMillis:Date.now()+ot(i),backoffCount:i+1};return yield this.storage.setThrottleMetadata(e),this.attemptFetch(t,e)}})}}
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */class Ym{get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}constructor(t,e,i,s,n,r){this.app=t,this._client=e,this._storageCache=i,this._storage=s,this._logger=n,this._realtimeHandler=r,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}}
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function Hm(t,e){const i=t.target.error||void 0;return Lm.create(e,{originalErrorMessage:i&&(null==i?void 0:i.message)})}const Wm="app_namespace_store";class jm{getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(t){return this.set("last_fetch_status",t)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(t){return this.set("last_successful_fetch_timestamp_millis",t)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(t){return this.set("last_successful_fetch_response",t)}getActiveConfig(){return this.get("active_config")}setActiveConfig(t){return this.set("active_config",t)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(t){return this.set("active_config_etag",t)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(t){return this.set("throttle_metadata",t)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}getCustomSignals(){return this.get("custom_signals")}getRealtimeBackoffMetadata(){return this.get("realtime_backoff_metadata")}setRealtimeBackoffMetadata(t){return this.set("realtime_backoff_metadata",t)}getActiveConfigTemplateVersion(){return this.get("last_known_template_version")}setActiveConfigTemplateVersion(t){return this.set("last_known_template_version",t)}}class qm extends jm{constructor(t,e,i,s=function(){return new Promise((t,e)=>{try{const i=indexedDB.open("firebase_remote_config",1);i.onerror=t=>{e(Hm(t,"storage-open"))},i.onsuccess=e=>{t(e.target.result)},i.onupgradeneeded=t=>{const e=t.target.result;0===t.oldVersion&&e.createObjectStore(Wm,{keyPath:"compositeKey"})}}catch(i){e(Lm.create("storage-open",{originalErrorMessage:null==i?void 0:i.message}))}})}()){super(),this.appId=t,this.appName=e,this.namespace=i,this.openDbPromise=s}setCustomSignals(t){return m(this,null,function*(){const e=(yield this.openDbPromise).transaction([Wm],"readwrite"),i=yield this.getWithTransaction("custom_signals",e),s=$m(t,i||{});return yield this.setWithTransaction("custom_signals",s,e),s})}getWithTransaction(t,e){return m(this,null,function*(){return new Promise((i,s)=>{const n=e.objectStore(Wm),r=this.createCompositeKey(t);try{const t=n.get(r);t.onerror=t=>{s(Hm(t,"storage-get"))},t.onsuccess=t=>{const e=t.target.result;i(e?e.value:void 0)}}catch(o){s(Lm.create("storage-get",{originalErrorMessage:null==o?void 0:o.message}))}})})}setWithTransaction(t,e,i){return m(this,null,function*(){return new Promise((s,n)=>{const r=i.objectStore(Wm),o=this.createCompositeKey(t);try{const t=r.put({compositeKey:o,value:e});t.onerror=t=>{n(Hm(t,"storage-set"))},t.onsuccess=()=>{s()}}catch(a){n(Lm.create("storage-set",{originalErrorMessage:null==a?void 0:a.message}))}})})}get(t){return m(this,null,function*(){const e=(yield this.openDbPromise).transaction([Wm],"readonly");return this.getWithTransaction(t,e)})}set(t,e){return m(this,null,function*(){const i=(yield this.openDbPromise).transaction([Wm],"readwrite");return this.setWithTransaction(t,e,i)})}delete(t){return m(this,null,function*(){const e=yield this.openDbPromise;return new Promise((i,s)=>{const n=e.transaction([Wm],"readwrite").objectStore(Wm),r=this.createCompositeKey(t);try{const t=n.delete(r);t.onerror=t=>{s(Hm(t,"storage-delete"))},t.onsuccess=()=>{i()}}catch(o){s(Lm.create("storage-delete",{originalErrorMessage:null==o?void 0:o.message}))}})})}createCompositeKey(t){return[this.appId,this.appName,this.namespace,t].join()}}class Km extends jm{constructor(){super(...arguments),this.storage={}}get(t){return m(this,null,function*(){return Promise.resolve(this.storage[t])})}set(t,e){return m(this,null,function*(){return this.storage[t]=e,Promise.resolve(void 0)})}delete(t){return m(this,null,function*(){return this.storage[t]=void 0,Promise.resolve()})}setCustomSignals(t){return m(this,null,function*(){const e=this.storage.custom_signals||{};return this.storage.custom_signals=$m(t,e),Promise.resolve(this.storage.custom_signals)})}}function $m(t,e){const i=d(d({},e),t),s=Object.fromEntries(Object.entries(i).filter(([t,e])=>null!==e).map(([t,e])=>"number"==typeof e?[t,e.toString()]:[t,e]));if(Object.keys(s).length>100)throw Lm.create("custom-signal-max-allowed-signals",{maxSignals:100});return s}
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */class Zm{constructor(t){this.storage=t}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}getCustomSignals(){return this.customSignals}loadFromStorage(){return m(this,null,function*(){const t=this.storage.getLastFetchStatus(),e=this.storage.getLastSuccessfulFetchTimestampMillis(),i=this.storage.getActiveConfig(),s=this.storage.getCustomSignals(),n=yield t;n&&(this.lastFetchStatus=n);const r=yield e;r&&(this.lastSuccessfulFetchTimestampMillis=r);const o=yield i;o&&(this.activeConfig=o);const a=yield s;a&&(this.customSignals=a)})}setLastFetchStatus(t){return this.lastFetchStatus=t,this.storage.setLastFetchStatus(t)}setLastSuccessfulFetchTimestampMillis(t){return this.lastSuccessfulFetchTimestampMillis=t,this.storage.setLastSuccessfulFetchTimestampMillis(t)}setActiveConfig(t){return this.activeConfig=t,this.storage.setActiveConfig(t)}setCustomSignals(t){return m(this,null,function*(){this.customSignals=yield this.storage.setCustomSignals(t)})}}
/**
     * @license
     * Copyright 2025 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */class Jm{constructor(t){this.allowedEvents_=t,this.listeners_={},_(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...e){if(Array.isArray(this.listeners_[t])){const i=[...this.listeners_[t]];for(let t=0;t<i.length;t++)i[t].callback.apply(i[t].context,e)}}on(t,e,i){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:i});const s=this.getInitialEvent(t);s&&e.apply(i,s)}off(t,e,i){this.validateEventType_(t);const s=this.listeners_[t]||[];for(let n=0;n<s.length;n++)if(s[n].callback===e&&(!i||i===s[n].context))return void s.splice(n,1)}validateEventType_(t){_(this.allowedEvents_.find(e=>e===t),"Unknown event: "+t)}}
/**
     * @license
     * Copyright 2025 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */class Qm extends Jm{static getInstance(){return new Qm}constructor(){let t,e;super(["visible"]),"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(e="visibilitychange",t="hidden"):void 0!==document.mozHidden?(e="mozvisibilitychange",t="mozHidden"):void 0!==document.msHidden?(e="msvisibilitychange",t="msHidden"):void 0!==document.webkitHidden&&(e="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,e&&document.addEventListener(e,()=>{const e=!document[t];e!==this.visible_&&(this.visible_=e,this.trigger("visible",e))},!1)}getInitialEvent(t){return _("visible"===t,"Unknown event type: "+t),[this.visible_]}}
/**
     * @license
     * Copyright 2025 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */const tv="X-Goog-Api-Key",ev="X-Goog-Firebase-Installations-Auth",iv="featureDisabled",sv="retryIntervalSeconds",nv="latestTemplateVersionNumber";class rv{constructor(t,e,i,s,n,r,o,a,h,l){this.firebaseInstallations=t,this.storage=e,this.sdkVersion=i,this.namespace=s,this.projectId=n,this.apiKey=r,this.appId=o,this.logger=a,this.storageCache=h,this.cachingClient=l,this.observers=new Set,this.isConnectionActive=!1,this.isRealtimeDisabled=!1,this.httpRetriesRemaining=8,this.isInBackground=!1,this.decoder=new TextDecoder("utf-8"),this.isClosingConnection=!1,this.propagateError=t=>this.observers.forEach(e=>{var i;return null==(i=e.error)?void 0:i.call(e,t)}),this.isStatusCodeRetryable=t=>!t||[408,429,502,503,504].includes(t),this.setRetriesRemaining(),Qm.getInstance().on("visible",this.onVisibilityChange,this)}setRetriesRemaining(){return m(this,null,function*(){const t=yield this.storage.getRealtimeBackoffMetadata(),e=(null==t?void 0:t.numFailedStreams)||0;this.httpRetriesRemaining=Math.max(8-e,1)})}updateBackoffMetadataWithLastFailedStreamConnectionTime(t){return m(this,null,function*(){var e;const i=((null==(e=yield this.storage.getRealtimeBackoffMetadata())?void 0:e.numFailedStreams)||0)+1,s=ot(i,6e4,2);yield this.storage.setRealtimeBackoffMetadata({backoffEndTimeMillis:new Date(t.getTime()+s),numFailedStreams:i})})}updateBackoffMetadataWithRetryInterval(t){return m(this,null,function*(){const e=Date.now(),i=new Date(e+1e3*t);yield this.storage.setRealtimeBackoffMetadata({backoffEndTimeMillis:i,numFailedStreams:0}),yield this.retryHttpConnectionWhenBackoffEnds()})}closeRealtimeHttpConnection(){return m(this,null,function*(){if(!this.isClosingConnection){this.isClosingConnection=!0;try{this.reader&&(yield this.reader.cancel())}catch(t){this.logger.debug("Failed to cancel the reader, connection was lost.")}finally{this.reader=void 0}this.controller&&(yield this.controller.abort(),this.controller=void 0),this.isClosingConnection=!1}})}resetRealtimeBackoff(){return m(this,null,function*(){yield this.storage.setRealtimeBackoffMetadata({backoffEndTimeMillis:new Date(-1),numFailedStreams:0})})}resetRetryCount(){this.httpRetriesRemaining=8}establishRealtimeConnection(t,e,i,s){return m(this,null,function*(){const n=yield this.storage.getActiveConfigEtag(),r=yield this.storage.getActiveConfigTemplateVersion(),o={[tv]:this.apiKey,[ev]:i,"Content-Type":"application/json",Accept:"application/json","If-None-Match":n||"*","Content-Encoding":"gzip"},a={project:this.projectId,namespace:this.namespace,lastKnownVersionNumber:r,appId:this.appId,sdkVersion:this.sdkVersion,appInstanceId:e};return yield fetch(t,{method:"POST",headers:o,body:JSON.stringify(a),signal:s})})}getRealtimeUrl(){const t=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfigrealtime.googleapis.com"}/v1/projects/${this.projectId}/namespaces/${this.namespace}:streamFetchInvalidations?key=${this.apiKey}`;return new URL(t)}createRealtimeConnection(){return m(this,null,function*(){const[t,e]=yield Promise.all([this.firebaseInstallations.getId(),this.firebaseInstallations.getToken(!1)]);this.controller=new AbortController;const i=this.getRealtimeUrl();return yield this.establishRealtimeConnection(i,t,e,this.controller.signal)})}retryHttpConnectionWhenBackoffEnds(){return m(this,null,function*(){let t=yield this.storage.getRealtimeBackoffMetadata();t||(t={backoffEndTimeMillis:new Date(-1),numFailedStreams:0});const e=new Date(t.backoffEndTimeMillis).getTime(),i=Date.now(),s=Math.max(0,e-i);yield this.makeRealtimeHttpConnection(s)})}setIsHttpConnectionRunning(t){this.isConnectionActive=t}checkAndSetHttpConnectionFlagIfNotRunning(){const t=this.canEstablishStreamConnection();return t&&this.setIsHttpConnectionRunning(!0),t}fetchResponseIsUpToDate(t,e){return null!=t.config&&t.templateVersion?t.templateVersion>=e:"success"===this.storageCache.getLastFetchStatus()}parseAndValidateConfigUpdateMessage(t){const e=t.indexOf("{"),i=t.indexOf("}",e);return e<0||i<0||e>=i?"":t.substring(e,i+1)}isEventListenersEmpty(){return 0===this.observers.size}getRandomInt(t){return Math.floor(Math.random()*t)}executeAllListenerCallbacks(t){this.observers.forEach(e=>e.next(t))}getChangedParams(t,e){const i=new Set,s=new Set(Object.keys(t||{})),n=new Set(Object.keys(e||{}));for(const r of s)n.has(r)&&t[r]===e[r]||i.add(r);for(const r of n)s.has(r)||i.add(r);return i}fetchLatestConfig(t,e){return m(this,null,function*(){const i=t-1,s=3-i,n=this.storageCache.getCustomSignals();n&&this.logger.debug(`Fetching config with custom signals: ${JSON.stringify(n)}`);const r=new Im;try{const t={cacheMaxAgeMillis:0,signal:r,customSignals:n,fetchType:"REALTIME",fetchAttempt:s},o=yield this.cachingClient.fetch(t);let a=yield this.storage.getActiveConfig();if(!this.fetchResponseIsUpToDate(o,e))return this.logger.debug("Fetched template version is the same as SDK's current version. Retrying fetch."),void(yield this.autoFetch(i,e));if(null==o.config)return void this.logger.debug("The fetch succeeded, but the backend had no updates.");null==a&&(a={});const h=this.getChangedParams(o.config,a);if(0===h.size)return void this.logger.debug("Config was fetched, but no params changed.");const l={getUpdatedKeys:()=>new Set(h)};this.executeAllListenerCallbacks(l)}catch(o){const t=o instanceof Error?o.message:String(o),e=Lm.create("update-not-fetched",{originalErrorMessage:`Failed to auto-fetch config update: ${t}`});this.propagateError(e)}})}autoFetch(t,e){return m(this,null,function*(){if(0===t){const t=Lm.create("update-not-fetched",{originalErrorMessage:"Unable to fetch the latest version of the template."});return void this.propagateError(t)}const i=1e3*this.getRandomInt(4);yield new Promise(t=>setTimeout(t,i)),yield this.fetchLatestConfig(t,e)})}handleNotifications(t){return m(this,null,function*(){let e,i="";for(;;){const{done:n,value:r}=yield t.read();if(n)break;if(e=this.decoder.decode(r,{stream:!0}),i+=e,e.includes("}")){if(i=this.parseAndValidateConfigUpdateMessage(i),0===i.length)continue;try{const t=JSON.parse(i);if(this.isEventListenersEmpty())break;if(iv in t&&!0===t[iv]){const t=Lm.create("realtime-unavailable",{originalErrorMessage:"The server is temporarily unavailable. Try again in a few minutes."});this.propagateError(t);break}if(nv in t){const e=yield this.storage.getActiveConfigTemplateVersion(),i=Number(t[nv]);e&&i>e&&(yield this.autoFetch(3,i))}if(sv in t){const e=Number(t[sv]);yield this.updateBackoffMetadataWithRetryInterval(e)}}catch(s){this.logger.debug("Unable to parse latest config update message.",s);const t=s instanceof Error?s.message:String(s);this.propagateError(Lm.create("update-message-invalid",{originalErrorMessage:t}))}i=""}}})}listenForNotifications(t){return m(this,null,function*(){try{yield this.handleNotifications(t)}catch(e){this.isInBackground||this.logger.debug("Real-time connection was closed due to an exception.")}})}prepareAndBeginRealtimeHttpStream(){return m(this,null,function*(){if(!this.checkAndSetHttpConnectionFlagIfNotRunning())return;let t=yield this.storage.getRealtimeBackoffMetadata();t||(t={backoffEndTimeMillis:new Date(-1),numFailedStreams:0});const e=t.backoffEndTimeMillis.getTime();if(Date.now()<e)return void(yield this.retryHttpConnectionWhenBackoffEnds());let i,s;try{if(i=yield this.createRealtimeConnection(),s=i.status,i.ok&&i.body){this.resetRetryCount(),yield this.resetRealtimeBackoff();const t=i.body.getReader();this.reader=t,yield this.listenForNotifications(t)}}catch(n){this.isInBackground?this.resetRetryCount():this.logger.debug("Exception connecting to real-time RC backend. Retrying the connection...:",n)}finally{yield this.closeRealtimeHttpConnection(),this.setIsHttpConnectionRunning(!1);const t=!this.isInBackground&&(void 0===s||this.isStatusCodeRetryable(s));if(t&&(yield this.updateBackoffMetadataWithLastFailedStreamConnectionTime(new Date)),t||(null==i?void 0:i.ok))yield this.retryHttpConnectionWhenBackoffEnds();else{const t=`Unable to connect to the server. HTTP status code: ${s}`,e=Lm.create("stream-error",{originalErrorMessage:t});this.propagateError(e)}}})}canEstablishStreamConnection(){const t=this.observers.size>0,e=!this.isRealtimeDisabled,i=!this.isConnectionActive,s=!this.isInBackground;return t&&e&&i&&s}makeRealtimeHttpConnection(t){return m(this,null,function*(){if(this.canEstablishStreamConnection())if(this.httpRetriesRemaining>0)this.httpRetriesRemaining--,yield new Promise(e=>setTimeout(e,t)),this.prepareAndBeginRealtimeHttpStream();else if(!this.isInBackground){const t=Lm.create("stream-error",{originalErrorMessage:"Unable to connect to the server. Check your connection and try again."});this.propagateError(t)}})}beginRealtime(){return m(this,null,function*(){this.observers.size>0&&(yield this.makeRealtimeHttpConnection(0))})}addObserver(t){this.observers.add(t),this.beginRealtime()}removeObserver(t){this.observers.has(t)&&this.observers.delete(t)}onVisibilityChange(t){return m(this,null,function*(){this.isInBackground=!t,t?t&&(yield this.beginRealtime()):yield this.closeRealtimeHttpConnection()})}}
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
function ov(t){return m(this,null,function*(){return t=at(t),yield Fm(t),function(t){return m(this,null,function*(){const e=at(t),[i,s]=yield Promise.all([e._storage.getLastSuccessfulFetchResponse(),e._storage.getActiveConfigEtag()]);return!!(i&&i.config&&i.eTag&&i.templateVersion&&i.eTag!==s)&&(yield Promise.all([e._storageCache.setActiveConfig(i.config),e._storage.setActiveConfigEtag(i.eTag),e._storage.setActiveConfigTemplateVersion(i.templateVersion)]),!0)})}(t)})}xe(new ht(Om,function(t,{options:e}){const i=t.getProvider("app").getImmediate(),s=t.getProvider("installations-internal").getImmediate(),{projectId:n,apiKey:r,appId:o}=i.options;if(!n)throw Lm.create("registration-project-id");if(!r)throw Lm.create("registration-api-key");if(!o)throw Lm.create("registration-app-id");const a=(null==e?void 0:e.templateId)||"firebase",h=K()?new qm(o,i.name,a):new Km,l=new Zm(h),u=new yt(Pm);u.logLevel=dt.ERROR;const c=new Gm(s,Ee,a,n,r,o),d=new Xm(c,h),f=new Um(d,h,l,u),p=new rv(s,h,Ee,a,n,r,o,u,l,f),g=new Ym(i,f,l,h,u,p);return function(t){const e=at(t);e._initializePromise||(e._initializePromise=e._storageCache.loadFromStorage().then(()=>{e._isInitializationComplete=!0})),e._initializePromise}(g),g},"PUBLIC").setMultipleInstances(!0)),Ae(Pm,Rm),Ae(Pm,Rm,"esm2020");
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
const av=new Map,hv={activated:!1,tokenObservers:[]},lv={initialized:!1,enabled:!1};function uv(t){return av.get(t)||d({},hv)}function cv(){return lv}
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */const dv="https://content-firebaseappcheck.googleapis.com/v1",fv=3e4,pv=96e4;
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
class gv{constructor(t,e,i,s,n){if(this.operation=t,this.retryPolicy=e,this.getWaitDuration=i,this.lowerBound=s,this.upperBound=n,this.pending=null,this.nextErrorWaitInterval=s,s>n)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(t){return m(this,null,function*(){this.stop();try{this.pending=new N,this.pending.promise.catch(t=>{}),yield(e=this.getNextRun(t),new Promise(t=>{setTimeout(t,e)})),this.pending.resolve(),yield this.pending.promise,this.pending=new N,this.pending.promise.catch(t=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(i){this.retryPolicy(i)?this.process(!1).catch(()=>{}):this.stop()}var e;
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */})}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const mv=new Q("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.","initial-throttle":"{$httpStatus} error. Attempts allowed again after {$time}",throttled:"Requests throttled due to previous {$httpStatus} error. Attempts allowed again after {$time}"});function vv(t){if(!uv(t).activated)throw mv.create("use-before-activation",{appName:t.name})}
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
function yv(t,e){return m(this,arguments,function*({url:t,body:e},i){const s={"Content-Type":"application/json"},n=i.getImmediate({optional:!0});if(n){const t=yield n.getHeartbeatsHeader();t&&(s["X-Firebase-Client"]=t)}const r={method:"POST",body:JSON.stringify(e),headers:s};let o,a;try{o=yield fetch(t,r)}catch(c){throw mv.create("fetch-network-error",{originalErrorMessage:null==c?void 0:c.message})}if(200!==o.status)throw mv.create("fetch-status-error",{httpStatus:o.status});try{a=yield o.json()}catch(c){throw mv.create("fetch-parse-error",{originalErrorMessage:null==c?void 0:c.message})}const h=a.ttl.match(/^([\d.]+)(s)$/);if(!h||!h[2]||isNaN(Number(h[1])))throw mv.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${a.ttl}`});const l=1e3*Number(h[1]),u=Date.now();return{token:a.token,expireTimeMillis:u+l,issuedAtTimeMillis:u}})}function xv(t,e){const{projectId:i,appId:s,apiKey:n}=t.options;return{url:`${dv}/projects/${i}/apps/${s}:exchangeDebugToken?key=${n}`,body:{debug_token:e}}}
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */const Tv="firebase-app-check-store";let wv=null;function bv(){return wv||(wv=new Promise((t,e)=>{try{const i=indexedDB.open("firebase-app-check-database",1);i.onsuccess=e=>{t(e.target.result)},i.onerror=t=>{var i;e(mv.create("storage-open",{originalErrorMessage:null==(i=t.target.error)?void 0:i.message}))},i.onupgradeneeded=t=>{const e=t.target.result;0===t.oldVersion&&e.createObjectStore(Tv,{keyPath:"compositeKey"})}}catch(i){e(mv.create("storage-open",{originalErrorMessage:null==i?void 0:i.message}))}}),wv)}function Sv(t,e){return m(this,null,function*(){const i=(yield bv()).transaction(Tv,"readwrite"),s=i.objectStore(Tv).put({compositeKey:t,value:e});return new Promise((t,e)=>{s.onsuccess=e=>{t()},i.onerror=t=>{var i;e(mv.create("storage-set",{originalErrorMessage:null==(i=t.target.error)?void 0:i.message}))}})})}function Ev(t){return`${t.options.appId}-${t.name}`}
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */const Cv=new yt("@firebase/app-check");
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function _v(t,e){return K()?function(t,e){return Sv(Ev(t),e)}(t,e).catch(t=>{Cv.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
function Av(){return cv().enabled}function Mv(){return m(this,null,function*(){const t=cv();if(t.enabled&&t.token)return t.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})}
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
const Pv={error:"UNKNOWN_ERROR"};function Rv(t,e=!1,i=!1){return m(this,null,function*(){const s=t.app;vv(s);const n=uv(s);let r,o=n.token;if(o&&!kv(o)&&(n.token=void 0,o=void 0),!o){const t=yield n.cachedTokenPromise;t&&(kv(t)?o=t:yield _v(s,void 0))}if(!e&&o&&kv(o))return{token:o.token};let a,h=!1;if(Av())try{n.exchangeTokenPromise||(n.exchangeTokenPromise=yv(xv(s,yield Mv()),t.heartbeatServiceProvider).finally(()=>{n.exchangeTokenPromise=void 0}),h=!0);const e=yield n.exchangeTokenPromise;return yield _v(s,e),n.token=e,{token:e.token}}catch(l){return"appCheck/throttled"===l.code||"appCheck/initial-throttle"===l.code?Cv.warn(l.message):i&&Cv.error(l),Fv(l)}try{n.exchangeTokenPromise||(n.exchangeTokenPromise=n.provider.getToken().finally(()=>{n.exchangeTokenPromise=void 0}),h=!0),o=yield uv(s).exchangeTokenPromise}catch(l){"appCheck/throttled"===l.code||"appCheck/initial-throttle"===l.code?Cv.warn(l.message):i&&Cv.error(l),r=l}return o?r?a=kv(o)?{token:o.token,internalError:r}:Fv(r):(a={token:o.token},n.token=o,yield _v(s,o)):a=Fv(r),h&&Dv(s,a),a})}function Iv(t,e,i,s){const{app:n}=t,r=uv(n),o={next:i,error:s,type:e};if(r.tokenObservers=[...r.tokenObservers,o],r.token&&kv(r.token)){const e=r.token;Promise.resolve().then(()=>{i({token:e.token}),Lv(t)}).catch(()=>{})}r.cachedTokenPromise.then(()=>Lv(t))}function Ov(t,e){const i=uv(t),s=i.tokenObservers.filter(t=>t.next!==e);0===s.length&&i.tokenRefresher&&i.tokenRefresher.isRunning()&&i.tokenRefresher.stop(),i.tokenObservers=s}function Lv(t){const{app:e}=t,i=uv(e);let s=i.tokenRefresher;s||(s=function(t){const{app:e}=t;return new gv(()=>m(null,null,function*(){let i;if(i=uv(e).token?yield Rv(t,!0):yield Rv(t),i.error)throw i.error;if(i.internalError)throw i.internalError}),()=>!0,()=>{const t=uv(e);if(t.token){let e=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;const i=t.token.expireTimeMillis-3e5;return e=Math.min(e,i),Math.max(0,e-Date.now())}return 0},fv,pv)}(t),i.tokenRefresher=s),!s.isRunning()&&i.isTokenAutoRefreshEnabled&&s.start()}function Dv(t,e){const i=uv(t).tokenObservers;for(const n of i)try{"EXTERNAL"===n.type&&null!=e.error?n.error(e.error):n.next(e)}catch(s){}}function kv(t){return t.expireTimeMillis-Date.now()>0}function Fv(t){return{token:(e=Pv,P.encodeString(JSON.stringify(e),!1)),error:t};var e}
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */class Bv{constructor(t,e){this.app=t,this.heartbeatServiceProvider=e}_delete(){const{tokenObservers:t}=uv(this.app);for(const e of t)Ov(this.app,e.next);return Promise.resolve()}}function Nv(t){return{getToken:e=>Rv(t,e),getLimitedUseToken:()=>function(t){return m(this,null,function*(){const e=t.app;vv(e);const{provider:i}=uv(e);if(Av()){const i=yield Mv(),{token:s}=yield yv(xv(e,i),t.heartbeatServiceProvider);return{token:s}}{const{token:t}=yield i.getToken();return{token:t}}})}(t),addTokenListener:e=>Iv(t,"INTERNAL",e),removeTokenListener:e=>Ov(t.app,e)}}const zv="app-check-internal";xe(new ht("app-check",t=>function(t,e){return new Bv(t,e)}(t.getProvider("app").getImmediate(),t.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,i)=>{t.getProvider(zv).initialize()})),xe(new ht(zv,t=>Nv(t.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),Ae("@firebase/app-check","0.11.0");
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
const Uv="analytics",Vv="https://www.googletagmanager.com/gtag/js",Gv=new yt("@firebase/analytics"),Xv=new Q("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
function Yv(t){if(!t.startsWith(Vv)){const e=Xv.create("invalid-gtag-resource",{gtagURL:t});return Gv.warn(e.message),""}return t}function Hv(t){return Promise.all(t.map(t=>t.catch(t=>t)))}function Wv(t,e){const i=function(t,e){let i;return window.trustedTypes&&(i=window.trustedTypes.createPolicy(t,e)),i}("firebase-js-sdk-policy",{createScriptURL:Yv}),s=document.createElement("script"),n=`${Vv}?l=${t}&id=${e}`;s.src=i?null==i?void 0:i.createScriptURL(n):n,s.async=!0,document.head.appendChild(s)}function jv(t,e,i,s){return function(n,...r){return m(this,null,function*(){try{if("event"===n){const[s,n]=r;yield function(t,e,i,s,n){return m(this,null,function*(){try{let r=[];if(n&&n.send_to){let t=n.send_to;Array.isArray(t)||(t=[t]);const s=yield Hv(i);for(const i of t){const t=s.find(t=>t.measurementId===i),n=t&&e[t.appId];if(!n){r=[];break}r.push(n)}}0===r.length&&(r=Object.values(e)),yield Promise.all(r),t("event",s,n||{})}catch(r){Gv.error(r)}})}(t,e,i,s,n)}else if("config"===n){const[n,o]=r;yield function(t,e,i,s,n,r){return m(this,null,function*(){const o=s[n];try{if(o)yield e[o];else{const t=(yield Hv(i)).find(t=>t.measurementId===n);t&&(yield e[t.appId])}}catch(a){Gv.error(a)}t("config",n,r)})}(t,e,i,s,n,o)}else if("consent"===n){const[e,i]=r;t("consent",e,i)}else if("get"===n){const[e,i,s]=r;t("get",e,i,s)}else if("set"===n){const[e]=r;t("set",e)}else t(n,...r)}catch(o){Gv.error(o)}})}}const qv=new class{constructor(t={},e=1e3){this.throttleMetadata=t,this.intervalMillis=e}getThrottleMetadata(t){return this.throttleMetadata[t]}setThrottleMetadata(t,e){this.throttleMetadata[t]=e}deleteThrottleMetadata(t){delete this.throttleMetadata[t]}};function Kv(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}function $v(t){return m(this,arguments,function*(t,e=qv,i){const{appId:s,apiKey:n,measurementId:r}=t.options;if(!s)throw Xv.create("no-app-id");if(!n){if(r)return{measurementId:r,appId:s};throw Xv.create("no-api-key")}const o=e.getThrottleMetadata(s)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new Jv;return setTimeout(()=>m(null,null,function*(){a.abort()}),6e4),Zv({appId:s,apiKey:n,measurementId:r},o,a,e)})}function Zv(t,e,i){return m(this,arguments,function*(t,{throttleEndTimeMillis:e,backoffCount:i},s,n=qv){var r;const{appId:o,measurementId:a}=t;try{yield function(t,e){return new Promise((i,s)=>{const n=Math.max(e-Date.now(),0),r=setTimeout(i,n);t.addEventListener(()=>{clearTimeout(r),s(Xv.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(s,e)}catch(h){if(a)return Gv.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${null==h?void 0:h.message}]`),{appId:o,measurementId:a};throw h}try{const e=yield function(t){return m(this,null,function*(){var e;const{appId:i,apiKey:s}=t,n={method:"GET",headers:Kv(s)},r="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig".replace("{app-id}",i),o=yield fetch(r,n);if(200!==o.status&&304!==o.status){let t="";try{const i=yield o.json();(null==(e=i.error)?void 0:e.message)&&(t=i.error.message)}catch(a){}throw Xv.create("config-fetch-failed",{httpStatus:o.status,responseMessage:t})}return o.json()})}(t);return n.deleteThrottleMetadata(o),e}catch(h){const e=h;if(!function(t){if(!(t instanceof J&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(e)){if(n.deleteThrottleMetadata(o),a)return Gv.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${null==e?void 0:e.message}]`),{appId:o,measurementId:a};throw h}const l=503===Number(null==(r=null==e?void 0:e.customData)?void 0:r.httpStatus)?ot(i,n.intervalMillis,30):ot(i,n.intervalMillis),u={throttleEndTimeMillis:Date.now()+l,backoffCount:i+1};return n.setThrottleMetadata(o,u),Gv.debug(`Calling attemptFetch again in ${l} millis`),Zv(t,u,s,n)}})}class Jv{constructor(){this.listeners=[]}addEventListener(t){this.listeners.push(t)}abort(){this.listeners.forEach(t=>t())}}function Qv(t,e,i,s,n,r,o){return m(this,null,function*(){var a;const h=$v(t);h.then(e=>{i[e.measurementId]=e.appId,t.options.measurementId&&e.measurementId!==t.options.measurementId&&Gv.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${e.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(t=>Gv.error(t)),e.push(h);const l=
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
function(){return m(this,null,function*(){if(!K())return Gv.warn(Xv.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield $()}catch(t){return Gv.warn(Xv.create("indexeddb-unavailable",{errorInfo:null==t?void 0:t.toString()}).message),!1}return!0})}().then(t=>t?s.getId():void 0),[u,c]=yield Promise.all([h,l]);(function(t){const e=window.document.getElementsByTagName("script");for(const i of Object.values(e))if(i.src&&i.src.includes(Vv)&&i.src.includes(t))return i;return null}
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */)(r)||Wv(r,u.measurementId),n("js",new Date);const d=null!=(a=null==o?void 0:o.config)?a:{};return d.origin="firebase",d.update=!0,null!=c&&(d.firebase_id=c),n("config",u.measurementId,d),u.measurementId})}
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */class ty{constructor(t){this.app=t}_delete(){return delete ey[this.app.options.appId],Promise.resolve()}}let ey={},iy=[];const sy={};let ny,ry,oy="dataLayer",ay=!1;function hy(t,e,i){!function(){const t=[];if(W()&&t.push("This is a browser extension environment."),Z()||t.push("Cookies are not available."),t.length>0){const e=t.map((t,e)=>`(${e+1}) ${t}`).join(" "),i=Xv.create("invalid-analytics-context",{errorInfo:e});Gv.warn(i.message)}}();const s=t.options.appId;if(!s)throw Xv.create("no-app-id");if(!t.options.apiKey){if(!t.options.measurementId)throw Xv.create("no-api-key");Gv.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=ey[s])throw Xv.create("already-exists",{id:s});if(!ay){!function(t){let e=[];Array.isArray(window[t])?e=window[t]:window[t]=e}(oy);const{wrappedGtag:t,gtagCore:e}=function(t,e,i,s,n){let r=function(...t){window[s].push(arguments)};return window[n]&&"function"==typeof window[n]&&(r=window[n]),window[n]=jv(r,t,e,i),{gtagCore:r,wrappedGtag:window[n]}}(ey,iy,sy,oy,"gtag");ry=t,ny=e,ay=!0}return ey[s]=Qv(t,iy,sy,e,ny,oy,i),new ty(t)}function ly(t=_e()){const e=Te(t=at(t),Uv);return e.isInitialized()?e.getImmediate():function(t,e={}){const i=Te(t,Uv);if(i.isInitialized()){const t=i.getImmediate();if(et(e,i.getOptions()))return t;throw Xv.create("already-initialized")}const s=i.initialize({options:e});return s}(t)}function uy(t,e,i){t=at(t),function(t,e,i,s){return m(this,null,function*(){if(s&&s.global){const e={};for(const t of Object.keys(i))e[`user_properties.${t}`]=i[t];return t("set",e),Promise.resolve()}{const s=yield e;t("config",s,{update:!0,user_properties:i})}})}(ry,ey[t.app.options.appId],e,i).catch(t=>Gv.error(t))}function cy(t,e,i,s){t=at(t),function(t,e,i,s,n){return m(this,null,function*(){if(n&&n.global)t("event",i,s);else{const n=yield e,r=f(d({},s),{send_to:n});t("event",i,r)}})}(ry,ey[t.app.options.appId],e,i,s).catch(t=>Gv.error(t))}const dy="@firebase/analytics",fy="0.10.19";xe(new ht(Uv,(t,{options:e})=>hy(t.getProvider("app").getImmediate(),t.getProvider("installations-internal").getImmediate(),e),"PUBLIC")),xe(new ht("analytics-internal",function(t){try{const e=t.getProvider(Uv).getImmediate();return{logEvent:(t,i,s)=>cy(e,t,i,s),setUserProperties:(t,i)=>uy(e,t,i)}}catch(e){throw Xv.create("interop-component-reg-failed",{reason:e})}},"PRIVATE")),Ae(dy,fy),Ae(dy,fy,"esm2020");const py=new Map,gy=new Map,my={apiKey:"AIzaSyAY3rg6dFlOTVc9_69IvhP-ZPaAHhwuPFU",authDomain:"puxxle-3830f.firebaseapp.com",projectId:"puxxle-3830f",storageBucket:"puxxle-3830f.firebasestorage.app",messagingSenderId:"978617612489",appId:"1:978617612489:web:cf9dc86bd69508fb9af518",measurementId:"G-2T8HGL2RYT"};let vy=null,yy=null,xy=null,Ty=null,wy=null;function by(){if(["apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId"].filter(t=>!my[t]).length>0)return!1;try{vy=Ce(my),yy=Sn(vy),xy=Sg(vy),function(){return m(this,null,function*(){try{const t=Sy();yield Cg(t)}catch(t){"failed-precondition"===t.code||t.code}})}().catch(()=>{}),Ty=function(t=_e(),e={}){var i,s;const n=Te(t=at(t),Om);if(n.isInitialized()){if(et(n.getOptions(),e))return n.getImmediate();throw Lm.create("already-initialized")}n.initialize({options:e});const r=n.getImmediate();return e.initialFetchResponse&&(r._initializePromise=Promise.all([r._storage.setLastSuccessfulFetchResponse(e.initialFetchResponse),r._storage.setActiveConfigEtag((null==(i=e.initialFetchResponse)?void 0:i.eTag)||""),r._storage.setActiveConfigTemplateVersion(e.initialFetchResponse.templateVersion||0),r._storageCache.setLastSuccessfulFetchTimestampMillis(Date.now()),r._storageCache.setLastFetchStatus("success"),r._storageCache.setActiveConfig((null==(s=e.initialFetchResponse)?void 0:s.config)||{})]).then(),r._isInitializationComplete=!0),r}(vy);try{(function(){return m(this,null,function*(){if(W())return!1;if(!Z())return!1;if(!K())return!1;try{return yield $()}catch(t){return!1}})})().then(t=>{t&&my.measurementId&&(wy=ly(vy))})}catch(t){}return!0}catch(t){return!1}}function Sy(){if(!xy)throw new Error("Firestore not initialized. Call initializeFirebase() first.");return xy}function Ey(){if(!Ty)throw new Error("Remote Config not initialized. Call initializeFirebase() first.");return Ty}let Cy=null,_y=null;function Ay(){return m(this,null,function*(){return _y||(_y=new Promise((t,e)=>{const i=function(){if(!yy)throw new Error("Firebase Auth not initialized. Call initializeFirebase() first.");return yy}(),s=function(t,e,i,s){return at(t).onAuthStateChanged(e,i,s)}(i,n=>m(null,null,function*(){if(Cy=n,n)s(),t(n);else try{const e=yield us(i);Cy=e.user,s(),t(e.user)}catch(r){s(),e(r)}}),t=>{s(),e(t)})}),_y)})}const My={current_active_theme_id:"",daily_theme_list:JSON.stringify(["default-blue","default-green","default-red","default-purple","default-yellow","default-orange","default-pink"]),daily_theme_rotation_enabled:!1,daily_theme_start_date:"2024-11-17",unlimited_hints_enabled:!0,default_max_hint_count:3,puzzle_data_start_date:"2025-11-23",available_puzzle_count:6,complete_screen_message_list:JSON.stringify(["NICELY DONE","FABULOUS","GREAT JOB","AWESOME","WELL DONE","COOL","COOL BEANS","SWEET","MARVELOUS","EPIC","FIRE"])};let Py=!1,Ry=null;function Iy(t){if(!t||"string"!=typeof t)return new Date(2024,10,17);let e=t.trim();(e.startsWith('"')&&e.endsWith('"')||e.startsWith("'")&&e.endsWith("'"))&&(e=e.slice(1,-1));const i=e.split("-");if(3!==i.length)return new Date(2024,10,17);const[s,n,r]=i.map(Number);return isNaN(s)||isNaN(n)||isNaN(r)?new Date(2024,10,17):new Date(s,n-1,r)}function Oy(t=new Date){if(!Py)return"default-blue";try{const i=Ey();let s=Nm(i,"current_active_theme_id").trim();if('""'!==s&&"''"!==s||(s=""),s)return Ry=s,s;if(!Bm(i,"daily_theme_rotation_enabled")){const t=Nm(i,"daily_theme_list"),e=JSON.parse(t);return Ry=e[0],e[0]}const n=Nm(i,"daily_theme_list");let r;try{r=JSON.parse(n)}catch(e){r=["default-blue","default-green","default-red","default-purple","default-yellow","default-orange","default-pink"]}Array.isArray(r)&&0!==r.length||(r=["default-blue","default-green","default-red","default-purple","default-yellow","default-orange","default-pink"]);const o=Iy(Nm(i,"daily_theme_start_date")),a=function(t,e,i){if(!e||0===e.length)return"default-blue";const s=Math.floor((t.getTime()-i.getTime())/864e5),n=e[Math.abs(s)%e.length];return n||e[0]||"default-blue"}(t,r,o);return Math.floor((t.getTime()-o.getTime())/864e5),r.length,Ry=a,a}catch(e){return Ry||"default-blue"}}function Ly(){if(!Py)return new Date(2025,10,23);try{const t=Ey();return Iy(Nm(t,"puzzle_data_start_date"))}catch(t){return new Date(2025,10,23)}}function Dy(t=new Date){const e=Ly(),i=Math.floor((t.getTime()-e.getTime())/864e5);if(i<0)return 0;const s=function(){if(!Py)return null;try{const t=zm(Ey(),"available_puzzle_count").asNumber();return t>0?t:null}catch(t){return null}}();return null!==s&&s>0?i%s:i}function ky(){const t=function(){const t=["NICELY DONE","FABULOUS","GREAT JOB","AWESOME","WELL DONE","COOL","COOL BEANS","SWEET","MARVELOUS","EPIC","FIRE"];if(!Py)return t;try{const e=Nm(Ey(),"complete_screen_message_list"),i=JSON.parse(e);return Array.isArray(i)&&0!==i.length?i:t}catch(e){return t}}();return t[Math.floor(Math.random()*t.length)]}function Fy(t){return m(this,null,function*(){const e=function(t){const e=py.get(t);return e?Date.now()-e.timestamp>36e5?(py.delete(t),null):e.data:null}(t);if(e)return e;try{const e=yg(Sy(),"themes",t),i=yield Vg(e);if(!i.exists())return null;const s=d({id:i.id},i.data());return function(t,e){py.set(t,{data:e,timestamp:Date.now()})}(t,s),s}catch(i){return null}})}function By(t){return m(this,null,function*(){const e=function(t,e){const i=`${t}/${e}`,s=gy.get(i);return s?Date.now()-s.timestamp>864e5?(gy.delete(i),null):s.data:null}("default",t);if(e)return e;try{const e=yg(Sy(),"puzzles",t),i=yield Vg(e);if(!i.exists())return null;const s=d({id:i.id},i.data());return function(t,e,i){const s=`${t}/${e}`;gy.set(s,{data:i,timestamp:Date.now()})}("default",t,s),s}catch(i){return null}})}function Ny(t){return m(this,null,function*(){if(null!==vy&&null!==yy&&null!==xy&&null!==Ty)try{const e=Oy(t);let i=yield Fy(e);if(!i&&e){const t=function(){if(!Py)return["default-blue","default-green","default-red"];try{const t=Nm(Ey(),"daily_theme_list");return JSON.parse(t)}catch(t){return["default-blue","default-green","default-red"]}}();if(t&&t.length>0){const e=t[0];i=yield Fy(e)}}if(i)return{screenBackgroundColor:i.screenBackgroundColor,backgroundColor:i.backgroundColor,boardDiagonalsColor:i.boardDiagonalsColor,boardWhiteCellColor:i.boardWhiteCellColor,boardLetterColor:i.boardLetterColor,titleColor:i.gameTitleColor,attemptCounterColor:i.gameTitleColor,titleFont:i.titleFont||"Georgia, serif",uiFont:i.uiFont||"Arial Black, sans-serif",unusedTileBackgroundColor:i.unusedTileBackgroundColor,unusedTileTextColor:i.unusedTileLetterColor,submitButtonBackgroundColor:i.unusedTileBackgroundColor,submitButtonTextColor:i.unusedTileLetterColor,datePickerTodayButtonColor:i.gameTitleColor,datePickerTodayButtonTextColor:i.boardWhiteCellColor,helpButtonColor:i.gameTitleColor,helpButtonTextColor:i.boardWhiteCellColor,helpScreenBackgroundColor:i.screenBackgroundColor,helpScreenTextColor:i.boardLetterColor,helpScreenTitleColor:i.gameTitleColor,puzzleSolvedTitleColor:i.puzzleSolvedTitleColor,puzzleSolvedMessageColor:i.boardLetterColor,puzzleSolvedButtonColor:i.puzzleSolvedBackgroundColor,puzzleSolvedButtonTextColor:i.boardLetterColor}}catch(e){}return{screenBackgroundColor:"#F5F5DC",backgroundColor:"#F5F5DC",boardDiagonalsColor:"#b3d9ff",boardWhiteCellColor:"#FFFFFF",boardLetterColor:"#000000",titleColor:"#A8C8DC",attemptCounterColor:"#A8C8DC",titleFont:"Georgia, serif",uiFont:"Arial Black, sans-serif",unusedTileBackgroundColor:"#888888",unusedTileTextColor:"#FFFFFF",submitButtonBackgroundColor:"#888888",submitButtonTextColor:"#FFFFFF",datePickerTodayButtonColor:"#A8C8DC",datePickerTodayButtonTextColor:"#FFFFFF",helpButtonColor:"#A8C8DC",helpButtonTextColor:"#FFFFFF",helpScreenBackgroundColor:"#F5F5DC",helpScreenTextColor:"#000000",helpScreenTitleColor:"#A8C8DC",puzzleSolvedTitleColor:"#A8C8DC",puzzleSolvedMessageColor:"#000000",puzzleSolvedButtonColor:"#b3d9ff",puzzleSolvedButtonTextColor:"#000000"}})}const zy=class t{constructor(e,i){this.solution=e,this.revealed=null!=i?i:Array.from({length:t.SIZE},()=>Array(t.SIZE).fill(!1)),this.guesses=Array.from({length:t.SIZE},()=>Array(t.SIZE).fill(""))}get state(){return this.guesses.map(t=>[...t])}inBounds(e,i){return e>=0&&e<t.SIZE&&i>=0&&i<t.SIZE}guess(t,e,i){if(!this.inBounds(t,e))throw new Error("Outofbounds");if((i=(i||"").toUpperCase())&&1!==i.length)throw new Error("Letter must be single char");this.guesses[t][e]=i}isCorrect(t,e){return!!this.revealed[t][e]||this.guesses[t][e]===this.solution[t][e]}isSolved(){return 0===this.countMistakes()}countMistakes(){let e=0;for(let i=0;i<t.SIZE;i++)for(let s=0;s<t.SIZE;s++)this.isCorrect(i,s)||e++;return e}reveal(t,e){this.inBounds(t,e)&&(this.revealed[t][e]=!0,this.guesses[t][e]=this.solution[t][e])}getHintableCells(){const e=[];for(let i=0;i<t.SIZE;i++)for(let s=0;s<t.SIZE;s++)this.revealed[i][s]||this.guesses[i][s]===this.solution[i][s]||e.push([i,s]);return e}revealRandom(){const t=this.getHintableCells();if(!t.length)return null;const[e,i]=t[Math.floor(Math.random()*t.length)];return this.reveal(e,i),{r:e,c:i,letter:this.solution[e][i],revealed:!0}}clearCell(t,e){this.inBounds(t,e)&&(this.revealed[t][e]||(this.guesses[t][e]=""))}getNextEmptyCell(e,i){for(let s=e;s<t.SIZE;s++)for(let n=s===e?i+1:0;n<t.SIZE;n++)if(!this.revealed[s][n])return{r:s,c:n,letter:"",revealed:!1};for(let s=0;s<=e;s++){const n=s===e?i:t.SIZE-1;for(let t=0;t<n;t++)if(!this.revealed[s][t])return{r:s,c:t,letter:"",revealed:!1}}return null}getPrevEmptyCell(e,i){for(let s=e;s>=0;s--)for(let n=s===e?i-1:t.SIZE-1;n>=0;n--)if(!this.revealed[s][n])return{r:s,c:n,letter:"",revealed:!1};for(let s=t.SIZE-1;s>=e;s--){const n=s===e?i:-1;for(let e=t.SIZE-1;e>n;e--)if(!this.revealed[s][e])return{r:s,c:e,letter:"",revealed:!1}}return null}getNextEmptyCellVertically(e,i){for(let s=e+1;s<t.SIZE;s++)if(!this.revealed[s][i])return{r:s,c:i,letter:"",revealed:!1};for(let t=0;t<e;t++)if(!this.revealed[t][i])return{r:t,c:i,letter:"",revealed:!1};return null}getPrevEmptyCellVertically(e,i){for(let t=e-1;t>=0;t--)if(!this.revealed[t][i])return{r:t,c:i,letter:"",revealed:!1};for(let s=t.SIZE-1;s>e;s--)if(!this.revealed[s][i])return{r:s,c:i,letter:"",revealed:!1};return null}isCurrentCellEmpty(t,e){return""===this.guesses[t][e]}submit(){const e=[];for(let i=0;i<t.SIZE;i++)for(let s=0;s<t.SIZE;s++){const t=this.revealed[i][s];this.isCorrect(i,s)?(this.revealed[i][s]=!0,e.push({r:i,c:s,letter:this.solution[i][s],revealed:t})):e.push({r:i,c:s,letter:this.guesses[i][s],revealed:!1})}return e}unusedLetters(e=!0){const i=[],s=new Map;for(let r=0;r<t.SIZE;r++)for(let e=0;e<t.SIZE;e++){if(this.revealed[r][e])continue;const t=this.guesses[r][e];t&&s.set(t,(s.get(t)||0)+1)}const n=new Map;for(let r=0;r<t.SIZE;r++)for(let e=0;e<t.SIZE;e++){if(this.revealed[r][e])continue;const t=this.solution[r][e].toUpperCase();n.set(t,(n.get(t)||0)+1)}for(const[t,r]of n.entries()){const e=s.get(t)||0,n=Math.max(0,r-e);for(let s=0;s<n;s++)i.push(t)}return e?i:new Set(i)}};zy.SIZE=5;let Uy=zy;class Vy{constructor(){this.startTime=null,this.elapsed=0}start(){null===this.startTime&&(this.startTime=Date.now())}stop(){null!==this.startTime&&(this.elapsed+=Date.now()-this.startTime,this.startTime=null)}reset(){this.startTime=null,this.elapsed=0}get seconds(){const t=null!==this.startTime?Date.now()-this.startTime:0;return Math.floor((this.elapsed+t)/1e3)}getSeconds(){return this.seconds}setSeconds(t){this.elapsed=1e3*t,null!==this.startTime&&(this.startTime=Date.now())}}class Gy extends o.Events.EventEmitter{constructor(t){super(),this.timer=new Vy,this.numAttempts=0,this.numHints=0,this.unlimitedHints=!0,this.maxHints=-1,this.puzzleSolved=!1,this.progressCache=new Map,this.placedTiles=new Map,this.config=t}unflattenGrid(t){if(25!==t.length)throw new Error(`Invalid flat grid: expected 25 elements, got ${t.length}`);const e=[];for(let i=0;i<5;i++)e.push(t.slice(5*i,5*(i+1)));return e}loadPuzzle(t,e){return m(this,null,function*(){const t=`puzzle_${Dy(e)}`,i=yield By(t);if(!i)throw new Error(`Puzzle not found: ${t}`);if(!i.solution||!Array.isArray(i.solution)||25!==i.solution.length)throw new Error("Invalid puzzle solution structure");if(!i.revealedPattern||!Array.isArray(i.revealedPattern)||25!==i.revealedPattern.length)throw new Error("Invalid puzzle revealed pattern structure");return{solution:this.unflattenGrid(i.solution),revealedPattern:this.unflattenGrid(i.revealedPattern.map(t=>1===t))}})}getDateKey(t){const e=t||new Date;return`${e.getFullYear()}-${String(e.getMonth()+1).padStart(2,"0")}-${String(e.getDate()).padStart(2,"0")}`}saveProgress(){if(!this.grid)return;const t=this.getDateKey(this.selectedDate),e={guesses:this.grid.state.map(t=>[...t]),revealed:this.grid.revealed.map(t=>[...t]),numAttempts:this.numAttempts,numHints:this.numHints,timerSeconds:this.timer.getSeconds(),solved:this.puzzleSolved};for(let i=0;i<5;i++)for(let t=0;t<5;t++)e.guesses[i][t];this.progressCache.set(t,e)}restoreProgress(){const t=this.getDateKey(this.selectedDate),e=this.progressCache.get(t);if(!e)return!1;for(let i=0;i<5;i++)for(let t=0;t<5;t++)e.guesses[i][t],e.revealed[i][t];for(let i=0;i<5;i++)for(let t=0;t<5;t++){const s=e.guesses[i][t];s&&this.grid.guess(i,t,s),e.revealed[i][t]&&!this.grid.revealed[i][t]&&this.grid.reveal(i,t)}return this.numAttempts=e.numAttempts,this.numHints=e.numHints,e.timerSeconds>0&&this.timer.setSeconds(e.timerSeconds),this.puzzleSolved=e.solved||!1,!0}isSameDate(t){return!this.selectedDate&&!t||!(!this.selectedDate||!t)&&this.getDateKey(this.selectedDate)===this.getDateKey(t)}getSelectedDate(){return this.selectedDate}setSelectedDate(t){this.getDateKey(t),this.selectedDate&&this.getDateKey(this.selectedDate),this.grid&&this.saveProgress(),this.selectedDate=t}load(t){return m(this,null,function*(){const{solution:e,revealedPattern:i}=yield this.loadPuzzle(t,this.selectedDate);this.originalSolution=e.map(t=>[...t]),this.originalRevealedPattern=i.map(t=>[...t]),this.numAttempts=0,this.numHints=0,this.puzzleSolved=!1,this.unlimitedHints=function(){if(!Py)return!0;try{return Bm(Ey(),"unlimited_hints_enabled")}catch(t){return!0}}(),this.unlimitedHints?this.maxHints=-1:this.maxHints=function(){if(!Py)return 3;try{return zm(Ey(),"default_max_hint_count").asNumber()}catch(t){return 3}}(),this.grid=new Uy(e,i);const s=this.restoreProgress();this.emit(l,{grid:this.grid}),this.emit(u,{count:this.numAttempts}),this.emit(c,{count:this.numHints}),this.sortUnusedLetters(),s&&this.puzzleSolved&&this.emit(v,{seconds:this.timer.seconds,hints:this.numHints,attempts:this.numAttempts,solved:!0,restored:!0})})}start(){this.puzzleSolved||(this.timer.seconds>0||this.timer.reset(),this.timer.start())}restart(){this.timer.reset(),this.grid=void 0,this.numAttempts=0,this.numHints=0,this.puzzleSolved=!1,this.clearPlacedTiles(),this.emit(u,{count:this.numAttempts}),this.emit(c,{count:this.numHints})}restartPuzzle(){if(!this.grid||!this.originalSolution||!this.originalRevealedPattern)return;this.grid=new Uy(this.originalSolution.map(t=>[...t]),this.originalRevealedPattern.map(t=>[...t])),this.clearPlacedTiles(),this.puzzleSolved=!1;const t=this.getDateKey(this.selectedDate);this.progressCache.delete(t),this.emit(l,{grid:this.grid}),this.emit(T),this.emit(b)}guess(t,e,i){this.grid&&this.isNotRevealed(t,e)&&(this.grid.guess(t,e,i.toUpperCase()),this.emit(a,{r:t,c:e,letter:i.toUpperCase()}),this.sortUnusedLetters())}isNotRevealed(t,e){return!1!==this.grid.inBounds(t,e)&&!this.grid.revealed[t][e]}getSolutionLetter(t,e){return this.grid&&this.grid.inBounds(t,e)?this.grid.solution[t][e]:""}placeTile(t,e,i){const s=`${t},${e}`;this.placedTiles.set(s,i)}removeTile(t,e){const i=`${t},${e}`,s=this.placedTiles.get(i);return s&&this.placedTiles.delete(i),s}getPlacedTile(t,e){const i=`${t},${e}`;return this.placedTiles.get(i)}hasPlacedTile(t,e){const i=`${t},${e}`;return this.placedTiles.has(i)}clearPlacedTiles(){for(const t of this.placedTiles.values())t.destroy();this.placedTiles.clear()}getAllPlacedTiles(){return this.placedTiles}revealRandom(){if(!this.unlimitedHints&&this.numHints>=this.maxHints)return;const t=this.grid.revealRandom();if(t&&(this.emit(h,{r:t.r,c:t.c,letter:t.letter,correct:!0}),this.numHints++,this.emit(c,{count:this.numHints}),this.unlimitedHints,this.grid.isSolved()))return this.puzzleSolved=!0,this.timer.stop(),this.saveProgress(),void this.emit(v,{seconds:this.timer.seconds,hints:this.numHints,attempts:this.numAttempts,solved:!0,restored:!1});this.sortUnusedLetters()}clear(t,e){this.isNotRevealed(t,e)&&(this.grid.clearCell(t,e),this.emit(a,{r:t,c:e,letter:""}),this.sortUnusedLetters())}submit(){if(null==this.grid)return;const t=this.grid.submit(),e=[],i=[];for(const n of t){const t=this.grid.isCorrect(n.r,n.c);n.revealed||(t?e.push({r:n.r,c:n.c,letter:n.letter}):i.push({r:n.r,c:n.c,letter:n.letter}))}this.emit(S,{correct:e,incorrect:i});const s=this.grid.isSolved();return this.numAttempts++,this.emit(u,{count:this.numAttempts}),this.emit(T,{unused:this.sortUnusedLetters()}),s?(this.puzzleSolved=!0,this.timer.stop(),this.saveProgress(),void this.emit(v,{seconds:this.timer.seconds,hints:this.numHints,attempts:this.numAttempts,solved:s,restored:!1})):void 0}revealCorrectCells(t){for(const e of t)this.emit(h,{r:e.r,c:e.c,letter:e.letter,correct:!0,revealed:!1})}clearIncorrectCells(t){for(const e of t)this.grid.clearCell(e.r,e.c),this.emit(a,{r:e.r,c:e.c,letter:""});this.emit(T,{unused:this.sortUnusedLetters()})}nextEmptyCell(t,e){return this.grid.getNextEmptyCell(t,e)}nextEmptyCellVertically(t,e){return this.grid.getNextEmptyCellVertically(t,e)}prevEmptyCell(t,e){return this.grid.getPrevEmptyCell(t,e)}prevEmptyCellVertically(t,e){return this.grid.getPrevEmptyCellVertically(t,e)}currentCellEmpty(t,e){return this.grid.isCurrentCellEmpty(t,e)}unusedLetters(t=!0){return this.grid?this.grid.unusedLetters(t):t?[]:new Set}sortUnusedLetters(t=!0){const e=(i=this.unusedLetters(t),(Array.isArray(i)?i.slice():Array.from(i)).sort());var i;return this.emit(T,{unused:e}),e}getNumAttempts(){return this.numAttempts}getNumHints(){return this.numHints}getMaxHints(){return this.maxHints}hasHintsRemaining(){return this.unlimitedHints||this.numHints<this.maxHints}isPuzzleSolved(){return this.puzzleSolved}isDateSolved(t){const e=this.getDateKey(t),i=this.progressCache.get(e);return(null==i?void 0:i.solved)||!1}clearGrid(){if(this.grid){for(let t=0;t<Uy.SIZE;t++)for(let e=0;e<Uy.SIZE;e++)this.clear(t,e);this.emit(b)}}}class Xy extends o.Scene{constructor(){super("Boot")}preload(){}create(){return m(this,null,function*(){try{by()&&(yield Ay(),yield function(){return m(this,null,function*(){const t=Ey();t.defaultConfig=My,t.settings.minimumFetchIntervalMillis=36e5;try{yield ov(t),Py=!0}catch(e){Py=!0}})}())}catch(s){}const t=yield function(){return m(this,null,function*(){return{dataUrl:"",gridsSubUrl:"",gridsFilePrefix:"",patternsSubUrl:"",patternsFilePrefix:"",settingsSubUrl:"",settingsFilename:"",fetchFromAPI:!1}})}();this.registry.set("config",t);const e=yield Ny();this.registry.set("theme",e),e.screenBackgroundColor&&(document.body.style.backgroundColor=e.screenBackgroundColor,document.documentElement.style.backgroundColor=e.screenBackgroundColor,this.cameras.main.setBackgroundColor(e.screenBackgroundColor));try{const t=yield By("puzzle_help");t&&this.registry.set("puzzle_help",t)}catch(s){}const i=new Gy(t);this.registry.set("controller",i),this.input.keyboard.on("keydown",t=>{this.game.events.emit(w,t)}),this.scene.launch("Play"),this.scene.launch("UI"),this.scene.setVisible(!1)})}}var Yy=(t=>(t[t.DEFAULT=0]="DEFAULT",t[t.INVALID=1]="INVALID",t[t.HINT=2]="HINT",t[t.CORRECT=3]="CORRECT",t))(Yy||{});const Hy={1:16711680,2:16777215,3:65280};class Wy extends o.GameObjects.Container{constructor(t,e,i,s,n,r,o=!1,a){super(t,e,i),this.currentState=0,this.size=s,this.notchSize=.15*s,this.notchConfig=r,this.isTransparent=o,this.background=t.add.graphics(),this.add(this.background),this.interactiveZone=t.add.zone(s/2,s/2,s,s).setInteractive().on("pointerdown",()=>{this.emit("cellTapped")}),this.add(this.interactiveZone);const h=t.registry.get("theme"),l=(null==h?void 0:h.uiFont)||"Arial, sans-serif";a&&(this.labelText=t.add.text(8,8,a,{fontFamily:l,fontSize:`${Math.floor(.4*parseInt(n))}px`,color:"#666666",fontStyle:"normal"}).setOrigin(0,0),this.add(this.labelText)),this.text=t.add.text(s/2,s/2,"",{fontFamily:l,fontSize:n,color:"#000000",fontStyle:"normal"}).setOrigin(.5),this.add(this.text),this.focusRing=t.add.graphics(),this.focusRing.setVisible(!1),this.add(this.focusRing),this.setDefaultState()}drawTile(t){const{size:e,currentState:i}=this;this.background.clear(),(1===i||3===i)&&(this.background.fillStyle(t,.15),this.background.fillRect(0,0,e,e))}setFocus(t,e=!1){}setLetter(t){this.text.setText(t.toUpperCase()),this.updateTextStyle(),this.updateVisibility()}updateVisibility(){this.text.setVisible(!0),this.labelText&&this.labelText.setVisible(!0)}setDefaultState(){this.currentState=0,this.drawTile(),this.updateTextStyle(),this.updateVisibility()}setState(t){return 0==t&&this.setDefaultState(),this.currentState=t,this.drawTile(Hy[t]),this.updateTextStyle(),this.updateVisibility(),this}getState(){return this.currentState}updateTextStyle(){this.text.setFontStyle("normal")}resize(t,e){this.size=t,this.notchSize=.15*t,this.drawTile(Hy[this.currentState]),this.labelText&&this.labelText.setFontSize(`${Math.floor(.4*parseInt(e))}px`),this.text.setPosition(t/2,t/2),this.text.setFontSize(e)}setZoneInteractive(t){t?this.interactiveZone.setInteractive():this.interactiveZone.disableInteractive()}}const jy=class t{static isMobile(){const t=window.innerWidth<768,e="ontouchstart"in window,i=window.matchMedia("(pointer: coarse)").matches;return t||e&&i}constructor(t,e){this.viewport=this.calculateViewport(t,e),this.grid=this.calculateGrid(),this.typography=this.calculateTypography(),this.colors=this.getColors()}calculateViewport(e,i){const s=t.isMobile(),n=s?t.MOBILE_BASE_WIDTH:t.MIN_SAFE_WIDTH,r=s?t.MOBILE_BASE_HEIGHT:t.MIN_SAFE_HEIGHT,o=Math.max(e,n),a=Math.max(i,r),h=e/n,l=i/r;let u=s?Math.min(h,l):Math.max(.5,Math.min(h,l));const c=70*u+t.BASE_CELL_SIZE*t.GRID_SIZE*u+36*1.2*1.2*3*u+(36*1.2+40)*u;return c>i&&(u=u*(i/c)*.95),{width:e,height:i,safeWidth:o,safeHeight:a,scale:u,centerX:e/2,centerY:i/2}}calculateGrid(){const e=Math.floor(t.BASE_CELL_SIZE*this.viewport.scale),i=Math.floor(t.BASE_GAP*this.viewport.scale),s=Math.floor(t.BASE_LABEL_OFFSET*this.viewport.scale),n=e*t.GRID_SIZE+i*(t.GRID_SIZE-1);return{cellSize:e,gap:i,totalSize:n,startX:(this.viewport.width-n)/2,startY:0,labelOffset:s,labelSize:Math.floor(20*this.viewport.scale)}}calculateTypography(){const t=this.viewport.scale;return{title:`${Math.floor(48*t)}px`,gridLabel:`${Math.floor(12*t)}px`,cellLetter:`${Math.floor(36*t)}px`,unusedLetters:`${Math.floor(20*t)}px`,button:`${Math.floor(18*t)}px`}}getColors(){return{cellRevealed:11786751,cellEmpty:16777215,cellCorrect:11786751,cellIncorrect:16764108,cellBorder:0,cellFocus:16733986,textPrimary:"#000000",textSecondary:"#666666",textOnRevealed:"#000000",background:15267064}}getCellPosition(t,e){return{x:this.grid.startX+e*(this.grid.cellSize+this.grid.gap),y:this.grid.startY+t*(this.grid.cellSize+this.grid.gap)}}getRowLabelPosition(t){const e=this.getCellPosition(t,0);return{x:e.x-15*this.viewport.scale,y:e.y+this.grid.cellSize/2}}getColumnLabelPosition(t){const e=this.getCellPosition(0,t);return{x:e.x+this.grid.cellSize/2,y:e.y-15*this.viewport.scale}}getUnusedLettersPosition(){const t=this.grid.startY+this.grid.totalSize,e=10*this.viewport.scale;return{x:this.viewport.centerX,y:t+e,maxWidth:this.grid.totalSize}}getSubmitButtonPosition(){const t=this.getUnusedLettersPosition(),e=1.2*parseInt(this.typography.cellLetter)*2,i=20*this.viewport.scale;return{x:this.viewport.centerX,y:t.y+e+i}}updateGridPosition(t){this.grid.startY=t}getContainerLayout(){const t=.85*(Math.floor(50*this.viewport.scale)+35*this.viewport.scale+20*this.viewport.scale),e=this.grid.totalSize,i=Math.floor(36*this.viewport.scale),s=3*Math.floor(1.2*i)*1.2+3*(Math.floor(1.2*i)+20*this.viewport.scale),n=5*this.viewport.scale,r=10*this.viewport.scale,o=e+r+s,a=10*this.viewport.scale,h=this.viewport.height-o,l=Math.max(a+t+n,h/2),u=l+e+r,c=l-n-t;return{titleBar:{x:this.viewport.centerX,y:c,height:t},grid:{x:this.viewport.centerX,y:l,height:e},bottom:{x:this.viewport.centerX,y:u,height:s}}}static create(e,i){return new t(e,i)}};jy.MIN_SAFE_WIDTH=960,jy.MIN_SAFE_HEIGHT=600,jy.MOBILE_BASE_WIDTH=375,jy.MOBILE_BASE_HEIGHT=667,jy.GRID_SIZE=5,jy.BASE_CELL_SIZE=70,jy.BASE_GAP=0,jy.BASE_LABEL_OFFSET=30;let qy=jy;function Ky(t,e){return 0===t?0===e||4===e:1===t?1===e||3===e:2===t?2===e:3===t?1===e||3===e:4===t&&(0===e||4===e)}function $y(t,e){return Ky(t,e)?{topLeft:!1,topRight:!1,bottomLeft:!1,bottomRight:!1}:{"0,1":{topLeft:!1,topRight:!1,bottomLeft:!0,bottomRight:!1},"0,2":{topLeft:!1,topRight:!1,bottomLeft:!1,bottomRight:!1},"0,3":{topLeft:!1,topRight:!1,bottomLeft:!1,bottomRight:!0},"1,0":{topLeft:!1,topRight:!0,bottomLeft:!1,bottomRight:!1},"1,2":{topLeft:!1,topRight:!1,bottomLeft:!0,bottomRight:!0},"1,4":{topLeft:!0,topRight:!1,bottomLeft:!1,bottomRight:!1},"2,0":{topLeft:!1,topRight:!1,bottomLeft:!1,bottomRight:!1},"2,1":{topLeft:!1,topRight:!0,bottomLeft:!1,bottomRight:!0},"2,3":{topLeft:!0,topRight:!1,bottomLeft:!0,bottomRight:!1},"2,4":{topLeft:!1,topRight:!1,bottomLeft:!1,bottomRight:!1},"3,0":{topLeft:!1,topRight:!1,bottomLeft:!1,bottomRight:!0},"3,2":{topLeft:!0,topRight:!0,bottomLeft:!1,bottomRight:!1},"3,4":{topLeft:!1,topRight:!1,bottomLeft:!0,bottomRight:!1},"4,1":{topLeft:!0,topRight:!1,bottomLeft:!1,bottomRight:!1},"4,2":{topLeft:!1,topRight:!1,bottomLeft:!1,bottomRight:!1},"4,3":{topLeft:!1,topRight:!0,bottomLeft:!1,bottomRight:!1}}[`${t},${e}`]||{topLeft:!1,topRight:!1,bottomLeft:!1,bottomRight:!1}}class Zy extends o.GameObjects.Graphics{constructor(t,e,i,s,n,r=11786751){super(t),this.cellSize=e,this.startX=i,this.startY=s,this.totalSize=n,this.diagonalColor=r,this.drawBoard(),this.setDepth(-1)}drawBoard(){const t=.15*this.cellSize;this.fillStyle(this.diagonalColor,1),this.fillRect(this.startX,this.startY,this.totalSize,this.totalSize),this.fillStyle(this.diagonalColor,1),this.lineStyle(0,0,0);for(let e=0;e<5;e++)for(let t=0;t<5;t++)if(Ky(e,t)){const i=this.startX+t*this.cellSize,s=this.startY+e*this.cellSize;this.fillRect(i,s,this.cellSize,this.cellSize)}for(let e=0;e<5;e++)for(let i=0;i<5;i++)if(!Ky(e,i)){const s=this.startX+i*this.cellSize,n=this.startY+e*this.cellSize,r=$y(e,i);this.fillStyle(16777215,1),this.lineStyle(3,0,1),this.beginPath(),r.topLeft?this.moveTo(s+t,n):this.moveTo(s,n),r.topRight?(this.lineTo(s+this.cellSize-t,n),this.lineTo(s+this.cellSize,n+t)):this.lineTo(s+this.cellSize,n),r.bottomRight?(this.lineTo(s+this.cellSize,n+this.cellSize-t),this.lineTo(s+this.cellSize-t,n+this.cellSize)):this.lineTo(s+this.cellSize,n+this.cellSize),r.bottomLeft?(this.lineTo(s+t,n+this.cellSize),this.lineTo(s,n+this.cellSize-t)):this.lineTo(s,n+this.cellSize),r.topLeft?(this.lineTo(s,n+t),this.lineTo(s+t,n)):this.lineTo(s,n),this.closePath(),this.fillPath(),this.strokePath()}this.lineStyle(3,0,1),this.strokeRect(this.startX,this.startY,this.totalSize,this.totalSize)}updateSize(t,e,i,s,n){this.cellSize=t,this.startX=e,this.startY=i,this.totalSize=s,void 0!==n&&(this.diagonalColor=n),this.clear(),this.drawBoard()}}class Jy extends o.GameObjects.Container{constructor(t,e,i,s,n,r,o){super(t,e,i),this.isDragging=!1,this.dragOffsetX=0,this.dragOffsetY=0,this.size=s,this.letter=n,this.row=r,this.col=o,this.setScrollFactor(0),this.background=t.add.graphics(),this.drawBackground(!1),this.add(this.background);const a=t.registry.get("theme"),h=(null==a?void 0:a.unusedTileTextColor)||"#FFFFFF",l=(null==a?void 0:a.uiFont)||"Arial, sans-serif";this.text=t.add.text(s/2,s/2,n.toUpperCase(),{fontFamily:l,fontSize:`${Math.floor(.6*s)}px`,color:h,fontStyle:"bold"}).setOrigin(.5),this.add(this.text);const u=t.add.zone(s/2,s/2,s,s).setInteractive({useHandCursor:!0,draggable:!0});this.add(u),u.on("dragstart",this.onDragStart,this),u.on("drag",this.onDrag,this),u.on("dragend",this.onDragEnd,this),u.on("pointerup",t=>{this.isDragging||this.emit("placedTileTap",{letter:this.letter,tile:this,fromRow:this.row,fromCol:this.col})}),t.input.setDraggable(u)}drawBackground(t){this.background.clear();const{size:e}=this,i=.15*e,s=this.scene.registry.get("theme"),n=(null==s?void 0:s.unusedTileBackgroundColor)||"#CCCCCC",r=parseInt(n.replace("#",""),16),o=t?Math.max(0,r-3355443):r;this.background.fillStyle(o,1),t?this.background.lineStyle(2,0,1):this.background.lineStyle(0,0,0),this.background.fillRoundedRect(0,0,e,e,i),t&&this.background.strokeRoundedRect(0,0,e,e,i)}onDragStart(t){this.isDragging=!0;const e=this.scene.cameras.main.getWorldPoint(t.x,t.y);this.dragOffsetX=this.x-e.x,this.dragOffsetY=this.y-e.y,this.setDepth(3e3),this.drawBackground(!0),this.setScale(1.1)}onDrag(t,e,i){const s=this.scene.cameras.main.getWorldPoint(t.x,t.y);this.setPosition(s.x+this.dragOffsetX,s.y+this.dragOffsetY)}onDragEnd(t){this.isDragging=!1,this.setDepth(3500),this.drawBackground(!1),this.setScale(1),this.emit("placedTileDrop",{letter:this.letter,x:t.x,y:t.y,tile:this,fromRow:this.row,fromCol:this.col})}updatePosition(t,e){this.row=t,this.col=e}moveTo(t,e,i=400){this.scene.tweens.add({targets:this,x:t,y:e,duration:i,ease:"Back.easeOut"})}remove(){this.scene&&this.scene.tweens?this.scene.tweens.add({targets:this,alpha:0,scale:.5,duration:400,ease:"Back.easeIn",onComplete:()=>this.destroy()}):this.destroy()}}class Qy extends o.Scene{constructor(){super("Play"),this.tiles=[],this.cursor={r:0,c:0},this.lastTapTimes=new Map,this.DOUBLE_TAP_THRESHOLD=300,this.selectedCell=null,this.dragHoverCell=null,this.keyHandler=t=>{this.registry.get("overlayVisible")}}setInitialCursor(){}create(){return m(this,null,function*(){this.uiConfig=this.registry.get("uiConfig"),this.uiConfig||(this.uiConfig=qy.create(this.scale.width,this.scale.height));const t=this.registry.get("theme");(null==t?void 0:t.screenBackgroundColor)&&this.cameras.main.setBackgroundColor(t.screenBackgroundColor),this.game.events.on(w,this.keyHandler),this.ctl=this.registry.get("controller");const e=t=>{this.spawnBoard(t.grid)};this.ctl.on(l,e);const i=t=>{if(this.ctl.isNotRevealed(t.r,t.c)){const e=this.tiles[t.r][t.c];if(!t.letter||""===t.letter){e.setLetter(""),e.setState(Yy.DEFAULT);const i=this.ctl.getPlacedTile(t.r,t.c);i&&(this.ctl.removeTile(t.r,t.c),i.remove(),this.tiles[t.r][t.c].setZoneInteractive(!0))}}};this.ctl.on(a,i);const s=t=>{const e=this.tiles[t.r][t.c];e.setLetter(t.letter),e.setState(Yy.DEFAULT);const i=this.ctl.getPlacedTile(t.r,t.c);i&&(this.ctl.removeTile(t.r,t.c),i.remove(),this.tiles[t.r][t.c].setZoneInteractive(!0))};this.ctl.on(h,s),this.ctl.on(S,t=>{this.handleValidationFeedback(t.correct,t.incorrect)});const n=()=>{this.setInitialCursor()};if(this.ctl.on(b,n),this.registry.get("gameLoading")){this.clearBoard();try{this.errorMessage&&this.errorMessage.setVisible(!1),yield this.ctl.load(this.registry.get("config")),this.ctl.start()}catch(c){if(!(c instanceof Error?c.message:String(c)).includes("Puzzle not found"))throw c;this.showPuzzleNotFoundError()}}const r=(t,e,i,s)=>{const n=this.cameras.main.getWorldPoint(t.x,t.y),r=this.getCellAtPosition(n.x,n.y);!r||this.dragHoverCell&&r.row===this.dragHoverCell.row&&r.col===this.dragHoverCell.col?!r&&this.dragHoverCell&&(this.dragHoverCell=null,this.updateCellHighlighting()):(this.dragHoverCell=r,this.updateCellHighlighting())},u=()=>{this.dragHoverCell&&(this.dragHoverCell=null,this.updateCellHighlighting())};this.input.on("drag",r),this.input.on("dragend",u),this.scale.on("resize",this.handleResize,this),this.events.once(o.Scenes.Events.SHUTDOWN,()=>{this.game.events.off(w,this.keyHandler),this.ctl.off(l,e),this.ctl.off(a,i),this.ctl.off(h,s),this.ctl.off(b,n),this.scale.off("resize",this.handleResize,this),this.input.off("drag",r),this.input.off("dragend",u)})})}spawnEmptyBoard(){const{cellSize:t,startX:e,startY:i,totalSize:s}=this.uiConfig.grid,n=this.registry.get("theme"),r=(null==n?void 0:n.boardDiagonalsColor)?parseInt(n.boardDiagonalsColor.replace("#",""),16):11786751;this.boardBackground=new Zy(this,t,e,i,s,r),this.add.existing(this.boardBackground)}clearBoard(){this.boardBackground&&(this.boardBackground.destroy(),this.boardBackground=null);for(let t=0;t<5;t++)if(this.tiles[t])for(let e=0;e<5;e++)this.tiles[t][e]&&this.tiles[t][e].destroy();this.tiles=[]}showPuzzleNotFoundError(){var t;const e=this.ctl.getSelectedDate();let i;if(e){const t=new Date;i=e.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth()&&e.getDate()===t.getDate()?"today":e.toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}else i="today";const s=`No puzzle available for ${i}.\nPlease select a different day to play.`;null==(t=this.scene.get("UI"))||t.events.emit("hideLoadingSpinner");const n=this.registry.get("theme"),r=(null==n?void 0:n.gameTitleColor)||(null==n?void 0:n.titleColor)||"#4A90E2";if(this.errorMessage)this.errorMessage.setText(s),this.errorMessage.setColor(r);else{const t=this.scale.width/2,e=this.scale.height/2;this.errorMessage=this.add.text(t,e,s,{fontFamily:(null==n?void 0:n.uiFont)||"Arial, sans-serif",fontSize:"24px",color:r,align:"center",wordWrap:{width:400}}).setOrigin(.5).setDepth(5e3).setScrollFactor(0)}this.errorMessage.setVisible(!0)}spawnBoard(t){const{cellSize:e,gap:i,startX:s,startY:n,totalSize:r}=this.uiConfig.grid,o=this.uiConfig.typography.cellLetter;this.clearBoard();const a=this.registry.get("theme"),h=(null==a?void 0:a.boardDiagonalsColor)?parseInt(a.boardDiagonalsColor.replace("#",""),16):11786751;this.boardBackground=new Zy(this,e,s,n,r,h),this.add.existing(this.boardBackground),this.selectionOverlay=this.add.graphics(),this.selectionOverlay.setDepth(2900),this.selectionOverlay.setScrollFactor(0);for(let c=0;c<5;c++){this.tiles[c]=[];for(let i=0;i<5;i++){const s=this.uiConfig.getCellPosition(c,i),n=$y(c,i),r=Ky(c,i);let a;0===c&&0===i?a="1.":0===c&&2===i?a="2.":0===c&&4===i?a="3.":2===c&&0===i?a="4.":4===c&&0===i&&(a="5.");const h=new Wy(this,s.x,s.y,e,o,n,r,a);this.add.existing(h),h.setDepth(3e3),h.on("cellTapped",()=>{this.handleCellTap(c,i)}),t.revealed[c][i]&&(h.setLetter(t.solution[c][i]),h.setState(Yy.DEFAULT)),this.tiles[c][i]=h}}this.cellLabelsContainer=this.add.container(0,0),this.cellLabelsContainer.setDepth(5e3),this.cellLabelsContainer.setScrollFactor(0);const l=(null==a?void 0:a.uiFont)||"Arial, sans-serif",u=Math.floor(.4*parseInt(o));[{r:0,c:0,label:"1."},{r:0,c:2,label:"2."},{r:0,c:4,label:"3."},{r:2,c:0,label:"4."},{r:4,c:0,label:"5."}].forEach(({r:t,c:e,label:i})=>{const s=this.uiConfig.getCellPosition(t,e),n=this.add.text(s.x+8,s.y+8,i,{fontFamily:l,fontSize:`${u}px`,color:"#666666",fontStyle:"normal"}).setOrigin(0,0);this.cellLabelsContainer.add(n)});for(let c=0;c<5;c++)for(let e=0;e<5;e++){const i=t.state[c][e];if(i&&!t.revealed[c][e]){const t=this.uiConfig.getCellPosition(c,e),s=this.uiConfig.grid.cellSize,n=Math.floor(.9*s),r=t.x+s/2,o=t.y+s/2,a=new Jy(this,r-n/2,o-n/2,n,i,c,e);this.add.existing(a),a.setDepth(3500),a.on("placedTileDrop",t=>{this.handlePlacedTileDrop(t)}),a.on("placedTileTap",t=>{this.handlePlacedTileTap(t)}),this.ctl.placeTile(c,e,a),this.tiles[c][e].setZoneInteractive(!1)}}}setCursor(t,e){}nudgeCursor(t){const{r:e,c:i}=this.cursor;if("ArrowLeft"===t){for(let t=i-1;t>=0;t--)if(this.ctl.isNotRevealed(e,t))return void this.setCursor(e,t);for(let t=e-1;t>=0;t--)for(let e=4;e>=0;e--)if(this.ctl.isNotRevealed(t,e))return void this.setCursor(t,e)}else if("ArrowRight"===t){for(let t=i+1;t<5;t++)if(this.ctl.isNotRevealed(e,t))return void this.setCursor(e,t);for(let t=e+1;t<5;t++)for(let e=0;e<5;e++)if(this.ctl.isNotRevealed(t,e))return void this.setCursor(t,e)}else if("ArrowUp"===t){for(let s=e-1;s>=0;s--)if(this.ctl.isNotRevealed(s,i))return void this.setCursor(s,i)}else if("ArrowDown"===t)for(let s=e+1;s<5;s++)if(this.ctl.isNotRevealed(s,i))return void this.setCursor(s,i)}applyInput(t){if("BACKSPACE"===t)return this.ctl.currentCellEmpty(this.cursor.r,this.cursor.c)?void this.nudgeCursor("ArrowLeft"):void this.ctl.clear(this.cursor.r,this.cursor.c);1===t.length&&this.ctl.guess(this.cursor.r,this.cursor.c,t)}handleTileDrop(t,e,i){for(let s=0;s<5;s++)for(let n=0;n<5;n++){const r=this.tiles[s][n].getBounds();if(e>=r.left&&e<=r.right&&i>=r.top&&i<=r.bottom){if(this.ctl.isNotRevealed(s,n)){const e=this.ctl.getPlacedTile(s,n);e&&(this.ctl.removeTile(s,n),e.remove(),this.tiles[s][n].setZoneInteractive(!0)),this.ctl.guess(s,n,t);const i=this.uiConfig.getCellPosition(s,n),r=this.uiConfig.grid.cellSize,o=Math.floor(.9*r),a=i.x+r/2,h=i.y+r/2,l=new Jy(this,a-o/2,h-o/2,o,t,s,n);return this.add.existing(l),l.setDepth(3500),l.on("placedTileDrop",t=>{this.handlePlacedTileDrop(t)}),l.on("placedTileTap",t=>{this.handlePlacedTileTap(t)}),this.ctl.placeTile(s,n,l),this.tiles[s][n].setZoneInteractive(!1),this.checkAutoSubmit(),!0}return!1}}return!1}handleCellTap(t,e){const i=Date.now(),s=`${t},${e}`,n=this.lastTapTimes.get(s),r=this.ctl.getPlacedTile(t,e);n&&i-n<this.DOUBLE_TAP_THRESHOLD?(r&&this.ctl.isNotRevealed(t,e)&&(this.ctl.removeTile(t,e),this.ctl.guess(t,e,""),r.remove(),this.tiles[t][e].setZoneInteractive(!0)),this.lastTapTimes.delete(s)):(this.lastTapTimes.set(s,i),r&&this.ctl.isNotRevealed(t,e)||(this.selectedCell&&this.selectedCell.row===t&&this.selectedCell.col===e?this.selectedCell=null:this.selectedCell={row:t,col:e},this.updateCellHighlighting()))}getWordCellsForPosition(t,e){const i=[];if(0===t||2===t||4===t)for(let s=0;s<5;s++)i.push({row:t,col:s});if(0===e||2===e||4===e)for(let s=0;s<5;s++)i.push({row:s,col:e});if(t===e)for(let s=0;s<5;s++)i.push({row:s,col:s});if(t+e===4)for(let s=0;s<5;s++)i.push({row:s,col:4-s});return i}getCellAtPosition(t,e){if(!this.tiles||0===this.tiles.length)return null;for(let i=0;i<5;i++)for(let s=0;s<5;s++){const n=this.tiles[i][s];if(!n)continue;const r=n.getBounds();if(t>=r.left&&t<=r.right&&e>=r.top&&e<=r.bottom&&this.ctl.isNotRevealed(i,s))return{row:i,col:s}}return null}updateDragHover(t,e){const i=this.cameras.main.getWorldPoint(t,e),s=this.getCellAtPosition(i.x,i.y);!s||this.dragHoverCell&&s.row===this.dragHoverCell.row&&s.col===this.dragHoverCell.col?!s&&this.dragHoverCell&&(this.dragHoverCell=null,this.updateCellHighlighting()):(this.dragHoverCell=s,this.updateCellHighlighting())}clearDragHover(){this.dragHoverCell&&(this.dragHoverCell=null,this.updateCellHighlighting())}clearSelection(){this.selectedCell&&(this.selectedCell=null,this.updateCellHighlighting())}updateCellHighlighting(){this.selectionOverlay&&this.selectionOverlay.clear();const t=this.dragHoverCell||this.selectedCell;if(t&&this.selectionOverlay){const e=this.getWordCellsForPosition(t.row,t.col);this.drawUnifiedSelectionOverlay(e)}}drawUnifiedSelectionOverlay(t){const e=this.uiConfig.grid.cellSize,i=this.dragHoverCell||this.selectedCell,s=this.registry.get("theme"),n=(null==s?void 0:s.selectedCellBorderColor)?parseInt(s.selectedCellBorderColor.replace("#",""),16):16733986,r=new Map;for(const l of t){const t=`${l.row},${l.col}`;r.set(t,l)}const o=i?`${i.row},${i.col}`:null,a=[];let h=null;for(const[l,u]of r)l===o?h=u:a.push(u);if(a.length>0){this.selectionOverlay.fillStyle(0,.35),this.selectionOverlay.beginPath();for(const t of a)this.addRectangleToPath(t,e);this.fillDiagonalGaps(Array.from(r.values())),this.selectionOverlay.fillPath()}h&&(this.selectionOverlay.fillStyle(0,.2),this.selectionOverlay.beginPath(),this.addRectangleToPath(h,e),this.selectionOverlay.fillPath()),this.selectionOverlay.lineStyle(3,n,1),this.selectionOverlay.beginPath();for(const l of r.values())this.addRectangleToPath(l,e);this.selectionOverlay.strokePath()}addRectangleToPath(t,e){const i=this.uiConfig.getCellPosition(t.row,t.col);this.selectionOverlay.moveTo(i.x,i.y),this.selectionOverlay.lineTo(i.x+e,i.y),this.selectionOverlay.lineTo(i.x+e,i.y+e),this.selectionOverlay.lineTo(i.x,i.y+e),this.selectionOverlay.closePath()}fillDiagonalGaps(t){const e=this.uiConfig.grid.cellSize,i=.15*e,s=t.filter(t=>t.row===t.col).sort((t,e)=>t.row-e.row);this.fillConsecutiveDiagonalGaps(s,"main",e,i);const n=t.filter(t=>t.row+t.col===4).sort((t,e)=>t.row-e.row);this.fillConsecutiveDiagonalGaps(n,"anti",e,i)}fillConsecutiveDiagonalGaps(t,e,i,s){if(!(t.length<2))for(let n=0;n<t.length-1;n++){const r=t[n],o=t[n+1];if(!("main"===e&&o.row===r.row+1&&o.col===r.col+1||"anti"===e&&o.row===r.row+1&&o.col===r.col-1))continue;const a=this.uiConfig.getCellPosition(r.row,r.col);if("main"===e){const t=a.x+i,e=a.y+i;this.selectionOverlay.moveTo(t,e-s),this.selectionOverlay.lineTo(t+s,e),this.selectionOverlay.lineTo(t,e+s),this.selectionOverlay.lineTo(t-s,e),this.selectionOverlay.closePath()}else{const t=a.x,e=a.y+i;this.selectionOverlay.moveTo(t,e-s),this.selectionOverlay.lineTo(t+s,e),this.selectionOverlay.lineTo(t,e+s),this.selectionOverlay.lineTo(t-s,e),this.selectionOverlay.closePath()}}}handleValidationFeedback(t,e){this.ctl.revealCorrectCells(t);for(const i of e)this.ctl.isNotRevealed(i.r,i.c)&&this.tiles[i.r][i.c].setState(Yy.INVALID);e.length>0&&this.time.delayedCall(1e3,()=>{for(const t of e){this.tiles[t.r][t.c].setState(Yy.DEFAULT);const e=this.ctl.getPlacedTile(t.r,t.c);e&&(this.ctl.removeTile(t.r,t.c),e.remove(),this.tiles[t.r][t.c].setZoneInteractive(!0))}this.time.delayedCall(400,()=>{this.ctl.clearIncorrectCells(e)})})}handlePlacedTileDrop(t){let e=!1,i=-1,s=-1;for(let n=0;n<5;n++){for(let r=0;r<5;r++){const o=this.tiles[n][r].getBounds();if(t.x>=o.left&&t.x<=o.right&&t.y>=o.top&&t.y<=o.bottom){e=!0,i=n,s=r;break}}if(e)break}if(e){const e=i===t.fromRow&&s===t.fromCol,n=!this.ctl.isNotRevealed(i,s);if(e){const e=this.uiConfig.getCellPosition(t.fromRow,t.fromCol),i=this.uiConfig.grid.cellSize,s=Math.floor(.9*i),n=e.x+i/2-s/2,r=e.y+i/2-s/2;t.tile.moveTo(n,r)}else if(n){const e=this.uiConfig.getCellPosition(t.fromRow,t.fromCol),i=this.uiConfig.grid.cellSize,s=Math.floor(.9*i),n=e.x+i/2-s/2,r=e.y+i/2-s/2;t.tile.moveTo(n,r)}else if(this.ctl.removeTile(t.fromRow,t.fromCol),this.ctl.guess(t.fromRow,t.fromCol,""),this.tiles[t.fromRow][t.fromCol].setZoneInteractive(!0),this.handleTileDrop(t.letter,t.x,t.y))t.tile.destroy();else{this.ctl.placeTile(t.fromRow,t.fromCol,t.tile),this.ctl.guess(t.fromRow,t.fromCol,t.letter);const e=this.uiConfig.getCellPosition(t.fromRow,t.fromCol),i=this.uiConfig.grid.cellSize,s=Math.floor(.9*i),n=e.x+i/2-s/2,r=e.y+i/2-s/2;t.tile.moveTo(n,r)}}else this.ctl.removeTile(t.fromRow,t.fromCol),this.ctl.guess(t.fromRow,t.fromCol,""),t.tile.remove(),this.tiles[t.fromRow][t.fromCol].setZoneInteractive(!0)}handleTileTap(t){if(!this.selectedCell)return;const e=this.selectedCell.row,i=this.selectedCell.col;if(!this.ctl.isNotRevealed(e,i))return;const s=this.ctl.getPlacedTile(e,i);s&&(this.ctl.removeTile(e,i),s.remove(),this.tiles[e][i].setZoneInteractive(!0)),this.ctl.guess(e,i,t);const n=this.uiConfig.getCellPosition(e,i),r=this.uiConfig.grid.cellSize,o=Math.floor(.9*r),a=n.x+r/2,h=n.y+r/2,l=new Jy(this,a-o/2,h-o/2,o,t,e,i);this.add.existing(l),l.setDepth(2500),l.on("placedTileDrop",t=>{this.handlePlacedTileDrop(t)}),l.on("placedTileTap",t=>{this.handlePlacedTileTap(t)}),this.ctl.placeTile(e,i,l),this.tiles[e][i].setZoneInteractive(!1),this.selectedCell=null,this.updateCellHighlighting(),this.checkAutoSubmit()}handlePlacedTileTap(t){const e=Date.now(),i=`${t.fromRow},${t.fromCol}`,s=this.lastTapTimes.get(i);if(s&&e-s<this.DOUBLE_TAP_THRESHOLD)return this.ctl.isNotRevealed(t.fromRow,t.fromCol)&&(this.ctl.removeTile(t.fromRow,t.fromCol),this.ctl.guess(t.fromRow,t.fromCol,""),t.tile.remove(),this.tiles[t.fromRow][t.fromCol].setZoneInteractive(!0),this.selectedCell&&this.selectedCell.row===t.fromRow&&this.selectedCell.col===t.fromCol&&(this.selectedCell=null,this.updateCellHighlighting())),void this.lastTapTimes.delete(i);if(this.lastTapTimes.set(i,e),!this.selectedCell)return this.selectedCell={row:t.fromRow,col:t.fromCol},void this.updateCellHighlighting();const n=this.selectedCell.row,r=this.selectedCell.col;if(n===t.fromRow&&r===t.fromCol)return this.selectedCell=null,void this.updateCellHighlighting();if(!this.ctl.isNotRevealed(n,r))return;this.ctl.removeTile(t.fromRow,t.fromCol),this.ctl.guess(t.fromRow,t.fromCol,""),this.tiles[t.fromRow][t.fromCol].setZoneInteractive(!0);const o=this.ctl.getPlacedTile(n,r);o&&(this.ctl.removeTile(n,r),o.remove(),this.tiles[n][r].setZoneInteractive(!0)),this.ctl.guess(n,r,t.letter);const a=this.uiConfig.getCellPosition(n,r),h=this.uiConfig.grid.cellSize,l=Math.floor(.9*h),u=a.x+h/2-l/2,c=a.y+h/2-l/2;t.tile.moveTo(u,c),t.tile.updatePosition(n,r),this.ctl.placeTile(n,r,t.tile),this.tiles[n][r].setZoneInteractive(!1),this.selectedCell=null,this.updateCellHighlighting(),this.checkAutoSubmit()}checkAutoSubmit(){let t=!0;for(let e=0;e<5;e++){for(let i=0;i<5;i++)if(this.ctl.isNotRevealed(e,i)&&!this.ctl.hasPlacedTile(e,i)){t=!1;break}if(!t)break}if(t){let t=!0;for(let e=0;e<5;e++){for(let i=0;i<5;i++)if(this.ctl.isNotRevealed(e,i)){const s=this.ctl.getPlacedTile(e,i);if(s&&s.letter.toUpperCase()!==this.ctl.getSolutionLetter(e,i)){t=!1;break}}if(!t)break}t&&this.time.delayedCall(300,()=>{this.ctl.submit()})}}handleResize(t){this.uiConfig=this.registry.get("uiConfig"),this.uiConfig||(this.uiConfig=qy.create(t.width,t.height));const e=this.registry.get("theme");(null==e?void 0:e.screenBackgroundColor)&&this.cameras.main.setBackgroundColor(e.screenBackgroundColor);const{cellSize:i,startX:s,startY:n,totalSize:r}=this.uiConfig.grid;this.boardBackground.updateSize(i,s,n,r);const o=this.uiConfig.typography.cellLetter;for(let a=0;a<5;a++)for(let t=0;t<5;t++){const e=this.uiConfig.getCellPosition(a,t);this.tiles[a][t].setPosition(e.x,e.y),this.tiles[a][t].resize(i,o)}}}class tx extends o.GameObjects.Container{constructor(t,e,i){super(t,0,0),this.width=e,this.height=i,this.setDepth(1e3);const s=t.registry.get("theme"),n=(null==s?void 0:s.helpScreenBackgroundColor)||"#F5F5DC",r=parseInt(n.replace("#",""),16);this.panel=t.add.rectangle(0,0,e,i,r,.95).setOrigin(0).setInteractive(),this.add(this.panel);const o=i/2,a=Math.min(80,Math.floor(.15*e)),h=Math.floor(.75*a),l=o-(a+h+60)/2,u=(null==s?void 0:s.puzzleSolvedTitleColor)||"#A8C8DC",c=(null==s?void 0:s.puzzleSolvedMessageColor)||"#000000";this.title=t.add.text(e/2,l+a/2,"Puxxle",{fontFamily:(null==s?void 0:s.titleFont)||"Georgia, serif",fontSize:`${a}px`,color:u,fontStyle:"bold"}).setOrigin(.5),this.add(this.title),this.congratsMessage=t.add.text(e/2,o,"",{fontFamily:(null==s?void 0:s.uiFont)||"Arial, sans-serif",fontSize:"32px",color:c,fontStyle:"bold",align:"center"}).setOrigin(.5).setVisible(!1),this.add(this.congratsMessage),this.statsContainer=t.add.container(e/2,o);const d=Math.min(300,.6*e),f=Math.min(24,Math.floor(.05*e)),p=1.5*f;this.timeLabel=t.add.text(-d/2,0,"Time",{fontFamily:(null==s?void 0:s.uiFont)||"Arial, sans-serif",fontSize:`${f}px`,color:c}).setOrigin(0,0),this.timeValue=t.add.text(d/2,0,"0:00",{fontFamily:(null==s?void 0:s.uiFont)||"Arial, sans-serif",fontSize:`${f}px`,color:c}).setOrigin(1,0),this.attemptsLabel=t.add.text(-d/2,p,"Attempts",{fontFamily:(null==s?void 0:s.uiFont)||"Arial, sans-serif",fontSize:`${f}px`,color:c}).setOrigin(0,0),this.attemptsValue=t.add.text(d/2,p,"0",{fontFamily:(null==s?void 0:s.uiFont)||"Arial, sans-serif",fontSize:`${f}px`,color:c}).setOrigin(1,0),this.hintsLabel=t.add.text(-d/2,2*p,"Hints",{fontFamily:(null==s?void 0:s.uiFont)||"Arial, sans-serif",fontSize:`${f}px`,color:c}).setOrigin(0,0),this.hintsValue=t.add.text(d/2,2*p,"0",{fontFamily:(null==s?void 0:s.uiFont)||"Arial, sans-serif",fontSize:`${f}px`,color:c}).setOrigin(1,0),this.statsContainer.add([this.timeLabel,this.timeValue,this.attemptsLabel,this.attemptsValue,this.hintsLabel,this.hintsValue]),this.statsContainer.setVisible(!1),this.add(this.statsContainer),this.puzzleIcon=t.add.graphics().setVisible(!1),this.add(this.puzzleIcon);const g=l+a+h;this.createPlayButton(e,g,s);const m=g+80;this.createCalendarButton(e,m,s),this.setVisible(!1)}createPlayButton(t,e,i){const s=t/2;this.startBtnContainer=this.scene.add.container(s,e),this.startBtnBg=this.scene.add.graphics(),this.drawNotchedButton(this.startBtnBg,200,60,12,i),this.startBtnContainer.add(this.startBtnBg);const n=(null==i?void 0:i.puzzleSolvedButtonTextColor)||"#000000";this.startBtnText=this.scene.add.text(0,0,"PLAY",{fontFamily:(null==i?void 0:i.uiFont)||"Arial, sans-serif",fontSize:"32px",color:n,fontStyle:"bold"}).setOrigin(.5),this.startBtnContainer.add(this.startBtnText);const r=this.scene.add.zone(0,0,200,60).setInteractive({useHandCursor:!0}).on("pointerup",()=>this.emit(y));this.startBtnContainer.add(r),this.add(this.startBtnContainer)}drawNotchedButton(t,e,i,s,n){t.clear();const r=(null==n?void 0:n.puzzleSolvedButtonColor)||"#b3d9ff",o=parseInt(r.replace("#",""),16);t.fillStyle(o,1),t.lineStyle(3,0,1);const a=e/2,h=i/2;t.beginPath(),t.moveTo(-a+s,-h),t.lineTo(a-s,-h),t.lineTo(a,-h+s),t.lineTo(a,h-s),t.lineTo(a-s,h),t.lineTo(-a+s,h),t.lineTo(-a,h-s),t.lineTo(-a,-h+s),t.lineTo(-a+s,-h),t.closePath(),t.fillPath(),t.strokePath()}createCalendarButton(t,e,i){const s=t/2;this.calendarBtnContainer=this.scene.add.container(s,e);const n=this.scene.add.graphics();this.drawNotchedButton(n,200,60,12,i),this.calendarBtnContainer.add(n);const r=(null==i?void 0:i.puzzleSolvedButtonTextColor)||"#000000",o=this.scene.add.text(0,0,"CALENDAR",{fontFamily:(null==i?void 0:i.uiFont)||"Arial, sans-serif",fontSize:"28px",color:r,fontStyle:"bold"}).setOrigin(.5);this.calendarBtnContainer.add(o);const a=this.scene.add.zone(0,0,200,60).setInteractive({useHandCursor:!0}).on("pointerup",()=>this.emit(x));this.calendarBtnContainer.add(a),this.add(this.calendarBtnContainer),this.calendarBtnContainer.setVisible(!1)}showStart(){const t=this.scene.registry.get("theme");this.title.setText("Puxxle"),this.title.setFontFamily((null==t?void 0:t.titleFont)||"Courier New, Courier, monospace"),this.stats.setVisible(!1),this.congratsMessage.setVisible(!1),this.puzzleIcon.setVisible(!1),this.startBtnText.setText("PLAY"),this.startBtnContainer.setVisible(!0),this.setVisible(!0).setAlpha(1)}showResults(t){var e;const i=this.scene.registry.get("theme"),s=(null==i?void 0:i.puzzleSolvedTitleColor)||"#A8C8DC",n=(null==i?void 0:i.puzzleSolvedMessageColor)||"#000000",r=this.height/2,a=ky(),h=Math.min(80,Math.floor(.15*this.width)),l=Math.min(48,Math.floor(.09*this.width)),u=Math.min(32,Math.floor(.06*this.width)),c=Math.min(24,Math.floor(.05*this.width)),d=Math.floor(.3*h),f=Math.floor(.5*l),p=Math.floor(.8*u),g=r-(h+d+l+f+u+p+3*c)/2,m=this.width/2,v=g+h/2;this.drawPuzzleIcon(m,v,h,s),this.puzzleIcon.setVisible(!0),this.title.setText("Puxxle"),this.title.setFontFamily((null==i?void 0:i.titleFont)||"Courier New, Courier, monospace"),this.title.setFontSize(`${l}px`),this.title.setColor(n),this.title.setPosition(this.width/2,v+h/2+d+l/2),this.title.setVisible(!0),this.congratsMessage.setText(a),this.congratsMessage.setFontSize(`${u}px`),this.congratsMessage.setColor(n),this.congratsMessage.setPosition(this.width/2,v+h/2+d+l+f+u/2),this.congratsMessage.setVisible(!0);const y=`${Math.floor(t.seconds/60)}:${(t.seconds%60).toString().padStart(2,"0")}`;this.timeValue.setText(y),this.attemptsValue.setText(t.attemptsUsed.toString()),this.hintsValue.setText(t.hintsUsed.toString()),[this.timeLabel,this.timeValue,this.attemptsLabel,this.attemptsValue,this.hintsLabel,this.hintsValue].forEach(t=>{t.setFontSize(`${c}px`),t.setColor(n)}),this.statsContainer.setPosition(this.width/2,v+h/2+d+l+f+u+p+1.5*c),this.statsContainer.setVisible(!0),this.startBtnContainer.setVisible(!1),this.calendarBtnContainer.setVisible(!1),this.setVisible(!0).setAlpha(1),this.panel.once(o.Input.Events.POINTER_UP,()=>{this.emit(x)});const T=t=>{var e;this.emit(x),null==(e=this.scene.input.keyboard)||e.off("keydown",T)};null==(e=this.scene.input.keyboard)||e.once("keydown",T)}drawPuzzleIcon(t,e,i,s){this.puzzleIcon.clear();const n=i/3,r=parseInt(s.replace("#",""),16);[{row:0,col:0},{row:0,col:2},{row:2,col:0},{row:2,col:2}].forEach(s=>{const o=t-i/2+s.col*n,a=e-i/2+s.row*n;this.puzzleIcon.fillStyle(r,1),this.puzzleIcon.fillRoundedRect(o,a,n,n,4),this.puzzleIcon.lineStyle(3,0,1),this.puzzleIcon.strokeRoundedRect(o,a,n,n,4)});const o=t,a=e,h=n,l=n;this.puzzleIcon.fillStyle(r,1),this.puzzleIcon.fillRoundedRect(o-h/2,a-i/2,h,i,4),this.puzzleIcon.lineStyle(3,0,1),this.puzzleIcon.strokeRoundedRect(o-h/2,a-i/2,h,i,4),this.puzzleIcon.fillStyle(r,1),this.puzzleIcon.fillRoundedRect(o-i/2,a-l/2,i,l,4),this.puzzleIcon.lineStyle(3,0,1),this.puzzleIcon.strokeRoundedRect(o-i/2,a-l/2,i,l,4)}setSize(t,e){this.width=t,this.height=e,this.panel.setSize(t,e);const i=e/2,s=Math.min(80,Math.floor(.15*t)),n=Math.floor(.75*s),r=i-(s+n+60)/2;this.title.setPosition(t/2,r+s/2),this.stats.setPosition(t/2,i);const o=r+s+n;this.startBtnContainer.setPosition(t/2,o);const a=o+80;this.calendarBtnContainer.setPosition(t/2,a)}updateBackgroundColor(t){const e=parseInt(t.replace("#",""),16);this.panel.setFillStyle(e,.95),this.panel.fillColor=e}setVisible(t){return t||this.panel.disableInteractive(),super.setVisible(t),t&&this.panel.setInteractive(),this}}class ex extends o.GameObjects.Container{constructor(t,e,i){super(t,0,0),this.tutorialMode=!1,this.tutorialStep=0,this.gridStartX=0,this.gridStartY=0,this.gridCellSize=30,this.tutorialPuzzleGrid=null,this.width=e,this.height=i,this.setDepth(5e3);const s=t.registry.get("theme"),n=t.registry.get("uiConfig"),r=(null==s?void 0:s.helpScreenBackgroundColor)||"#F5F5DC",o=parseInt(r.replace("#",""),16),a=(null==s?void 0:s.helpScreenTextColor)||"#000000",h=(null==s?void 0:s.titleColor)||"#2E8B57";this.panel=t.add.rectangle(0,0,e,i,o,.95).setOrigin(0).setInteractive().on("pointerup",(t,e,i,s)=>{this.tutorialMode&&this.nextTutorialStep(),s.stopPropagation()}),this.add(this.panel);const l=null==n?void 0:n.getContainerLayout(),u=e/2,c=Math.min(.9*e,600),d=Math.floor(40*((null==n?void 0:n.viewport.scale)||1)),f=l?l.titleBar.y+d/2:Math.max(80,.12*i);this.titleText=t.add.text(u,f,"How to Play",{fontFamily:(null==s?void 0:s.titleFont)||"Arial, sans-serif",fontSize:`${d}px`,color:h,fontStyle:"bold"}).setOrigin(.5),this.add(this.titleText);const p=Math.min(20,Math.floor(.045*e)),g=f+d+20;this.instructionsText=t.add.text(u,g,"Fill the grid with letters to form 8 valid words:\nWords 1, 2 & 3 Across ()\nWords 4, 5 & 6 Down ()\nWords 7 & 8 Diagonal ( )\n\n Drag tiles onto the grid to fill cells\n Press Enter to check your solution\n Correct letters stay, incorrect ones clear\n Use hints when stuck\n Play past puzzles via the calendar button\n\nSee the example grid pattern below:",{fontFamily:(null==s?void 0:s.uiFont)||"Arial, sans-serif",fontSize:`${p}px`,color:a,align:"center",lineSpacing:p*(1.4-1),wordWrap:{width:c}}).setOrigin(.5,0),this.add(this.instructionsText);const m=l?l.grid.y:i/2;this.createExampleGrid(u,m,s,a,n),this.tutorialHighlights=t.add.graphics(),this.tutorialHighlights.setVisible(!1),this.add(this.tutorialHighlights),this.tutorialArrows=t.add.graphics(),this.tutorialArrows.setVisible(!1),this.add(this.tutorialArrows),this.tutorialLetters=t.add.container(0,0),this.createTutorialLetters(),this.tutorialLetters.setVisible(!1),this.add(this.tutorialLetters);const v=m+((null==n?void 0:n.grid.totalSize)||350),y=Math.floor(1.2*p);this.tutorialText=t.add.text(u,v+20,"",{fontFamily:(null==s?void 0:s.uiFont)||"Arial, sans-serif",fontSize:`${y}px`,color:a,align:"center",wordWrap:{width:c}}).setOrigin(.5,0).setVisible(!1),this.add(this.tutorialText),this.tapToContinueText=t.add.text(u,i-50,"",{fontFamily:(null==s?void 0:s.uiFont)||"Arial, sans-serif",fontSize:`${Math.floor(.8*p)}px`,color:a,fontStyle:"italic"}).setOrigin(.5).setVisible(!1),this.createCloseButton(e,d),this.setVisible(!1)}createCloseButton(t,e){const i=Math.max(40,.6*e),s=t-20-i/2,n=20+i/2;this.closeBtn=this.scene.add.container(s,n);const r=this.scene.registry.get("theme"),o=(null==r?void 0:r.titleColor)||"#2E8B57",a=parseInt(o.replace("#",""),16);this.closeBtnCircle=this.scene.add.graphics(),this.closeBtnCircle.lineStyle(3,a,1),this.closeBtnCircle.strokeCircle(0,0,i/2),this.closeBtn.add(this.closeBtnCircle),this.closeBtnText=this.scene.add.text(0,0,"X",{fontFamily:(null==r?void 0:r.uiFont)||"Arial, sans-serif",fontSize:`${Math.floor(.6*i)}px`,color:o,fontStyle:"bold"}).setOrigin(.5),this.closeBtn.add(this.closeBtnText);const h=this.scene.add.zone(0,0,i,i).setInteractive({useHandCursor:!0}).on("pointerup",()=>this.hide());this.closeBtn.add(h),this.add(this.closeBtn)}createExampleGrid(t,e,i,s,n){this.gridCellSize=(null==n?void 0:n.grid.cellSize)||60;const r=(null==n?void 0:n.grid.totalSize)||5*this.gridCellSize;this.gridStartX=(null==n?void 0:n.grid.startX)||t-r/2,this.gridStartY=e,this.exampleGrid=this.scene.add.graphics(),this.exampleLabels=this.scene.add.container(0,0);const a=(null==i?void 0:i.boardDiagonalsColor)||"#b3d9ff",h={cellRevealed:parseInt(a.replace("#",""),16),cellEmpty:16777215,cellBorder:0},l=.15*this.gridCellSize;this.exampleGrid.fillStyle(h.cellRevealed,1),this.exampleGrid.fillRect(this.gridStartX,this.gridStartY,r,r),this.exampleGrid.fillStyle(h.cellRevealed,1);for(let o=0;o<5;o++)for(let t=0;t<5;t++)if(Ky(o,t)){const e=this.gridStartX+t*this.gridCellSize,i=this.gridStartY+o*this.gridCellSize;this.exampleGrid.fillRect(e,i,this.gridCellSize,this.gridCellSize)}for(let o=0;o<5;o++)for(let t=0;t<5;t++)if(!Ky(o,t)){const e=this.gridStartX+t*this.gridCellSize,i=this.gridStartY+o*this.gridCellSize,s=$y(o,t);this.exampleGrid.fillStyle(h.cellEmpty,1),this.exampleGrid.lineStyle(3,h.cellBorder,1),this.exampleGrid.beginPath(),s.topLeft?this.exampleGrid.moveTo(e+l,i):this.exampleGrid.moveTo(e,i),s.topRight?(this.exampleGrid.lineTo(e+this.gridCellSize-l,i),this.exampleGrid.lineTo(e+this.gridCellSize,i+l)):this.exampleGrid.lineTo(e+this.gridCellSize,i),s.bottomRight?(this.exampleGrid.lineTo(e+this.gridCellSize,i+this.gridCellSize-l),this.exampleGrid.lineTo(e+this.gridCellSize-l,i+this.gridCellSize)):this.exampleGrid.lineTo(e+this.gridCellSize,i+this.gridCellSize),s.bottomLeft?(this.exampleGrid.lineTo(e+l,i+this.gridCellSize),this.exampleGrid.lineTo(e,i+this.gridCellSize-l)):this.exampleGrid.lineTo(e,i+this.gridCellSize),s.topLeft?(this.exampleGrid.lineTo(e,i+l),this.exampleGrid.lineTo(e+l,i)):this.exampleGrid.lineTo(e,i),this.exampleGrid.closePath(),this.exampleGrid.fillPath(),this.exampleGrid.strokePath()}this.exampleGrid.lineStyle(3,h.cellBorder,1),this.exampleGrid.strokeRect(this.gridStartX,this.gridStartY,r,r);const u=(null==i?void 0:i.uiFont)||"Arial, sans-serif",c=Math.max(12,Math.floor(.25*this.gridCellSize));[{r:0,c:0,num:"1"},{r:0,c:2,num:"2"},{r:0,c:4,num:"3"},{r:2,c:0,num:"4"},{r:4,c:0,num:"5"}].forEach(({r:t,c:e,num:i})=>{const s=this.gridStartX+e*this.gridCellSize+8,n=this.gridStartY+t*this.gridCellSize+8,r=new o.GameObjects.Text(this.scene,s,n,i,{fontFamily:u,fontSize:`${c}px`,color:"#666666",fontStyle:"normal"});r.setOrigin(0,0),this.exampleLabels.add(r)}),this.add(this.exampleGrid),this.add(this.exampleLabels),this.exampleLabels.setDepth(1)}show(){return m(this,null,function*(){yield this.loadTutorialPuzzle(),this.createTutorialLetters(),this.refreshGridTheme(),this.tutorialMode=!0,this.tutorialStep=0,this.tutorialArrows.clear(),this.tutorialHighlights.clear(),this.tutorialLetters.each(t=>{t.setVisible(!1)}),this.instructionsText.setVisible(!1),this.tutorialText.setVisible(!0),this.tutorialHighlights.setVisible(!0),this.tutorialArrows.setVisible(!0),this.tutorialLetters.setVisible(!0),this.exampleLabels.setVisible(!0),this.setVisible(!0).setAlpha(0),this.scene.tweens.add({targets:this,alpha:1,duration:200,ease:"Power2",onComplete:()=>{this.showTutorialStep(0)}})})}loadTutorialPuzzle(){return m(this,null,function*(){try{const t=this.scene.registry.get("puzzle_help");if(t&&t.solution){const e=t.solution;if(Array.isArray(e)&&25===e.length){this.tutorialPuzzleGrid=[];for(let t=0;t<5;t++){this.tutorialPuzzleGrid[t]=[];for(let i=0;i<5;i++)this.tutorialPuzzleGrid[t][i]=e[5*t+i]}}else this.tutorialPuzzleGrid=null}else this.tutorialPuzzleGrid=null}catch(t){this.tutorialPuzzleGrid=null}})}hide(){this.tutorialMode&&this.endTutorialMode(),this.scene.tweens.add({targets:this,alpha:0,duration:200,ease:"Power2",onComplete:()=>this.setVisible(!1)})}setSize(t,e){this.width=t,this.height=e,this.panel.setSize(t,e);const i=Math.min(60,Math.floor(.12*t)),s=Math.max(40,.6*i);this.closeBtn.setPosition(t-20-s/2,20+s/2)}updateBackgroundColor(t){const e=parseInt(t.replace("#",""),16);this.panel.setFillStyle(e,.95),this.panel.fillColor=e}updateThemeColors(t,e){if(this.titleText&&this.titleText.setColor(t),this.instructionsText&&this.instructionsText.setColor(e),this.closeBtnCircle&&this.closeBtnText){const e=parseInt(t.replace("#",""),16);this.closeBtnCircle.clear();const i=Math.max(40,.6*Math.min(60,Math.floor(.12*this.width)));this.closeBtnCircle.lineStyle(3,e,1),this.closeBtnCircle.strokeCircle(0,0,i/2),this.closeBtnText.setColor(t)}}setVisible(t){return t||this.panel.disableInteractive(),super.setVisible(t),t&&this.panel.setInteractive(),this}createTutorialLetters(){if(this.tutorialLetters.removeAll(!0),!this.tutorialPuzzleGrid)return;const t=this.scene.registry.get("theme"),e=(null==t?void 0:t.uiFont)||"Arial, sans-serif",i=Math.floor(.5*this.gridCellSize);for(let s=0;s<5;s++)for(let t=0;t<5;t++){const n=this.tutorialPuzzleGrid[s][t],r=this.gridStartX+t*this.gridCellSize+this.gridCellSize/2,a=this.gridStartY+s*this.gridCellSize+this.gridCellSize/2,h=new o.GameObjects.Text(this.scene,r,a,n,{fontFamily:e,fontSize:`${i}px`,color:"#000000",fontStyle:"normal"});h.setOrigin(.5),h.setVisible(!1),h.setData("row",s),h.setData("col",t),this.tutorialLetters.add(h)}}showLettersForCells(t){this.tutorialLetters.each(e=>{const i=e,s=i.getData("row"),n=i.getData("col");t.some(t=>t.r===s&&t.c===n)&&i.setVisible(!0)})}refreshGridTheme(){const t=this.scene.registry.get("theme"),e=this.scene.registry.get("uiConfig"),i=(null==t?void 0:t.boardDiagonalsColor)||"#b3d9ff",s={cellRevealed:parseInt(i.replace("#",""),16),cellEmpty:16777215,cellBorder:0};this.exampleGrid.clear();const n=(null==e?void 0:e.grid.totalSize)||5*this.gridCellSize,r=.15*this.gridCellSize;this.exampleGrid.fillStyle(s.cellRevealed,1),this.exampleGrid.fillRect(this.gridStartX,this.gridStartY,n,n),this.exampleGrid.fillStyle(s.cellRevealed,1);for(let o=0;o<5;o++)for(let t=0;t<5;t++)if(Ky(o,t)){const e=this.gridStartX+t*this.gridCellSize,i=this.gridStartY+o*this.gridCellSize;this.exampleGrid.fillRect(e,i,this.gridCellSize,this.gridCellSize)}for(let o=0;o<5;o++)for(let t=0;t<5;t++)if(!Ky(o,t)){const e=this.gridStartX+t*this.gridCellSize,i=this.gridStartY+o*this.gridCellSize,n=$y(o,t);this.exampleGrid.fillStyle(s.cellEmpty,1),this.exampleGrid.lineStyle(3,s.cellBorder,1),this.exampleGrid.beginPath(),n.topLeft?this.exampleGrid.moveTo(e+r,i):this.exampleGrid.moveTo(e,i),n.topRight?(this.exampleGrid.lineTo(e+this.gridCellSize-r,i),this.exampleGrid.lineTo(e+this.gridCellSize,i+r)):this.exampleGrid.lineTo(e+this.gridCellSize,i),n.bottomRight?(this.exampleGrid.lineTo(e+this.gridCellSize,i+this.gridCellSize-r),this.exampleGrid.lineTo(e+this.gridCellSize-r,i+this.gridCellSize)):this.exampleGrid.lineTo(e+this.gridCellSize,i+this.gridCellSize),n.bottomLeft?(this.exampleGrid.lineTo(e+r,i+this.gridCellSize),this.exampleGrid.lineTo(e,i+this.gridCellSize-r)):this.exampleGrid.lineTo(e,i+this.gridCellSize),n.topLeft?(this.exampleGrid.lineTo(e,i+r),this.exampleGrid.lineTo(e+r,i)):this.exampleGrid.lineTo(e,i),this.exampleGrid.closePath(),this.exampleGrid.fillPath(),this.exampleGrid.strokePath()}this.exampleGrid.lineStyle(3,s.cellBorder,1),this.exampleGrid.strokeRect(this.gridStartX,this.gridStartY,n,n)}startTutorialMode(){}nextTutorialStep(){this.tutorialStep++,this.tutorialStep>4?this.hide():this.showTutorialStep(this.tutorialStep)}highlightCells(t){this.tutorialHighlights.clear(),t.forEach(({r:t,c:e})=>{const i=this.gridStartX+e*this.gridCellSize,s=this.gridStartY+t*this.gridCellSize;this.tutorialHighlights.lineStyle(3,16766720,.8),this.tutorialHighlights.strokeRect(i+2,s+2,this.gridCellSize-4,this.gridCellSize-4)})}drawCompleteArrow(t,e,i,s,n=1){const r=16733986,o=this.gridStartX+(e+.5)*this.gridCellSize,a=this.gridStartY+(t+.5)*this.gridCellSize,h=o+(this.gridStartX+(s+.5)*this.gridCellSize-o)*n,l=a+(this.gridStartY+(i+.5)*this.gridCellSize-a)*n,u=Math.max(20,.35*this.gridCellSize),c=Math.atan2(l-a,h-o),d=h-.5*u*Math.cos(c),f=l-.5*u*Math.sin(c);if(this.tutorialArrows.lineStyle(5,r,.9),this.tutorialArrows.beginPath(),this.tutorialArrows.moveTo(o,a),this.tutorialArrows.lineTo(d,f),this.tutorialArrows.strokePath(),n>.2){const t=Math.PI/5,e=Math.min(1,(n-.2)/.3);this.tutorialArrows.fillStyle(r,.9*e),this.tutorialArrows.beginPath(),this.tutorialArrows.moveTo(h,l),this.tutorialArrows.lineTo(h-u*Math.cos(c-t),l-u*Math.sin(c-t)),this.tutorialArrows.lineTo(h-u*Math.cos(c+t),l-u*Math.sin(c+t)),this.tutorialArrows.closePath(),this.tutorialArrows.fillPath()}}getCellsAlongPath(t,e,i,s){const n=[],r=Math.max(Math.abs(i-t),Math.abs(s-e));for(let o=0;o<=r;o++){const a=0===r?1:o/r,h=Math.round(t+(i-t)*a),l=Math.round(e+(s-e)*a);n.push({r:h,c:l})}return n}animateArrows(t){return new Promise(e=>{const i=t.map(t=>this.getCellsAlongPath(t.startR,t.startC,t.endR,t.endC)),s=t.map(()=>({value:0})),n=new Set,r=s.map((e,r)=>this.scene.tweens.add({targets:e,value:1,duration:1200,ease:"Power2",onUpdate:()=>{this.tutorialArrows.clear(),t.forEach((t,e)=>{if(this.drawCompleteArrow(t.startR,t.startC,t.endR,t.endC,s[e].value),this.tutorialPuzzleGrid){const t=s[e].value,r=i[e],o=Math.min(r.length,Math.ceil(t*r.length));for(let e=0;e<o;e++){const t=r[e],i=`${t.r},${t.c}`;n.has(i)||(n.add(i),this.showLettersForCells([t]))}}})}}));Promise.all(r.map(t=>new Promise(e=>{t.once("complete",e)}))).then(()=>{this.tutorialArrows.clear(),t.forEach(t=>{this.drawCompleteArrow(t.startR,t.startC,t.endR,t.endC,1)}),this.tutorialPuzzleGrid&&i.forEach(t=>{this.showLettersForCells(t)}),e()})})}showTutorialStep(t){return m(this,null,function*(){switch(this.tutorialArrows.clear(),this.tutorialHighlights.clear(),t){case 0:this.tutorialText.setText("Starting at cell 1\n\nFill the words shown\nby the arrows"),this.highlightCells([{r:0,c:0}]),yield this.animateArrows([{startR:0,startC:0,endR:0,endC:4},{startR:0,startC:0,endR:4,endC:0},{startR:0,startC:0,endR:4,endC:4}]);break;case 1:this.tutorialText.setText("Starting at cell 2\n\nFill the word shown\nby the arrow"),this.highlightCells([{r:0,c:2}]),yield this.animateArrows([{startR:0,startC:2,endR:4,endC:2}]);break;case 2:this.tutorialText.setText("Starting at cell 3\n\nFill the word shown\nby the arrow"),this.highlightCells([{r:0,c:4}]),yield this.animateArrows([{startR:0,startC:4,endR:4,endC:4}]);break;case 3:this.tutorialText.setText("Starting at cell 4\n\nFill the word shown\nby the arrow"),this.highlightCells([{r:2,c:0}]),yield this.animateArrows([{startR:2,startC:0,endR:2,endC:4}]);break;case 4:this.tutorialText.setText("Starting at cell 5\n\nFill the words shown\nby the arrows"),this.highlightCells([{r:4,c:0}]),yield this.animateArrows([{startR:4,startC:0,endR:0,endC:4},{startR:4,startC:0,endR:4,endC:4}])}})}endTutorialMode(){this.tutorialMode=!1,this.tutorialStep=0,this.tutorialText.setVisible(!1),this.tutorialHighlights.setVisible(!1),this.tutorialHighlights.clear(),this.tutorialArrows.setVisible(!1),this.tutorialArrows.clear(),this.tapToContinueText.setVisible(!1)}}class ix extends o.GameObjects.Container{constructor(t,e,i){super(t,0,0),this.onDateSelected=null,this.referenceDate=new Date,this.dateButtons=[],this.currentMonth=(new Date).getMonth(),this.currentYear=(new Date).getFullYear(),this.width=e,this.height=i,this.setDepth(2e3);const s=t.registry.get("theme"),n=(null==s?void 0:s.helpScreenBackgroundColor)||"#F5F5DC",r=parseInt(n.replace("#",""),16);this.panel=t.add.rectangle(0,0,e,i,r,.95).setOrigin(0).setInteractive(),this.add(this.panel);const o=Math.min(60,Math.floor(.12*e));this.createCloseButton(e,o),this.setVisible(!1)}setReferenceDate(t){this.referenceDate=t,this.currentMonth=t.getMonth(),this.currentYear=t.getFullYear()}createDatePicker(t,e,i){this.dateButtons.forEach(t=>t.destroy()),this.dateButtons=[];const s=this.scene.registry.get("theme"),n=(null==s?void 0:s.boardDiagonalsColor)?parseInt(s.boardDiagonalsColor.replace("#",""),16):11786751;(null==s?void 0:s.titleColor)&&this.updateCloseButtonColor(s.titleColor);const r=Math.min(50,Math.floor(.09*this.width)),o=r+8,a=e-180,h=a-40,l=(null==s?void 0:s.datePickerTodayButtonColor)||"#2E8B57",u=(null==s?void 0:s.datePickerTodayButtonTextColor)||"#FFFFFF",c=parseInt(l.replace("#",""),16),d=this.scene.add.container(t,h),f=this.scene.add.graphics();f.fillStyle(c,1),f.fillRoundedRect(-40,-12,80,24,12),d.add(f);const p=this.scene.add.text(0,0,"Today",{fontFamily:(null==s?void 0:s.uiFont)||"Arial, sans-serif",fontSize:"16px",color:u,fontStyle:"bold"}).setOrigin(.5);d.add(p);const g=this.scene.add.zone(0,0,80,24).setInteractive({useHandCursor:!0}).on("pointerup",()=>{var t;const e=new Date;null==(t=this.onDateSelected)||t.call(this,e),this.hide()});d.add(g),this.add(d),this.dateButtons.push(d);const m=`${["January","February","March","April","May","June","July","August","September","October","November","December"][this.currentMonth]} ${this.currentYear}`,v=(null==s?void 0:s.titleColor)||"#A8C8DC";this.monthYearText=this.scene.add.text(t,a,m,{fontFamily:(null==s?void 0:s.uiFont)||"Arial, sans-serif",fontSize:`${Math.floor(.7*i)}px`,color:v,fontStyle:"bold"}).setOrigin(.5),this.add(this.monthYearText),this.dateButtons.push(this.monthYearText);const y=new Date,x=this.currentMonth===y.getMonth()&&this.currentYear===y.getFullYear(),T=this.currentYear>y.getFullYear()||this.currentYear===y.getFullYear()&&this.currentMonth>y.getMonth(),w=Ly(),b=this.currentYear<w.getFullYear()||this.currentYear===w.getFullYear()&&this.currentMonth<=w.getMonth(),S=this.monthYearText.width;if(!b){const e=t-S/2-25;this.prevMonthBtn=this.createNavButton(e,a,"",()=>{this.currentMonth--,this.currentMonth<0&&(this.currentMonth=11,this.currentYear--),this.rebuildCalendar()}),this.add(this.prevMonthBtn),this.dateButtons.push(this.prevMonthBtn)}if(!x&&!T){const e=t+S/2+25;this.nextMonthBtn=this.createNavButton(e,a,"",()=>{this.currentMonth++,this.currentMonth>11&&(this.currentMonth=0,this.currentYear++);const t=new Date(this.currentYear,this.currentMonth,1),e=new Date;t>new Date(e.getFullYear(),e.getMonth(),1)&&(this.currentMonth=e.getMonth(),this.currentYear=e.getFullYear()),this.rebuildCalendar()}),this.add(this.nextMonthBtn),this.dateButtons.push(this.nextMonthBtn)}const E=t-3*o,C=a+50;["Su","Mo","Tu","We","Th","Fr","Sa"].forEach((t,e)=>{const i=E+e*o,n=this.scene.add.text(i,C,t,{fontFamily:(null==s?void 0:s.uiFont)||"Arial, sans-serif",fontSize:`${Math.floor(.4*r)}px`,color:"#888888",fontStyle:"bold"}).setOrigin(.5);this.add(n),this.dateButtons.push(n)});const _=C+40,A=new Date(this.currentYear,this.currentMonth,1).getDay(),M=new Date(this.currentYear,this.currentMonth+1,0).getDate(),P=new Date;P.setHours(0,0,0,0);let R=1;for(let I=0;I<6;I++)for(let t=0;t<7;t++)if(7*I+t>=A&&R<=M){const e=E+t*o,i=_+I*o,a=new Date(this.currentYear,this.currentMonth,R);a.setHours(0,0,0,0);const h=this.isSameDay(a,this.referenceDate),l=this.isSameDay(a,P),u=a>P,c=Ly();c.setHours(0,0,0,0);const d=a<c,f=this.scene.registry.get("controller"),p=(null==f?void 0:f.isDateSolved(a))||!1;let g=3355443;u||d?g=2236962:p?g=2969622:h?g=n:l&&(g=5592405);const m=this.scene.add.rectangle(e,i,r,r,g).setOrigin(.5);this.add(m),this.dateButtons.push(m);let v=R.toString();u||d?v="X":p&&(v="");const y=this.scene.add.text(e,i,v,{fontFamily:(null==s?void 0:s.uiFont)||"Arial, sans-serif",fontSize:`${Math.floor(.5*r)}px`,color:u||d?"#666666":p?"#90EE90":"#FFFFFF",fontStyle:h?"bold":"normal"}).setOrigin(.5);if(this.add(y),this.dateButtons.push(y),!u&&!d){const t=new Date(a),s=this.scene.add.zone(e,i,r,r).setInteractive({useHandCursor:!0}).on("pointerup",()=>{var e;null==(e=this.onDateSelected)||e.call(this,t),this.hide()});this.add(s),this.dateButtons.push(s)}R++}}createNavButton(t,e,i,s){const n=this.scene.add.container(t,e),r=this.scene.add.circle(0,0,20,4473924);n.add(r);const o=this.scene.registry.get("theme"),a=this.scene.add.text(0,0,i,{fontFamily:(null==o?void 0:o.uiFont)||"Arial, sans-serif",fontSize:"24px",color:"#FFFFFF",fontStyle:"bold"}).setOrigin(.5);n.add(a);const h=this.scene.add.zone(0,0,40,40).setInteractive({useHandCursor:!0}).on("pointerup",s);return n.add(h),n}rebuildCalendar(){const t=this.width/2,e=this.height/2,i=Math.min(60,Math.floor(.12*this.width));this.createDatePicker(t,e,i)}isSameDay(t,e){return t.getFullYear()===e.getFullYear()&&t.getMonth()===e.getMonth()&&t.getDate()===e.getDate()}createCloseButton(t,e){const i=Math.max(40,.6*e),s=t-20-i/2,n=20+i/2;this.closeBtn=this.scene.add.container(s,n);const r=this.scene.registry.get("theme"),o=(null==r?void 0:r.titleColor)||"#2E8B57",a=parseInt(o.replace("#",""),16);this.closeBtnCircle=this.scene.add.graphics(),this.closeBtnCircle.lineStyle(3,a,1),this.closeBtnCircle.strokeCircle(0,0,i/2),this.closeBtn.add(this.closeBtnCircle),this.closeBtnText=this.scene.add.text(0,0,"X",{fontFamily:(null==r?void 0:r.uiFont)||"Arial, sans-serif",fontSize:`${Math.floor(.6*i)}px`,color:o,fontStyle:"bold"}).setOrigin(.5),this.closeBtn.add(this.closeBtnText);const h=this.scene.add.zone(0,0,i,i).setInteractive({useHandCursor:!0}).on("pointerup",()=>this.hide());this.closeBtn.add(h),this.add(this.closeBtn)}setOnDateSelected(t){this.onDateSelected=t}setCloseButtonVisible(t){this.closeBtn&&this.closeBtn.setVisible(t)}updateCloseButtonColor(t){if(!this.closeBtnCircle||!this.closeBtnText)return;const e=parseInt(t.replace("#",""),16);this.closeBtnCircle.clear();const i=Math.min(60,Math.floor(.12*this.width)),s=Math.max(40,.6*i);this.closeBtnCircle.lineStyle(3,e,1),this.closeBtnCircle.strokeCircle(0,0,s/2),this.closeBtnText.setColor(t)}show(){const t=this.width/2,e=this.height/2,i=Math.min(60,Math.floor(.12*this.width));this.createDatePicker(t,e,i),this.setCloseButtonVisible(!0),this.setVisible(!0).setAlpha(0),this.scene.tweens.add({targets:this,alpha:1,duration:200,ease:"Power2"})}hide(){this.scene.tweens.add({targets:this,alpha:0,duration:200,ease:"Power2",onComplete:()=>this.setVisible(!1)})}setSize(t,e){this.width=t,this.height=e,this.panel.setSize(t,e);const i=Math.min(60,Math.floor(.12*t)),s=Math.max(40,.6*i);this.closeBtn.setPosition(t-20-s/2,20+s/2)}updateBackgroundColor(t){const e=parseInt(t.replace("#",""),16);this.panel.setFillStyle(e,.95),this.panel.fillColor=e}setVisible(t){return t||this.panel.disableInteractive(),super.setVisible(t),t&&this.panel.setInteractive(),this}}class sx extends o.GameObjects.Container{constructor(t,e,i,s,n){super(t,e,i),this.isDragging=!1,this.originalX=0,this.originalY=0,this.dragOffsetX=0,this.dragOffsetY=0,this.size=s,this.letter=n,this.originalX=e,this.originalY=i,this.background=t.add.graphics(),this.drawBackground(!1),this.add(this.background);const r=t.registry.get("theme"),o=(null==r?void 0:r.unusedTileTextColor)||"#FFFFFF",a=(null==r?void 0:r.uiFont)||"Arial, sans-serif";this.text=t.add.text(s/2,s/2,n.toUpperCase(),{fontFamily:a,fontSize:`${Math.floor(.6*s)}px`,color:o,fontStyle:"bold"}).setOrigin(.5),this.add(this.text);const h=t.add.zone(s/2,s/2,s,s).setInteractive({useHandCursor:!0,draggable:!0});this.add(h),h.on("dragstart",this.onDragStart,this),h.on("drag",this.onDrag,this),h.on("dragend",this.onDragEnd,this),h.on("pointerup",t=>{this.isDragging||this.emit("tileTap",{letter:this.letter,tile:this})}),t.input.setDraggable(h)}drawBackground(t){this.background.clear();const{size:e}=this,i=.15*e,s=this.scene.registry.get("theme"),n=(null==s?void 0:s.unusedTileBackgroundColor)||"#CCCCCC",r=parseInt(n.replace("#",""),16),o=t?Math.max(0,r-3355443):r;this.background.fillStyle(o,1),this.background.lineStyle(2,0,1),this.background.fillRoundedRect(0,0,e,e,i),this.background.strokeRoundedRect(0,0,e,e,i)}onDragStart(t){if(this.isDragging=!0,this.originalX=this.x,this.originalY=this.y,this.parentContainer){const e=this.parentContainer.getLocalPoint(t.x,t.y);this.dragOffsetX=this.x-e.x,this.dragOffsetY=this.y-e.y}else this.dragOffsetX=this.x-t.x,this.dragOffsetY=this.y-t.y;this.setDepth(2e3),this.drawBackground(!0),this.setScale(1.1)}onDrag(t,e,i){if(this.parentContainer){const e=this.parentContainer.getLocalPoint(t.x,t.y);this.setPosition(e.x+this.dragOffsetX,e.y+this.dragOffsetY)}else this.setPosition(t.x+this.dragOffsetX,t.y+this.dragOffsetY)}onDragEnd(t){this.isDragging=!1,this.setDepth(1e3),this.drawBackground(!1),this.setScale(1),this.emit("tileDrop",{letter:this.letter,x:t.x,y:t.y,tile:this})}returnToOrigin(){this.scene.tweens.add({targets:this,x:this.originalX,y:this.originalY,duration:200,ease:"Back.easeOut"})}setOriginPosition(t,e){this.originalX=t,this.originalY=e}remove(){this.scene&&this.scene.tweens?this.scene.tweens.add({targets:this,alpha:0,scale:.5,duration:200,ease:"Back.easeIn",onComplete:()=>this.destroy()}):this.destroy()}}class nx extends o.Scene{constructor(){super("UI"),this.unusedLetterTiles=[],this.unusedLettersTileSize=0,this.unusedLettersSpacing=0,this.selectedDate=new Date}formatDate(t){return`${["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][t.getMonth()]} ${t.getDate()}`}drawTileButton(t,e,i,s=!1,n){t.clear();const r=.15*i;let o;if(n)o=parseInt(n.replace("#",""),16);else{const t=this.registry.get("theme"),e=(null==t?void 0:t.unusedTileBackgroundColor)||"#E8E8E8";o=parseInt(e.replace("#",""),16)}const a=s?Math.max(0,o-3355443):o;t.fillStyle(a,1),t.lineStyle(2,0,1),t.fillRoundedRect(0,0,e,i,r),t.strokeRoundedRect(0,0,e,i,r)}buildGameOverlay(){this.gameOverlay=new tx(this,this.scale.width,this.scale.height),this.add.existing(this.gameOverlay),this.gameOverlay.on(y,()=>{this.registry.get("controller").restart(),this.startGame(this.gameOverlay)}),this.gameOverlay.on(x,()=>{this.datePickerOverlay.setReferenceDate(this.selectedDate);const t=this.datePickerOverlay.width/2,e=this.datePickerOverlay.height/2,i=Math.min(60,Math.floor(.12*this.datePickerOverlay.width));this.datePickerOverlay.createDatePicker(t,e,i),this.datePickerOverlay.setCloseButtonVisible(!1),this.datePickerOverlay.setVisible(!0).setAlpha(1),this.gameOverlay.setVisible(!1),this.registry.set("overlayVisible",!0)});const t=this.registry.get("controller"),e=(t,e,i,s)=>{var n;const r=document.getElementById("mobile-input");r&&r.blur(),null==(n=window.setOverlayMode)||n.call(window,!0),this.time.delayedCall(400,()=>{this.registry.set("overlayVisible",!0),this.gameOverlay.showResults({solved:t,seconds:s,attemptsUsed:i,hintsUsed:e}),this.registry.set("hideLetters",!0)})};t.on(v,t=>{t.restored?(this.titleTxt.setVisible(!0),this.helpBtn.setVisible(!0),this.calendarBtn.setVisible(!0),this.calendarDateText.setVisible(!0),this.submitBtn.setVisible(!1),this.hintBtn.setVisible(!1),this.restartBtn.setVisible(!1),this.unusedLettersContainer.setVisible(!1),this.gameOverlay.setVisible(!1),this.registry.set("overlayVisible",!1),this.registry.set("hideLetters",!1)):(this.toggleFieldVisibility(!1),e(t.solved,t.hints,t.attempts,t.seconds))}),this.scale.on("resize",t=>this.gameOverlay.setSize(t.width,t.height))}startGame(t){var e,i;null==(e=window.setOverlayMode)||e.call(window,!1),t.setVisible(!1),this.registry.set("overlayVisible",!1),this.registry.set("hideLetters",!1),this.showLoadingIndicator(),this.attemptsCounterTxt.setVisible(!1),this.attemptsCounterCircle.setVisible(!1),this.unusedLettersContainer.setVisible(!1),this.registry.set("gameLoading",!0);const s=this.scene.get("Play");s&&s.scene.isActive()?s.scene.restart():null==(i=this.scene.get("Play"))||i.scene.start()}showLoadingIndicator(){var t,e;this.titleTxt.setVisible(!0);const i=this.registry.get("theme"),s=(null==i?void 0:i.titleColor)||"#A8C8DC";if(parseInt(s.replace("#",""),16),this.loadingText){const t=this.scale.width/2,e=this.scale.height/2;this.loadingText.setPosition(t,e),this.loadingText.setFontSize(`${Math.floor(32*this.uiConfig.viewport.scale)}px`),this.loadingText.setColor(s)}else{const t=this.scale.width/2,e=this.scale.height/2;this.loadingText=this.add.text(t,e,"Loading...",{fontFamily:(null==i?void 0:i.uiFont)||"Arial, sans-serif",fontSize:`${Math.floor(32*this.uiConfig.viewport.scale)}px`,color:s}).setOrigin(.5).setDepth(1001),this.loadingSpinner=this.add.graphics(),this.loadingSpinner.setDepth(1001);let n=0;this.time.addEvent({delay:50,loop:!0,callback:()=>{if(!this.loadingSpinner||!this.loadingSpinner.active)return;this.loadingSpinner.clear();const t=this.scale.width/2,e=this.scale.height/2,i=50*this.uiConfig.viewport.scale,s=20*this.uiConfig.viewport.scale,r=Math.max(2,4*this.uiConfig.viewport.scale),a=this.registry.get("theme"),h=(null==a?void 0:a.titleColor)||"#A8C8DC",l=parseInt(h.replace("#",""),16);this.loadingSpinner.lineStyle(r,l,1),this.loadingSpinner.beginPath(),this.loadingSpinner.arc(t,e+i,s,o.Math.DegToRad(n),o.Math.DegToRad(n+270)),this.loadingSpinner.strokePath(),n=(n+10)%360}})}null==(t=this.loadingText)||t.setVisible(!0),null==(e=this.loadingSpinner)||e.setVisible(!0)}hideLoadingIndicator(){var t,e;null==(t=this.loadingText)||t.setVisible(!1),null==(e=this.loadingSpinner)||e.setVisible(!1)}toggleFieldVisibility(t){this.titleTxt.setVisible(t),this.helpBtn.setVisible(t),this.calendarBtn.setVisible(t),this.timerTxt.setVisible(t),this.attemptsTxt.setVisible(t),this.hintsTxt.setVisible(t),this.unusedLettersContainer.setVisible(t),this.attemptsCounterTxt.setVisible(!1),this.attemptsCounterCircle.setVisible(!1),this.submitBtn.setVisible(t),this.hintBtn.setVisible(t),this.restartBtn.setVisible(t)}create(){this.ctl=this.registry.get("controller");const t=this.registry.get("theme");this.uiConfig=qy.create(this.scale.width,this.scale.height);const e=this.uiConfig.getContainerLayout();this.uiConfig.updateGridPosition(e.grid.y),this.registry.set("uiConfig",this.uiConfig);const i=Math.floor(50*this.uiConfig.viewport.scale),s=e.titleBar.y+i/2;this.titleTxt=this.add.text(this.uiConfig.viewport.centerX,s,"Puxxle",{fontFamily:(null==t?void 0:t.titleFont)||"Georgia, serif",fontSize:`${Math.floor(50*this.uiConfig.viewport.scale)}px`,color:(null==t?void 0:t.titleColor)||"#A8C8DC",fontStyle:"700"}).setOrigin(.5).setDepth(1e3);const n=this.uiConfig.viewport.centerX-this.titleTxt.width/2,r=this.uiConfig.viewport.centerX+this.titleTxt.width/2;Math.floor(40*this.uiConfig.viewport.scale);const a=Math.floor(32*this.uiConfig.viewport.scale),h=s+35*this.uiConfig.viewport.scale,d=Math.floor(1.2*a),f=(s+h)/2,p=n-2*d,g=(null==t?void 0:t.titleColor)||"#A8C8DC",x=parseInt(g.replace("#",""),16);this.calendarBtn=this.add.container(p,f),this.calendarIconBg=this.add.graphics(),this.calendarIconBg.lineStyle(2,x,1),this.calendarIconBg.strokeRoundedRect(0,-d/2,1.5*d,d,4),this.calendarIconBg.fillStyle(x,1),this.calendarIconBg.fillRect(0,-d/2,1.5*d,.2*d),this.calendarBtn.add(this.calendarIconBg);const w=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][this.selectedDate.getMonth()],b=this.selectedDate.getDate().toString(),S=Math.floor(.35*d);this.calendarMonthText=this.add.text(Math.floor(.15*d),0,w,{fontFamily:(null==t?void 0:t.uiFont)||"Arial, sans-serif",fontSize:`${S}px`,color:g,fontStyle:"bold"}).setOrigin(0,.5),this.calendarBtn.add(this.calendarMonthText);const E=this.calendarMonthText.width,C=Math.floor(.3*S);this.calendarDateText=this.add.text(Math.floor(.15*d)+E+C,0,b,{fontFamily:(null==t?void 0:t.uiFont)||"Arial, sans-serif",fontSize:`${S}px`,color:g,fontStyle:"bold"}).setOrigin(0,.5),this.calendarBtn.add(this.calendarDateText);const _=this.add.zone(.9*d,0,1.8*d,d).setOrigin(.5).setInteractive({useHandCursor:!0}).on("pointerup",()=>{this.datePickerOverlay.setReferenceDate(this.selectedDate),this.datePickerOverlay.show()});this.calendarBtn.add(_),this.calendarBtn.setDepth(2e3);const A=f,M=(r+(this.uiConfig.grid.startX+this.uiConfig.grid.totalSize))/2,P=(null==t?void 0:t.helpButtonColor)||"#2E8B57",R=parseInt(P.replace("#",""),16),I=Math.floor(.7*a);this.helpBtn=this.add.container(M,A),this.helpBtnCircle=this.add.graphics(),this.helpBtnCircle.fillStyle(R,1),this.helpBtnCircle.fillCircle(0,0,I),this.helpBtn.add(this.helpBtnCircle);const O=this.add.text(0,0,"?",{fontFamily:(null==t?void 0:t.uiFont)||"Arial, sans-serif",fontSize:`${Math.floor(1.3*I)}px`,color:"#FFFFFF",fontStyle:"bold"}).setOrigin(.5);this.helpBtn.add(O);const L=this.add.zone(0,0,2*I,2*I).setOrigin(.5).setInteractive({useHandCursor:!0}).on("pointerup",()=>this.helpOverlay.show());this.helpBtn.add(L),this.helpBtn.setDepth(1500);const D=this.uiConfig.getUnusedLettersPosition(),k=parseInt(this.uiConfig.typography.cellLetter),F=Math.floor(1.2*k),B=1.875*F,N=F,z=Math.floor(.15*N),U=Math.floor(1.2*k),V=D.y+U/2,G=N+z+N,X=this.uiConfig.grid.startX+this.uiConfig.grid.totalSize-B,Y=V-G/2+N;this.submitBtn=this.add.container(X,Y),this.submitBtn.setDepth(1500),this.submitBtnBackground=this.add.graphics(),this.drawTileButton(this.submitBtnBackground,B,N),this.submitBtn.add(this.submitBtnBackground);const H=this.add.text(B/2,N/2,"CHECK\nPROGRESS",{fontFamily:(null==t?void 0:t.uiFont)||"Arial, sans-serif",fontSize:`${Math.floor(.3*F)}px`,color:"#000000",fontStyle:"bold",align:"center"}).setOrigin(.5);this.submitBtn.add(H);const W=this.add.zone(B/2,N/2,B,N).setInteractive({useHandCursor:!0}).on("pointerup",()=>{const t=this.scene.get("Play");t&&t.clearSelection&&t.clearSelection(),this.ctl.submit()});this.submitBtn.add(W);const j=X,q=Y+N+z;this.hintBtn=this.add.container(j,q),this.hintBtn.setDepth(1500),this.hintBtnBackground=this.add.graphics(),this.drawTileButton(this.hintBtnBackground,B,N),this.hintBtn.add(this.hintBtnBackground);const K=this.ctl.getNumHints(),$=this.ctl.getMaxHints(),Z=-1===$?"HINT":`HINT (${$-K})`;this.hintBtnText=this.add.text(B/2,N/2,Z,{fontFamily:(null==t?void 0:t.uiFont)||"Arial, sans-serif",fontSize:`${Math.floor(.3*F)}px`,color:"#000000",fontStyle:"bold"}).setOrigin(.5),this.hintBtn.add(this.hintBtnText);const J=this.add.zone(B/2,N/2,B,N).setInteractive({useHandCursor:!0}).on("pointerup",()=>{const t=this.scene.get("Play");t&&t.clearSelection&&t.clearSelection(),this.ctl.revealRandom()});this.hintBtn.add(J);const Q=X,tt=q+N+z;this.restartBtn=this.add.container(Q,tt),this.restartBtn.setDepth(1500),this.restartBtnBackground=this.add.graphics(),this.drawTileButton(this.restartBtnBackground,B,N),this.restartBtn.add(this.restartBtnBackground),this.restartBtnText=this.add.text(B/2,N/2,"RESET",{fontFamily:(null==t?void 0:t.uiFont)||"Arial, sans-serif",fontSize:`${Math.floor(.3*F)}px`,color:"#000000",fontStyle:"bold"}).setOrigin(.5),this.restartBtn.add(this.restartBtnText);const et=this.add.zone(B/2,N/2,B,N).setInteractive({useHandCursor:!0}).on("pointerup",()=>{const t=this.scene.get("Play");t&&t.clearSelection&&t.clearSelection(),this.ctl.restartPuzzle()});this.restartBtn.add(et);const it=h,st=Math.floor(14*this.uiConfig.viewport.scale),nt=(null==t?void 0:t.attemptCounterColor)||"#A8C8DC",rt=Math.floor(70*this.uiConfig.viewport.scale),ot=this.uiConfig.viewport.centerX-rt,at=(null==t?void 0:t.uiFont)||"Arial, sans-serif";this.timerTxt=this.add.text(ot,it,"00:00",{fontFamily:at,fontSize:`${st}px`,color:nt,fontStyle:"bold"}).setOrigin(.5).setDepth(1e3);const ht=this.uiConfig.viewport.centerX;this.attemptsTxt=this.add.text(ht,it,`${this.ctl.getNumAttempts()} tries`,{fontFamily:at,fontSize:`${st}px`,color:nt,fontStyle:"bold"}).setOrigin(.5).setDepth(1e3);const lt=this.uiConfig.viewport.centerX+rt,ut=this.ctl.getMaxHints(),ct=-1===ut?`${this.ctl.getNumHints()} hints`:`${this.ctl.getNumHints()}/${ut} hints`;this.hintsTxt=this.add.text(lt,it,ct,{fontFamily:at,fontSize:`${st}px`,color:nt,fontStyle:"bold"}).setOrigin(.5).setDepth(1e3),this.ctl.on(u,t=>{this.attemptsTxt.setText(`${t.count} tries`),this.attemptsCounterTxt.setText(`${t.count}`)}),this.ctl.on(c,t=>{const e=this.ctl.getMaxHints();if(-1===e?this.hintsTxt.setText(`${t.count} hints`):this.hintsTxt.setText(`${t.count}/${e} hints`),-1===e)this.hintBtnText.setText("HINT");else{const i=e-t.count;this.hintBtnText.setText(`HINT (${i})`)}if(this.ctl.hasHintsRemaining()){this.hintBtn.getAt(2).setInteractive({useHandCursor:!0}),this.hintBtnText.setColor("#000000");const t=parseInt(this.uiConfig.typography.cellLetter),e=Math.floor(1.2*t),i=1.875*e,s=e;this.hintBtnBackground.clear(),this.drawTileButton(this.hintBtnBackground,i,s)}else{this.hintBtn.getAt(2).disableInteractive(),this.hintBtnText.setColor("#999999");const t=parseInt(this.uiConfig.typography.cellLetter),e=Math.floor(1.2*t),i=1.875*e,s=e;this.hintBtnBackground.clear(),this.drawTileButton(this.hintBtnBackground,i,s,!1,"#CCCCCC")}});const dt=Math.floor(35*this.uiConfig.viewport.scale),ft=.8*dt,pt=this.uiConfig.grid.startX+ft+10*this.uiConfig.viewport.scale,gt=parseInt(this.uiConfig.typography.cellLetter),mt=Math.floor(1.2*gt),vt=D.y+mt/2,yt=(null==t?void 0:t.attemptCounterColor)||"#A8C8DC",xt=parseInt(yt.replace("#",""),16);this.attemptsCounterCircle=this.add.graphics(),this.attemptsCounterCircle.lineStyle(3,xt,1),this.attemptsCounterCircle.strokeCircle(pt,vt,ft),this.attemptsCounterCircle.setDepth(1e3),this.attemptsCounterCircle.setVisible(!1),this.attemptsCounterTxt=this.add.text(pt,vt,`${this.ctl.getNumAttempts()}`,{fontFamily:(null==t?void 0:t.uiFont)||"Arial, sans-serif",fontSize:`${dt}px`,color:yt,fontStyle:"bold"}).setOrigin(.5).setDepth(1001).setVisible(!1);const Tt=this.uiConfig.viewport.centerX;this.unusedLettersContainer=this.add.container(Tt,D.y),this.unusedLettersContainer.setDepth(1e3),this.unusedLetterDuplicatesBtn=this.add.text(this.scale.width/2,600,"Hide duplicates",{fontSize:"24px",backgroundColor:"#e0e0e0",color:"#000",padding:{x:6,y:4}}).setInteractive({useHandCursor:!0}).setOrigin(.5).setVisible(!1);let wt=!0;this.unusedLetterDuplicatesBtn.on("pointerup",()=>{wt=!wt,this.unusedLetterDuplicatesBtn.setText(wt?"Hide duplicates":"Show duplicates"),this.ctl.sortUnusedLetters(wt)}),this.clearBtn=this.add.text(this.scale.width/2,650,"Clear Puxxle",{fontSize:"24px",backgroundColor:"#e0e0e0",color:"#000",padding:{x:6,y:4}}).setInteractive({useHandCursor:!0}).setOrigin(.5).on("pointerup",()=>{this.ctl.clearGrid()}).setVisible(!1);const bt=t=>{const e=Array.isArray(t)?t:Array.from(t);this.updateUnusedLettersGrid(e)};this.ctl.on(l,()=>{this.hideLoadingIndicator(),this.titleTxt.setVisible(!0),this.helpBtn.setVisible(!0),this.calendarBtn.setVisible(!0),this.timerTxt.setVisible(!0),this.attemptsTxt.setVisible(!0),this.hintsTxt.setVisible(!0),this.attemptsCounterTxt.setVisible(!1),this.attemptsCounterCircle.setVisible(!1),this.unusedLettersContainer.setVisible(!0),this.submitBtn.setVisible(!0),this.hintBtn.setVisible(!0),this.restartBtn.setVisible(!0),bt(this.ctl.unusedLetters(wt)),this.registry.set("gameLoading",!1)}),this.ctl.on(T,t=>{bt(t.unused)}),this.events.on("hideLoadingSpinner",()=>{this.hideLoadingIndicator(),this.submitBtn.setVisible(!1),this.hintBtn.setVisible(!1),this.restartBtn.setVisible(!1),this.registry.set("gameLoading",!1)}),this.buildGameOverlay(),this.helpOverlay=new ex(this,this.scale.width,this.scale.height),this.add.existing(this.helpOverlay),this.datePickerOverlay=new ix(this,this.scale.width,this.scale.height),this.add.existing(this.datePickerOverlay),this.datePickerOverlay.setOnDateSelected(t=>m(this,null,function*(){t.getFullYear(),String(t.getMonth()+1).padStart(2,"0"),String(t.getDate()).padStart(2,"0");const e=this.registry.get("controller");if(e.isSameDate(t)&&!e.isPuzzleSolved())return this.datePickerOverlay.setVisible(!1),this.gameOverlay.setVisible(!1),void this.registry.set("overlayVisible",!1);this.selectedDate=t,this.calendarMonthText.setText(["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][t.getMonth()]),this.calendarDateText.setText(t.getDate().toString());const i=Math.floor(32*this.uiConfig.viewport.scale*1.2),s=Math.floor(.35*i),n=this.calendarMonthText.width,r=Math.floor(.3*s);this.calendarDateText.setX(Math.floor(.15*i)+n+r);const o=yield Ny(t);if(this.registry.set("theme",o),o.screenBackgroundColor){document.body.style.backgroundColor=o.screenBackgroundColor,document.documentElement.style.backgroundColor=o.screenBackgroundColor;const t=this.scene.get("Play");t&&t.cameras.main.setBackgroundColor(o.screenBackgroundColor)}if(o.titleColor){this.titleTxt.setColor(o.titleColor),this.calendarDateText.setColor(o.titleColor),this.calendarMonthText.setColor(o.titleColor);const t=parseInt(o.titleColor.replace("#",""),16),e=Math.floor(32*this.uiConfig.viewport.scale*1.2);this.calendarIconBg.clear(),this.calendarIconBg.lineStyle(2,t,1),this.calendarIconBg.strokeRoundedRect(0,-e/2,1.5*e,e,4),this.calendarIconBg.fillStyle(t,1),this.calendarIconBg.fillRect(0,-e/2,1.5*e,.2*e)}if(o.helpButtonColor){const t=parseInt(o.helpButtonColor.replace("#",""),16),e=Math.floor(32*this.uiConfig.viewport.scale*.7);this.helpBtnCircle.clear(),this.helpBtnCircle.fillStyle(t,1),this.helpBtnCircle.fillCircle(0,0,e)}o.helpScreenBackgroundColor&&(this.gameOverlay.updateBackgroundColor(o.helpScreenBackgroundColor),this.datePickerOverlay.updateBackgroundColor(o.helpScreenBackgroundColor),this.helpOverlay.updateBackgroundColor(o.helpScreenBackgroundColor)),o.titleColor&&o.helpScreenTextColor&&this.helpOverlay.updateThemeColors(o.titleColor,o.helpScreenTextColor),o.titleColor&&this.datePickerOverlay.updateCloseButtonColor(o.titleColor),o.attemptCounterColor&&(this.timerTxt.setColor(o.attemptCounterColor),this.attemptsTxt.setColor(o.attemptCounterColor),this.hintsTxt.setColor(o.attemptCounterColor)),this.datePickerOverlay.setVisible(!1),this.gameOverlay.setVisible(!1),e.setSelectedDate(t),e.restart(),this.startGame(this.gameOverlay)})),this.registry.get("controller").restart(),this.startGame(this.gameOverlay),this.scale.on("resize",this.handleResize,this);const St=(t,e,i,s)=>{const n=this.scene.get("Play");n&&n.updateDragHover&&n.updateDragHover(t.x,t.y)},Et=()=>{const t=this.scene.get("Play");t&&t.clearDragHover&&t.clearDragHover()};this.input.on("drag",St),this.input.on("dragend",Et),this.events.once(o.Scenes.Events.SHUTDOWN,()=>{this.ctl.off(u),this.ctl.off(c),this.ctl.off(v),this.ctl.off(y),this.ctl.off(l),this.ctl.off(T),this.scale.off("resize",this.handleResize,this),this.input.off("drag",St),this.input.off("dragend",Et)})}updateThemeColors(t){if(t.screenBackgroundColor&&(document.body.style.backgroundColor=t.screenBackgroundColor,document.documentElement.style.backgroundColor=t.screenBackgroundColor),t.titleColor){this.titleTxt.setColor(t.titleColor),this.calendarDateText.setColor(t.titleColor);const e=this.calendarBtn.list[0];e&&e.setColor(t.titleColor)}t.helpButtonColor&&this.helpBtn.setColor(t.helpButtonColor),t.helpScreenBackgroundColor&&(this.gameOverlay.updateBackgroundColor(t.helpScreenBackgroundColor),this.datePickerOverlay.updateBackgroundColor(t.helpScreenBackgroundColor),this.helpOverlay.updateBackgroundColor(t.helpScreenBackgroundColor)),t.titleColor&&t.helpScreenTextColor&&this.helpOverlay.updateThemeColors(t.titleColor,t.helpScreenTextColor),t.titleColor&&this.datePickerOverlay.updateCloseButtonColor(t.titleColor),t.attemptCounterColor&&(this.timerTxt.setColor(t.attemptCounterColor),this.attemptsTxt.setColor(t.attemptCounterColor),this.hintsTxt.setColor(t.attemptCounterColor))}handleResize(t){var e,i;const s=this.registry.get("theme");this.uiConfig=qy.create(t.width,t.height);const n=this.uiConfig.getContainerLayout();this.uiConfig.updateGridPosition(n.grid.y),this.registry.set("uiConfig",this.uiConfig);const r=Math.floor(50*this.uiConfig.viewport.scale),o=n.titleBar.y+r/2;this.titleTxt.setPosition(this.uiConfig.viewport.centerX,o),this.titleTxt.setFontSize(`${r}px`);const a=o+35*this.uiConfig.viewport.scale,h=Math.floor(18*this.uiConfig.viewport.scale),l=(null==s?void 0:s.attemptCounterColor)||"#A8C8DC",u=Math.floor(80*this.uiConfig.viewport.scale),c=this.uiConfig.viewport.centerX-u;this.timerTxt.setPosition(c,a),this.timerTxt.setFontSize(h),this.timerTxt.setColor(l);const d=this.uiConfig.viewport.centerX;this.attemptsTxt.setPosition(d,a),this.attemptsTxt.setFontSize(h),this.attemptsTxt.setColor(l);const f=this.uiConfig.viewport.centerX+u;this.hintsTxt.setPosition(f,a),this.hintsTxt.setFontSize(h),this.hintsTxt.setColor(l);const p=Math.floor(32*this.uiConfig.viewport.scale),g=this.uiConfig.grid.startX,m=47.5*this.uiConfig.viewport.scale,v=this.uiConfig.grid.startX+this.uiConfig.grid.totalSize,y=47.5*this.uiConfig.viewport.scale;this.calendarBtn.setPosition(g,m),this.calendarBtn.getAt(0).setFontSize(`${Math.floor(.7*p)}px`),this.calendarDateText.setFontSize(`${Math.floor(.35*p)}px`),this.calendarDateText.setPosition(0,Math.floor(.5*p)),this.calendarBtn.getAt(2).setSize(1.5*p,1.5*p),this.helpBtn.setPosition(v,y),this.helpBtn.setFontSize(`${Math.floor(1.5*p)}px`),this.helpBtn.setPadding(12,8),null==(e=this.helpOverlay)||e.setSize(t.width,t.height),null==(i=this.datePickerOverlay)||i.setSize(t.width,t.height),this.unusedLettersTileSize=0,this.unusedLettersSpacing=0;const x=this.uiConfig.getUnusedLettersPosition(),T=Math.floor(35*this.uiConfig.viewport.scale),w=.8*T,b=this.uiConfig.grid.startX+w+10*this.uiConfig.viewport.scale,S=parseInt(this.uiConfig.typography.cellLetter),E=Math.floor(1.2*S),C=x.y+E/2,_=(null==s?void 0:s.attemptCounterColor)||"#A8C8DC",A=parseInt(_.replace("#",""),16);this.attemptsCounterCircle.clear(),this.attemptsCounterCircle.lineStyle(3,A,1),this.attemptsCounterCircle.strokeCircle(b,C,w),this.attemptsCounterTxt.setPosition(b,C),this.attemptsCounterTxt.setFontSize(`${T}px`),this.attemptsCounterTxt.setColor(_);const M=this.unusedLetterTiles.map(t=>t.letter);this.updateUnusedLettersGrid(M);const P=Math.floor(1.2*S),R=1.875*P,I=P,O=Math.floor(.15*I),L=Math.floor(1.2*S),D=x.y+L/2,k=I+O+I,F=this.uiConfig.grid.startX+this.uiConfig.grid.totalSize-R,B=D-k/2+I;this.submitBtn.setPosition(F,B),this.drawTileButton(this.submitBtnBackground,R,I);const N=this.submitBtn.getAt(1);N.setFontSize(`${Math.floor(.3*P)}px`),N.setPosition(R/2,I/2),N.setColor("#000000");const z=this.submitBtn.getAt(2);z.setSize(R,I),z.setPosition(R/2,I/2);const U=F,V=B+I+O;this.hintBtn.setPosition(U,V),this.drawTileButton(this.hintBtnBackground,R,I),this.hintBtnText.setFontSize(`${Math.floor(.3*P)}px`),this.hintBtnText.setPosition(R/2,I/2);const G=this.hintBtn.getAt(2);G.setSize(R,I),G.setPosition(R/2,I/2);const X=F,Y=V+I+O;this.restartBtn.setPosition(X,Y),this.drawTileButton(this.restartBtnBackground,R,I),this.restartBtnText.setFontSize(`${Math.floor(.3*P)}px`),this.restartBtnText.setPosition(R/2,I/2);const H=this.restartBtn.getAt(2);H.setSize(R,I),H.setPosition(R/2,I/2)}updateUnusedLettersGrid(t){if(this.unusedLetterTiles.forEach(t=>t.destroy()),this.unusedLetterTiles=[],0===t.length)return;if(0===this.unusedLettersTileSize){const t=parseInt(this.uiConfig.typography.cellLetter);this.unusedLettersTileSize=Math.floor(1.2*t),this.unusedLettersSpacing=1.1*this.unusedLettersTileSize}const e=parseInt(this.uiConfig.typography.cellLetter),i=1.5*Math.floor(1.2*e),s=this.uiConfig.grid.startX,n=this.uiConfig.grid.startX+this.uiConfig.grid.totalSize,r=s+10*this.uiConfig.viewport.scale,o=n-i-20*this.uiConfig.viewport.scale-r,a=Math.floor(o/this.unusedLettersSpacing),h=(Math.ceil(t.length/a),this.uiConfig.getUnusedLettersPosition());this.unusedLettersContainer.setPosition(r,h.y),t.forEach((t,e)=>{const i=Math.floor(e/a),s=e%a*this.unusedLettersSpacing,n=i*this.unusedLettersTileSize*1.2,r=new sx(this,s,n,this.unusedLettersTileSize,t);r.on("tileDrop",t=>{this.handleTileDrop(t)}),r.on("tileTap",t=>{this.handleTileTap(t)}),this.unusedLettersContainer.add(r),this.unusedLetterTiles.push(r)})}handleTileDrop(t){const e=this.scene.get("Play");e&&e.handleTileDrop&&e.handleTileDrop(t.letter,t.x,t.y)||t.tile.returnToOrigin()}handleTileTap(t){const e=this.scene.get("Play");e&&e.handleTileTap&&e.handleTileTap(t.letter)}update(){const t=this.ctl.timer.seconds,e=t%60,i=`${Math.floor(t/60).toString().padStart(2,"0")}:${e.toString().padStart(2,"0")}`;this.timerTxt.setText(i)}}const rx=new o.Game({type:o.AUTO,backgroundColor:"transparent",parent:"app",scale:{mode:o.Scale.FIT,autoCenter:o.Scale.CENTER_BOTH,width:window.innerWidth,height:window.innerHeight},scene:[Xy,Qy,nx]});window.addEventListener("resize",()=>{rx.scale.resize(window.innerWidth,window.innerHeight)})}},function(){return e||(0,t[r(t)[0]])((e={exports:{}}).exports,e),e.exports});export default v();</script>
  </head>
  <body>
    <!-- Phaser will inject its <canvas> in here -->
    <div id="app"></div>

    <!-- Hidden input for mobile keyboard support -->
    <input type="text" id="mobile-input" inputmode="text" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" />

    <!-- Viewport management for mobile keyboard -->
    <script>
      // Manage viewport height for keyboard handling
      if (window.visualViewport) {
        // Track the maximum viewport height (without keyboard)
        let maxViewportHeight = window.visualViewport.height;
        let useMaxHeight = false; // Use actual height during gameplay, max height during overlay

        const setViewportHeight = () => {
          const vh = window.visualViewport.height;

          // Update max height if current height is greater
          if (vh > maxViewportHeight) {
            maxViewportHeight = vh;
          }

          // During gameplay: use actual viewport (allows board to scale with keyboard)
          // During overlay: use max height (prevents white flash when keyboard closes)
          const targetHeight = useMaxHeight ? maxViewportHeight : vh;
          document.documentElement.style.setProperty('--vh', `${targetHeight}px`);
        };

        // Expose function to toggle between modes
        window.setOverlayMode = function(isOverlay) {
          useMaxHeight = isOverlay;
          setViewportHeight();
        };

        window.visualViewport.addEventListener('resize', setViewportHeight);
        window.visualViewport.addEventListener('scroll', setViewportHeight);
        setViewportHeight();
      } else {
        // Fallback for browsers without visualViewport
        const vh = window.innerHeight;
        document.documentElement.style.setProperty('--vh', `${vh}px`);
        window.setOverlayMode = function() {}; // No-op
      }
    </script>

    <!-- kick-off your TS entry -->
  </body>
</html>
